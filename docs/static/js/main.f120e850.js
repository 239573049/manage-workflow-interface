/*! For license information please see main.f120e850.js.LICENSE.txt */
!function(){var e={7154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},3469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i};t.default=n},9252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(7249),i=r.detectCycleAsync;t.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=o},6299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(9748))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new i.default,u=e.edges,l=void 0===u?[]:u;s.enqueue(t);for(var c="",f=function(){var e=s.dequeue();a.enter({current:e,previous:c}),(0,o.getNeighbors)(e,l,r?"target":void 0).forEach((function(t){a.allowTraversal({previous:c,current:e,next:t})&&s.enqueue(t)})),a.leave({current:e,previous:c}),c=e};!s.isEmpty();)f()};t.default=a},3265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?o(e):i(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(399),i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u=[],l=function e(t){u.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o),a=function(t){var r=i[t];if(!s[r]){var o=n.filter((function(e){return e.id===r}));o.length>0&&e(o[0])}},l=0;l<i.length;++l)a(l)},c=0;c<n.length;c++){var f=n[c];if(!s[f.id]){l(f);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};t.detectConnectedComponents=i;var o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u={},l={},c=[],f=0,d=function e(t){u[t.id]=f,l[t.id]=f,f+=1,a.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),d=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(l[t.id]=Math.min(l[t.id],u[o]));else{var a=n.filter((function(e){return e.id===o}));a.length>0&&e(a[0]),l[t.id]=Math.min(l[t.id],l[o])}},h=0;h<i.length;h++)d(h);if(l[t.id]===u[t.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===t)break}p.length>0&&c.push(p)}},h=0,p=n;h<p.length;h++){var g=p[h];u[g.id]||0===u[g.id]||d(g)}return c};t.detectStrongConnectComponents=o},834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},9020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var n=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},r=n;t.default=r;t.getInDegree=function(e,t){return n(e)[t]?n(e)[t].inDegree:0};t.getOutDegree=function(e,t){return n(e)[t]?n(e)[t].outDegree:0}},1354:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var i,o=(i=n(5068))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3265)),s=n(399);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,l=(0,a.default)(e,!1);u<l.length;u++){var c=l[u];if(c.length)for(var f=c[0],d=f.id,h=[f],p=((r={})[d]=f,r),g=((i={})[d]=new Set,i);h.length>0;)for(var v=h.pop(),m=v.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var i,a=y[r],s=e.nodes.find((function(e){return e.id===a}));if(a===m)o.push(((i={})[a]=v,i));else if(a in g){if(!g[m].has(s)){for(var u=!0,l=[s,v],c=p[m];g[a].size&&!g[a].has(c)&&(l.push(c),c!==p[c.id]);)c=p[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var f={},d=1;d<l.length;d+=1)f[l[d-1].id]=l[d];l.length&&(f[l[l.length-1].id]=l[0]),o.push(f)}g[a].add(v)}}else p[a]=v,h.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return o};t.detectAllUndirectedCycle=l;var c=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],l={},c={},f=function e(a,s,c){var f=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return f;r.push(a),i.add(a);for(var d=c[a.id],h=0;h<d.length;h+=1){if((v=l[d[h]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),f=!0}else i.has(v)||e(v,s,c)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(a);else for(h=0;h<d.length;h+=1){var v=l[d[h]];o[v.id].has(a)||o[v.id].add(a)}return r.pop(),f},d=e.nodes,h=void 0===d?[]:d,p=0;p<h.length;p+=1){var g=h[p],v=g.id;c[v]=p,l[p]=g}if(t&&n){var m=function(e){var n=t[e];c[h[e].id]=c[n],c[n]=0,l[0]=h.find((function(e){return e.id===n})),l[c[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var f=r[l],d=0;d<f.length;d++){var h=c[f[d].id];h<a&&(a=h,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var v=p[l];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,e.edges,"target").filter((function(e){return p.map((function(e){return e.id})).indexOf(e)>-1}));m<y.length;m++){var b=y[m];b!==v.id||!1===n&&t.indexOf(v.id)>-1?g[v.id].push(c[b]):u.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<h.length;){var x=h.filter((function(e){return c[e.id]>=b})),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter((function(e){return e.length>1}));if(0===w.length)break;var _=y(w),S=_.minIdx,E=_.adjList,C=_.component;if(!(C.length>1))break;C.forEach((function(e){o[e.id]=new Set}));var k=l[S];if(t&&n&&-1===t.indexOf(k.id))return u;f(k,k,E),b=S+1}return u};t.detectAllDirectedCycle=c;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?c(e,n,r):l(e,n,r)};var f=function(e){var t=null,n=e.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var u={enter:function(e){var n=e.current,o=e.previous;if(a[n]){t={};for(var s=n,u=o;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(i).length;){var l=Object.keys(i)[0];(0,o.default)(e,l,u)}return t};t.default=f},5068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){i(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(399);function i(e,t,n,o){o.enter({current:t,previous:n});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(t,s,"target").forEach((function(r){o.allowTraversal({previous:n,current:t,next:r})&&i(e,r,t,o)})),o.leave({current:t,previous:n})}},5581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),i=n(6022),o=n(399),a=function(e,t,n,r){var i=e.nodes,a=void 0===i?[]:i,u=e.edges,l=void 0===u?[]:u,c=[],f={},d={},h={};a.forEach((function(e,n){var r=e.id;c.push(r),d[r]=1/0,r===t&&(d[r]=0)}));for(var p=a.length,g=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(d,a,f),i=t.id;if(f[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,l):(0,o.getEdgesByNodeId)(i,l)).forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;d[a]>d[t.id]+s?(d[a]=d[t.id]+s,h[a]=[t.id]):d[a]===d[t.id]+s&&h[a].push(t.id)}))},v=0;v<p;v++)g();h[t]=[t];var m={};for(var y in d)d[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(e,t,n,o){if(e===t)return[e];if(o[t])return o[t];for(var a=[],u=0,l=n[t];u<l.length;u++){var c=s(e,l[u],n,o);if(!c)return;for(var f=0,d=c;f<d.length;f++){var h=d[f];(0,i.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return o[t]=a,o[t]}t.default=a},6384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,i=(r=n(5581))&&r.__esModule?r:{default:r},o=n(399);t.findShortestPath=function(e,t,n,r,o){var a=(0,i.default)(e,t,r,o),s=a.length,u=a.path,l=a.allPath;return{length:s[n],path:u[n],allPath:l[n]}};t.findAllPath=function(e,t,n,r){var i;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],l=((i={})[t]=!0,i),c=[],f=[],d=r?(0,o.getNeighbors)(t,s,"target"):(0,o.getNeighbors)(t,s);for(c.push(d);u.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),l[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(d.filter((function(e){return!l[e]})))),u[u.length-1]===n){var g=u.map((function(e){return e}));f.push(g);v=u.pop();l[v]=!1,c.pop()}}else{var v=u.pop();l[v]=!1,c.pop()}}return f}},9345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3469))&&r.__esModule?r:{default:r};var o=function(e,t){for(var n=(0,i.default)(e,t),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=o},1225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6022),i=n(7468),o=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new o(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=i.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new i.Graph(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(t,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,s=e.maxNodeNum,u=void 0===s?4:s,l=e.top,c=void 0===l?10:l,f=e.directed,d=void 0!==f&&f,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],f=o[c.to].label;t.to===c.to||n>f||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=f)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,l=new a,c={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=u[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);c[i]||(c[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var o={graphId:r.id,edge:e,preNode:null};c[i].projected.push(o)}))}));var f=this.findMinLabel(c);if(f){l.dfsEdgeList.push(new o(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var d="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return function a(c){for(var f=l.buildRmpath(),d=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=l.dfsEdgeList[f[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(t){if(g)return"break";c.forEach((function(n){var i=new s(n),o=e.findBackwardEdge(r,i.edges[f[t]],i.edges[f[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=l.dfsEdgeList[f[t]].fromNode,g=!0)}))},b=f.length-1;b>m;b--){if("break"===y(b))break}if(g){var x=e.findMinLabel(p);l.dfsEdgeList.push(new o(h,v,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var w=l.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[w]===l.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var _={};g=!1;var S=0;c.forEach((function(t){var n=new s(t),i=e.findForwardPureEdges(r,n.edges[f[0]],d,n);i.length>0&&(g=!0,S=h,i.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);_[n]||(_[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),_[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var E=f.length,C=function(t){if(g)return"break";var n=f[t];c.forEach((function(t){var i=new s(t),o=e.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(g=!0,S=l.dfsEdgeList[n].fromNode,o.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);_[n]||(_[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),_[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(b=0;b<E;b++){if("break"===C(b))break}if(!g)return!0;var k=e.findMinLabel(_);l.dfsEdgeList.push(new o(S,h+1,i.VACANT_NODE_LABEL,k.edgeLabel,k.nodeLabel2));var M=l.dfsEdgeList.length-1;return t.dfsEdgeList[M]===l.dfsEdgeList[M]&&a(_["".concat(k.edgeLabel,"-").concat(k.nodeLabel2)].projected)}(c[d].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},c={};e.forEach((function(e){for(var i=t.graphs[e.graphId],o=i.nodeMap,f=new s(e),d=r.length-1;d>=0;d--){var h=t.findBackwardEdge(i,f.edges[r[d]],f.edges[r[0]],f);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(h.label);c[p]||(c[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:h.label}),c[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(i,f.edges[r[0]],u,f).forEach((function(t){var n="".concat(a,"-").concat(t.label,"-").concat(o[t.to].label);l[n]||(l[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:o[t.to].label}),l[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var g=function(n){t.findForwardRmpathEdges(i,f.edges[r[n]],u,f).forEach((function(i){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);l[a]||(l[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),l[a].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(d=0;d<r.length;d++)g(d)}})),Object.keys(c).forEach((function(e){var n=c[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(l).forEach((function(e){var n=l[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var f=i[l]||0;f++,i[l]=f}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,f="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),l="cluster",c=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,a=void 0===o?l:o,s=e.edgeLabelProp,c=void 0===s?l:s,f=function(e,t,n,r){var o={};return Object.keys(e).forEach((function(a,s){var u=e[a],l=new i.Graph(s,!0,t),c={};u.nodes.forEach((function(e,t){l.addNode(t,e[n]),c[e.id]=t})),u.edges.forEach((function(e,t){var n=c[e.source],i=c[e.target];l.addEdge(-1,n,i,e[r])})),l&&l.getNodeNum()&&(o[l.id]=l)})),o}(t,r,a,c),d=e.minSupport,h=e.maxNodeNum,p=e.minNodeNum,g=e.verbose,v=e.top,m=new u({graphs:f,minSupport:d,maxNodeNum:h,minNodeNum:p,top:v,verbose:g,directed:r});m.run();var y=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(m.frequentSubgraphs,a,c);return y};t.default=c},7468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;t.VACANT_EDGE_ID=-1;t.VACANT_NODE_ID=-1;t.VACANT_EDGE_LABEL="-1";t.VACANT_NODE_LABEL="-1";t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var n=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r};t.Edge=n;var r=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t="-1"),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=r;var i=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new r(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,i){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new n(e,t,r,i);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(o),!this.directed){var a=new n(e,r,t,i);this.nodeMap[r].addEdge(a),this.edgeLabelMap[i].push(a)}}},e}();t.Graph=i},5472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),i=u(n(9345)),o=u(n(1225)),a=u(n(5581)),s=n(399);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(c(o,e,t,n,r))})),i},c=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},f=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var f=new Set(c),d=l.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},d=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},h=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(s.uniqueId)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var l=n[e.target];l&&(l.degree++,l.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},g=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},v=function(e,t,n,r,i,o,a,s,u,l,c){var h,p="".concat(t.id,"-").concat(n.id);if(l&&l[p])return l[p];var g=c?c[p]:void 0;if(!g){var v=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:i},h);g=(c=f(v,o,e,c))[p]}return d(g,a,s,u)},m=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var w=e.nodes.length;if(w){var _=(0,i.default)(e,n),S=(0,i.default)(t,n),E=g(e.nodes,_,n),C=g(t.nodes,S,n),k=h(e.nodes,y),M=k.nodeMap,I=k.nodeLabelMap,T=h(t.nodes,y),A=T.nodeMap,N=T.nodeLabelMap;p(e.edges,b,M);var D=p(t.edges,b,A).edgeLabelMap,P=[];null===S||void 0===S||S.forEach((function(e){P=P.concat(e)})),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],P,!1),[2],!1))),s||(s=u);var O=l(e,_,y,s),L=l(t,S,y,s),R=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,w,Math.min(100,w*(w-1)/2),O,_),B=f(R,O,e),z={graphs:B,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},F=(0,o.default)(z).slice(0,10),j=F.length,G=[];F.forEach((function(e,t){G[t]={},Object.keys(B).forEach((function(n){var r=B[n],i=d(r,e,y,b);G[t][n]=i}))}));var V=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(G,j,F),U=V.structure,W=V.structureCountMap,Z=t.nodes[0],H=[],Y=null===(x=t.nodes[0])||void 0===x?void 0:x[y],X=-1/0;t.nodes.forEach((function(e){var t=e[y],n=I[t];(null===n||void 0===n?void 0:n.length)>X&&(X=n.length,H=n,Y=t,Z=e)}));var K={},q={},$={},Q={},J={},ee={};Object.keys(N).forEach((function(r,i){J[r]=[],n&&(ee[r]=[]);var o=-1/0,a=N[r],s={};a.forEach((function(e){var t=C["".concat(Z.id,"-").concat(e.id)];if(t&&J[r].push(t),o<t&&(o=t),s["".concat(Z.id,"-").concat(e.id)]={start:0,end:A[e.id].idx,distance:t},n){var i=C["".concat(e.id,"-").concat(Z.id)];i&&ee[r].push(i)}})),J[r]=J[r].sort((function(e,t){return e-t})),n&&(ee[r]=ee[r].sort((function(e,t){return e-t}))),q=f(s,L,t,q);var u=[];if(Object.keys(s).forEach((function(e){if($[e])u.push($[e]);else{var t=q[e];$[e]=d(t,U,y,b),u.push($[e])}})),u=u.sort((function(e,t){return t-e})),Q["".concat(Z.id,"-").concat(r)]=u,r!==Y)for(var l=function(t){var n=H[t],i=O[M[n.id].idx],o=i.nodeLabelCountMap[r],a=N[r].length;if(!o||o.count<a)return H.splice(t,1),"continue";for(var s=!1,l=0;l<a;l++)if(o.dists[l]>J[r][l]){s=!0;break}if(s)return H.splice(t,1),"continue";var c={};i.neighbors.forEach((function(e){var t=E["".concat(n.id,"-").concat(e.id)];c["".concat(n.id,"-").concat(e.id)]={start:M[n.id].idx,end:M[e.id].idx,distance:t}})),B=f(c,O,e,B);var h=[];Object.keys(c).forEach((function(e){if(W[e])h.push(W[e]);else{var t=B[e];W[e]=d(t,U,y,b),h.push(W[e])}})),h=h.sort((function(e,t){return t-e}));var p=!1;for(l=0;l<a;l++)if(h[l]<u[l]){p=!0;break}return p?(H.splice(t,1),"continue"):void 0},c=((null===H||void 0===H?void 0:H.length)||0)-1;c>=0;c--)l(c)}));var te=[];null===H||void 0===H||H.forEach((function(r){for(var i=M[r.id].idx,o=c(e.nodes,_[i],i,y,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<t.nodes.length)return void(a=!0);var l=o[s],f=l[y];if(N[f]&&N[f].length)if(J[f]&&J[f].length){var d="".concat(r.id,"-").concat(l.id),h=E[d],p=J[f].length-1;if(h>J[f][p])o.splice(s,1);else{if(n){var g="".concat(l.id,"-").concat(r.id),x=E[g];if(p=ee[f].length-1,x>ee[f][p]){o.splice(s,1);continue}}var w=W[d]?W[d]:v(e,r,l,M,h,O,U,y,b,W,B),S="".concat(Z.id,"-").concat(f);if(w<Q[S][Q[S].length-1])o.splice(s,1);else{var C=m(K,f,A,N),k=C.minPatternNodeLabelDegree;C.minPatternNodeLabelInDegree,C.minPatternNodeLabelOutDegree;M[l.id].degree<k&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||te.push({nodes:[r].concat(o)})}));var ne=(0,a.default)(t,Z.id,!1).length,re={};n?(Object.keys(ne).forEach((function(e){var t=A[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]})),Object.keys(re).forEach((function(e){re[e].sort((function(e,t){return e-t}))}))):re=J;for(var ie=function(r){var i=te[r],o=i.nodes[0],s={},u={};i.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1}));var l=[],c={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(l.push(e),c[e[b]]?c[e[b]]++:c[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)}));for(var f=Object.keys(D).length,d=!1,h=0;h<f;h++){var p=Object.keys(D)[h];if(!c[p]||c[p]<D[p].length){d=!0;break}}if(d)return te.splice(r,1),"continue";var g=l.length;if(g<t.edges.length)return te.splice(r,1),"break";var v=!1,x=function(e){var t=l[e],r=t[b],i=D[r];if(!i||!i.length)return c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var o=u[t.source].node[y],a=u[t.target].node[y],s=!1;return i.forEach((function(e){var t=A[e.source].node,r=A[e.target].node;t[y]===o&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==o||(s=!0)})),s?void 0:(c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=g-1;h>=0;h--){if("break"===x(h))break}if(v)return te.splice(r,1),"continue";i.edges=l;var w=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!v){if(w[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<N[t].length)return void(v=!0);var n=i.nodes.indexOf(u[e].node);return i.nodes.splice(n,1),void(u[e]=void 0)}var r=M[e].node[y];if(!re[r]||!re[r].length||w[e]>re[r][re[r].length-1]){t=u[e].node[y];if(s[t]--,s[t]<N[t].length)return void(v=!0);n=i.nodes.indexOf(u[e].node);i.nodes.splice(n,1),u[e]=void 0}}})),v)return te.splice(r,1),"continue";for(var _=!0,S=0;_&&!v;){if(_=!1,n?u[o.id].degree<A[Z.id].degree||u[o.id].inDegree<A[Z.id].inDegree||u[o.id].outDegree<A[Z.id].outDegree:u[o.id].degree<A[Z.id].degree){v=!0;break}if(s[o[y]]<N[o[y]].length){v=!0;break}for(var E=i.nodes.length-1;E>=0;E--){var C=i.nodes[E],k=u[C.id].degree,I=u[C.id].inDegree,T=u[C.id].outDegree,P=C[y],O=m(K,P,A,N),L=O.minPatternNodeLabelDegree,R=O.minPatternNodeLabelInDegree,B=O.minPatternNodeLabelOutDegree;if(n?k<L||I<R||T<B:k<L){if(s[C[y]]--,s[C[y]]<N[C[y]].length){v=!0;break}i.nodes.splice(E,1),u[C.id]=void 0,_=!0}}if(v||!_&&0!==S)break;for(var z=(g=l.length)-1;z>=0;z--){var F=l[z];if(!u[F.source]||!u[F.target]){l.splice(z,1);var j=F[b];if(c[j]--,u[F.source]&&(u[F.source].degree--,u[F.source].outDegree--),u[F.target]&&(u[F.target].degree--,u[F.target].inDegree--),D[j]&&c[j]<D[j].length){v=!0;break}_=!0}}S++}return v||v||i.nodes.length<t.nodes.length||l.length<t.edges.length?(te.splice(r,1),"continue"):void 0},oe=te.length-1;oe>=0;oe--){if("break"===ie(oe))break}var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=te[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&te.splice(e,1)},i=ae-1;i>e;i--)r(i);ae=te.length};for(oe=0;oe<=ae-1;oe++)se(oe);return te}}};t.default=y},2186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3469))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={},f={};s.forEach((function(e,t){var n=(0,o.uniqueId)();e.clusterId=n,c[n]={id:n,nodes:[e]},f[e.id]={node:e,idx:t}}));var d=(0,i.default)(e,t),h=[],p={};d.forEach((function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach((function(e,t){if(e){n+=e;var i=s[t].id;p[r][i]=e}})),h.push(n)}));for(var g=0,v=function(){var e=!1;if(s.forEach((function(t){var n={};Object.keys(p[t.id]).forEach((function(e){var r=p[t.id][e],i=f[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=c[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),l=c[i[u]];l.nodes.push(t),t.clusterId=l.id}}})),!e)return"break";g++};g<r;){if("break"===v())break}Object.keys(c).forEach((function(e){var t=c[e];t.nodes&&t.nodes.length||delete c[e]}));var m=[],y={};l.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=f[t].node.clusterId,a=f[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,m.push(u)}}));var b=[];return Object.keys(c).forEach((function(e){b.push(c[e])})),{clusters:b,clusterEdges:m}};t.default=a},6977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6022),i=u(n(3469)),o=u(n(2210)),a=n(8831),s=n(3708);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},c=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(t[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(l=new o.default(t[i])).squareEuclideanDistance(a)}var u=[];e.forEach((function(){u.push([])}));for(i=0;i<n;i++){var l=new o.default(t[i]);e[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var f=new o.default(t[c]);u[i][c]=l.squareEuclideanDistance(f),e[i].clusterInertial+=u[i][c]}else u[i][c]=0}var d=0,h=2*n*s;for(i=0;i<n;i++){var p=e[i].clusterId;for(c=0;c<n;c++){var g=e[c].clusterId;if(i!==c&&p===g)d+=e[i].clusterInertial*e[c].clusterInertial/Math.pow(h,2)-u[i][c]/h}}return Number(d.toFixed(4))},f=function(e,t,n,o,u,f,d,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===f&&(f=void 0),void 0===d&&(d=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var g=e.nodes,v=void 0===g?[]:g,m=e.edges,y=void 0===m?[]:m,b=[];if(u){v.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var x=[];v.every((function(e){return e.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(v.map((function(e){return e.nodeType})))),v.forEach((function(e){e.properties.nodeType=x.findIndex((function(t){return t===e.nodeType}))})));var w=(0,a.getAllProperties)(v,f);b=(0,s.oneHot)(w,d,h)}var _=1,S={},E={};v.forEach((function(e,t){var n=String(_++);e.clusterId=n,S[n]={id:n,nodes:[e]},E[e.id]={node:e,idx:t}}));var C=(0,i.default)(e,t),k=[],M={},I=0;C.forEach((function(e,t){var n=0,r=v[t].id;M[r]={},e.forEach((function(e,t){if(e){n+=e;var i=v[t].id;M[r][i]=e,I+=e}})),k.push(n)})),I/=2;for(var T=1/0,A=1/0,N=0,D=[],P={};;){T=u&&v.every((function(e){return e.hasOwnProperty("properties")}))?l(v,C,k,I)+c(v,b)*p:l(v,C,k,I),0===N&&(A=T,D=v,P=S);var O=T>0&&T>A&&T-A<o;if(T>A&&(D=v.map((function(e){return{node:e,clusterId:e.clusterId}})),P=(0,r.clone)(S),A=T),O||N>100)break;N++,Object.keys(S).forEach((function(e){var t=0;y.forEach((function(r){var i=r.source,o=r.target,a=E[i].node.clusterId,s=E[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),S[e].sumTot=t})),v.forEach((function(e,t){var r,i=S[e.clusterId],o=0,a=k[t]/(2*I),s=0,l=i.nodes;l.forEach((function(e){var n=E[e.id].idx;s+=C[t][n]||0}));var f=s-i.sumTot*a,d=l.filter((function(t){return t.id!==e.id})),h=[];d.forEach((function(e,t){h[t]=b[e.originIndex]}));var g=c(d,b)*p,v=M[e.id];if(Object.keys(v).forEach((function(n){var i=E[n].node.clusterId;if(i!==e.clusterId){var s=S[i],l=s.nodes;if(l&&l.length){var d=0;l.forEach((function(e){var n=E[e.id].idx;d+=C[t][n]||0}));var h=d-s.sumTot*a,v=l.concat([e]),m=[];v.forEach((function(e,t){m[t]=b[e.originIndex]}));var y=c(v,b)*p,x=h-f;u&&(x=h+y-(f+g)),x>o&&(o=x,r=s)}}})),o>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=i.nodes.indexOf(e);i.nodes.splice(x,1);var w=0,_=0;y.forEach((function(e){var t=e.source,i=e.target,o=E[t].node.clusterId,a=E[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(w+=e[n]||1),(o===m&&a!==m||a===m&&o!==m)&&(_+=e[n]||1)})),r.sumTot=w,i.sumTot=_}}))}var L={},R=0;Object.keys(P).forEach((function(e){var t=P[e];if(t.nodes&&t.nodes.length){var n=String(R+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),P[n]=t,L[e]=n,delete P[e],R++)}else delete P[e]})),D.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&L[t.clusterId]&&(t.clusterId=L[t.clusterId])}));var B=[],z={};y.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=E[t].node.clusterId,a=E[r].node.clusterId,s="".concat(o,"---").concat(a);if(z[s])z[s].weight+=i,z[s].count++;else{var u={source:o,target:a,weight:i,count:1};z[s]=u,B.push(u)}}));var F=[];return Object.keys(P).forEach((function(e){F.push(P[e])})),{clusters:F,clusterEdges:B}};t.default=f},8433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(5997)),i=a(n(567)),o=n(399);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var l=a[0],c=new Set;c.add(l);var f=new i.default((function(e,n){return t?e.weight-n.weight:0}));for((0,o.getEdgesByNodeId)(l.id,u).forEach((function(e){f.insert(e)}));!f.isEmpty();){var d=f.delMin(),h=d.source,p=d.target;c.has(h)&&c.has(p)||(n.push(d),c.has(h)||(c.add(h),(0,o.getEdgesByNodeId)(h,u).forEach((function(e){f.insert(e)}))),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,u).forEach((function(e){f.insert(e)}))))}return n},u=function(e,t){var n=[],i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map((function(e){return e}));t&&u.sort((function(e,t){return e.weight-t.weight}));for(var l=new r.default(o.map((function(e){return e.id})));u.length>0;){var c=u.shift(),f=c.source,d=c.target;l.connected(f,d)||(n.push(c),l.union(f,d))}return n},l=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=l},3962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(9020))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,l=e.nodes,c=void 0===l?[]:l,f=e.edges,d=void 0===f?[]:f,h=c.length,p={},g={},v=0;v<h;++v){p[y=(S=c[v]).id]=1/h,g[y]=1/h}for(var m=(0,i.default)(e);u>0&&a>t;){s=0;for(v=0;v<h;++v){var y=(S=c[v]).id;if(r=0,0===m[S.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var w=b[x],_=m[w].outDegree;_>0&&(r+=g[w]/_)}p[y]=n*r,s+=p[y]}}s=(1-s)/h,a=0;for(v=0;v<h;++v){var S;r=p[y=(S=c[v]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}u-=1}return g};t.default=a},567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e-t},r=function(){function e(e){void 0===e&&(e=n),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=r},4182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var n=function(e,t){return e===t},r=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=r;var i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new r(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new r(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}();t.default=i},9748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(4182))&&r.__esModule?r:{default:r};var o=function(){function e(){this.linkedList=new i.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=o},5997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=n},1391:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=n,function(e){e.EuclideanDistance="euclideanDistance"}(n||(t.DistanceType=n={}))},399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))};t.getOutEdgesNodeId=function(e,t){return t.filter((function(t){return t.source===e}))};t.getEdgesByNodeId=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},3708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,i=n(6022),o=n(1391),a=(r=n(2210))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,i.uniq)(r));var o={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,i.uniq)(r))})),o};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i};t.oneHot=u;var l=function(e,t,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;if(n===o.DistanceType.EuclideanDistance)i=new a.default(e).euclideanDistance(new a.default(t));return i};t.getDistance=l;var c={getAllKeyValueMap:s,oneHot:u,getDistance:l};t.default=c},8831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(834),i=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach((function(e){e.properties&&Object.keys(e.properties).forEach((function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1}))}));var i=Object.keys(n).sort((function(e,t){return n[t]-n[e]}));return i.length<t?i:i.slice(0,t)};t.getAllSortProperties=i;var o=function(e,t){return t.map((function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0}))},a=function(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n[r]=o(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};t.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};t.default=u},2210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6022),i=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort((function(e,t){return e-t}));var i=n[n.length-1],o=n[0];for(var a in this.arr)t[a]=(this.arr[a]-o)/(i-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=i},3658:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return f.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return f.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var i=x(n(3469)),o=x(n(6299)),a=x(n(3265)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(9020)),u=x(n(1354)),l=x(n(5068)),c=x(n(5581)),f=n(6384),d=x(n(9345)),h=x(n(2186)),p=x(n(6977)),g=x(n(8433)),v=x(n(3962)),m=x(n(5472)),y=n(399);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},3857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},760:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(3857),o=(r=n(4524))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var a=new o.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,o=t.data,s=t._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}}))}};t.default=a},7249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,i=(r=n(760))&&r.__esModule?r:{default:r},o=n(3857);t.getAdjMatrixAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,i.default)(o.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},4524:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(3658)),o=n(3857);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};t.default=null},3543:function(){},5321:function(){},736:function(){},4566:function(){},8783:function(){},2332:function(){},1326:function(){},1101:function(){},9:function(){},2929:function(){},5760:function(){},678:function(){},2288:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.r(t),n.d(t,{Camera:function(){return Jr},Geometry:function(){return ei},Kernel:function(){return eo},Material:function(){return to},Renderable:function(){return no},World:function(){return Du}});var i=n(5671),o=n(3144);function a(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(6121);var s=n(7757),u=n.n(s),l=n(5861),c=1;function f(){return c++}var d=function e(t){(0,i.Z)(this,e)},h=function(){function e(t){(0,i.Z)(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return(0,o.Z)(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return-1}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return i=r[n],o=Number(i),a=this.lookup[o],e.next=7,t(o,this.getComponent(a));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}(),p=n(9439),g=n(6543),v={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},m=function e(){(0,i.Z)(this,e),this.index=void 0},y=function e(){(0,i.Z)(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},b=function(){function e(){(0,i.Z)(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,o.Z)(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),x=n(136),w=n(2963),_=n(1120);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var E,C,k,M,I,T,A=function(e){(0,x.Z)(n,e);var t=S(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return(0,o.Z)(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){(0,i.Z)(this,e),this.first=void 0,this.last=void 0})),N=function e(){(0,i.Z)(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function D(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=(E=(0,g.b2)(),C=(0,g.f3)(v.RenderEngine),E((T=function(){function e(){(0,i.Z)(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],r(this,"engine",I,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new y;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new b;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=D(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(N){n.e(N)}finally{n.f()}var i,o=[],a=D(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(N){a.e(N)}finally{a.f()}for(;o.length;){var u=o.pop(),l=u&&u.writer;if(l&&0===--l.refCount){var c,f=D(l.reads);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=this.resourceNodes[d.index];0===--h.readerCount&&o.push(h)}}catch(N){f.e(N)}finally{f.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,g=D(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=D(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(N){y.e(N)}finally{y.f()}var w,_=D(v.writes);try{for(_.s();!(w=_.n()).done;){var S=w.value,E=this.resourceNodes[S.index].resource;E.first=E.first?E.first:v,E.last=v}}catch(N){_.e(N)}finally{_.f()}}}}catch(N){g.e(N)}finally{g.f()}for(var C=0;C<2;C++){var k,M=D(this.resourceNodes);try{for(M.s();!(k=M.n()).done;){var I=k.value.resource;if(I.priority===C&&I.refs){var T=I.first,A=I.last;T&&A&&(T.devirtualize.push(I),A.destroy.push(I))}}}catch(N){M.e(N)}finally{M.f()}}}},{key:"executePassNodes",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,f,d,h,g,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=D(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(i=(0,p.Z)(r.value,2),o=i[0],!(a=i[1]).refCount){e.next=16;break}s=D(a.devirtualize);try{for(s.s();!(l=s.n()).done;)l.value.preExecuteDevirtualize(this.engine)}catch(u){s.e(u)}finally{s.f()}c=D(a.destroy);try{for(c.s();!(f=c.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(u){c.e(u)}finally{c.f()}return e.next=12,this.frameGraphPasses[o].execute(this,this.frameGraphPasses[o],t);case 12:d=D(a.devirtualize);try{for(d.s();!(h=d.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(u){d.e(u)}finally{d.f()}g=D(a.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(u){g.e(u)}finally{g.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new N;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new m;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new A;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new A;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),I=a((M=T).prototype,"engine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M))||k),L=n(4942),R=n(7326),B=n(553);function z(){var e=new B.WT(4);return B.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function F(e,t,n,r){var i=new B.WT(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function j(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=z()}();var G=n(5742),V=n(8679),U=n(1002),W=9007199254740991,Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0,Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object Boolean]"]=Z["[object DataView]"]=Z["[object Date]"]=Z["[object Error]"]=Z["[object Function]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object WeakMap]"]=!1;var H=Object.prototype.toString;var Y=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=W}(e.length)&&!!Z[H.call(e)]};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var $,Q,J,ee,te,ne,re,ie,oe,ae=function(e){(0,x.Z)(n,e);var t=q(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign((0,R.Z)(r),e),r}return(0,o.Z)(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find((function(t){return t.name===e}));return i?(i.data=t,i.dirty=!0):this.attributes.push(K(K({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=F(t.data[r],t.data[r+1],t.data[r+2],1);j(i,i,e),Y(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=G.normalFromMat4(G.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=V.al(n.data[a],n.data[a+1],n.data[a+2]);V.kK(s,s,o),V.Fv(s,s),Y(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(d);!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}($||($={}));var se=(Q=(0,g.b2)(),J=(0,g.f3)(v.GeometryComponentManager),ee=(0,g.f3)(v.RenderEngine),Q((oe=function(){function e(){(0,i.Z)(this,e),r(this,"geometry",re,this),r(this,"engine",ie,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:$.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:$.UNSIGNED_INT,usage:$.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=f();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=f();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),re=a((ne=oe).prototype,"geometry",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=a(ne.prototype,"engine",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var fe,de,he,pe,ge,ve,me,ye,be,xe,we=function(e){(0,x.Z)(n,e);var t=ce(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:$.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign((0,R.Z)(r),e),r}return(0,o.Z)(n,[{key:"setDefines",value:function(e){return this.defines=le(le({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(d);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee,Ce=(fe=(0,g.b2)(),de=(0,g.f3)(v.MaterialComponentManager),he=(0,g.f3)(v.RenderEngine),pe=(0,g.f3)(v.ShaderModuleService),fe((xe=function(){function e(){(0,i.Z)(this,e),r(this,"material",me,this),r(this,"engine",ye,this),r(this,"shaderModule",be,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=f(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,Se(Se({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),me=a((ve=xe).prototype,"material",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=a(ve.prototype,"engine",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ve.prototype,"shaderModule",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ve))||ge);function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}!function(e){e[e.Standard=0]="Standard"}(Ee||(Ee={}));var Me=function(e){(0,x.Z)(n,e);var t=ke(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).strategy=Ee.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign((0,R.Z)(r),e),r}return n}(d),Ie=function(){function e(t,n){(0,i.Z)(this,e),this.center=void 0,this.halfExtents=void 0,this.min=V.Ue(),this.max=V.Ue(),this.update(t,n)}return(0,o.Z)(e,[{key:"update",value:function(e,t){this.center=e||V.Ue(),this.halfExtents=t||V.al(.5,.5,.5),this.min=V.lu(this.min,this.center,this.halfExtents),this.max=V.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){V.IH(this.center,t,e),V.bA(this.center,this.center,.5),V.lu(this.halfExtents,t,e),V.bA(this.halfExtents,this.halfExtents,.5),V.JG(this.min,e),V.JG(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],l=n-a,c=n+a,f=r-s,d=r+s,h=i-u,p=i+u,g=e.center,v=g[0],m=g[1],y=g[2],b=e.halfExtents,x=b[0],w=b[1],_=b[2],S=v-x,E=v+x,C=m-w,k=m+w,M=y-_,I=y+_;S<l&&(l=S),E>c&&(c=E),C<f&&(f=C),k>d&&(d=k),M<h&&(h=M),I>p&&(p=I),t[0]=.5*(l+c),t[1]=.5*(f+d),t[2]=.5*(h+p),o[0]=.5*(c-l),o[1]=.5*(d-f),o[2]=.5*(p-h),this.min[0]=l,this.min[1]=f,this.min[2]=h,this.max[0]=c,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?V.JG(V.Ue(),this.min):272===e.pnVertexFlag?V.al(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?V.al(this.max[0],this.max[1],this.min[2]):V.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?V.JG(V.Ue(),this.max):272===e.pnVertexFlag?V.al(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?V.al(this.min[0],this.min[1],this.max[2]):V.al(this.min[0],this.min[1],this.min[2])}}]),e}();function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ae,Ne=function(e){(0,x.Z)(n,e);var t=Te(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new Ie,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign((0,R.Z)(r),e),r}return n}(d),De=function(){function e(t,n){(0,i.Z)(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||V.al(0,1,0),this.updatePNVertexFlag()}return(0,o.Z)(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return V.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/V.Zh(this.normal);V.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&V.t7(n,e,t,i),o}}]),e}();!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(Ae||(Ae={}));var Pe,Oe,Le,Re,Be,ze,Fe,je,Ge,Ve,Ue,We,Ze,He,Ye=function(){function e(t){if((0,i.Z)(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new De)}return(0,o.Z)(e,[{key:"extractFromVPMatrix",value:function(e){var t=(0,p.Z)(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],g=t[12],v=t[13],m=t[14],y=t[15];V.t8(this.planes[0].normal,o-n,l-a,h-c),this.planes[0].distance=-(y-g),V.t8(this.planes[1].normal,o+n,l+a,h+c),this.planes[1].distance=-(y+g),V.t8(this.planes[2].normal,o+r,l+s,h+f),this.planes[2].distance=-(y+v),V.t8(this.planes[3].normal,o-r,l-s,h-f),this.planes[3].distance=-(y-v),V.t8(this.planes[4].normal,o-i,l-u,h-d),this.planes[4].distance=-(y-m),V.t8(this.planes[5].normal,o+i,l+u,h+d),this.planes[5].distance=-(y+m),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}();function Xe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=(Pe=(0,g.b2)(),Oe=(0,g.f3)(v.MeshComponentManager),Le=(0,g.f3)(v.CullableComponentManager),Re=(0,g.f3)(v.GeometryComponentManager),Be=(0,g.f3)(v.HierarchyComponentManager),ze=(0,g.f3)(v.TransformComponentManager),Pe((He=function(){function e(){(0,i.Z)(this,e),r(this,"mesh",Ge,this),r(this,"cullable",Ve,this),r(this,"geometry",Ue,this),r(this,"hierarchy",We,this),r(this,"transform",Ze,this),this.planes=void 0}return(0,o.Z)(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,f,d,h,p,g,v,m,y,b,x,w,_,S;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xe(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=Xe(o.getEntities());try{for(s.s();!(l=s.n()).done;)c=l.value,(f=this.mesh.getComponentByEntity(c))&&(d=this.hierarchy.getComponentByEntity(c),h=this.cullable.getComponentByEntity(c),p=f.geometry,g=this.transform.getComponentByEntity(c),p&&p.aabb&&g&&f.aabbDirty&&(v=g.worldTransform,m=p.aabb,y=m.center,b=m.halfExtents,x=V.fF(V.Ue(),y,v),u=v,(E=G.create())[0]=u[0],E[1]=u[1],E[2]=u[2],E[3]=u[4],E[4]=u[5],E[5]=u[6],E[6]=u[8],E[7]=u[9],E[8]=u[10],w=E,_=V.kK(V.Ue(),b,w),f.aabb.update(x,_),f.aabbDirty=!1),h&&p&&(S=this.cullable.getComponentByEntity((null===d||void 0===d?void 0:d.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(f.aabb,(null===S||void 0===S?void 0:S.visibilityPlaneMask)||Ae.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==Ae.OUTSIDE))}catch(C){s.e(C)}finally{s.f()}}}catch(C){n.e(C)}finally{n.f()}case 2:case"end":return e.stop()}var u,E}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===Ae.OUTSIDE||t===Ae.INSIDE)return t;for(var r=Ae.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,l=s.distance;if(V.AK(u,e.getNegativeFarPoint(n[i]))+l>0)return Ae.OUTSIDE;V.AK(u,e.getPositiveFarPoint(n[i]))+l>0&&(r|=a)}}return r}}]),e}(),Ge=a((je=He).prototype,"mesh",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=a(je.prototype,"cullable",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=a(je.prototype,"geometry",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=a(je.prototype,"hierarchy",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=a(je.prototype,"transform",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=je))||Fe);function $e(){var e=new B.WT(16);return B.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Je(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,_=r*l-o*s,S=i*l-o*u,E=c*g-f*p,C=c*v-d*p,k=c*m-h*p,M=f*v-d*g,I=f*m-h*g,T=d*m-h*v,A=y*T-b*I+x*M+w*k-_*C+S*E;return A?(A=1/A,e[0]=(s*T-u*I+l*M)*A,e[1]=(i*I-r*T-o*M)*A,e[2]=(g*S-v*_+m*w)*A,e[3]=(d*_-f*S-h*w)*A,e[4]=(u*k-a*T-l*C)*A,e[5]=(n*T-i*k+o*C)*A,e[6]=(v*x-p*S-m*b)*A,e[7]=(c*S-d*x+h*b)*A,e[8]=(a*I-s*k+l*E)*A,e[9]=(r*k-n*I-o*E)*A,e[10]=(p*_-g*x+m*y)*A,e[11]=(f*x-c*_-h*y)*A,e[12]=(s*C-a*M-u*E)*A,e[13]=(n*M-r*C+i*E)*A,e[14]=(g*b-p*w-v*y)*A,e[15]=(c*w-f*b+d*y)*A,e):null}function tt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],w=n[2],_=n[3];return e[0]=b*r+x*s+w*f+_*g,e[1]=b*i+x*u+w*d+_*v,e[2]=b*o+x*l+w*h+_*m,e[3]=b*a+x*c+w*p+_*y,b=n[4],x=n[5],w=n[6],_=n[7],e[4]=b*r+x*s+w*f+_*g,e[5]=b*i+x*u+w*d+_*v,e[6]=b*o+x*l+w*h+_*m,e[7]=b*a+x*c+w*p+_*y,b=n[8],x=n[9],w=n[10],_=n[11],e[8]=b*r+x*s+w*f+_*g,e[9]=b*i+x*u+w*d+_*v,e[10]=b*o+x*l+w*h+_*m,e[11]=b*a+x*c+w*p+_*y,b=n[12],x=n[13],w=n[14],_=n[15],e[12]=b*r+x*s+w*f+_*g,e[13]=b*i+x*u+w*d+_*v,e[14]=b*o+x*l+w*h+_*m,e[15]=b*a+x*c+w*p+_*y,e}function nt(e,t,n){var r,i,o,a,s,u,l,c,f,d,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*g+s*v+f*m+t[12],e[13]=i*g+u*v+d*m+t[13],e[14]=o*g+l*v+h*m+t[14],e[15]=a*g+c*v+p*m+t[15]),e}function rt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function it(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}function ot(e,t){var n=new B.WT(3);it(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,l=t[4]*r,c=t[5]*i,f=t[6]*o,d=t[8]*r,h=t[9]*i,p=t[10]*o,g=a+c+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(f-h)/v,e[1]=(d-u)/v,e[2]=(s-l)/v):a>c&&a>p?(v=2*Math.sqrt(1+a-c-p),e[3]=(f-h)/v,e[0]=.25*v,e[1]=(s+l)/v,e[2]=(d+u)/v):c>p?(v=2*Math.sqrt(1+c-a-p),e[3]=(d-u)/v,e[0]=(s+l)/v,e[1]=.25*v,e[2]=(f+h)/v):(v=2*Math.sqrt(1+p-a-c),e[3]=(s-l)/v,e[0]=(d+u)/v,e[1]=(f+h)/v,e[2]=.25*v),e}function at(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[1]=c+m,e[2]=d-v,e[3]=0,e[4]=c-m,e[5]=1-l-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var st=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var ut=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};var lt,ct,ft,dt,ht,pt,gt,vt,mt,yt,bt,xt,wt,_t,St,Et,Ct,kt,Mt,It,Tt,At,Nt,Dt;function Pt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lt,Rt,Bt,zt,Ft,jt,Gt,Vt,Ut,Wt,Zt,Ht,Yt,Xt=(lt=(0,g.b2)(),ct=(0,g.f3)(v.MeshComponentManager),ft=(0,g.f3)(v.GeometryComponentManager),dt=(0,g.f3)(v.MaterialComponentManager),ht=(0,g.f3)(v.CullableComponentManager),pt=(0,g.f3)(v.TransformComponentManager),gt=(0,g.f3)(v.HierarchyComponentManager),vt=(0,g.f3)(v.Systems),mt=(0,g.t6)(v.FrameGraphSystem),yt=(0,g.f3)(v.RenderEngine),bt=(0,g.f3)(v.ResourcePool),lt((Dt=Nt=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"mesh",_t,this),r(this,"geometry",St,this),r(this,"material",Et,this),r(this,"cullable",Ct,this),r(this,"transform",kt,this),r(this,"hierarchy",Mt,this),r(this,"frameGraphSystem",It,this),r(this,"engine",Tt,this),r(this,"resourcePool",At,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:$.RENDER_ATTACHMENT|$.SAMPLED|$.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=Pt(i),e.prev=3,s.s();case 5:if((l=s.n()).done){e.next=11;break}return c=l.value,e.next=9,t.initView(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:f=t.engine.getCanvas(),a.resize({width:f.width,height:f.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=Pt(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=tt($e(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,l=o.height;this.engine.viewport({x:a,y:s,width:u,height:l});var c,f=Pt(t.getEntities());try{for(f.s();!(c=f.n()).done;){var d=c.value;this.renderMesh(d,{camera:n,view:e,viewMatrix:r})}}catch(h){f.e(h)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),l=tt($e(),i,u.worldTransform),c=r.getViewport(),f=c.width,d=c.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:l,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[f,d]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var r,i,o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,l=s.createModel,c=s.createAttribute,f={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=c({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:i.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(f.cull=i.cull),i.depth&&(f.depth=i.depth),i.blend&&(f.blend=i.blend),o.indicesBuffer&&(f.elements=o.indicesBuffer),o.maxInstancedCount&&(f.instances=o.maxInstancedCount,f.count=o.vertexCount||3),e.next=22,l(f);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=Pt(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nt.IDENTIFIER="Render Pass",_t=a((wt=Dt).prototype,"mesh",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(wt.prototype,"geometry",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=a(wt.prototype,"material",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(wt.prototype,"cullable",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(wt.prototype,"transform",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(wt.prototype,"hierarchy",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=a(wt.prototype,"frameGraphSystem",[vt,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(wt.prototype,"engine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=a(wt.prototype,"resourcePool",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=wt))||xt);function Kt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t,Qt,Jt,en,tn,nn,rn,on,an,sn,un,ln,cn,fn,dn,hn,pn,gn,vn,mn,yn,bn,xn=1,wn=2,_n=(Lt=(0,g.b2)(),Rt=(0,g.f3)(v.RenderEngine),Bt=(0,g.f3)(v.ResourcePool),zt=(0,g.f3)(v.RenderPassFactory),Ft=(0,g.f3)(v.MeshComponentManager),Lt((Yt=Ht=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",Vt,this),r(this,"resourcePool",Ut,this),r(this,"renderPassFactory",Wt,this),r(this,"mesh",Zt,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=Kt(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(Xt.IDENTIFIER),i=[],o=Kt(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",xn),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach((function(e){e.material.setUniform("u_PickingStage",wn)})),t.alreadyInRendering=!1}))},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,l=s.useFramebuffer,c=n.getViewport(),f=c.width,d=c.height,h=o*window.devicePixelRatio,g=a*window.devicePixelRatio;if(!(h>f||h<0||g>d||g<0))return l(t.pickingFBO,(function(){0===(r=u({x:Math.round(h),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=function(e){var t=(0,p.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),i}}return(0,o.Z)(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=Kt(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",wn),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),Ht.IDENTIFIER="PixelPicking Pass",Vt=a((Gt=Yt).prototype,"engine",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=a(Gt.prototype,"resourcePool",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Gt.prototype,"renderPassFactory",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=a(Gt.prototype,"mesh",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Gt))||jt),Sn=($t=(0,g.b2)(),Qt=(0,g.f3)(v.RenderEngine),Jt=(0,g.f3)(v.ResourcePool),$t((an=on=function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",nn,this),r(this,"resourcePool",rn,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(Xt.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r){var i,o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:$.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:l=e.sent,t.model=l;case 6:c=n.getResourceNode(r.data.input),f=t.resourcePool.getOrCreateResource(c.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},on.IDENTIFIER="Copy Pass",nn=a((tn=an).prototype,"engine",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=a(tn.prototype,"resourcePool",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=tn))||en),En=(sn=(0,g.b2)(),un=(0,g.f3)(v.Systems),ln=(0,g.t6)(v.FrameGraphSystem),cn=(0,g.f3)(v.RenderPassFactory),fn=(0,g.f3)(v.ConfigService),dn=(0,g.f3)(v.ResourcePool),sn((bn=function(){function e(){(0,i.Z)(this,e),r(this,"frameGraphSystem",gn,this),r(this,"renderPassFactory",vn,this),r(this,"configService",mn,this),r(this,"resourcePool",yn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(Xt.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(Xt.IDENTIFIER,r,i),o=this.renderPassFactory(Sn.IDENTIFIER),a=o.setup,s=o.execute,l=o.tearDown,c=this.frameGraphSystem.addPass(Sn.IDENTIFIER,a,s,l),this.frameGraphSystem.present(c.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(_n.IDENTIFIER).pick(e,t)}}]),e}(),gn=a((pn=bn).prototype,"frameGraphSystem",[un,ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=a(pn.prototype,"renderPassFactory",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=a(pn.prototype,"configService",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=a(pn.prototype,"resourcePool",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=pn))||hn);function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var kn,Mn,In,Tn,An,Nn,Dn,Pn,On,Ln,Rn=function(e){(0,x.Z)(n,e);var t=Cn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign((0,R.Z)(r),e),r}return n}(d),Bn=(kn=(0,g.b2)(),Mn=(0,g.f3)(v.HierarchyComponentManager),In=(0,g.f3)(v.TransformComponentManager),Tn=(0,g.f3)(v.MeshComponentManager),kn((Ln=function(){function e(){(0,i.Z)(this,e),r(this,"hierarchy",Dn,this),r(this,"transform",Pn,this),r(this,"mesh",On,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(et($e(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),Dn=a((Nn=Ln).prototype,"hierarchy",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=a(Nn.prototype,"transform",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=a(Nn.prototype,"mesh",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=Nn))||An);function zn(){var e=new B.WT(4);return B.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Fn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function jn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function Gn(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],f=t[2],d=t[3],h=n[0],p=n[1],g=n[2],v=n[3];return(o=l*h+c*p+f*g+d*v)<0&&(o=-o,h=-h,p=-p,g=-g,v=-v),1-o>B.Ib?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*h,e[1]=s*c+u*p,e[2]=s*f+u*g,e[3]=s*d+u*v,e}function Vn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Un(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=o*u*c-a*s*l,e[1]=a*s*c+o*u*l,e[2]=a*u*l-o*s*c,e[3]=a*u*c+o*s*l,e}var Wn=F,Zn=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Hn=jn,Yn=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};(function(){var e=V.Ue(),t=V.al(1,0,0),n=V.al(0,1,0)})(),function(){var e=zn(),t=zn()}(),function(){var e=G.create()}();function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Kn=function(e){(0,x.Z)(n,e);var t=Xn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=V.al(0,0,0),r.localRotation=Wn(0,0,0,1),r.localScale=V.al(1,1,1),r.localTransform=$e(),r.position=V.al(0,0,0),r.rotation=Wn(0,0,0,1),r.scaling=V.al(1,1,1),r.worldTransform=$e(),r.matrixTransform=function(){var e=$e();return function(t){tt(e,r.getLocalTransform(),t),it(r.localScale,e),rt(r.localPosition,e),ot(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=zn(),t=zn(),n=zn();return function(i,o,a){r.setDirty(),Un(e,i,0,0),Un(t,0,o,0),Un(n,0,0,a),jn(r.localRotation,e,r.localRotation),jn(r.localRotation,r.localRotation,t),jn(r.localRotation,n,r.localRotation),Yn(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=V.Ue(),t=zn(),n=V.Ue(),i=V.Ue(),o=zn(),a=V.Ue();return function(s,u,l){r.setDirty(),it(e,s.worldTransform),rt(n,s.worldTransform),ot(t,s.worldTransform),it(i,u.worldTransform),rt(a,u.worldTransform),ot(o,u.worldTransform),V.t7(r.localScale,e,i,l),Gn(r.localRotation,t,o,l),V.t7(r.localPosition,n,a,l)}}(),r.translate=function(){var e=V.Ue();return function(t){return V.IH(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),(0,R.Z)(r)}}(),r.translateLocal=function(e){return V.VC(e,e,r.localRotation),V.IH(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),(0,R.Z)(r)},r.setPosition=function(){var e=$e();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?V.JG(r.localPosition,t):(Qe(e,r.parent.worldTransform),et(e,e),V.fF(r.localPosition,t,e)),(0,R.Z)(r)}}(),r.rotate=function(){var e=zn();return function(t){if(null===r.parent)jn(r.localRotation,r.localRotation,t),Yn(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();Zn(e,i),Vn(e,e),jn(e,e,t),jn(r.localRotation,t,n),Yn(r.localRotation,r.localRotation)}return r.setLocalDirty(),(0,R.Z)(r)}}(),r.rotateLocal=function(e){return jn(r.localRotation,r.localRotation,e),Yn(r.localRotation,r.localRotation),r.setLocalDirty(!0),(0,R.Z)(r)},r.setRotation=function(){var e=zn();return function(t){return null===r.parent?Zn(r.localRotation,t):(Zn(e,r.parent.getRotation()),Vn(e,e),Zn(r.localRotation,e),Hn(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),(0,R.Z)(r)}}(),r}return(0,o.Z)(n,[{key:"setLocalPosition",value:function(e){V.JG(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){V.JG(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return Zn(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(Qe(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){tt(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),it(this.localScale,this.worldTransform),rt(this.localPosition,this.worldTransform),ot(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=V.al(0,0,0),this.localRotation=Wn(0,0,0,1),this.localScale=V.al(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),V.Jp(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(!function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a,f=i*u,d=i*l,h=i*c,p=o*l,g=o*c,v=a*c,m=s*u,y=s*l,b=s*c,x=r[0],w=r[1],_=r[2];e[0]=(1-(p+v))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+v))*w,e[6]=(g+m)*w,e[7]=0,e[8]=(h+y)*_,e[9]=(g-m)*_,e[10]=(1-(f+p))*_,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1}(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return rt(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return ot(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return it(this.scaling,this.worldTransform),this.scaling}}]),n}(d);Kn.DIRTY=1;var qn,$n,Qn,Jn,er,tr,nr=n(5696),rr=(qn=(0,g.b2)(),$n=(0,g.f3)(v.RenderEngine),qn((tr=function(){function e(){(0,i.Z)(this,e),r(this,"engine",er,this),this.resourcePool={}}return(0,o.Z)(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:$.CLAMP_TO_EDGE,wrapT:$.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),er=a((Jn=tr).prototype,"engine",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=Jn))||Qn);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var or,ar,sr,ur,lr=function(e){(0,x.Z)(n,e);var t=ir(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(d),cr=(0,g.b2)()((ar=function(){function e(){(0,i.Z)(this,e),this.config=void 0}return(0,o.Z)(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),or=ar))||or;!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(ur||(ur={}));var fr=(0,g.b2)()(sr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||sr;var dr,hr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function gr(e){var t={};return{content:e=e.replace(pr,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),uniforms:t}}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yr=/precision\s+(high|low|medium)p\s+float/,br=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,xr=(0,g.b2)()((hr=function(){function e(){(0,i.Z)(this,e),this.moduleCache={},this.rawContentCache={}}return(0,o.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=gr(r),u=s.content,l=s.uniforms,c=gr(o),f=c.content,d=c.uniforms;this.rawContentCache[e]={fs:f,uniforms:mr(mr(mr({},l),d),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),l=u.content,c=u.includeList,f=l,d=(n=s.concat(c).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return mr(mr({},e),t.rawContentCache[n].uniforms)}),{});return yr.test(l)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+l),this.moduleCache[e]={fs:f.trim(),uniforms:d,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(br,(function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}(),dr=hr))||dr,wr=new g.W2;(0,nr.Z)(wr,!1);function _r(){var e=new g.W2;return e.parent=wr,e.bind(v.Systems).to(Bn).inSingletonScope().whenTargetNamed(v.SceneGraphSystem),e.bind(v.Systems).to(O).inSingletonScope().whenTargetNamed(v.FrameGraphSystem),e.bind(v.Systems).to(qe).inSingletonScope().whenTargetNamed(v.MeshSystem),e.bind(v.Systems).to(se).inSingletonScope().whenTargetNamed(v.GeometrySystem),e.bind(v.Systems).to(Ce).inSingletonScope().whenTargetNamed(v.MaterialSystem),e.bind(v.Systems).to(En).inSingletonScope().whenTargetNamed(v.RendererSystem),e.bind(v.ResourcePool).to(rr).inSingletonScope(),e.bind(v.ConfigService).to(cr).inSingletonScope(),e.bind(v.InteractorService).to(fr).inSingletonScope(),e.bind(v.RenderPass).to(Xt).inSingletonScope().whenTargetNamed(Xt.IDENTIFIER),e.bind(v.RenderPass).to(Sn).inSingletonScope().whenTargetNamed(Sn.IDENTIFIER),e.bind(v.RenderPass).to(_n).inSingletonScope().whenTargetNamed(_n.IDENTIFIER),e.bind(v.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(v.RenderPass,t)}})),e}function Sr(e){for(var t=new Ie,n=V.al(e[0],e[1],e[2]),r=V.al(e[0],e[1],e[2]),i=3;i<e.length;){var o=e[i++],a=e[i++],s=e[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}wr.bind(v.ShaderModuleService).to(xr).inSingletonScope(),wr.bind(v.NameComponentManager).toConstantValue(new h(lr)),wr.bind(v.HierarchyComponentManager).toConstantValue(new h(Rn)),wr.bind(v.TransformComponentManager).toConstantValue(new h(Kn)),wr.bind(v.MeshComponentManager).toConstantValue(new h(Ne)),wr.bind(v.CullableComponentManager).toConstantValue(new h(Me)),wr.bind(v.GeometryComponentManager).toConstantValue(new h(ae)),wr.bind(v.MaterialComponentManager).toConstantValue(new h(we));var Er,Cr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);V.Ue(),V.Ue(),V.Ue(),V.Ue(),V.Ue(),V.Ue(),n(736),n(4566),n(8783),n(2332),n(1326),n(1101);!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(Er||(Er={}));var kr,Mr,Ir,Tr;n(9),n(2929),n(5760),n(678),n(3543),n(5321);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(kr||(kr={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Mr||(Mr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Ir||(Ir={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Tr||(Tr={}));function Ar(e){return"number"===typeof e}function Nr(e){return void 0===e?0:e>360||e<-360?e%360:e}function Dr(e,t,n){return Ar(e)?V.al(e,t,n):3===e.length?V.d9(e):V.al(e[0],e[1],e[2])}var Pr,Or,Lr,Rr,Br,zr,Fr,jr,Gr,Vr,Ur=function(){function e(t,n){(0,i.Z)(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=function(e){var t=new B.WT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}(n.matrix),this.right=V.d9(n.right),this.up=V.d9(n.up),this.forward=V.d9(n.forward),this.position=V.d9(n.position),this.focalPoint=V.d9(n.focalPoint),this.distanceVector=V.d9(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return(0,o.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=Qe(e.matrix,this.matrix),e.right=V.JG(e.right,this.right),e.up=V.JG(e.up,this.up),e.forward=V.JG(e.forward,this.forward),e.position=V.JG(e.position,this.position),e.focalPoint=V.JG(e.focalPoint,this.focalPoint),e.distanceVector=V.JG(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(jr||(jr={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(Gr||(Gr={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(Vr||(Vr={}));var Wr,Zr,Hr,Yr,Xr,Kr,qr,$r=Math.PI/180,Qr=180/Math.PI,Jr=(Pr=(0,g.b2)(),Or=(0,g.f3)(v.InteractorService),Pr((Fr=zr=function(){function e(){(0,i.Z)(this,e),this.matrix=$e(),this.right=V.al(1,0,0),this.up=V.al(0,1,0),this.forward=V.al(0,0,1),this.position=V.al(0,0,1),this.focalPoint=V.al(0,0,0),this.distanceVector=V.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,r(this,"interactor",Br,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=$e(),this.view=void 0,this.following=void 0,this.type=jr.EXPLORING,this.trackingMode=Gr.DEFAULT,this.projectionMode=Vr.PERSPECTIVE,this.frustum=new Ye,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,o.Z)(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===jr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===jr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==jr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return et($e(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===Vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=Vr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,st(this.perspective,this.fov*$r,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=Vr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,l=(this.top+this.bottom)/2,c=u-a,f=u+a,d=l+s,h=l-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(c+=p*this.view.offsetX)+p*this.view.width,h=(d-=g*this.view.offsetY)-g*this.view.height}return ut(this.perspective,c,f,d,h,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=V.al(0,1,0);if(this.focalPoint=Dr(e,t,n),this.trackingMode===Gr.CINEMATIC){var i=V.$X(V.Ue(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=V.kE(i),a=Math.asin(t/o)*Qr,s=90+Math.atan2(n,e)*Qr,u=$e();!function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=u*r+d*i}(u,u,s*$r),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=d*i-u*r}(u,u,a*$r),r=V.fF(V.Ue(),[0,1,0],u)}return et(this.matrix,function(e,t,n,r){var i,o,a,s,u,l,c,f,d,h,p=t[0],g=t[1],v=t[2],m=r[0],y=r[1],b=r[2],x=n[0],w=n[1],_=n[2];return Math.abs(p-x)<B.Ib&&Math.abs(g-w)<B.Ib&&Math.abs(v-_)<B.Ib?Je(e):(c=p-x,f=g-w,d=v-_,i=y*(d*=h=1/Math.hypot(c,f,d))-b*(f*=h),o=b*(c*=h)-m*d,a=m*f-y*c,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=f*a-d*o,u=d*i-c*a,l=c*o-f*i,(h=Math.hypot(s,u,l))?(s*=h=1/h,u*=h,l*=h):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=u,e[6]=f,e[7]=0,e[8]=a,e[9]=l,e[10]=d,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(s*p+u*g+l*v),e[14]=-(c*p+f*g+d*v),e[15]=1,e)}($e(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=V.Ue();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Nr(e),this.computeMatrix(),this._getAxes(),this.type===jr.ORBITING||this.type===jr.EXPLORING?this._getPosition():this.type===jr.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Nr(e),this.computeMatrix(),this._getAxes(),this.type===jr.ORBITING||this.type===jr.EXPLORING?this._getPosition():this.type===jr.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Nr(e),this.computeMatrix(),this._getAxes(),this.type===jr.ORBITING||this.type===jr.EXPLORING?this._getPosition():this.type===jr.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===jr.EXPLORING){e=Nr(e),t=Nr(t),n=Nr(n);var r=Fn(zn(),[1,0,0],(this.rotateWorld?1:-1)*t*$r),i=Fn(zn(),[0,1,0],(this.rotateWorld?1:-1)*e*$r),o=Fn(zn(),[0,0,1],n*$r),a=jn(zn(),i,r);a=jn(zn(),a,o);var s=at($e(),a);nt(this.matrix,this.matrix,[0,0,-this.distance]),tt(this.matrix,this.matrix,s),nt(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Nr(t),this.relAzimuth=Nr(e),this.relRoll=Nr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===jr.ORBITING||this.type===jr.EXPLORING?this._getPosition():this.type===jr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Dr(e,t,0),r=V.d9(this.position);return V.IH(r,r,V.bA(V.Ue(),this.right,n[0])),V.IH(r,r,V.bA(V.Ue(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=V.d9(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===jr.ORBITING||this.type===jr.EXPLORING?this._getDistance():this.type===jr.TRACKING&&V.IH(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new Ur(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new Ur(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===i&&(i=r);var u,l=r-i,c=(1-Math.cos(l/n*Math.PI))/2,f=V.Ue(),d=V.Ue();if(V.t7(f,t.focalPoint,a,c),V.t7(d,t.position,o,c),u=t.roll*(1-c)+s*c,t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),!(V.TK(f,a)+V.TK(d,o)>.01))return t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();l<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Fn(zn(),[0,0,1],this.roll*$r);Je(this.matrix),e=Fn(zn(),[1,0,0],(this.rotateWorld&&this.type!==jr.TRACKING||this.type===jr.TRACKING?1:-1)*this.elevation*$r),t=Fn(zn(),[0,1,0],(this.rotateWorld&&this.type!==jr.TRACKING||this.type===jr.TRACKING?1:-1)*this.azimuth*$r);var r=jn(zn(),t,e);r=jn(zn(),r,n);var i=at($e(),r);this.type===jr.ORBITING||this.type===jr.EXPLORING?(nt(this.matrix,this.matrix,this.focalPoint),tt(this.matrix,this.matrix,i),nt(this.matrix,this.matrix,[0,0,this.distance])):this.type===jr.TRACKING&&(nt(this.matrix,this.matrix,this.position),tt(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Dr(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){V.JG(this.right,Dr(j(z(),[1,0,0,0],this.matrix))),V.JG(this.up,Dr(j(z(),[0,1,0,0],this.matrix))),V.JG(this.forward,Dr(j(z(),[0,0,1,0],this.matrix))),V.Fv(this.right,this.right),V.Fv(this.up,this.up),V.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=V.kE(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===jr.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*Qr,this.azimuth=Math.atan2(-e,-n)*Qr):(this.elevation=-Math.asin(t/r)*Qr,this.azimuth=-Math.atan2(-e,-n)*Qr)}},{key:"_getPosition",value:function(){V.JG(this.position,Dr(j(z(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){V.kK(this.distanceVector,[0,0,-this.distance],G.fromMat4(G.create(),this.matrix)),V.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=V.$X(V.Ue(),this.focalPoint,this.position),this.distance=V.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),zr.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},Br=a((Rr=Fr).prototype,"interactor",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=Rr))||Lr),ei=(Wr=(0,g.b2)(),Zr=(0,g.f3)(v.GeometryComponentManager),Wr((qr=Kr=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"geometry",Xr,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Kr.BOX="box",Kr.SPHERE="sphere",Kr.PLANE="plane",Kr.MERGED="merged",Xr=a((Yr=qr).prototype,"geometry",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=Yr))||Hr),ti=n(5511);function ni(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var ri={}.toString,ii=function(e,t){return ri.call(e)==="[object "+t+"]"},oi=9007199254740991,ai={};ai["[object Float32Array]"]=ai["[object Float64Array]"]=ai["[object Int8Array]"]=ai["[object Int16Array]"]=ai["[object Int32Array]"]=ai["[object Uint8Array]"]=ai["[object Uint8ClampedArray]"]=ai["[object Uint16Array]"]=ai["[object Uint32Array]"]=!0,ai["[object Arguments]"]=ai["[object Array]"]=ai["[object ArrayBuffer]"]=ai["[object Boolean]"]=ai["[object DataView]"]=ai["[object Date]"]=ai["[object Error]"]=ai["[object Function]"]=ai["[object Map]"]=ai["[object Number]"]=ai["[object Object]"]=ai["[object RegExp]"]=ai["[object Set]"]=ai["[object String]"]=ai["[object WeakMap]"]=!1;var si=Object.prototype.toString;var ui,li,ci,fi,di,hi,pi,gi,vi=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=oi}(e.length)&&!!ai[si.call(e)]};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi,xi,wi,_i,Si,Ei,Ci,ki,Mi,Ii,Ti,Ai,Ni,Di,Pi,Oi,Li,Ri,Bi,zi,Fi,ji,Gi,Vi,Ui,Wi,Zi,Hi,Yi,Xi,Ki,qi,$i,Qi,Ji,eo=(ui=(0,g.b2)(),li=(0,g.f3)(v.RenderEngine),ci=(0,g.f3)(v.ConfigService),ui((gi=function(){function e(){(0,i.Z)(this,e),r(this,"engine",hi,this),r(this,"configService",pi,this),this.entity=f(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(yi({canvas:t||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=Ar(t)||vi(t)||(n=t,Array.isArray?Array.isArray(n):ii(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===Ir.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=yi({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Tr.WGSL:Tr.GLSL450:Tr.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat("__DefineValuePlaceholder__").concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===Ir.StorageBuffer){var n=1;e.type===kr.FloatArray?n=1:e.type===kr.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=a((di=gi).prototype,"engine",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=a(di.prototype,"configService",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=di))||fi),to=(bi=(0,g.b2)(),xi=(0,g.f3)(v.MaterialComponentManager),bi((Ci=Ei=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"material",Si,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Ei.BASIC="basic",Si=a((_i=Ci).prototype,"material",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=_i))||wi),no=(ki=(0,g.b2)(),Mi=(0,g.f3)(v.MeshComponentManager),Ii=(0,g.f3)(v.CullableComponentManager),Ti=(0,g.f3)(v.TransformComponentManager),Ai=(0,g.f3)(v.Systems),Ni=(0,g.t6)(v.SceneGraphSystem),ki((Fi=zi=function(){function e(){(0,i.Z)(this,e),this.attributes={},this.config=void 0,r(this,"mesh",Oi,this),r(this,"cullable",Li,this),r(this,"transform",Ri,this),r(this,"sceneGraphSystem",Bi,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),zi.POINT="point",zi.LINE="line",zi.GRID="grid",Oi=a((Pi=Fi).prototype,"mesh",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=a(Pi.prototype,"cullable",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=a(Pi.prototype,"transform",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=a(Pi.prototype,"sceneGraphSystem",[Ai,Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=Pi))||Di),ro=n(9084),io=n.n(ro),oo=function(){function e(t,n){(0,i.Z)(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,a=n.stride,s=n.normalized,u=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:l||0},u&&(this.attribute.size=u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ao=(ji={},(0,L.Z)(ji,$.POINTS,"points"),(0,L.Z)(ji,$.LINES,"lines"),(0,L.Z)(ji,$.LINE_LOOP,"line loop"),(0,L.Z)(ji,$.LINE_STRIP,"line strip"),(0,L.Z)(ji,$.TRIANGLES,"triangles"),(0,L.Z)(ji,$.TRIANGLE_FAN,"triangle fan"),(0,L.Z)(ji,$.TRIANGLE_STRIP,"triangle strip"),ji),so=(Gi={},(0,L.Z)(Gi,$.STATIC_DRAW,"static"),(0,L.Z)(Gi,$.DYNAMIC_DRAW,"dynamic"),(0,L.Z)(Gi,$.STREAM_DRAW,"stream"),Gi),uo=(Vi={},(0,L.Z)(Vi,$.BYTE,"int8"),(0,L.Z)(Vi,$.UNSIGNED_INT,"int16"),(0,L.Z)(Vi,$.INT,"int32"),(0,L.Z)(Vi,$.UNSIGNED_BYTE,"uint8"),(0,L.Z)(Vi,$.UNSIGNED_SHORT,"uint16"),(0,L.Z)(Vi,$.UNSIGNED_INT,"uint32"),(0,L.Z)(Vi,$.FLOAT,"float"),Vi),lo=(Ui={},(0,L.Z)(Ui,$.ALPHA,"alpha"),(0,L.Z)(Ui,$.LUMINANCE,"luminance"),(0,L.Z)(Ui,$.LUMINANCE_ALPHA,"luminance alpha"),(0,L.Z)(Ui,$.RGB,"rgb"),(0,L.Z)(Ui,$.RGBA,"rgba"),(0,L.Z)(Ui,$.RGBA4,"rgba4"),(0,L.Z)(Ui,$.RGB5_A1,"rgb5 a1"),(0,L.Z)(Ui,$.RGB565,"rgb565"),(0,L.Z)(Ui,$.DEPTH_COMPONENT,"depth"),(0,L.Z)(Ui,$.DEPTH_STENCIL,"depth stencil"),Ui),co=(Wi={},(0,L.Z)(Wi,$.DONT_CARE,"dont care"),(0,L.Z)(Wi,$.NICEST,"nice"),(0,L.Z)(Wi,$.FASTEST,"fast"),Wi),fo=(Zi={},(0,L.Z)(Zi,$.NEAREST,"nearest"),(0,L.Z)(Zi,$.LINEAR,"linear"),(0,L.Z)(Zi,$.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,L.Z)(Zi,$.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,L.Z)(Zi,$.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,L.Z)(Zi,$.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Zi),ho=(Hi={},(0,L.Z)(Hi,$.REPEAT,"repeat"),(0,L.Z)(Hi,$.CLAMP_TO_EDGE,"clamp"),(0,L.Z)(Hi,$.MIRRORED_REPEAT,"mirror"),Hi),po=(Yi={},(0,L.Z)(Yi,$.NONE,"none"),(0,L.Z)(Yi,$.BROWSER_DEFAULT_WEBGL,"browser"),Yi),go=(Xi={},(0,L.Z)(Xi,$.NEVER,"never"),(0,L.Z)(Xi,$.ALWAYS,"always"),(0,L.Z)(Xi,$.LESS,"less"),(0,L.Z)(Xi,$.LEQUAL,"lequal"),(0,L.Z)(Xi,$.GREATER,"greater"),(0,L.Z)(Xi,$.GEQUAL,"gequal"),(0,L.Z)(Xi,$.EQUAL,"equal"),(0,L.Z)(Xi,$.NOTEQUAL,"notequal"),Xi),vo=(Ki={},(0,L.Z)(Ki,$.FUNC_ADD,"add"),(0,L.Z)(Ki,$.MIN_EXT,"min"),(0,L.Z)(Ki,$.MAX_EXT,"max"),(0,L.Z)(Ki,$.FUNC_SUBTRACT,"subtract"),(0,L.Z)(Ki,$.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Ki),mo=(qi={},(0,L.Z)(qi,$.ZERO,"zero"),(0,L.Z)(qi,$.ONE,"one"),(0,L.Z)(qi,$.SRC_COLOR,"src color"),(0,L.Z)(qi,$.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,L.Z)(qi,$.SRC_ALPHA,"src alpha"),(0,L.Z)(qi,$.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,L.Z)(qi,$.DST_COLOR,"dst color"),(0,L.Z)(qi,$.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,L.Z)(qi,$.DST_ALPHA,"dst alpha"),(0,L.Z)(qi,$.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,L.Z)(qi,$.CONSTANT_COLOR,"constant color"),(0,L.Z)(qi,$.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,L.Z)(qi,$.CONSTANT_ALPHA,"constant alpha"),(0,L.Z)(qi,$.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,L.Z)(qi,$.SRC_ALPHA_SATURATE,"src alpha saturate"),qi),yo=($i={},(0,L.Z)($i,$.NEVER,"never"),(0,L.Z)($i,$.ALWAYS,"always"),(0,L.Z)($i,$.LESS,"less"),(0,L.Z)($i,$.LEQUAL,"lequal"),(0,L.Z)($i,$.GREATER,"greater"),(0,L.Z)($i,$.GEQUAL,"gequal"),(0,L.Z)($i,$.EQUAL,"equal"),(0,L.Z)($i,$.NOTEQUAL,"notequal"),$i),bo=(Qi={},(0,L.Z)(Qi,$.ZERO,"zero"),(0,L.Z)(Qi,$.KEEP,"keep"),(0,L.Z)(Qi,$.REPLACE,"replace"),(0,L.Z)(Qi,$.INVERT,"invert"),(0,L.Z)(Qi,$.INCR,"increment"),(0,L.Z)(Qi,$.DECR,"decrement"),(0,L.Z)(Qi,$.INCR_WRAP,"increment wrap"),(0,L.Z)(Qi,$.DECR_WRAP,"decrement wrap"),Qi),xo=(Ji={},(0,L.Z)(Ji,$.FRONT,"front"),(0,L.Z)(Ji,$.BACK,"back"),Ji),wo=function(){function e(t,n){(0,i.Z)(this,e),this.buffer=void 0;var r=n.data,o=n.usage,a=n.type;this.buffer=t.buffer({data:r,usage:so[o||$.STATIC_DRAW],type:uo[a||$.UNSIGNED_BYTE]})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),_o=n(3433),So=9007199254740991,Eo={};Eo["[object Float32Array]"]=Eo["[object Float64Array]"]=Eo["[object Int8Array]"]=Eo["[object Int16Array]"]=Eo["[object Int32Array]"]=Eo["[object Uint8Array]"]=Eo["[object Uint8ClampedArray]"]=Eo["[object Uint16Array]"]=Eo["[object Uint32Array]"]=!0,Eo["[object Arguments]"]=Eo["[object Array]"]=Eo["[object ArrayBuffer]"]=Eo["[object Boolean]"]=Eo["[object DataView]"]=Eo["[object Date]"]=Eo["[object Error]"]=Eo["[object Function]"]=Eo["[object Map]"]=Eo["[object Number]"]=Eo["[object Object]"]=Eo["[object RegExp]"]=Eo["[object Set]"]=Eo["[object String]"]=Eo["[object WeakMap]"]=!1;var Co=Object.prototype.toString;var ko=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=So}(e.length)&&!!Eo[Co.call(e)]};function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var To=0,Ao=function(){function e(t,n){var r=this;(0,i.Z)(this,e),this.reGl=t,this.context=n,this.entity=f(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,i=e.data,a=e.isReferer,s=e.storageClass;if(s===Ir.StorageBuffer){if(a)r.textureCache[t]={data:void 0},o["".concat(t,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,i);var u=r.textureCache[t],l=u.textureWidth,c=u.isOutput;o["".concat(t,"Size")]=[l,l],c&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,i)))}o[t]=function(){return r.textureCache[t].texture}}else if(s===Ir.Uniform){if(i&&(Array.isArray(i)||ko(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[t]=function(){return e.data}}}));var a=this.getOuputDataTexture(),s=a.textureWidth,u=a.texelCount;o.u_OutputTextureSize=[s,s],o.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return(0,o.Z)(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=c.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(l=0;l<t.length;l+=4)1===i?s.push(t[l]):2===i?s.push(t[l],t[l+1]):s.push(t[l],t[l+1],t[l+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return Io(Io({},e),{},{id:To++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===kr.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),l=u*u;s<l&&i.push.apply(i,(0,_o.Z)(new Array(4*(l-s)).fill(0)));var c=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:To++,data:i,originalDataLength:a,typedArrayConstructor:ko(n)?n.constructor:void 0,textureWidth:u,texture:c,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),No=function(){function e(t,n){(0,i.Z)(this,e),this.elements=void 0;var r=n.data,o=n.usage,a=n.type,s=n.count;this.elements=t.elements({data:r,usage:so[o||$.STATIC_DRAW],type:uo[a||$.UNSIGNED_BYTE],count:s})}return(0,o.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Do=function(){function e(t,n){(0,i.Z)(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,a=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(s)&&(u.colors=s.map((function(e){return e.get()}))),a&&"boolean"!==typeof a&&(u.color=a.get()),this.framebuffer=t.framebuffer(u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function Po(e){var t={};return Object.keys(e).forEach((function(n){Oo(n,e[n],t,"")})),t}function Oo(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||ko(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=(0,U.Z)(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(i){Oo(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(o){Oo(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bo,zo,Fo,jo=function(){function e(t,n){(0,i.Z)(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,a=n.defines,s=n.attributes,u=n.uniforms,l=n.primitive,c=n.count,f=n.elements,d=n.depth,h=n.blend,p=n.stencil,g=n.cull,v=n.instances,m=n.scissor,y=n.viewport,b={};u&&(this.uniforms=Po(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var x={};Object.keys(s).forEach((function(e){x[e]=s[e].get()}));var w=a&&this.generateDefines(a)||"",_={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(o),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:ao[void 0===l?$.TRIANGLES:l]};v&&(_.instances=v),c&&(_.count=c),f&&(_.elements=f.get()),m&&(_.scissor=m),y&&(_.viewport=y),this.initDepthDrawParams({depth:d},_),this.initBlendDrawParams({blend:h},_),this.initStencilDrawParams({stencil:p},_),this.initCullDrawParams({cull:g},_),this.drawCommand=t(_)}return(0,o.Z)(e,[{key:"addUniforms",value:function(e){this.uniforms=Ro(Ro({},this.uniforms),Po(e))}},{key:"draw",value:function(e){var t=Ro(Ro({},this.uniforms),Po(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,U.Z)(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:go[n.func||$.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:mo[i&&i.srcRGB||$.SRC_ALPHA],srcAlpha:mo[i&&i.srcAlpha||$.SRC_ALPHA],dstRGB:mo[i&&i.dstRGB||$.ONE_MINUS_SRC_ALPHA],dstAlpha:mo[i&&i.dstAlpha||$.ONE_MINUS_SRC_ALPHA]},equation:{rgb:vo[o&&o.rgb||$.FUNC_ADD],alpha:vo[o&&o.alpha||$.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:$.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:u,c=n.opBack,f=void 0===c?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:c;t.stencil={enable:!!r,mask:o,func:Ro(Ro({},s),{},{cmp:yo[s.cmp]}),opFront:{fail:bo[l.fail],zfail:bo[l.zfail],zpass:bo[l.zpass]},opBack:{fail:bo[f.fail],zfail:bo[f.zfail],zpass:bo[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?$.BACK:i;t.cull={enable:!!r,face:xo[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),Go=function(){function e(t,n){(0,i.Z)(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,a=void 0===o?$.UNSIGNED_BYTE:o,s=n.width,u=n.height,l=n.flipY,c=void 0!==l&&l,f=n.format,d=void 0===f?$.RGBA:f,h=n.mipmap,p=void 0!==h&&h,g=n.wrapS,v=void 0===g?$.CLAMP_TO_EDGE:g,m=n.wrapT,y=void 0===m?$.CLAMP_TO_EDGE:m,b=n.aniso,x=void 0===b?0:b,w=n.alignment,_=void 0===w?1:w,S=n.premultiplyAlpha,E=void 0!==S&&S,C=n.mag,k=void 0===C?$.NEAREST:C,M=n.min,I=void 0===M?$.NEAREST:M,T=n.colorSpace,A=void 0===T?$.BROWSER_DEFAULT_WEBGL:T;this.width=s,this.height=u;var N={width:s,height:u,type:uo[a],format:lo[d],wrapS:ho[v],wrapT:ho[y],mag:fo[k],min:fo[I],alignment:_,flipY:c,colorSpace:po[A],premultiplyAlpha:E,aniso:x};r&&(N.data=r),"number"===typeof p?N.mipmap=co[p]:"boolean"===typeof p&&(N.mipmap=p),this.texture=t.texture(N)}return(0,o.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Vo=(0,g.b2)()((zo=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=(0,l.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new jo(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new oo(t.gl,e)},this.createBuffer=function(e){return new wo(t.gl,e)},this.createElements=function(e){return new No(t.gl,e)},this.createTexture2D=function(e){return new Go(t.gl,e)},this.createFramebuffer=function(e){return new Do(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ao(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable($.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable($.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){io()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),Bo=zo))||Bo;function Uo(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function Wo(e,t){return new Promise((function(t,n){Uo(e,(function(){t()}),(function(e,t){n(t)}))}))}function Zo(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fo){e.next=2;break}return e.abrupt("return",Fo);case 2:return e.next=4,Wo("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Fo=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",Fo);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yo=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,a=r.offset,s=r.stride,u=r.normalized,l=r.size,c=r.divisor,f=r.arrayStride,d=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:c||0,arrayStride:f||0,attributes:d,stepMode:h||"vertex"},l&&(this.attribute.size=l)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Xo=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,o=r.data,a=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,a||ti.FB.Vertex|ti.FB.CopyDst)}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(Cr?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Ko,qo,$o,Qo,Jo,ea,ta,na=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.context=n,this.entity=f(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===Ir.StorageBuffer})),i=this.context.uniforms.filter((function(e){return e.storageClass===Ir.Uniform})),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach((function(e){if("number"===typeof e.data)l.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,(0,_o.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,(0,_o.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Xo(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:ti.FB.Uniform|ti.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==kr.Vector4FloatArray&&e.type!==kr.FloatArray||(e.name===l.context.output.name?(t=new Xo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.outputBuffer=t,l.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new Xo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.vertexBuffers[e.name]=t,l.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(Cr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(ti.gc.Read);case 12:return l=a.getMappedRange(),c=new r(l.slice(0)),a.unmap(),e.abrupt("return",c);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,(0,_o.Z)(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(Cr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:Cr}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ra=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,a=(r.usage,r.type,r.count);this.indexCount=a||0,this.buffer=new Xo(t,{data:o instanceof Array?new Uint16Array(o):o,usage:ti.FB.Index|ti.FB.CopyDst})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ia=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),a=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),a&&(this.depthTexture=a)}return(0,o.Z)(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),oa=(Ko={},(0,L.Z)(Ko,$.POINTS,ti.YV.PointList),(0,L.Z)(Ko,$.LINES,ti.YV.LineList),(0,L.Z)(Ko,$.LINE_LOOP,ti.YV.LineList),(0,L.Z)(Ko,$.LINE_STRIP,ti.YV.LineStrip),(0,L.Z)(Ko,$.TRIANGLES,ti.YV.TriangleList),(0,L.Z)(Ko,$.TRIANGLE_FAN,ti.YV.TriangleList),(0,L.Z)(Ko,$.TRIANGLE_STRIP,ti.YV.TriangleStrip),Ko),aa=(qo={},(0,L.Z)(qo,$.NEVER,ti.wb.Never),(0,L.Z)(qo,$.ALWAYS,ti.wb.Always),(0,L.Z)(qo,$.LESS,ti.wb.Less),(0,L.Z)(qo,$.LEQUAL,ti.wb.LessEqual),(0,L.Z)(qo,$.GREATER,ti.wb.Greater),(0,L.Z)(qo,$.GEQUAL,ti.wb.GreaterEqual),(0,L.Z)(qo,$.EQUAL,ti.wb.Equal),(0,L.Z)(qo,$.NOTEQUAL,ti.wb.NotEqual),qo),sa=($o={},(0,L.Z)($o,$.FUNC_ADD,ti.db.Add),(0,L.Z)($o,$.MIN_EXT,ti.db.Min),(0,L.Z)($o,$.MAX_EXT,ti.db.Max),(0,L.Z)($o,$.FUNC_SUBTRACT,ti.db.Subtract),(0,L.Z)($o,$.FUNC_REVERSE_SUBTRACT,ti.db.ReverseSubtract),$o),ua=(Qo={},(0,L.Z)(Qo,$.ZERO,ti.zi.Zero),(0,L.Z)(Qo,$.ONE,ti.zi.One),(0,L.Z)(Qo,$.SRC_COLOR,ti.zi.SrcColor),(0,L.Z)(Qo,$.ONE_MINUS_SRC_COLOR,ti.zi.OneMinusSrcColor),(0,L.Z)(Qo,$.SRC_ALPHA,ti.zi.SrcAlpha),(0,L.Z)(Qo,$.ONE_MINUS_SRC_ALPHA,ti.zi.OneMinusSrcAlpha),(0,L.Z)(Qo,$.DST_COLOR,ti.zi.DstColor),(0,L.Z)(Qo,$.ONE_MINUS_DST_COLOR,ti.zi.OneMinusDstColor),(0,L.Z)(Qo,$.DST_ALPHA,ti.zi.DstAlpha),(0,L.Z)(Qo,$.ONE_MINUS_DST_ALPHA,ti.zi.OneMinusDstAlpha),(0,L.Z)(Qo,$.CONSTANT_COLOR,ti.zi.BlendColor),(0,L.Z)(Qo,$.ONE_MINUS_CONSTANT_COLOR,ti.zi.OneMinusBlendColor),(0,L.Z)(Qo,$.SRC_ALPHA_SATURATE,ti.zi.SrcAlphaSaturated),Qo),la=(Jo={},(0,L.Z)(Jo,$.ALPHA,"r8unorm"),(0,L.Z)(Jo,$.RGBA,"rgba8unorm"),(0,L.Z)(Jo,$.DEPTH_COMPONENT,"depth32float"),(0,L.Z)(Jo,$.DEPTH_STENCIL,"depth24plus-stencil8"),Jo),ca=(ea={},(0,L.Z)(ea,$.NEAREST,"nearest"),(0,L.Z)(ea,$.LINEAR,"linear"),ea),fa=(ta={},(0,L.Z)(ta,$.REPEAT,"repeat"),(0,L.Z)(ta,$.CLAMP_TO_EDGE,"clamp-to-edge"),(0,L.Z)(ta,$.MIRRORED_REPEAT,"mirror-repeat"),ta);function da(e){var t=e.cull;return t&&t.enable?t.face?t.face===$.FRONT?ti.Wf.Front:ti.Wf.Back:void 0:ti.Wf.None}function ha(e){var t=e.depth,n=(e.stencil,{compare:ti.wb.Always,depthFailOp:ti.xS.Keep,failOp:ti.xS.Keep,passOp:ti.xS.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:aa[(null===t||void 0===t?void 0:t.func)||$.ALWAYS],format:ti.EV.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function pa(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:ua[n&&n.func&&n.func.srcAlpha||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstAlpha||$.ZERO],operation:sa[n&&n.equation&&n.equation.alpha||$.FUNC_ADD]},colorBlend:{srcFactor:ua[n&&n.func&&n.func.srcRGB||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstRGB||$.ZERO],operation:sa[n&&n.equation&&n.equation.rgb||$.FUNC_ADD]},writeMask:ti.Yw.All}]}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t+=s.length}for(var u=new e(t),l=0,c=0,f=r;c<f.length;c++){var d=f[c];u.set(d,l),l+=d.length}return u}var ya,ba,xa,wa=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c,f,d,h,p,g,v,m,y=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,l=t.depth,c=t.blend,f=t.stencil,d=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,g=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),v={vertexBuffers:Object.keys(i).map((function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:oa[a||$.TRIANGLES],rasterizationState:va(va({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:da({cull:d})}),depthStencilState:ha({depth:l,stencil:f}),colorStates:pa({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:g,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=va(va({},this.uniforms),Po(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=va(va({},this.uniforms),Po(e.uniforms||{})),i=[];Object.keys(r).forEach((function(e){var n=(0,U.Z)(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var l=r[e].get(),c=l.color||l,f=c.texture,d=c.sampler;d&&(i.push({binding:u,resource:d}),u++),i.push({binding:u,resource:f.createView()})}}})),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ti.iD.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t,n,r){var i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Cr}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Cr}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ti.zX.CCW,cullMode:ti.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=ma.apply(void 0,[Float32Array].concat((0,_o.Z)(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:ti.$X.Fragment|ti.$X.Vertex,type:ti.$l.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:ti.$X.Fragment,type:ti.$l.Sampler},{binding:2*n+(o?1:0)+1,visibility:ti.$X.Fragment,type:ti.$l.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new Xo(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ti.FB.Uniform|ti.FB.CopyDst}))}}]),e}(),_a=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,o.Z)(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&$.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?$.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?$.CLAMP_TO_EDGE:a,u=e.wrapT,l=void 0===u?$.CLAMP_TO_EDGE:u,c=e.aniso,f=void 0===c?0:c,d=(e.alignment,e.premultiplyAlpha,e.mag),h=void 0===d?$.NEAREST:d,p=e.min,g=void 0===p?$.NEAREST:p,v=e.colorSpace,m=(void 0===v&&$.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ti.kd.E2d,format:la[o],usage:m||ti.v2.Sampled|ti.v2.CopyDst}),(!m||m&ti.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:fa[s],addressModeV:fa[l],addressModeW:fa[s],magFilter:ca[h],minFilter:ca[g],maxAnisotropy:f}))}}]),e}(),Sa=(0,g.b2)()((ba=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||ti.Ws.Load,t.mainDepthAttachment.depthLoadValue=r||ti.Ws.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:ti.Ws.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new wa(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Yo(t,e)},this.createBuffer=function(e){return new Xo(t,e)},this.createElements=function(e){return new ra(t,e)},this.createTexture2D=function(e){return new _a(t,e)},this.createFramebuffer=function(e){return new ia(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:ti.p_.E2d,arrayLayerCount:1,aspect:ti.H7.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new na(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return(0,o.Z)(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Cr?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zo();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Cr?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ti.v2.OutputAttachment|ti.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:ti.EV.BGRA8Unorm,usage:ti.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:Cr?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}]}else this.mainColorAttachments=[{attachment:Cr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:Cr?"depth32float-stencil8":ti.EV.Depth24PlusStencil8,usage:ti.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:Cr?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ti.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ti.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Cr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Cr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,l=null===(i=e.get().depth)||void 0===i?void 0:i.texture;l&&(u=l.createView());var c=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:ti.Ws.Load,storeOp:ti.EG.Store}],depthStencilAttachment:l&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:ti.Ws.Load,depthStoreOp:ti.EG.Store,stencilLoadValue:a?this.clearStencilValue:ti.Ws.Load,stencilStoreOp:ti.EG.Store}:void 0});this.currentRenderPass=c,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),ya=ba))||ya;function Ea(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ca,ka=4/64,Ma=(0,g.b2)()(xa=function(e){(0,x.Z)(n,e);var t=Ea(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?V.al(.5,.5,.5):s,l=n,c=i,f=a,d=(0,p.Z)(u,3),h=d[0],g=d[1],v=d[2],m=[V.al(-h,-g,v),V.al(h,-g,v),V.al(h,g,v),V.al(-h,g,v),V.al(h,-g,-v),V.al(-h,-g,-v),V.al(-h,g,-v),V.al(h,g,-v)],y=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],x=1,w=2,_=3,S=4,E=5,C=[],k=[],M=[],I=[],T=[],A=0,N=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=V.Ue(),u=V.Ue(),l=V.Ue(),c=V.Ue();V.t7(s,m[y[e][0]],m[y[e][1]],o/t),V.t7(u,m[y[e][0]],m[y[e][2]],a/n),V.lu(l,u,m[y[e][0]]),V.IH(c,s,l),r=o/t,i=a/n,C.push(c[0],c[1],c[2]),k.push(b[e][0],b[e][1],b[e][2]),M.push(r,i),r=.875*(r/=3)+ka,i=.875*(i/=3)+ka,r+=e%3/3,i+=Math.floor(e/3)/3,I.push(r,i),o<t&&a<n&&(T.push(A+n+1,A+1,A),T.push(A+n+1,A+n+2,A+1)),A++}};N(0,l,c),N(x,l,c),N(w,l,f),N(_,l,f),N(S,f,c),N(E,f,c);var D=Sr(C),P=this.getComponent();P.indices=Uint32Array.from(T),P.aabb=D,P.vertexCount=A,P.attributes=[{dirty:!0,name:"position",data:Float32Array.from(C),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(k),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(M),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||xa;function Ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ta,Aa=(0,g.b2)()(Ca=function(e){(0,x.Z)(n,e);var t=Ia(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new Ie;var r=[],i=[],o=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,(0,_o.Z)(a.map((function(e){return e+o})))),o+=s,u.forEach((function(e,t){r[t]?e.data&&(Ar(e.data)?r[t].push(e.data):vi(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(ei))||Ca;function Na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Da,Pa=(0,g.b2)()(Ta=function(e){(0,x.Z)(n,e);var t=Na(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],l=[],c=[],f=0,d=0;d<=i;d++)for(var h=0;h<=a;h++){var p=-n[0]+2*n[0]*d/i,g=-(-n[1]+2*n[1]*h/a),v=d/i,m=h/a;s.push(p,0,g),u.push(0,1,0),l.push(v,m),d<i&&h<a&&(c.push(f+a+1,f+1,f),c.push(f+a+1,f+a+2,f+1)),f++}var y=Sr(s),b=this.getComponent();b.indices=Uint32Array.from(c),b.aabb=y,b.vertexCount=f,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Ta;function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var La,Ra,Ba,za,Fa,ja,Ga,Va,Ua=(0,g.b2)()(Da=function(e){(0,x.Z)(n,e);var t=Oa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],l=[],c=[],f=0;f<=i;f++)for(var d=f*Math.PI/i,h=Math.sin(d),p=Math.cos(d),g=0;g<=a;g++){var v=2*g*Math.PI/a-Math.PI/2,m=Math.sin(v),y=Math.cos(v)*h,b=p,x=m*h,w=1-g/a,_=1-f/i;s.push(y*n,b*n,x*n),u.push(y,b,x),l.push(w,_)}for(var S=0;S<i;++S)for(var E=0;E<a;++E){var C=S*(a+1)+E,k=C+a+1;c.push(C+1,k,C),c.push(C+1,k+1,k)}var M=Sr(s),I=this.getComponent();I.indices=Uint32Array.from(c),I.aabb=M,I.vertexCount=s.length/3,I.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Da;function Wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Za,Ha,Ya,Xa,Ka,qa,$a,Qa,Ja,es,ts,ns,rs=(La=(0,g.b2)(),Ra=(0,g.f3)(v.RenderEngine),Ba=(0,g.f3)(v.ShaderModuleService),La((Va=function(e){(0,x.Z)(n,e);var t=Wa(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"engine",ja,(0,R.Z)(e)),r(e,"shaderModuleService",Ga,(0,R.Z)(e)),e}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:G.create()}))}}]),n}(to),ja=a((Fa=Va).prototype,"engine",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=a(Fa.prototype,"shaderModuleService",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=Fa))||za);function is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var os,as,ss,us,ls,cs,fs,ds,hs,ps,gs,vs,ms=(Za=(0,g.b2)(),Ha=(0,g.f3)(v.Systems),Ya=(0,g.t6)(v.MaterialSystem),Xa=(0,g.f3)(v.Systems),Ka=(0,g.t6)(v.GeometrySystem),qa=(0,g.f3)(v.ShaderModuleService),Za((ns=function(e){(0,x.Z)(n,e);var t=is(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Ja,(0,R.Z)(e)),r(e,"geometrySystem",es,(0,R.Z)(e)),r(e,"shaderModuleService",ts,(0,R.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:$.BACK}).setDepth({enable:!0,func:$.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(no),Ja=a((Qa=ns).prototype,"materialSystem",[Ha,Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=a(Qa.prototype,"geometrySystem",[Xa,Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=a(Qa.prototype,"shaderModuleService",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=Qa))||$a),ys=n(1583),bs=n(5687);function xs(e,t,n,r,i){ws(t,r,-i),ws(t,r,i),e.push(n),e.push(n)}function ws(e,t,n){e.push([[t[0],t[1]],n])}function _s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ss,Es,Cs,ks,Ms,Is,Ts,As,Ns,Ds,Ps,Os,Ls=(os=(0,g.b2)(),as=(0,g.f3)(v.Systems),ss=(0,g.t6)(v.MaterialSystem),us=(0,g.f3)(v.Systems),ls=(0,g.t6)(v.GeometrySystem),cs=(0,g.f3)(v.ShaderModuleService),os((vs=function(e){(0,x.Z)(n,e);var t=_s(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",hs,(0,R.Z)(e)),r(e,"geometrySystem",ps,(0,R.Z)(e)),r(e,"shaderModuleService",gs,(0,R.Z)(e)),e.vertexCount=void 0,e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,l=null,c=(0,ys.create)(),f=n||0,d=[],h=[],p=[],g=[0,0];t&&(e=e.slice()).push(e[0]);for(var v=e.length,m=1;m<v;m++){var y=f,b=e[m-1],x=e[m],w=m<e.length-1?e[m+1]:null;if(g.push(m/v,m/v),(0,bs.o7)(r,x,b),l||(l=[0,0],(0,bs.mJ)(l,r)),u||(u=!0,xs(h,d,b,l,1)),p.push([y+0,y+1,y+2]),w){(0,bs.o7)(i,w,x);var _=(0,bs.x7)(o,a,r,i,1),S=(0,ys.dot)(o,l)<0?-1:1,E=_>3;if(!isFinite(_)){(0,bs.mJ)(l,r),xs(h,d,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2,s=S;continue}E?(_=3,g.push(m/v),ws(d,l,-S),h.push(x),ws(d,a,_*S),h.push(x),p.push(s!==-S?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),(0,bs.mJ)(c,i),(0,ys.copy)(l,c),ws(d,l,-S),h.push(x),f+=3):(xs(h,d,x,a,_),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),S=-1,(0,ys.copy)(l,a),f+=2),s=S}else(0,bs.mJ)(l,r),xs(h,d,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2}return{normals:d,attrIndex:p,attrPos:h,attrCounters:g}}(this.config.points,!1),s=a.normals,u=a.attrIndex,l=a.attrPos,c=a.attrCounters,f=l.length;this.vertexCount=f;var d=this.geometrySystem.createBufferGeometry({vertexCount:f});this.setMaterial(o),this.setGeometry(d),o.setCull({enable:!1,face:$.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var h=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];h.push([t[0],t[1]]),p.push(n)})),d.setIndex(u.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),d.setAttribute("a_pos",Float32Array.from(l.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var g=new Array(f).fill(void 0).map((function(){return(0,_o.Z)(e.config.color)})).reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[]);d.setAttribute("a_color",Float32Array.from(g),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),d.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),d.setAttribute("a_line_normal",Float32Array.from(h.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),d.setAttribute("a_counters",Float32Array.from(c),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(no),hs=a((ds=vs).prototype,"materialSystem",[as,ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=a(ds.prototype,"geometrySystem",[us,ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gs=a(ds.prototype,"shaderModuleService",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs=ds))||fs);function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var zs,Fs,js,Gs,Vs,Us,Ws,Zs,Hs,Ys,Xs=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Ks=(Ss=(0,g.b2)(),Es=(0,g.f3)(v.Systems),Cs=(0,g.t6)(v.MaterialSystem),ks=(0,g.f3)(v.Systems),Ms=(0,g.t6)(v.GeometrySystem),Is=(0,g.f3)(v.ShaderModuleService),Ss((Os=function(e){(0,x.Z)(n,e);var t=Bs(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Ns,(0,R.Z)(e)),r(e,"geometrySystem",Ds,(0,R.Z)(e)),r(e,"shaderModuleService",Ps,(0,R.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:$.SRC_ALPHA,dstRGB:$.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,(0,_o.Z)([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(Xs.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,(0,_o.Z)(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,(0,_o.Z)(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,(0,_o.Z)(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(no),Ns=a((As=Os).prototype,"materialSystem",[Es,Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=a(As.prototype,"geometrySystem",[ks,Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=a(As.prototype,"shaderModuleService",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ts=As))||Ts);function qs(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qs,Js,eu,tu,nu,ru,iu,ou,au,su,uu,lu,cu=(zs=(0,g.b2)(),Fs=(0,g.f3)(v.RenderEngine),js=(0,g.f3)(v.ShaderModuleService),Gs=(0,g.f3)(v.ConfigService),zs((Ys=function(){function e(){(0,i.Z)(this,e),this.container=void 0,r(this,"engine",Ws,this),r(this,"shaderModule",Zs,this),r(this,"configService",Hs,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(v.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1});case 11:r=qs(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(v.Systems),n=l.length,r=new Array(n),i=0;i<n;i++)r[i]=l[i];o=qs(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Ws=a((Us=Ys).prototype,"engine",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=a(Us.prototype,"shaderModule",[js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hs=a(Us.prototype,"configService",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs=Us))||Vs),fu=(0,g.b2)()((Js=function(){function e(){(0,i.Z)(this,e),this.entities=[]}return(0,o.Z)(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}(),Qs=Js))||Qs,du=(0,g.b2)()((tu=function(){function e(){(0,i.Z)(this,e),this.cache={}}return(0,o.Z)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}(),eu=tu))||eu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gu,vu,mu,yu,bu,xu,wu,_u,Su,Eu,Cu,ku,Mu,Iu=(nu=(0,g.b2)(),ru=(0,g.f3)(du),iu=(0,g.f3)(v.RenderEngine),nu((lu=function(){function e(){(0,i.Z)(this,e),r(this,"textureCache",su,this),r(this,"engine",uu,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,o.Z)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(pu(pu({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),su=a((au=lu).prototype,"textureCache",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=a(au.prototype,"engine",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=au))||ou),Tu=(gu=(0,g.b2)(),vu=(0,g.f3)(v.Systems),mu=(0,g.t6)(v.RendererSystem),gu((wu=function(){function e(){(0,i.Z)(this,e),r(this,"rendererSystem",xu,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,o.Z)(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),xu=a((bu=wu).prototype,"rendererSystem",[vu,mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu);function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Du=(_u=(0,g.b2)(),Su=(0,g.f3)(v.ConfigService),_u((Mu=function(){function e(){(0,i.Z)(this,e),r(this,"configService",ku,this),this.container=void 0}return(0,o.Z)(e,[{key:"getEngine",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(v.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(Nu({canvas:r||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(v.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(v.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return f()}},{key:"createScene",value:function(){return this.container.get(fu)}},{key:"createCamera",value:function(){return this.container.get(Jr)}},{key:"createView",value:function(){return this.container.get(Tu)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(v.Renderable,e):this.container.get(no),r=f();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(v.Geometry,e),r=f();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(v.Material,e),r=f();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(Iu);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(v.Systems,v.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(eo);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(cu);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(v.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(v.RenderEngine).destroy(),this.container.get(v.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=_r(),r=navigator.gpu?Sa:Vo;n.isBound(v.RenderEngine)||n.bind(v.RenderEngine).to(r).inSingletonScope(),n.bind(cu).toSelf(),n.bind(eo).toSelf(),n.bind(no).toSelf(),n.bind(Tu).toSelf(),n.bind(Jr).toSelf(),n.bind(fu).toSelf(),n.bind(e).toSelf(),n.bind(du).toSelf(),n.bind(Iu).toSelf(),n.bind(v.Geometry).to(Ma).whenTargetNamed(ei.BOX),n.bind(v.Geometry).to(Ua).whenTargetNamed(ei.SPHERE),n.bind(v.Geometry).to(Pa).whenTargetNamed(ei.PLANE),n.bind(v.Geometry).to(Aa).whenTargetNamed(ei.MERGED),n.bind(v.Material).to(rs).whenTargetNamed(to.BASIC),n.bind(v.Renderable).to(Ks).whenTargetNamed(no.POINT),n.bind(v.Renderable).to(Ls).whenTargetNamed(no.LINE),n.bind(v.Renderable).to(ms).whenTargetNamed(no.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),ku=a((Cu=Mu).prototype,"configService",[Su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eu=Cu))||Eu)},7701:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n++);else if(Object(i.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),i=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(i.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),i=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=i},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){t(e,r)&&n.push(e)})),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,i){return t&&r(e,t),n&&r(e,n),i&&r(e,i),e}},function(e,t,n){var r=n(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return o.indexOf(e)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(e,t);else if(s===i[1])n(e,t),e.right2left();else if(s===i[2])n(e,t);else if(s===i[3])n(e,t),e.bottom2top();else if(s===i[4]||s===i[5]){var u=r(e,t),l=u.left,c=u.right;n(l,t),n(c,t),t.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),e.x=l.x,e.y=c.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}var d=t.fixedRoot;return void 0===d&&(d=!0),d&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),i={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function o(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof o)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new o(e,t=r.assign({},i,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var l=t.getChildren(a.data),c=l?l.length:0;if(a.children=new Array(c),l&&c)for(var f=0;f<c;f++){var d=new o(l[f],t);a.children[f]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),i=n(20);t.a=function(e,t){var n=Object(i.a)(t),o=n.length;if(Object(r.a)(e))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(r)})),t};t.a=o},function(e,t,n){"use strict";var r=n(1),i=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var a=void 0,s=t[n];n!==o&&s===a||(a=s,i.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),i=n(2);t.a=function(e){var t=[];return Object(i.a)(e,(function(e){Object(r.a)(t,e)||t.push(e)})),t}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(i.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(i.a)(e))return{};var n,s={},u=Object(o.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(n)})),t};t.a=o},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),i=n(1),o=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(o.a)(t)||Object(o.a)(n))return!1;if(Object(i.a)(t)||Object(i.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),i=r(e.data,t,!0),o=e.children.length,a=Math.round(o/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<o;u++){var l=e.children[u];"right"===s(l,u)?i.children.push(l):n.children.push(l)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),i.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:i}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),i=n(113),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",(function(){return r.a})),n.d(t,"includes",(function(){return r.a}));var i=n(34);n.d(t,"difference",(function(){return i.a}));var o=n(35);n.d(t,"find",(function(){return o.a}));var a=n(36);n.d(t,"findIndex",(function(){return a.a}));var s=n(37);n.d(t,"firstValue",(function(){return s.a}));var u=n(38);n.d(t,"flatten",(function(){return u.a}));var l=n(39);n.d(t,"flattenDeep",(function(){return l.a}));var c=n(40);n.d(t,"getRange",(function(){return c.a}));var f=n(41);n.d(t,"pull",(function(){return f.a}));var d=n(21);n.d(t,"pullAt",(function(){return d.a}));var h=n(42);n.d(t,"reduce",(function(){return h.a}));var p=n(43);n.d(t,"remove",(function(){return p.a}));var g=n(44);n.d(t,"sortBy",(function(){return g.a}));var v=n(45);n.d(t,"union",(function(){return v.a}));var m=n(22);n.d(t,"uniq",(function(){return m.a}));var y=n(46);n.d(t,"valuesOfKey",(function(){return y.a}));var b=n(47);n.d(t,"head",(function(){return b.a}));var x=n(48);n.d(t,"last",(function(){return x.a}));var w=n(49);n.d(t,"startsWith",(function(){return w.a}));var _=n(50);n.d(t,"endsWith",(function(){return _.a}));var S=n(14);n.d(t,"filter",(function(){return S.a}));var E=n(51);n.d(t,"every",(function(){return E.a}));var C=n(52);n.d(t,"some",(function(){return C.a}));var k=n(53);n.d(t,"group",(function(){return k.a}));var M=n(24);n.d(t,"groupBy",(function(){return M.a}));var I=n(23);n.d(t,"groupToMap",(function(){return I.a}));var T=n(54);n.d(t,"getWrapBehavior",(function(){return T.a}));var A=n(55);n.d(t,"wrapBehavior",(function(){return A.a}));var N=n(56);n.d(t,"number2color",(function(){return N.a}));var D=n(57);n.d(t,"parseRadius",(function(){return D.a}));var P=n(58);n.d(t,"clamp",(function(){return P.a}));var O=n(59);n.d(t,"fixedBase",(function(){return O.a}));var L=n(60);n.d(t,"isDecimal",(function(){return L.a}));var R=n(61);n.d(t,"isEven",(function(){return R.a}));var B=n(62);n.d(t,"isInteger",(function(){return B.a}));var z=n(63);n.d(t,"isNegative",(function(){return z.a}));var F=n(64);n.d(t,"isNumberEqual",(function(){return F.a}));var j=n(65);n.d(t,"isOdd",(function(){return j.a}));var G=n(66);n.d(t,"isPositive",(function(){return G.a}));var V=n(67);n.d(t,"maxBy",(function(){return V.a}));var U=n(68);n.d(t,"minBy",(function(){return U.a}));var W=n(69);n.d(t,"mod",(function(){return W.a}));var Z=n(70);n.d(t,"toDegree",(function(){return Z.a}));var H=n(71);n.d(t,"toInteger",(function(){return H.a}));var Y=n(72);n.d(t,"toRadian",(function(){return Y.a}));var X=n(73);n.d(t,"forIn",(function(){return X.a}));var K=n(25);n.d(t,"has",(function(){return K.a}));var q=n(74);n.d(t,"hasKey",(function(){return q.a}));var $=n(75);n.d(t,"hasValue",(function(){return $.a}));var Q=n(20);n.d(t,"keys",(function(){return Q.a}));var J=n(19);n.d(t,"isMatch",(function(){return J.a}));var ee=n(26);n.d(t,"values",(function(){return ee.a}));var te=n(76);n.d(t,"lowerCase",(function(){return te.a}));var ne=n(77);n.d(t,"lowerFirst",(function(){return ne.a}));var re=n(78);n.d(t,"substitute",(function(){return re.a}));var ie=n(79);n.d(t,"upperCase",(function(){return ie.a}));var oe=n(80);n.d(t,"upperFirst",(function(){return oe.a}));var ae=n(27);n.d(t,"getType",(function(){return ae.a}));var se=n(81);n.d(t,"isArguments",(function(){return se.a}));var ue=n(0);n.d(t,"isArray",(function(){return ue.a}));var le=n(1);n.d(t,"isArrayLike",(function(){return le.a}));var ce=n(82);n.d(t,"isBoolean",(function(){return ce.a}));var fe=n(83);n.d(t,"isDate",(function(){return fe.a}));var de=n(84);n.d(t,"isError",(function(){return de.a}));var he=n(3);n.d(t,"isFunction",(function(){return he.a}));var pe=n(85);n.d(t,"isFinite",(function(){return pe.a}));var ge=n(6);n.d(t,"isNil",(function(){return ge.a}));var ve=n(86);n.d(t,"isNull",(function(){return ve.a}));var me=n(5);n.d(t,"isNumber",(function(){return me.a}));var ye=n(13);n.d(t,"isObject",(function(){return ye.a}));var be=n(15);n.d(t,"isObjectLike",(function(){return be.a}));var xe=n(9);n.d(t,"isPlainObject",(function(){return xe.a}));var we=n(28);n.d(t,"isPrototype",(function(){return we.a}));var _e=n(87);n.d(t,"isRegExp",(function(){return _e.a}));var Se=n(8);n.d(t,"isString",(function(){return Se.a}));var Ee=n(4);n.d(t,"isType",(function(){return Ee.a}));var Ce=n(88);n.d(t,"isUndefined",(function(){return Ce.a}));var ke=n(89);n.d(t,"isElement",(function(){return ke.a}));var Me=n(90);n.d(t,"requestAnimationFrame",(function(){return Me.a}));var Ie=n(91);n.d(t,"clearAnimationFrame",(function(){return Ie.a}));var Te=n(92);n.d(t,"augment",(function(){return Te.a}));var Ae=n(93);n.d(t,"clone",(function(){return Ae.a}));var Ne=n(94);n.d(t,"debounce",(function(){return Ne.a}));var De=n(95);n.d(t,"memoize",(function(){return De.a}));var Pe=n(96);n.d(t,"deepMix",(function(){return Pe.a}));var Oe=n(2);n.d(t,"each",(function(){return Oe.a}));var Le=n(97);n.d(t,"extend",(function(){return Le.a}));var Re=n(98);n.d(t,"indexOf",(function(){return Re.a}));var Be=n(99);n.d(t,"isEmpty",(function(){return Be.a}));var ze=n(29);n.d(t,"isEqual",(function(){return ze.a}));var Fe=n(100);n.d(t,"isEqualWith",(function(){return Fe.a}));var je=n(101);n.d(t,"map",(function(){return je.a}));var Ge=n(102);n.d(t,"mapValues",(function(){return Ge.a}));var Ve=n(16);n.d(t,"mix",(function(){return Ve.a})),n.d(t,"assign",(function(){return Ve.a}));var Ue=n(103);n.d(t,"get",(function(){return Ue.a}));var We=n(104);n.d(t,"set",(function(){return We.a}));var Ze=n(105);n.d(t,"pick",(function(){return Ze.a}));var He=n(106);n.d(t,"throttle",(function(){return He.a}));var Ye=n(107);n.d(t,"toArray",(function(){return Ye.a}));var Xe=n(10);n.d(t,"toString",(function(){return Xe.a}));var Ke=n(108);n.d(t,"uniqueId",(function(){return Ke.a}));var qe=n(109);n.d(t,"noop",(function(){return qe.a}));var $e=n(110);n.d(t,"identity",(function(){return $e.a}));var Qe=n(111);n.d(t,"size",(function(){return Qe.a}));var Je=n(112);n.d(t,"Cache",(function(){return Je.a}))},function(e,t,n){"use strict";var r=n(14),i=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,(function(e){return!Object(i.a)(t,e)}))}},function(e,t,n){"use strict";var r=n(3),i=n(19),o=n(0),a=n(9);t.a=function(e,t){if(!Object(o.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(i.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),i=n(0);t.a=function(e,t){for(var n=null,o=0;o<e.length;o++){var a=e[o][t];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),i=n(14);t.a=function(e){if(!(e=Object(i.a)(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},function(e,t,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=o.call(e,a))>-1;)i.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9);t.a=function(e,t,n){if(!Object(i.a)(e)&&!Object(o.a)(e))return e;var a=n;return Object(r.a)(e,(function(e,n){a=t(a,e,n)})),a}},function(e,t,n){"use strict";var r=n(1),i=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var o=-1,a=[],s=e.length;++o<s;){var u=e[o];t(u,o,e)&&(n.push(u),a.push(o))}return Object(i.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(3);t.a=function(e,t){var n;if(Object(o.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(i.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(6);t.a=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];Object(o.a)(s)||(Object(i.a)(s)||(s=[s]),Object(r.a)(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0]};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[e.length-1]};var r=n(1)},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),i=[];for(var o in n)i.push(n[o]);return i}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),i=n.length;i<6;i++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,i=0,o=0;return Object(r.a)(e)?1===e.length?t=n=i=o=e[0]:2===e.length?(t=i=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],o=e[3]):t=n=i=o=e,{r1:t,r2:n,r3:i,r4:o}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=i},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])>n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])<n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),i=n(26);t.a=function(e,t){return Object(r.a)(Object(i.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=1;o<e.length;o++){var a=e[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),i=n(9);function o(e,t,n,a){for(var s in n=n||0,a=a||5,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&Object(i.a)(u)?(Object(i.a)(e[s])||(e[s]={}),n<a?o(e[s],u,n+1,a):e[s]=t[s]):Object(r.a)(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)o(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(e,t,n,o){Object(i.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,o),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(i.a)(e))return!e.length;var t=Object(o.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){n.push(t(e,r))})),n}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=function(e){return e};t.a=function(e,t){void 0===t&&(t=o);var n={};return Object(i.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var i=0,o=Object(r.a)(t)?t.split("."):t;e&&i<o.length;)e=e[o[i++]];return void 0===e||i<o.length?n:e}},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(5);t.a=function(e,t,n){var a=e,s=Object(i.a)(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(o.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,(function(t){o.call(e,t)&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)?0:Object(i.a)(e)?e.length:Object.keys(e).length};var r=n(6),i=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function i(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(i(e,t),n)})),n}function o(e,t){r(e,-i(e,t),t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function i(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){for(var r=e.c[t-1],i=r.mod,o=e.c[t],a=o.mod;null!==r&&null!==o;){d(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,l(e,t,n.index,s));var u=d(r),h=d(o);u<=h&&null!==(r=f(r))&&(i+=r.mod),u>=h&&null!==(o=c(o))&&(a+=o.mod)}!r&&o?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,o,a):r&&!o&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function l(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function c(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function d(e){return e.y+e.h}function h(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var p=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=h(d(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var o=d(t.c[r].er);u(t,r,n),n=h(o,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),i(t)}else i(t)}(p),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(p,0),a(p,e,r),o(e,r),e}},function(e,t,n){var r=n(11),i=n(115),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this;return e.rootNode.width=0,o(e.rootNode,e.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,s=0,u=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var n=t.children,r=n.length,o=new i(t.height,[]);return n.forEach((function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var n=t.children.map((function(t){return e(t)})),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(u),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(u),a(u,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),i=n(117),o=n(30),a=n(7),s=["LR","RL","H"],u=s[0],l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,l=void 0===a||a,c=e.direction||u;if(c&&-1===s.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===s[0])i(t,r,l);else if(c===s[1])i(t,r,l),t.right2left();else if(c===s[2]){var f=o(t,e),d=f.left,h=f.right;i(d,r,l),d.right2left(),i(h,r,l);var p=d.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),c={};e.exports=function(e,t){return t=a.assign({},c,t),new l(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode((function(e){!function(e,t,n,r){var i="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=i,void(e.y=t?t.y:0)}catch(o){}e.x+=i,e.y=t?t.y+t.height:0}(e,r,t,n),r=e}))}},function(e,t,n){var r=n(11),i=n(119),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=i(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function o(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){o(e)}));var r=t[0],i=t[n-1],a=i.y-r.y+i.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,i(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(e)}}])},e.exports=t()},8253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(8252);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(6929),t)},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var n=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=n},2893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=n(4950),o=n(1784);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this,n=t.nodes,r=t.edges,i=n.length;if(0!==i){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(1===i)return n[0].x=a[0],n[0].y=a[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.radius,u=t.startRadius,l=t.endRadius,c=t.divisions,f=t.startAngle,d=t.endAngle,h=t.angleRatio,p=t.ordering,g=t.clockwise,v=t.nodeSpacing,m=t.nodeSize,y=(d-f)/i,b={};n.forEach((function(e,t){b[e.id]=t})),t.nodeMap=b;var x=(0,o.getDegree)(n.length,b,r);if(t.degrees=x,v){var w=(0,o.getFuncByUnknownType)(10,v),_=(0,o.getFuncByUnknownType)(10,m),S=-1/0;n.forEach((function(e){var t=_(e);S<t&&(S=t)}));var E=0;n.forEach((function(e,t){E+=0===t?S||10:(w(e)||0)+(S||10)})),s=E/(2*Math.PI)}else s||u||l?!u&&l?u=l:u&&!l&&(l=u):s=t.height>t.width?t.width/2:t.height/2;var C=y*h,k=[];k="topology"===p?t.topologyOrdering():"topology-directed"===p?t.topologyOrdering(!0):"degree"===p?t.degreeOrdering():n;for(var M=Math.ceil(i/c),I=0;I<i;++I){var T=s;T||null===u||null===l||(T=u+I*(l-u)/(i-1)),T||(T=10+100*I/(i-1));var A=f+I%M*C+2*Math.PI/c*Math.floor(I/M);g||(A=d-I%M*C-2*Math.PI/c*Math.floor(I/M)),k[I].x=a[0]+Math.cos(A)*T,k[I].y=a[1]+Math.sin(A)*T,k[I].weight=x[I]}return null===(e=t.onLayoutEnd)||void 0===e||e.call(t),{nodes:k,edges:this.edges}}t.onLayoutEnd&&t.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this,n=t.degrees,r=t.edges,i=t.nodes,a=(0,o.clone)(i),s=t.nodeMap,u=[a[0]],l=[i[0]],c=[],f=i.length;c[0]=!0,function(e,t,n,r){e.forEach((function(t,n){e[n].children=[],e[n].parent=[]})),r?t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].parent;u.push(e[s].id),l.push(e[a].id)})):t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].children;u.push(e[s].id),l.push(e[a].id)}))}(a,r,s,e);var d=0;return a.forEach((function(e,t){if(0!==t)if(t!==f-1&&n[t]===n[t+1]&&!function(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=(0,o.getEdgeTerminal)(n[i],"source"),s=(0,o.getEdgeTerminal)(n[i],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(u[d],e,r)||c[t]){for(var h=u[d].children,p=!1,g=0;g<h.length;g++){var v=s[h[g]];if(n[v]===n[t]&&!c[v]){u.push(a[v]),l.push(i[s[a[v].id]]),c[v]=!0,p=!0;break}}for(var m=0;!p&&(c[m]||(u.push(a[m]),l.push(i[s[a[m].id]]),c[m]=!0,p=!0),++m!==f););}else u.push(e),l.push(i[s[e.id]]),c[t]=!0,d++})),l},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach((function(e,r){e.degree=n[r],t.push(e)})),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(i.Base);t.CircularLayout=s},3467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var o=n(3023),a=n(4950),s=n(1784),u=n(6929),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e,t=this,n=t.nodes,r=t.edges,i=t.combos,a=t.comboEdges,l=t.center,c=t.getInnerGraphs(),f={};n.forEach((function(e){f[e.id]=e}));var d={};i.forEach((function(e){d[e.id]=e}));var h=[],p=[],g={},v=!0;this.comboTrees.forEach((function(e){var t=c[e.id],n={id:e.id,x:t.x||d[e.id].x,y:t.y||d[e.id].y,fx:t.fx||d[e.id].fx,fy:t.fy||d[e.id].fy,mass:t.mass||d[e.id].mass,size:t.size};p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,h.push(e.id),(0,s.traverseTreeUp)(e,(function(t){return t.id!==e.id&&(g[t.id]=e.id),!0}))})),n.forEach((function(e){if(!e.comboId||!d[e.comboId]){var t={id:e.id,x:e.x,y:e.y,fx:e.fx,fy:e.fy,mass:e.mass,size:e.size};p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):v=!1,h.push(e.id)}}));var m=[];if(r.concat(a).forEach((function(e){var t=g[e.source]||e.source,n=g[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})})),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=l[0],p[0].y=l[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,i,o=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:l,kg:5,preventOverlap:!0,animate:!1}),v&&o.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach((function(e){var t=c[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach((function(t){t.x+=e.x,t.y+=e.y}));else{var n=f[e.id];n&&(n.x=e.x,n.y=e.y)}}))}for(var w=Object.keys(c),_=function(e){var t=w[e],n=c[t];if(!n)return"continue";n.nodes.forEach((function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),f[e.id]&&(f[e.id].x=e.x,f[e.id].y=e.y)})),d[t]&&(d[t].x=n.x,d[t].y=n.y)},S=w.length-1;S>=0;S--)_(S);return{nodes:n,edges:r,combos:i,comboEdges:a}},t.prototype.getInnerGraphs=function(){var e=this,t=e.comboTrees,n=e.nodeSize,r=e.edges,o=e.comboPadding,a=e.spacing,l={},c=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return c.center=[0,0],c.preventOverlap=!0,c.nodeSpacing=a,(t||[]).forEach((function(e){(0,s.traverseTreeUp)(e,(function(e){var t,a=(null===o||void 0===o?void 0:o(e))||10;if((0,s.isArray)(a)&&(a=Math.max.apply(Math,a)),null===(t=e.children)||void 0===t?void 0:t.length){var u=e.children.map((function(e){return"combo"===e.itemType?l[e.id]:i({},e)})),f=u.map((function(e){return e.id})),d={nodes:u,edges:r.filter((function(e){return f.includes(e.source)&&f.includes(e.target)}))},h=1/0;u.forEach((function(e){var t;e.size||(e.size=(null===(t=l[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),h>e.size[0]&&(h=e.size[0]),h>e.size[1]&&(h=e.size[1])})),c.layout(d);var p=(0,s.findMinMaxNodeXY)(u),g=p.minX,v=p.minY,m=p.maxX,y=p.maxY,b=Math.max(m-g,y-v,h)+2*a;l[e.id]={id:e.id,nodes:u,size:[b,b]}}else if("combo"===e.itemType){var x=a?[2*a,2*a]:[30,30];l[e.id]={id:e.id,nodes:[],size:x}}return!0}))})),l},t.prototype.initVals=function(){var e,t,n=this,r=n.nodeSize,i=n.spacing;if(t=(0,s.isNumber)(i)?function(){return i}:(0,s.isFunction)(i)?i:function(){return 0},this.spacing=t,r)if((0,s.isFunction)(r))e=function(e){var n=r(e),i=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+i)/2:((n||10)+i)/2};else if((0,s.isArray)(r)){var o=(r[0]>r[1]?r[0]:r[1])/2;e=function(e){return o+t(e)/2}}else{var a=r/2;e=function(e){return a+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var u,l=n.comboPadding;u=(0,s.isNumber)(l)?function(){return l}:(0,s.isArray)(l)?function(){return Math.max.apply(null,l)}:(0,s.isFunction)(l)?l:function(){return 0},this.comboPadding=u},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=l},7315:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var i=n(4950),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,i=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach((function(e,t){r[t]={x:0,y:0}})),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=r[t].x*i,e.y+=r[t].y*i)})),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var l=[0,0];t.forEach((function(e){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(l[0]+=e.x,l[1]+=e.y)})),l[0]/=t.length,l[1]/=t.length;var c=[r[0]-l[0],r[1]-l[1]];t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=c[0],e.y+=c[1])})),e.combos.forEach((function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)})),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this,t=e.edges,n=e.nodes,r=e.combos,i={},a={},s={};n.forEach((function(e,t){a[e.id]=e,s[e.id]=t})),e.nodeMap=a,e.indexMap=s;var u={};r.forEach((function(e){u[e.id]=e})),e.oriComboMap=u,e.comboMap=e.getComboMap();var l=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||l,e.preventNodeOverlap=e.preventNodeOverlap||l;var c=e.collideStrength;c&&(e.comboCollideStrength=c,e.nodeCollideStrength=c),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(var f=0;f<t.length;++f){var d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");i[d]?i[d]++:i[d]=1,i[h]?i[h]++:i[h]=1}var p=[];for(f=0;f<t.length;++f){d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");p[f]=i[d]/(i[d]+i[h])}this.bias=p;var g,v,m=e.nodeSize,y=e.nodeSpacing;if(v=(0,o.isNumber)(y)?function(){return y}:(0,o.isFunction)(y)?y:function(){return 0},this.nodeSpacing=v,m)if((0,o.isFunction)(m))g=function(e){return m(e)};else if((0,o.isArray)(m)){var b=(m[0]>m[1]?m[0]:m[1])/2;g=function(e){return b}}else{var x=m/2;g=function(e){return x}}else g=function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=g;var w,_=e.comboSpacing;w=(0,o.isNumber)(_)?function(){return _}:(0,o.isFunction)(_)?_:function(){return 0},this.comboSpacing=w;var S,E=e.comboPadding;S=(0,o.isNumber)(E)?function(){return E}:(0,o.isArray)(E)?function(){return Math.max.apply(null,E)}:(0,o.isFunction)(E)?E:function(){return 0},this.comboPadding=S;var C,k=this.linkDistance;k||(k=10),C=(0,o.isNumber)(k)?function(e){return k}:k,this.linkDistance=C;var M,I=this.edgeStrength;I||(I=1),M=(0,o.isNumber)(I)?function(e){return I}:I,this.edgeStrength=M;var T,A=this.nodeStrength;A||(A=30),T=(0,o.isNumber)(A)?function(e){return A}:A,this.nodeStrength=T},t.prototype.initPos=function(e){this.nodes.forEach((function(t,n){var r=t.comboId,i=e[r];r&&i?(t.x=i.cx+100/(n+1),t.y=i.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))}))},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach((function(e){if(!i[e.id]&&!t[e.id])return!0;a.push(e)}));var l=i[n.id];if(l.cx=0,l.cy=0,0===a.length){l.empty=!0;var c=r[n.id];l.cx=c.x,l.cy=c.y}return a.forEach((function(e){if(l.count++,"node"!==e.itemType){var n=i[e.id];return(0,o.isNumber)(n.cx)&&(l.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(l.cy+=n.cy))}var r=t[e.id];r&&((0,o.isNumber)(r.x)&&(l.cx+=r.x),(0,o.isNumber)(r.y)&&(l.cy+=r.y))})),l.cx/=l.count||1,l.cy/=l.count||1,l.children=a,!0}))})),i},t.prototype.applyComboCenterForce=function(e){var t=this,n=t.gravity,r=t.comboGravity||n,i=this.alpha,a=t.comboTrees,s=t.indexMap,u=t.nodeMap,l=t.comboMap;(a||[]).forEach((function(t){(0,o.traverseTreeUp)(t,(function(t){if("node"===t.itemType)return!0;if(!l[t.id])return!0;var n=l[t.id],a=(n.depth+1)/10*.5,c=n.cx,f=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(t){if("node"!==t.itemType){var d=l[t.id];return d&&(0,o.isNumber)(d.cx)&&(n.cx+=d.cx),void(d&&(0,o.isNumber)(d.cy)&&(n.cy+=d.cy))}var h=u[t.id],p=h.x-c||.005,g=h.y-f||.005,v=Math.sqrt(p*p+g*g),m=s[h.id],y=r*i/v*a;e[m].x-=p*y,e[m].y-=g*y,(0,o.isNumber)(h.x)&&(n.cx+=h.x),(0,o.isNumber)(h.y)&&(n.cy+=h.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},t.prototype.applyCalculate=function(e){var t=this,n=t.comboMap,r=t.nodes,i={};r.forEach((function(e,t){r.forEach((function(n,r){if(!(t<r)){var o=e.x-n.x||.005,a=e.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),i[e.id+"-"+n.id]={vx:o,vy:a,vl2:s,vl:u},i[n.id+"-"+e.id]={vl2:s,vl:u,vx:-o,vy:-a}}}))})),t.updateComboSizes(n),t.calRepulsive(e,i),t.calAttractive(e,i),t.preventComboOverlap&&t.comboNonOverlapping(e,n)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,i=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach((function(n){var u=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var l=e[n.id];if(!l)return!1;var c=n.children;c&&c.forEach((function(t){(e[t.id]||r[t.id])&&u.push(t)})),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,u.forEach((function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=i(t),o=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;l.minX>o&&(l.minX=o),l.minY>a&&(l.minY=a),l.maxX<s&&(l.maxX=s),l.maxY<u&&(l.maxY=u)}));var f=t.oriComboMap[n.id].size||10;(0,o.isArray)(f)&&(f=f[0]);var d=Math.max(l.maxX-l.minX,l.maxY-l.minY,f);return l.r=d/2+a(l)/2+s(l),!0}))}))},t.prototype.comboNonOverlapping=function(e,t){var n=this,r=n.comboTree,i=n.comboCollideStrength,a=n.indexMap,s=n.nodeMap;(0,o.traverseTreeUp)(r,(function(n){if(!t[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,o){if("node"===n.itemType)return!1;var u=t[n.id];u&&r.forEach((function(r,l){if(o<=l)return!1;if("node"===r.itemType)return!1;var c=t[r.id];if(!c)return!1;var f=u.cx-c.cx||.005,d=u.cy-c.cy||.005,h=f*f+d*d,p=u.r||1,g=c.r||1,v=p+g,m=g*g,y=p*p;if(h<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var w=Math.sqrt(h),_=(v-w)/w*i,S=f*_,E=d*_,C=m/(y+m),k=1-C;b.forEach((function(t){if("node"!==t.itemType)return!1;if(s[t.id]){var n=a[t.id];x.forEach((function(t){if("node"!==t.itemType)return!1;if(!s[t.id])return!1;var r=a[t.id];e[n].x+=S*C,e[n].y+=E*C,e[r].x-=S*k,e[r].y-=E*k}))}}))}}))})),!0}))},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,l=n.nodeSize,c=n.nodeSpacing,f=n.depthRepulsiveForceScale,d=n.center;r.forEach((function(h,p){if(h.x&&h.y){if(d){var g=n.gravity,v=h.x-d[0]||.005,m=h.y-d[1]||.005,y=Math.sqrt(v*v+m*m);e[p].x-=v*g*a/y,e[p].y-=m*g*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var d=t[h.id+"-"+n.id],g=d.vl2,v=d.vl;if(!(v>i)){var m=t[h.id+"-"+n.id],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var w=x?Math.pow(f,x):1,_=o(n)*a/g*w;if(e[p].x+=y*_,e[p].y+=b*_,p<r&&u){var S=l(h)+c(h)||1,E=l(n)+c(n)||1,C=S+E;if(g<C*C){var k=(C-v)/v*s,M=E*E,I=M/(S*S+M),T=y*k,A=b*k;e[p].x+=T*I,e[p].y+=A*I,I=1-I,e[r].x-=T*I,e[r].y-=A*I}}}}}))}}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,i=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,l=n.depthAttractiveForceScale;r.forEach((function(r,c){var f=(0,o.getEdgeTerminal)(r,"source"),d=(0,o.getEdgeTerminal)(r,"target");if(f&&d&&f!==d){var h=n.indexMap[f],p=n.indexMap[d],g=n.nodeMap[f],v=n.nodeMap[d];if(g&&v){var m=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(m/=2);var y=m?Math.pow(l,m):1;if(g.comboId!==v.comboId&&1===y?y=l/2:g.comboId===v.comboId&&(y=2),(0,o.isNumber)(v.x)&&(0,o.isNumber)(g.x)&&(0,o.isNumber)(v.y)&&(0,o.isNumber)(g.y)){var b=t[d+"-"+f],x=b.vl,w=b.vx,_=b.vy,S=(x-i(r))/x*a*s(r)*y,E=w*S,C=_*S,k=u[c];e[p].x-=E*k,e[p].y-=C*k,e[h].x+=E*(1-k),e[h].y+=C*(1-k)}}}}))},t.prototype.getType=function(){return"comboForce"},t}(i.Base);t.ComboForceLayout=a},1457:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var i=n(1784),o=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,o=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,l=n.nodeSize,c=n.nodeSpacing,f=[],d=0;u=(0,i.isArray)(l)?Math.max(l[0],l[1]):l,(0,i.isArray)(c)?d=Math.max(c[0],c[1]):(0,i.isNumber)(c)&&(d=c),r.forEach((function(e){f.push(e);var t=u;(0,i.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,i.isNumber)(e.size)?t=e.size:(0,i.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,i.isFunction)(c)&&(d=Math.max(c(e),d))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(f.forEach((function(e,t){h[e.id]=e,p[e.id]=t})),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===f[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var g=(0,i.getDegree)(r.length,p,o);f.forEach((function(e,t){e.degree=g[t]}))}f.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),n.maxValueNode=f[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],m=v[0];f.forEach((function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],v.push(m))}m.push(e)}));var y=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(v.length+(b?1:0));y=Math.min(y,x)}var w=0;if(v.forEach((function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));w=Math.max(a,w)}e.r=w,w+=y})),n.equidistant){for(var _=0,S=0,E=0;E<v.length;E++){var C=v[E].r-S;_=Math.max(_,C)}S=0,v.forEach((function(e,t){0===t&&(S=e.r),e.r=S,S+=_}))}return v.forEach((function(e){var t=e.dTheta,r=e.r;e.forEach((function(e,i){var o=n.startAngle+(n.clockwise?1:-1)*t*i;e.x=s[0]+r*Math.cos(o),e.y=s[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(4950).Base);t.ConcentricLayout=o},3023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},1893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var o=i(n(4199)),a=n(1784),s=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,i=t.rankdir,s=t.combos,u=t.begin,l=t.radial;if(n){var c,f=t.edges||[],d=new o.default.graphlib.Graph({multigraph:!0,compound:!0});c=r?(0,a.isArray)(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var h=(0,a.getFunc)(t.ranksep,50,t.ranksepFunc),p=(0,a.getFunc)(t.nodesep,50,t.nodesepFunc),g=p,v=h;"LR"!==i&&"RL"!==i||(g=h,v=p),d.setDefaultEdgeLabel((function(){return{}})),d.setGraph(t);var m={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=c(t),r=v(t),i=g(t),o=n[0]+2*i,s=n[1]+2*r,u=t.layer;(0,a.isNumber)(u)?d.setNode(t.id,{width:o,height:s,layer:u}):d.setNode(t.id,{width:o,height:s}),e.sortByCombo&&t.comboId&&(m[t.comboId]||(m[t.comboId]=!0,d.setNode(t.comboId,{})),d.setParent(t.id,t.comboId))})),this.sortByCombo&&s&&s.forEach((function(e){e.parentId&&(m[e.parentId]||(m[e.parentId]=!0,d.setNode(e.parentId,{})),d.setParent(e.id,e.parentId))})),f.forEach((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&d.setEdge(n,r,{weight:t.weight||1})}));var y=void 0;t.preset&&(y=new o.default.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===y||void 0===y||y.setNode(e.id,e)}))),o.default.layout(d,{prevGraph:y,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});var b=[0,0];if(u){var x=1/0,w=1/0;d.nodes().forEach((function(e){var t=d.node(e);x>t.x&&(x=t.x),w>t.y&&(w=t.y)})),d.edges().forEach((function(e){d.edge(e).points.forEach((function(e){x>e.x&&(x=e.x),w>e.y&&(w=e.y)}))})),b[0]=u[0]-x,b[1]=u[1]-w}if(l){var _=this,S=_.focusNode,E=_.ranksep,C=_.getRadialPos,k=(0,a.isString)(S)?S:null===S||void 0===S?void 0:S.id,M=k?d.node(k)._rank:0,I=[],T="LR"===i||"RL"===i,A=T?"y":"x",N=T?"height":"width",D=1/0,P=-1/0;d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));if(n[r]){var i=p(n[r]);if(0===M)I[t._rank]||(I[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),I[t._rank].nodes.push(e),I[t._rank].totalWidth+=2*i+t[N],I[t._rank].maxSize<Math.max(t.width,t.height)&&(I[t._rank].maxSize=Math.max(t.width,t.height));else{var o=t._rank-M;if(0===o)I[o]||(I[o]={nodes:[],totalWidth:0,maxSize:-1/0}),I[o].nodes.push(e),I[o].totalWidth+=2*i+t[N],I[o].maxSize<Math.max(t.width,t.height)&&(I[o].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(o);I[a]||(I[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),I[a].totalWidth+=2*i+t[N],I[a].maxSize<Math.max(t.width,t.height)&&(I[a].maxSize=Math.max(t.width,t.height)),o<0?I[a].left.push(e):I[a].right.push(e)}}var s=t[A]-t[N]/2-i,u=t[A]+t[N]/2+i;s<D&&(D=s),u>P&&(P=u)}}));var O=E||50,L={},R=(P-D)/.9,B=[.5*(D+P-R),.5*(D+P+R)],z=function(e,t,r,i){void 0===r&&(r=-1/0),void 0===i&&(i=[0,1]);var o=r;return e.forEach((function(e){var r=d.node(e);L[e]=t;var a=C(r[A],B,R,t,i),s=a.x,u=a.y,l=n.findIndex((function(t){return t.id===e}));if(n[l]){n[l].x=s+b[0],n[l].y=u+b[1],n[l]._order=r._order;var c=h(n[l]);o<c&&(o=c)}})),o},F=!0;I.forEach((function(e){var t,r,i,o,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(r=null===e||void 0===e?void 0:e.left)||void 0===r?void 0:r.length)||(null===(i=null===e||void 0===e?void 0:e.right)||void 0===i?void 0:i.length)){if(F&&1===e.nodes.length){var l=n.findIndex((function(t){return t.id===e.nodes[0]}));return n[l].x=b[0],n[l].y=b[1],L[e.nodes[0]]=0,O=h(n[l]),void(F=!1)}O=Math.max(O,e.totalWidth/(2*Math.PI));var c=-1/0;if(0===M||(null===(o=e.nodes)||void 0===o?void 0:o.length))c=z(e.nodes,O,c,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));c=z(e.left,O,c,[0,f]),c=z(e.right,O,c,[f+.05,1])}O+=c,F=!1,e.maxSize}})),d.edges().forEach((function(e){var n,r,i=d.edge(e),o=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));if(t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[o].type){var s="x"===A?"y":"x",u=i.points.slice(1,i.points.length-1),l=[],c=null===(n=d.node(e.v))||void 0===n?void 0:n[s],h=c-(null===(r=d.node(e.w))||void 0===r?void 0:r[s]),p=L[e.v],g=p-L[e.w];u.forEach((function(e){var t=(e[s]-c)/h*g+p,n=C(e[A],B,R,t);l.push({x:n.x+b[0],y:n.y+b[1]})})),f[o].controlPoints=l}}))}else d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));n[r]&&(n[r].x=t.x+b[0],n[r].y=t.y+b[1],n[r]._order=t._order)})),d.edges().forEach((function(e){var n=d.edge(e),r=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[r].type&&(f[r].controlPoints=n.points.slice(1,n.points.length-1),f[r].controlPoints.forEach((function(e){e.x+=b[0],e.y+=b[1]})))}));return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:f}}},t.prototype.getRadialPos=function(e,t,n,r,i){void 0===i&&(i=[0,1]);var o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(n(4950).Base);t.DagreLayout=s},7530:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(4950),s=n(716),u=n(1784),l=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map((function(e){return i(i({},e),{collapsed:!0})})))},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;if(t){var r=e.getLayoutConfig(),i=r.graphDef,o=r.graphOption,a=r.graphSettings,u=(0,s.buildGraph)(i,o,a),l=(0,s.flatGraph)(u,!0);return this.updatePosition(l),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find((function(t){return t.id===e}));return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var i=n.find((function(e){return e.id===t}));return i?(r.unshift(t),i.parentId?e(i.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this,l=a.nodes,c=a.edges,f=a.combos,d=a.nodeSize,h=a.rankdir,p=a.align,g=a.edgesep,v=a.nodesep,m=a.ranksep,y=a.settings,b=(f||[]).reduce((function(e,t){var n=l.filter((function(e){return e.comboId===t.id})).map((function(e){return e.id})),r=(f||[]).filter((function(e){return e.parentId===t.id})).map((function(e){return e.id}));return(n.length||r.length)&&(e[t.id]=o(o([],n,!0),r,!0)),e}),{});r=d?(0,u.isArray)(d)?function(){return d}:function(){return[d,d]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var x,w=(x=null===f||void 0===f?void 0:f[0])&&x.size?(0,u.isArray)(x.size)?x.size:[x.size,x.size]:[80,40],_=w[0],S=w[1],E=null===(t=null===(e=a.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,C=(null===(n=f.find((function(e){return!e.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],k=C[0],M=C[1],I=C[2],T=C[3],A={compound:b,nodes:o([],(l||[]).map((function(e){var t=r(e),n=t[0],o=t[1];return i(i({},e),{width:n,height:o})})),!0),edges:o([],(c||[]).map((function(e){return i(i({},e),{v:e.source,w:e.target})})),!0)},N={expanded:(f||[]).filter((function(e){return!e.collapsed})).map((function(e){return e.id}))},D={graph:{meta:{align:p,rankDir:h,nodeSep:v,edgeSep:g,rankSep:m}},subScene:{meta:{paddingTop:k||(null===E||void 0===E?void 0:E.paddingTop)||20,paddingRight:M||(null===E||void 0===E?void 0:E.paddingRight)||20,paddingBottom:I||(null===E||void 0===E?void 0:E.paddingBottom)||20,paddingLeft:T||(null===E||void 0===E?void 0:E.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:_,height:S}}},P=(0,s.mergeConfig)(y,i({},(0,s.mergeConfig)(D,s.LAYOUT_CONFIG)));return a.graphSettings=P,{graphDef:A,graphOption:N,graphSettings:P}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;e.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)})),t.forEach((function(e){e.points.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)}))})),r[0]=n[0]-i,r[1]=n[1]-o}return r},t.prototype.updateNodePosition=function(e,t){var n=this,r=n.combos,i=n.nodes,o=n.edges,a=n.anchorPoint,u=n.graphSettings,l=this.getBegin(e,t);e.forEach((function(e){var n,c=e.x,f=e.y,d=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&d!==s.ROOT_NAME){var g=r.findIndex((function(e){return e.id===d})),v=null===(n=null===u||void 0===u?void 0:u.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=c+l[0],r[g].offsetY=f+l[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],e.expanded?r[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:r[g].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){g=i.findIndex((function(e){return e.id===d}));if(i[g].x=c+l[0],i[g].y=f+l[1],a){var m=[],y=t.filter((function(e){return e.v===d})),b=t.filter((function(e){return e.w===d}));y.length>0&&y.forEach((function(t){var n=t.points[0],r=(n.x-c)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.sourceAnchor=m.length-1)}))})),b.length>0&&b.forEach((function(t){var n=t.points[t.points.length-1],r=(n.x-c)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.targetAnchor=m.length-1)}))})),i[g].anchorPoints=m.length>0?m:i[g].anchorPoints||[]}}}))},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,l=this.getBegin(e,t);u&&(r.forEach((function(e){e.inEdges=[],e.outEdges=[]})),a.forEach((function(t){var a,u,c,f,d=e.find((function(e){return e.id===t.source})),h=e.find((function(e){return e.id===t.target})),p=[],g=[];if(d&&h)g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e);else if(!d||!h){var v=n.getNodePath(t.source),m=n.getNodePath(t.target),y=v.reverse().slice(d?0:1).find((function(t){return e.find((function(e){return e.id===t}))})),b=m.reverse().slice(h?0:1).find((function(t){return e.find((function(e){return e.id===t}))}));d=e.find((function(e){return e.id===y})),h=e.find((function(e){return e.id===b})),g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=g.reduce((function(e,t){return o(o([],e,!0),t.points.map((function(e){return i(i({},e),{x:e.x+l[0],y:e.y+l[1]})})),!0)}),[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}));if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:d.id,target:h.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===s.NodeType.META){x=r.findIndex((function(e){return e.id===(null===d||void 0===d?void 0:d.id)}));if(!r[x]||(null===(c=r[x].outEdges)||void 0===c?void 0:c.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(f=r[x].outEdges)||void 0===f||f.push({source:d.id,target:h.id,controlPoints:p})}})))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every((function(e){return void 0!==e.layoutOrder}))||e.forEach((function(e,t){e.layoutOrder=t})),e.sort((function(e,t){return e.layoutOrder-t.layoutOrder}))},t}(a.Base);t.DagreCompoundLayout=l},4199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)),o=r(n(6908)),a=n(1724);t.default={graphlib:i.default,layout:o.default,util:{time:a.time,notime:a.notime}}},5831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5010)),o=function(e){var t=[],n={},r={};return e.nodes().forEach((function i(o){var a;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach((function(e){n.hasOwnProperty(e.w)?t.push(e):i(e.w)})),delete n[o])})),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,i.default)(e,function(e){return function(t){return e.edge(t).weight}}(e)):o(e);null===t||void 0===t||t.forEach((function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-"+Math.random())}))},undo:function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t,n,r,o,a){var s={rank:a,width:0,height:0,borderType:t},u=o[t][a-1],l=i.default.addDummyNode(e,"border",s,n);o[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})};t.default=function(e){var t,n=function t(n){var r=e.children(n),i=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(e){return t(e)})),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)o(e,"borderLeft","_bl",n,i,a),o(e,"borderRight","_br",n,i,a)}};null===(t=e.children())||void 0===t||t.forEach((function(e){return n(e)}))}},829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.nodes().forEach((function(t){r(e.node(t))})),e.edges().forEach((function(t){r(e.edge(t))}))},r=function(e){var t=e.width;e.width=e.height,e.height=t},i=function(e){e.nodes().forEach((function(t){o(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return o(e)})),r.hasOwnProperty("y")&&o(r)}))},o=function(e){e.y=-e.y},a=function(e){e.nodes().forEach((function(t){s(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return s(e)})),r.hasOwnProperty("x")&&s(r)}))},s=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==r&&"rl"!==r||n(e)},undo:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==r&&"rl"!==r||i(e),"lr"!==r&&"rl"!==r||(a(e),n(e))}}},1462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev},r=function(e,t){if("_next"!==e&&"_prev"!==e)return t},i=function(){function e(){var e={};e._next=e._prev=e,this.isentinel=e}return e.prototype.dequeue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.enqueue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.toString=function(){for(var e=[],t=this.isentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"},e}();t.default=i},9770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3915)).default;i||"undefined"===typeof window||(i=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(e){var t=e||1;if(isFinite(t)){var n=this.length,r=[];if(0===this.length)return this;for(;t--;){var i=[],o=!1;if(0===r.length){o=!0;for(var a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a])}else{for(a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push.apply(i,r[a])):i.push(r[a]);r=i}if(!o&&t===1/0)break}return r}}),t.default=i},5010:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)),o=r(n(1462)),a=i.default.Graph,s=function(){return 1},u=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)l(e,t,n,r);for(;r=o.dequeue();)l(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(l(e,t,n,r,!0));break}}return i},l=function(e,t,n,r,i){var o,a,s=i?[]:void 0;return null===(o=e.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=e.edge(r),a=e.node(r.v);i&&s.push({v:r.v,w:r.w}),void 0===a.out&&(a.out=0),a.out-=o,f(t,n,a)})),null===(a=e.outEdges(r.v))||void 0===a||a.forEach((function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,f(t,n,a)})),e.removeNode(r.v),s},c=function(e,t){var n=new a,r=0,i=0;e.nodes().forEach((function(e){n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((function(e){var o=n.edge(e.v,e.w)||0,a=null===t||void 0===t?void 0:t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));for(var s=[],u=i+r+3,l=0;l<u;l++)s.push(new o.default);var c=r+1;return n.nodes().forEach((function(e){f(s,c,n.node(e))})),{buckets:s,zeroIdx:c,graph:n}},f=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=c(e,t||s);return null===(n=u(r.graph,r.buckets,r.zeroIdx).map((function(t){return e.outEdges(t.v,t.w)})))||void 0===n?void 0:n.flat()}},6908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(5831)),u=a(n(6885)),l=a(n(7098)),c=o(n(1724)),f=a(n(5604)),d=a(n(2912)),h=a(n(817)),p=a(n(829)),g=a(n(5366)),v=a(n(7746)),m=a(n(9770)),y=a(n(7914)),b=m.default.Graph,x=function(e,t,n){t("    removeSelfEdges",(function(){G(e)})),t("    acyclic",(function(){s.default.run(e)})),t("    nestingGraph.run",(function(){d.default.run(e)})),t("    rank",(function(){(0,l.default)(c.default.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){P(e)})),t("    removeEmptyRanks",(function(){(0,c.removeEmptyRanks)(e)})),t("    nestingGraph.cleanup",(function(){d.default.cleanup(e)})),t("    normalizeRanks",(function(){(0,c.normalizeRanks)(e)})),t("    assignRankMinMax",(function(){O(e)})),t("    removeEdgeLabelProxies",(function(){L(e)})),t("    normalize.run",(function(){u.default.run(e)})),t("    parentDummyChains",(function(){(0,f.default)(e)})),t("    addBorderSegments",(function(){(0,h.default)(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){(0,y.default)(e,n.nodeOrder)})),t("    order",(function(){(0,g.default)(e)})),t("    insertSelfEdges",(function(){V(e)})),t("    adjustCoordinateSystem",(function(){p.default.adjust(e)})),t("    position",(function(){(0,v.default)(e)})),t("    positionSelfEdges",(function(){U(e)})),t("    removeBorderNodes",(function(){j(e)})),t("    normalize.undo",(function(){u.default.undo(e)})),t("    fixupEdgeLabelCoords",(function(){z(e)})),t("    undoCoordinateSystem",(function(){p.default.undo(e)})),t("    translateGraph",(function(){R(e)})),t("    assignNodeIntersects",(function(){B(e)})),t("    reversePoints",(function(){F(e)})),t("    acyclic.undo",(function(){s.default.undo(e)}))},w=function(e,t){var n=t._nodes||{};e.nodes().forEach((function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))},_=function(e,t){e.nodes().forEach((function(n){var r,i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height))})),e.edges().forEach((function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height},S=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},C=["acyclicer","ranker","rankdir","align"],k=["width","height","layer","fixorder"],M={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"],N=function(e){var t=new b({multigraph:!0,compound:!0}),n=Z(e.graph()),r={};return null===C||void 0===C||C.forEach((function(e){void 0!==n[e]&&(r[e]=n[e])})),t.setGraph(Object.assign({},E,W(n,S),r)),e.nodes().forEach((function(n){var r=Z(e.node(n)),i=W(r,k);Object.keys(M).forEach((function(e){void 0===i[e]&&(i[e]=M[e])})),t.setNode(n,i),t.setParent(n,e.parent(n))})),e.edges().forEach((function(n){var r=Z(e.edge(n)),i={};null===A||void 0===A||A.forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),t.setEdge(n,Object.assign({},T,W(r,I),i))})),t},D=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)})),e.edges().forEach((function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},P=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};c.default.addDummyNode(e,"edge-proxy",i,"_ep")}}))},O=function(e){var t=0;e.nodes().forEach((function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank||-1/0))})),e.graph().maxRank=t},L=function(e){e.nodes().forEach((function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))},R=function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0,u=function(e){if(e){var o=e.x,a=e.y,s=e.width,u=e.height;isNaN(o)||isNaN(s)||(t=Math.min(t,o-s/2),n=Math.max(n,o+s/2)),isNaN(a)||isNaN(u)||(r=Math.min(r,a-u/2),i=Math.max(i,a+u/2))}};e.nodes().forEach((function(t){u(e.node(t))})),e.edges().forEach((function(t){var n=e.edge(t);n.hasOwnProperty("x")&&u(n)})),t-=a,r-=s,e.nodes().forEach((function(n){var i=e.node(n);i.x-=t,i.y-=r})),e.edges().forEach((function(n){var i,o=e.edge(n);null===(i=o.points)||void 0===i||i.forEach((function(e){e.x-=t,e.y-=r})),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=r)})),o.width=n-t+a,o.height=i-r+s},B=function(e){e.edges().forEach((function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(c.default.intersectRect(o,n)),i.points.push(c.default.intersectRect(a,r))}))},z=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},F=function(e){e.edges().forEach((function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))},j=function(e){e.nodes().forEach((function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),s=e.node(o.borderBottom),u=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),l=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}})),e.nodes().forEach((function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))},G=function(e){e.edges().forEach((function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))},V=function(e){var t=c.default.buildLayerMatrix(e);null===t||void 0===t||t.forEach((function(t){var n=0;null===t||void 0===t||t.forEach((function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(t){c.default.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))},U=function(e){e.nodes().forEach((function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))},W=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(t){void 0!==e[t]&&(n[t]=+e[t])})),n},Z=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n.toLowerCase()]=r})),t};t.default=function(e,t){var n=t&&t.debugTiming?c.default.time:c.default.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){w(e,t.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return N(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){D(r)}));try{n("  runLayout",(function(){x(r,n,t)}))}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",(function(){_(e,r)}))}))}},2912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function e(t,n,r,o,a,s,u){var l=t.children(u);if(null===l||void 0===l?void 0:l.length){var c=i.default.addBorderNode(t,"_bt"),f=i.default.addBorderNode(t,"_bb"),d=t.node(u);t.setParent(c,u),d.borderTop=c,t.setParent(f,u),d.borderBottom=f,null===l||void 0===l||l.forEach((function(i){e(t,n,r,o,a,s,i);var l=t.node(i),d=l.borderTop?l.borderTop:i,h=l.borderBottom?l.borderBottom:i,p=l.borderTop?o:2*o,g=d!==h?1:a-s[u]+1;t.setEdge(c,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(h,f,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},a=function(e){var t,n={},r=function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach((function(e){return t(e,i+1)})),n[r]=i};return null===(t=e.children())||void 0===t||t.forEach((function(e){return r(e,1)})),n},s=function(e){var t=0;return e.edges().forEach((function(n){t+=e.edge(n).weight})),t};t.default={run:function(e){var t,n=i.default.addDummyNode(e,"root",{},"_root"),r=a(e),u=Math.max.apply(Math,Object.values(r))-1,l=2*u+1;e.graph().nestingRoot=n,e.edges().forEach((function(t){e.edge(t).minlen*=l}));var c=s(e)+1;null===(t=e.children())||void 0===t||t.forEach((function(t){o(e,n,l,c,u,r,t)})),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},6885:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t){var n,r,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),f=c.labelRank;if(u!==a+1){var d,h,p;for(e.removeEdge(t),p=0,++a;a<u;++p,++a)c.points=[],h={edgeLabel:c,width:0,height:0,edgeObj:t,rank:a},d=i.default.addDummyNode(e,"edge",h,"_d"),a===f&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),e.setEdge(o,d,{weight:c.weight},l),0===p&&(e.graph().dummyChains||(e.graph().dummyChains=[]),null===(r=null===(n=e.graph())||void 0===n?void 0:n.dummyChains)||void 0===r||r.push(d)),o=d;e.setEdge(o,s,{weight:c.weight},l)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach((function(t){return o(e,t)}))},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var n,r,i=e.node(t),o=i.edgeLabel;i.edgeObj&&e.setEdge(i.edgeObj,o);for(var a=t;i.dummy;)r=null===(n=e.successors(a))||void 0===n?void 0:n[0],e.removeNode(a),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),a=r,i=e.node(a)}))}}},7070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach((function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},4333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map((function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))}},862:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)).default.Graph,o=function(e){for(var t;e.hasNode(t="_root"+Math.random()););return t};t.default=function(e,t,n){var r=o(e),a=new i({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return e.nodes().forEach((function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||r),e[n](i).forEach((function(t){var n=t.v===i?t.w:t.v,r=a.edge(n,i),o=void 0!==r?r.weight:0;a.setEdge(n,i,{weight:e.edge(t).weight+o})})),o.hasOwnProperty("minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),a}},6778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1724),i=function(e,t,n){for(var i=(0,r.zipObject)(n,n.map((function(e,t){return t}))),o=t.map((function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map((function(t){return{pos:i[t.w]||0,weight:e.edge(t).weight}}));return null===r||void 0===r?void 0:r.sort((function(e,t){return e.pos-t.pos}))})).flat().filter((function(e){return void 0!==e})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),l=0;return null===o||void 0===o||o.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;l+=e.weight*n})),l};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);++r)n+=i(e,t[r-1],t[r]);return n}},5366:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9220)),o=r(n(6778)),a=r(n(862)),s=r(n(7070)),u=r(n(55)),l=r(n(9770)),c=r(n(1724)),f=n(1784),d=l.default.Graph,h=function(e,t,n){return t.map((function(t){return(0,a.default)(e,t,n)}))},p=function(e,t,n){var r=new d;null===e||void 0===e||e.forEach((function(e){for(var i,o=e.graph().root,a=(0,u.default)(e,o,r,t,n),l=0;l<(null===(i=a.vs)||void 0===i?void 0:i.length);l++)e.node(a.vs[l]).order=l;(0,s.default)(e,r,a.vs)}))},g=function(e,t){null===t||void 0===t||t.forEach((function(t){null===t||void 0===t||t.forEach((function(t,n){e.node(t).order=n}))}))};t.default=function(e){for(var t=c.default.maxRank(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=h(e,n,"inEdges"),u=h(e,r,"outEdges"),l=(0,i.default)(e);g(e,l);for(var d,v=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m){p(a%2?s:u,a%4>=2),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,d=(0,f.clone)(l),v=y)}l=(0,i.default)(e),g(e,l);for(a=0,m=0;m<4;++a,++m){var y;p(a%2?s:u,a%4>=2,!0),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,d=(0,f.clone)(l),v=y)}g(e,d)}},7914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})).map((function(t){return e.node(t).rank})),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i.push([]);null===t||void 0===t||t.forEach((function(t){var n=e.node(t);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t)))}))}},9220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})),r=n.map((function(t){return e.node(t).rank})),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=n.sort((function(t,n){return e.node(t).rank-e.node(n).rank})),u=s.filter((function(t){return void 0!==e.node(t).fixorder})).sort((function(t,n){return e.node(t).fixorder-e.node(n).fixorder}));return null===u||void 0===u||u.forEach((function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0})),null===s||void 0===s||s.forEach((function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach((function(e){return n(e)}))}})),o}},3896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t,n,i=[],o=function(){var o=e.pop();i.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach((function(e){return(t=o,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&r(t,e)})(e);var t})),null===(n=o.out)||void 0===n||n.forEach((function(t){return(n=o,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n}))};null===e||void 0===e?void 0:e.length;)o();var a=i.filter((function(e){return!e.merged})),s=["vs","i","barycenter","weight"];return a.map((function(e){var t={};return null===s||void 0===s||s.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))},r=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var r,i,o,a={};null===e||void 0===e||e.forEach((function(e,t){var n=a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(r=t.edges())||void 0===r||r.forEach((function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))}));var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,(function(e){return!e.indegree}));return n(s)}},55:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4333)),o=r(n(3896)),a=r(n(3267)),s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map((function(e){return t[e]?t[e].vs:e}));e.vs=r.flat()}))},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,l,c){var f,d,h,p,g=t.children(n),v=t.node(n),m=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,b={};m&&(g=null===g||void 0===g?void 0:g.filter((function(e){return e!==m&&e!==y})));var x=(0,i.default)(t,g||[]);null===x||void 0===x||x.forEach((function(n){var i;if(null===(i=t.children(n.v))||void 0===i?void 0:i.length){var o=e(t,n.v,r,l);b[n.v]=o,o.hasOwnProperty("barycenter")&&u(n,o)}}));var w=(0,o.default)(x,r);s(w,b),null===(f=w.filter((function(e){var t;return!!e.vs||(null===(t=e.vs)||void 0===t?void 0:t.length)>0})))||void 0===f||f.forEach((function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var _=(0,a.default)(w,l,c);if(m&&(_.vs=[m,_.vs,y].flat(),null===(d=t.predecessors(m))||void 0===d?void 0:d.length)){var S=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||{}),E=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||{});_.hasOwnProperty("barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+S.order+E.order)/(_.weight+2),_.weight+=2}return _}},3267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},a=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var r=i.default.partition(e,(function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")})),s=r.lhs,u=r.rhs.sort((function(e,t){return-e.i- -t.i})),l=[],c=0,f=0,d=0;null===s||void 0===s||s.sort(a(!!t,!!n)),d=o(l,u,d),null===s||void 0===s||s.forEach((function(e){var t;d+=null===(t=e.vs)||void 0===t?void 0:t.length,l.push(e.vs),c+=e.barycenter*e.weight,f+=e.weight,d=o(l,u,d)}));var h={vs:l.flat()};return f&&(h.barycenter=c/f,h.weight=f),h}},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{lca:o,path:a.concat(s.reverse())}},r=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach((function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}})),n};t.default=function(e){var t,i=r(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var r,o,a=e.node(t),s=a.edgeObj;if(s)for(var u=n(e,i,s.v,s.w),l=u.path,c=u.lca,f=0,d=l[f],h=!0;t!==s.w;){if(a=e.node(t),h){for(;(d=l[f])!==c&&e.node(d).maxRank<a.rank;)f++;d===c&&(h=!1)}if(!h){for(;f<l.length-1&&(null===(r=e.node(d=l[f+1]))||void 0===r?void 0:r.minRank)<=a.rank;)f++;d=l[f]}e.setParent(t,d),t=null===(o=e.successors(t))||void 0===o?void 0:o[0]}}))}},9864:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0;var i=r(n(9770)),o=r(n(1724)),a=i.default.Graph,s=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,r){var i=0,o=0,a=t.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach((function(t,u){var f,d=l(e,t),h=d?e.node(d).order:a;(d||t===s)&&(null===(f=r.slice(o,u+1))||void 0===f||f.forEach((function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach((function(r){var o=e.node(r),a=o.order;!(a<i||h<a)||o.dummy&&e.node(t).dummy||c(n,r,t)}))})),o=u+1,i=h)})),r})),n};t.findType1Conflicts=s;var u=function(e,t){var n={},r=function(t,r,i,o,a){for(var s,u=[],l=r;l<i;l++)u.push(l);u.forEach((function(r){var i;s=t[r],e.node(s).dummy&&(null===(i=e.predecessors(s))||void 0===i||i.forEach((function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&c(n,t,s)})))}))};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,n){var i,o=-1,a=0;return null===n||void 0===n||n.forEach((function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s)||[];l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n};t.findType2Conflicts=u;var l=function(e,t){var n;if(e.node(t).dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find((function(t){return e.node(t).dummy}))},c=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0};t.addConflict=c;var f=function(e,t,n){var r=t,i=n;r>i&&(r=i,i=t);return e[r]&&e[r].hasOwnProperty(i)};t.hasConflict=f;var d=function(e,t,n,r){var i={},o={},a={};return null===t||void 0===t||t.forEach((function(e){null===e||void 0===e||e.forEach((function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),null===t||void 0===t||t.forEach((function(e){var t=-1;null===e||void 0===e||e.forEach((function(e){var s=r(e);if(s.length)for(var u=((s=s.sort((function(e,t){return a[e]-a[t]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var d=s[l];o[e]===e&&t<a[d]&&!f(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}))})),{root:i,align:o}};t.verticalAlignment=d;var h=function(e,t,n,r,i){var o,a={},s=p(e,t,n,i),u=i?"borderLeft":"borderRight",l=function(e,t){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return l((function(e){a[e]=(s.inEdges(e)||[]).reduce((function(e,t){return Math.max(e,(a[t.v]||0)+s.edge(t))}),0)}),s.predecessors.bind(s)),l((function(t){var n=(s.outEdges(t)||[]).reduce((function(e,t){return Math.min(e,(a[t.w]||0)-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}),s.successors.bind(s)),null===(o=Object.values(r))||void 0===o||o.forEach((function(e){a[e]=a[n[e]]})),a};t.horizontalCompaction=h;var p=function(e,t,n,r){var i=new a,o=e.graph(),s=b(o.nodesep,o.edgesep,r);return null===t||void 0===t||t.forEach((function(t){var r;null===t||void 0===t||t.forEach((function(t){var o=n[t];if(i.setNode(o),r){var a=n[r],u=i.edge(a,o);i.setEdge(a,o,Math.max(s(e,t,r),u||0))}r=t}))})),i},g=function(e,t){return o.default.minBy(Object.values(t),(function(t){var n,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((function(n){var o=t[n],a=x(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i}))};function v(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach((function(n){["l","r"].forEach((function(o){var a,s=n+o,u=e[s];if(u!==t){var l=Object.values(u);(a="l"===o?r-Math.min.apply(Math,l):i-Math.max.apply(Math,l))&&(e[s]={},Object.keys(u).forEach((function(t){e[s][t]=u[t]+a})))}}))}))}t.findSmallestWidthAlignment=g,t.alignCoordinates=v;var m=function(e,t){var n={};return Object.keys(e.ul).forEach((function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map((function(e){return e[r]})).sort((function(e,t){return e-t}));n[r]=(i[1]+i[2])/2}})),n};t.balance=m;var y=function(e){var t,n=o.default.buildLayerMatrix(e),r=Object.assign(s(e,n),u(e,n)),i={};["u","d"].forEach((function(o){t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=d(0,t,r,a),u=h(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Object.values(u).map((function(e){return-e}))),i[o+n]=u}))}));var a=g(e,i);return v(i,a),m(i,e.graph().align)};t.positionX=y;var b=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}},x=function(e,t){var n;return(null===(n=e.node(t))||void 0===n?void 0:n.width)||0};t.default={positionX:y,findType1Conflicts:s,findType2Conflicts:u,addConflict:c,hasConflict:f,verticalAlignment:d,horizontalCompaction:h,alignCoordinates:v,findSmallestWidthAlignment:g,balance:m}},7746:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=n(9864);t.default=function(e){var t;!function(e){var t=i.default.buildLayerMatrix(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach((function(t){var i=t.map((function(t){return e.node(t).height})),o=Math.max.apply(Math,i);null===t||void 0===t||t.forEach((function(t){e.node(t).y=r+o/2})),r+=o+n}))}(e=i.default.asNonCompoundGraph(e));var n=function(e){var t,n=i.default.buildLayerMatrix(e),r=Object.assign((0,o.findType1Conflicts)(e,n),(0,o.findType2Conflicts)(e,n)),a={};["u","d"].forEach((function(i){t="u"===i?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var s=("u"===i?e.predecessors:e.successors).bind(e),u=(0,o.verticalAlignment)(e,t,r,s),l=(0,o.horizontalCompaction)(e,t,u.root,u.align,"r"===n);"r"===n&&Object.keys(l).forEach((function(e){return l[e]=-l[e]})),a[i+n]=l}))}));var s=(0,o.findSmallestWidthAlignment)(e,a);return s&&(0,o.alignCoordinates)(a,s),(0,o.balance)(a,e.graph().align)}(e);null===(t=Object.keys(n))||void 0===t||t.forEach((function(t){e.node(t).x=n[t]}))}},358:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var i=r(n(9770)),o=n(1850),a=n(1724),s=i.default.Graph,u=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});l(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTree=u;var l=function(e,t){return e.nodes().forEach((function n(r){t.nodeEdges(r).forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},c=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});f(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTreeWithLayer=c;var f=function(e,t){return e.nodes().forEach((function n(r){var i;null===(i=t.nodeEdges(r))||void 0===i||i.forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},d=function(e,t){return(0,a.minBy)(t.edges(),(function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,o.slack)(t,n):1/0}))},h=function(e,t,n){e.nodes().forEach((function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n}))};t.default={feasibleTree:u,feasibleTreeWithLayer:c}},7098:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1850),o=n(358),a=r(n(7922)),s=i.longestPath,u=function(e){(0,i.longestPathWithLayer)(e),(0,o.feasibleTreeWithLayer)(e)},l=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":l(e);break;case"tight-tree":default:u(e);break;case"longest-path":s(e)}}},7922:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(358),o=n(1850),a=n(1724),s=r(n(9770)).default.alg,u=s.preorder,l=s.postorder,c=function(e){e=(0,a.simplify)(e),(0,o.longestPath)(e);var t,n,r=(0,i.feasibleTree)(e);for(p(r),f(r,e);t=v(r);)n=m(r,e,t),y(r,e,t,n)},f=function(e,t){var n=l(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach((function(n){d(e,t,n)}))},d=function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)},h=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=t.edge(r).weight;if(s+=l?c:-c,x(e,n,u)){var f=e.edge(n,u).cutvalue;s+=l?-f:f}}})),s},p=function(e,t){void 0!==t&&(t=e.nodes()[0]),g(e,{},1,t)},g=function e(t,n,r,i,o){var a,s=r,u=r,l=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach((function(r){n.hasOwnProperty(r)||(u=e(t,n,u,r,i))})),l.low=s,l.lim=u++,o?l.parent=o:delete l.parent,u},v=function(e){return e.edges().find((function(t){return e.edge(t).cutvalue<0}))},m=function(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),u=e.node(i),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var f=t.edges().filter((function(t){return c===w(e,e.node(t.v),l)&&c!==w(e,e.node(t.w),l)}));return(0,a.minBy)(f,(function(e){return(0,o.slack)(t,e)}))},y=function(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),p(e),f(e,t),b(e,t)},b=function(e,t){var n=e.nodes().find((function(e){return!t.node(e).parent})),r=u(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach((function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))},x=function(e,t,n){return e.hasEdge(t,n)},w=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};c.initLowLimValues=p,c.initCutValues=f,c.calcCutValue=h,c.leaveEdge=v,c.enterEdge=m,c.exchangeEdges=y,t.default=c},1850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var n=function(e){var t,n={},r=function t(r){var i,o=e.node(r);if(n.hasOwnProperty(r))return o.rank;n[r]=!0;var a=null===(i=e.outEdges(r))||void 0===i?void 0:i.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),s=Math.min.apply(Math,a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),o.rank=s,s};null===(t=e.sources())||void 0===t||t.forEach((function(e){return r(e)}))};t.longestPath=n;var r=function(e){var t,n={},r=0,i=function t(i){var o,a=e.node(i);if(n.hasOwnProperty(i))return a.rank;n[i]=!0;var s=null===(o=e.outEdges(i))||void 0===o?void 0:o.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),u=Math.min.apply(Math,s);return u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0),a.rank=u,r=Math.min(a.rank,r),a.rank};null===(t=e.sources())||void 0===t||t.forEach((function(e){return i(e)})),r+=1;var o=function t(n,r){var i,o=e.node(n),a=isNaN(o.layer)?r:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),null===(i=e.outEdges(n))||void 0===i||i.map((function(n){t(n.w,a+e.edge(n).minlen)}))};e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)?n.rank-=r:o(t,n.layer)}))};t.longestPathWithLayer=r;var i=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=i,t.default={longestPath:n,longestPathWithLayer:r,slack:i}},1724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var i=n(1784),o=r(n(9770)).default.Graph,a=function(e,t,n,r){var i;do{i=""+r+Math.random()}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i};t.addDummyNode=a;var s=function(e){var t=(new o).setGraph(e.graph());return e.nodes().forEach((function(n){t.setNode(n,e.node(n))})),e.edges().forEach((function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t};t.simplify=s;var u=function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))})),e.edges().forEach((function(n){return t.setEdge(n,e.edge(n))})),t};t.asNonCompoundGraph=u;var l=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e,r){n[e]=t[r]})),n};t.zipObject=l;var c=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.outEdges(t))||void 0===n||n.forEach((function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.successorWeights=c;var f=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach((function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.predecessorWeights=f;var d=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;return a||s?(Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};t.intersectRect=d;var h=function(e){for(var t=[],n=[],r=m(e)+1,i=0;i<r;i++)t.push([]),n.push([]);return e.nodes().forEach((function(r){var i=e.node(r).rank;void 0!==i&&t[i]&&n[i].push(r)})),null===n||void 0===n||n.forEach((function(n,r){null===n||void 0===n||n.sort((function(t,n){var r,i;return(null===(r=e.node(t))||void 0===r?void 0:r.order)-(null===(i=e.node(n))||void 0===i?void 0:i.order)})),n.forEach((function(e){t[r].push(e)}))})),t};t.buildLayerMatrix=h;var p=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t);e.nodes().forEach((function(t){var r=e.node(t);r.hasOwnProperty("rank")&&(r.rank||(r.rank=0),r.rank-=n)}))};t.normalizeRanks=p;var g=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t),r=[];e.nodes().forEach((function(t){var i,o=((null===(i=e.node(t))||void 0===i?void 0:i.rank)||0)-n;r[o]||(r[o]=[]),r[o].push(t)}));for(var i=0,o=e.graph().nodeRankFactor||0,a=0;a<r.length;a++){var s=r[a];void 0===s&&a%o!==0?--i:i&&(null===s||void 0===s||s.forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=i})))}};t.removeEmptyRanks=g;var v=function(e,t,n,r){var o={width:0,height:0};return(0,i.isNumber)(n)&&(0,i.isNumber)(r)&&(o.rank=n,o.order=r),a(e,"border",o,t)};t.addBorderNode=v;var m=function(e){var t=e.nodes().map((function(t){var n=e.node(t).rank;return void 0!==n?n:-1/0}));return Math.max.apply(Math,t)};t.maxRank=m;var y=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach((function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n};t.partition=y;var b=function(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}};t.time=b;var x=function(e,t){return t()};t.notime=x;var w=function(e,t){var n,r=1/0;return null===e||void 0===e||e.forEach((function(e){var i=t(e);r>i&&(r=i,n=e)})),n};t.minBy=w,t.default={addDummyNode:a,simplify:s,asNonCompoundGraph:u,successorWeights:c,predecessorWeights:f,intersectRect:d,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:g,addBorderNode:v,maxRank:m,partition:y,time:b,notime:x,zipObject:l,minBy:w}},9150:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(1619)),l=s(n(9523)),c=s(n(3529)),f=n(1893);t.default=function(e,t){var n=e.nodes,i=e.edges,o=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(e){if(i.filter((function(t){return t.source===e.id||t.target===e.id})).length>1){var t=r({},e);delete t.size,s.push(t)}}));var d=[];i.forEach((function(e){var t=s.find((function(t){return t.id===e.source})),n=s.find((function(t){return t.id===e.target}));t&&n&&d.push(e)}));var h=new f.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach((function(e){var t=(h||[]).find((function(t){return t.id===e.id}));e.x=(null===t||void 0===t?void 0:t.x)||o/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id((function(e){return e.id})).distance((function(e){return d.find((function(t){return t.source===e.source&&t.target===e.target}))?30:20}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(e){v.on("end",(function(){n.forEach((function(e){var t=p.find((function(t){return t.id===e.id}));t&&(e.x=t.x,e.y=t.y)}));var r=Math.min.apply(Math,n.map((function(e){return e.x}))),s=Math.max.apply(Math,n.map((function(e){return e.x}))),u=Math.min.apply(Math,n.map((function(e){return e.y}))),f=Math.max.apply(Math,n.map((function(e){return e.y}))),d=o/(s-r),h=a/(f-u);n.forEach((function(e){void 0!==e.x&&d<1&&(e.x=(e.x-r)*d),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)})),n.forEach((function(e){e.sizeTemp=e.size,e.size=[10,10]})),(0,c.default)(n,i),n.forEach((function(e){e.size=e.sizeTemp||[],delete e.sizeTemp})),(0,l.default)({nodes:n,edges:i},t),e()}))}))}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8048));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,o=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach((function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)}));var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach((function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)}));for(var l=0;l<e.nodes.length;l++){var c=e.nodes[l],f=u.findGridByNodeId(c.id);if(!f)throw new Error("can not find node cell");var d=f.column,h=f.row;if(c.size[0]+o>a){for(var p=v=Math.ceil((c.size[0]+o)/a)-1,g=0;g<v;g++){if(!(u.additionColumn.indexOf(d+g+1)>-1)||u.cells[d+g+1][h].node)break;p--}u.insertColumn(d,p)}if(c.size[1]+o>s){var v;for(p=v=Math.ceil((c.size[1]+o)/s)-1,g=0;g<v;g++){if(!(u.additionRow.indexOf(h+g+1)>-1)||u.cells[d][h+g+1].node)break;p--}u.insertRow(h,p)}}for(l=0;l<u.columnNum;l++){var m=function(t){var n=u.cells[l][t];if(n.node){var r=e.nodes.find((function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)m(g)}}},8048:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>e;r--)for(i=0;i<this.rowNum;i++)this.cells[r+t][i]=n(n({},this.cells[r][i]),{x:(r+t)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=e&&(this.additionColumn[i]+=t);for(r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>e;r--)this.cells[i][r+t]=n(n({},this.cells[i][r]),{dx:i,dy:r+t,x:i*this.CELL_W,y:(r+t)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(i=0;i<t;i++)this.additionRow.push(e+i+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=r},8698:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var o=n(4950),a=i(n(9150)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach((function(e){e.size||(e.size=[50,50])})),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.getType=function(){return"er"},t}(o.Base);t.ERLayout=s},3529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=1e7,r=1.5707963267948966,i=new Map,o=.8;function a(e,t){var o=(i.get(e.id)||[]).find((function(e){return e.source===t.id||e.target===t.id})),a=e.size[0]*e.size[1],s=t.size[0]*t.size[1],u=a>s?t:e,l=a>s?e:t,c=u.x-u.size[0]/2,f=u.y-u.size[1]/2,d=u.x+u.size[0]/2,h=u.y+u.size[1]/2,p=l.x-l.size[0]/2,g=l.y-l.size[1]/2,v=l.x+l.size[0]/2,m=l.y+l.size[1]/2,y=u.x,b=u.y,x=l.x,w=l.y,_=0,S=0;if(d>=p&&v>=c&&h>=g&&m>=f){0===(S=Math.sqrt(Math.pow(x-y,2)+Math.pow(w-b,2)))&&(S=1e-7),_=10/S*100+((d<v?d:v)-(c>p?c:p))*((h<m?h:m)-(f>g?f:g)),_*=n}else{var E=!1,C=function(e,t,n){var i=e.x-e.size[0]/2,o=e.y-e.size[1]/2,a=e.x+e.size[0]/2,s=e.y+e.size[1]/2,u=t.x-t.size[0]/2,l=t.y-t.size[1]/2,c=t.x+t.size[0]/2,f=t.y+t.size[1]/2,d=e.x,h=e.y,p=t.x,g=t.y,v=p-d,m=Math.atan2(v,g-h),y=0,b=0,x=0,w=0;m>r?(b=o-f,y=u-a,x=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),w=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):x=w=0<m&&m<=r?(b=l-s)>(y=u-a)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):m<-r?(b=o-f)>(y=-(c-i))?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):(b=l-s)>(y=Math.abs(v)>(a-i)/2?i-c:v)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y&&0!==m?(y/Math.sin(m)).toFixed(2):b.toFixed(2));var _=parseFloat(m.toFixed(2)),S=n;return n&&(S=1.1780972450961724<_&&_<1.9634954084936207),{distance:Math.abs(x<w?x:w),isHoriz:S}}(u,l,E);S=C.distance,E=C.isHoriz,S<=10?_+=0!==S?o?10+1e7/S:10+1e8/S:n:(_+=S,o&&(_+=S*S))}return _}function s(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];(r.x<0||r.y<0||r.x>1200||r.y>800)&&(t+=1e12);for(var i=n+1;i<e.length;i++)t+=a(r,e[i])}return t}function u(e,t,n,r){var i=new Map;n.forEach((function(e,t){i.set(e.id,e)}));var o=r.filter((function(t){return t.source===e.id||t.target===e.id}))||[],a=[];o.forEach((function(t){var n=t.source===e.id?t.target:t.source,r=i.get(n);r&&a.push(r)}));for(var s=!0,u=0;u<a.length;u++){var l=a[u],c=180*Math.atan((e.y-l.y)/(l.x-e.y)),f=180*Math.atan((t.y-l.y)/(l.x-t.y)),d=c>70&&c<110,h=f>70&&f<110;if((c<30||c>150)&&!(f<30||f>150)||c*f<0){s=!1;break}if(d&&!h||c*f<0){s=!1;break}if((l.x-e.x)*(l.x-t.x)<0){s=!1;break}if((l.y-e.y)*(l.y-t.y)<0){s=!1;break}}return s}function l(e,t){for(var n=!1,r=[10,-10,0,0],i=[0,0,10,-10],a=0;a<e.length;++a)for(var l=e[a],f=c(l,e),d=0;d<r.length;d++){if(u(l,{x:l.x+r[d],y:l.y+i[d]},e,t)){l.x+=r[d],l.y+=i[d];var h=c(l,e),p=Math.random();h<f||p<o&&p>.1?(f=h,n=!0):(l.x-=r[d],l.y-=i[d])}}return o>.1&&(o*=.5),n?s(e):0}function c(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>1200||e.y+e.size[1]+20>800)&&(n+=1e12);for(var r=0;r<t.length;++r)e.id!==t[r].id&&(n+=a(e,t[r]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach((function(e){var n=t.filter((function(t){return t.source===e.id||t.target===e.id}));i.set(e,n)})),e.sort((function(e,t){var n,r;return(null===(n=i.get(e.id))||void 0===n?void 0:n.length)-(null===(r=i.get(t.id))||void 0===r?void 0:r.length)}));for(var n=s(e),r=20,o=1,a=0,u=0;r>0&&!(++u>=50);){var c=l(e,t);0!==c&&(a=c),o=a-n,n=a,0===o?--r:r=20}return e.forEach((function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2})),{nodes:e,edges:t}}},7941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=n},3299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var o=n(4950),a=n(1784),s=i(n(7941)),u=i(n(9171)),l=i(n(612)),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.onLayoutEnd,r=e.prune,i=e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);for(var o=[],s=t.length,u=0;u<s;u+=1){var l=t[u],c=10,f=10;(0,a.isNumber)(l.size)&&(c=l.size,f=l.size),(0,a.isArray)(l.size)?(isNaN(l.size[0])||(c=l.size[0]),isNaN(l.size[1])||(f=l.size[1])):(0,a.isObject)(l.size)&&(c=l.size.width,f=l.size.height),e.getWidth&&!isNaN(e.getWidth(l))&&(f=e.getWidth(l)),e.getHeight&&!isNaN(e.getHeight(l))&&(c=e.getHeight(l));var d=Math.max(c,f);o.push(d)}void 0===e.barnesHut&&s>250&&(e.barnesHut=!0),void 0===e.prune&&s>100&&(e.prune=!0),0!==this.maxIteration||e.prune?0===this.maxIteration&&r&&(i=100,s<=200&&s>100?i=500:s>200&&(i=950),this.maxIteration=i):(i=250,s<=200&&s>100?i=1e3:s>200&&(i=1200),this.maxIteration=i),e.kr||(e.kr=50,s>100&&s<=500?e.kr=20:s>500&&(e.kr=1)),e.kg||(e.kg=20,s>100&&s<=500?e.kg=10:s>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(o),n()},t.prototype.updateNodesByForces=function(e){for(var t=this,n=t.edges,r=t.maxIteration,i=t.nodes,o=n.filter((function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")})),s=i.length,u=o.length,l=[],c={},f={},d=[],h=0;h<s;h+=1)c[i[h].id]=h,l[h]=0,(void 0===i[h].x||isNaN(i[h].x))&&(i[h].x=1e3*Math.random()),(void 0===i[h].y||isNaN(i[h].y))&&(i[h].y=1e3*Math.random()),d.push({x:i[h].x,y:i[h].y});for(h=0;h<u;h+=1){for(var p=void 0,g=void 0,v=0,m=0,y=0;y<s;y+=1){var b=(0,a.getEdgeTerminal)(o[h],"source"),x=(0,a.getEdgeTerminal)(o[h],"target");i[y].id===b?(p=i[y],v=y):i[y].id===x&&(g=i[y],m=y),f[h]={sourceIdx:v,targetIdx:m}}p&&(l[c[p.id]]+=1),g&&(l[c[g.id]]+=1)}var w=r;if(i=this.iterate(w,c,f,u,l,e),t.prune){for(y=0;y<u;y+=1)l[f[y].sourceIdx]<=1?(i[f[y].sourceIdx].x=i[f[y].targetIdx].x,i[f[y].sourceIdx].y=i[f[y].targetIdx].y):l[f[y].targetIdx]<=1&&(i[f[y].targetIdx].x=i[f[y].sourceIdx].x,i[f[y].targetIdx].y=i[f[y].sourceIdx].y);t.prune=!1,t.barnesHut=!1,w=100,i=this.iterate(w,c,f,u,l,e)}return i},t.prototype.iterate=function(e,t,n,r,i,o){for(var a=this,u=a.nodes,l=a.kr,c=a.preventOverlap,f=a.barnesHut,d=u.length,h=0,p=e,g=[],v=[],m=[],y=0;y<d;y+=1)if(g[2*y]=0,g[2*y+1]=0,f){var b={id:y,rx:u[y].x,ry:u[y].y,mass:1,g:l,degree:i[y]};m[y]=new s.default(b)}for(;p>0;){for(y=0;y<d;y+=1)v[2*y]=g[2*y],v[2*y+1]=g[2*y+1],g[2*y]=0,g[2*y+1]=0;g=this.getAttrForces(p,50,r,t,n,i,o,g),g=f&&(c&&p>50||!c)?this.getOptRepGraForces(g,m,i):this.getRepGraForces(p,50,g,100,o,i);var x=this.updatePos(g,v,h,i);u=x.nodes,h=x.sg,p--,a.tick&&a.tick()}return u},t.prototype.getAttrForces=function(e,t,n,r,i,o,a,s){for(var u=this,l=u.nodes,c=u.preventOverlap,f=u.dissuadeHubs,d=u.mode,h=u.prune,p=0;p<n;p+=1){var g=l[i[p].sourceIdx],v=i[p].sourceIdx,m=l[i[p].targetIdx],y=i[p].targetIdx;if(!h||!(o[v]<=1||o[y]<=1)){var b=[m.x-g.x,m.y-g.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,c&&e<t&&(x=x-a[v]-a[y]);var w=x,_=w;"linlog"===d&&(_=w=Math.log(1+x)),f&&(w=x/o[v],_=x/o[y]),c&&e<t&&x<=0?(w=0,_=0):c&&e<t&&x>0&&(w=x,_=x),s[2*r[g.id]]+=w*b[0],s[2*r[m.id]]-=_*b[0],s[2*r[g.id]+1]+=w*b[1],s[2*r[m.id]+1]-=_*b[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,i,o){for(var a=this,s=a.nodes,u=a.preventOverlap,l=a.kr,c=a.kg,f=a.center,d=a.prune,h=s.length,p=0;p<h;p+=1){for(var g=p+1;g<h;g+=1)if(!d||!(o[p]<=1||o[g]<=1)){var v=[s[g].x-s[p].x,s[g].y-s[p].y],m=Math.hypot(v[0],v[1]);m=m<1e-4?1e-4:m,v[0]=v[0]/m,v[1]=v[1]/m,u&&e<t&&(m=m-i[p]-i[g]);var y=l*(o[p]+1)*(o[g]+1)/m;u&&e<t&&m<0?y=r*(o[p]+1)*(o[g]+1):u&&e<t&&0===m?y=0:u&&e<t&&m>0&&(y=l*(o[p]+1)*(o[g]+1)/m),n[2*p]-=y*v[0],n[2*g]+=y*v[0],n[2*p+1]-=y*v[1],n[2*g+1]+=y*v[1]}var b=[s[p].x-f[0],s[p].y-f[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var w=c*(o[p]+1);n[2*p]-=w*b[0],n[2*p+1]-=w*b[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this,i=r.nodes,o=r.kg,a=r.center,s=r.prune,c=i.length,f=9e10,d=-9e10,h=9e10,p=-9e10,g=0;g<c;g+=1)s&&n[g]<=1||(t[g].setPos(i[g].x,i[g].y),i[g].x>=d&&(d=i[g].x),i[g].x<=f&&(f=i[g].x),i[g].y>=p&&(p=i[g].y),i[g].y<=h&&(h=i[g].y));var v={xmid:(d+f)/2,ymid:(p+h)/2,length:Math.max(d-f,p-h),massCenter:a,mass:c},m=new u.default(v),y=new l.default(m);for(g=0;g<c;g+=1)s&&n[g]<=1||t[g].in(m)&&y.insert(t[g]);for(g=0;g<c;g+=1)if(!(s&&n[g]<=1)){t[g].resetForce(),y.updateForce(t[g]),e[2*g]-=t[g].fx,e[2*g+1]-=t[g].fy;var b=[i[g].x-a[0],i[g].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var w=o*(n[g]+1);e[2*g]-=w*b[0],e[2*g+1]-=w*b[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var i=this,o=i.nodes,a=i.ks,s=i.tao,u=i.prune,l=i.ksmax,c=o.length,f=[],d=[],h=0,p=0,g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var v=[e[2*g]-t[2*g],e[2*g+1]-t[2*g+1]],m=Math.hypot(v[0],v[1]),y=[e[2*g]+t[2*g],e[2*g+1]+t[2*g+1]],b=Math.hypot(y[0],y[1]);f[g]=m,d[g]=b/2,h+=(r[g]+1)*f[g],p+=(r[g]+1)*d[g]}var x=n;n=s*p/h,0!==x&&(n=n>1.5*x?1.5*x:n);for(g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var w=a*n/(1+n*Math.sqrt(f[g])),_=Math.hypot(e[2*g],e[2*g+1]),S=l/(_=_<1e-4?1e-4:_),E=(w=w>S?S:w)*e[2*g],C=w*e[2*g+1];o[g].x+=E,o[g].y+=C}return{nodes:o,sg:n}},t}(o.Base);t.ForceAtlas2Layout=c},9171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=n},612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=n},9662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1619)),s=n(1784);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),i=e(-1),o=e(100),u=e(.1),l=[0,0],c=[],f={},d=[],h=100,p=100,g={none:{x:0,y:0}},v=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),_();for(var r=0,i=c.length,o=void 0,a=e*b;r<i;++r)(o=c[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function w(){c&&function(){if(!c||!c.length)return;if(void 0===n(c[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],i={},o={},a=[];return o=function(e){var t={};return e.forEach((function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})})),e.forEach((function(e){var i=n(e),o=r(e),a=t[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,t[i]=a})),t}(c),a=function(e){var t={},r=[];return e.forEach((function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=n(f[t]),o=n(f[r]);return i<=o?i+"~"+o:o+"~"+i}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i})),Object.entries(t).forEach((function(e){var t=e[0],n=e[1],i=t.split("~")[0],o=t.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})})),r}(d),Object.keys(o).forEach((function(t,n){var r=o[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),i[t]=n})),a.forEach((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=i[n],a=i[r];void 0!==o&&void 0!==a&&t.push({source:o,target:a,count:e.count})})),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(e){return e.r})).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(o).strength(u)),v=t.nodes(),_()}()}function _(){return g={none:{x:0,y:0}},v.forEach((function(e){g[e.id]={x:e.x-l[0],y:e.y-l[1]}})),g}function S(e){f={},e.forEach((function(e){f[e.id]=e}))}return x.initialize=function(e){c=e,w()},x.template=function(e){return arguments.length?(m=e,w(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(S(e||[]),c=e||[],x):c},x.links=function(e){return arguments.length?(d=e||[],w(),x):d},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),w(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),w(),x):i},x.forceLinkDistance=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),w(),x):o},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.offset=function(e){return arguments.length?(l=e,x):l},x.getFocis=_,x}},9902:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(1619)),l=s(n(9662)),c=n(1784),f=n(4950),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){var t=this;t.nodes=e.nodes||[];var n=e.edges||[];t.edges=n.map((function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach((function(r){n.indexOf(r)>-1||(t[r]=e[r])})),t})),t.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var i=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(i){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),i.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}t.preventOverlap&&t.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var c=u.forceManyBody();if(t.nodeStrength&&c.strength(t.nodeStrength),i=u.forceSimulation().nodes(n),t.clustering){var f=(0,l.default)();f.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=f,i.force("group",f)}if(i.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",c).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(i),r){var h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){i.stop();for(var g=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),i=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(i)}(i),v=1;v<=g;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:g,type:d.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else i.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=i,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this,i=r.nodeSize,o=r.nodeSpacing,a=r.collideStrength;if(n=(0,c.isNumber)(o)?function(){return o}:(0,c.isFunction)(o)?o:function(){return 0},i)if((0,c.isFunction)(i))t=function(e){return i(e)+n(e)};else if((0,c.isArray)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;t=function(e){return s+n(e)}}else if((0,c.isNumber)(i)){var l=i/2;t=function(e){return l+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,c.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,c.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(a))},t.prototype.updateCfg=function(e){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)},t.prototype.destroy=function(){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0},t}(f.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},2283:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9902),t)},4328:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var i=n(4950),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var a=r.center;if(1===i.length)return i[0].x=a[0],i[0].y=a[1],void(null===(t=r.onLayoutEnd)||void 0===t||t.call(r));var s={},u={};return i.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),r.nodeMap=s,r.nodeIdxMap=u,r.run()}null===(e=r.onLayoutEnd)||void 0===e||e.call(r)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,i=t.maxIteration,o=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach((function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})})),o||!s){for(var l=0;l<i;l++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var e;t.runOneStep(u),++c>=i&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))}),0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes;if(r){var i=n.edges,a=n.center,s=n.gravity,u=n.speed,l=n.clustering,c=n.height*n.width,f=Math.sqrt(c)/10,d=c/(r.length+1),h=Math.sqrt(d),p=[];if(r.forEach((function(e,t){p[t]={x:0,y:0}})),n.applyCalculate(r,i,p,h,d),l){for(var g in e)e[g].cx=0,e[g].cy=0,e[g].count=0;for(var g in r.forEach((function(t){var n=e[t.cluster];(0,o.isNumber)(t.x)&&(n.cx+=t.x),(0,o.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[g].cx/=e[g].count,e[g].cy/=e[g].count;var v=n.clusterGravity||s;r.forEach((function(t,n){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var r=e[t.cluster],i=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=h*v;p[n].x-=a*(t.x-r.cx)/i,p[n].y-=a*(t.y-r.cy)/i}}))}r.forEach((function(e,t){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=.01*h*s;p[t].x-=n*(e.x-a[0]),p[t].y-=n*(e.y-a[1])}})),r.forEach((function(e,t){if((0,o.isNumber)(e.fx)&&(0,o.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=Math.sqrt(p[t].x*p[t].x+p[t].y*p[t].y);if(n>0){var r=Math.min(f*(u/800),n);e.x+=p[t].x/n*r,e.y+=p[t].y/n*r}}})),null===(t=n.tick)||void 0===t||t.call(n)}},t.prototype.applyCalculate=function(e,t,n,r,i){this.calRepulsive(e,n,i),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach((function(r,i){t[i]={x:0,y:0},e.forEach((function(e,a){if(i!==a&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(e.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,l=s*s+u*u;if(0===l){l=1;var c=i>a?1:-1;s=.01*c,u=.01*c}var f=n/l;t[i].x+=s*f,t[i].y+=u*f}}))}))},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach((function(e){var i=(0,o.getEdgeTerminal)(e,"source"),a=(0,o.getEdgeTerminal)(e,"target");if(i&&a){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[a];if(s!==u){var l=r.nodeMap[i],c=r.nodeMap[a];if((0,o.isNumber)(c.x)&&(0,o.isNumber)(l.x)&&(0,o.isNumber)(c.y)&&(0,o.isNumber)(l.y)){var f=c.x-l.x,d=c.y-l.y,h=Math.sqrt(f*f+d*d),p=h*h/n;t[u].x-=f/h*p,t[u].y-=d/h*p,t[s].x+=f/h*p,t[s].y+=d/h*p}}}}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(i.Base);t.FruchtermanLayout=a},4461:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var i=n(4950),o=n(1784),a=function(e,t){return e?(0,o.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var l,c=n.nodeSize;if(n.preventOverlap){var f,d=n.nodeSpacing;f=(0,o.isNumber)(d)?function(){return d}:(0,o.isFunction)(d)?d:function(){return 0},l=c?(0,o.isArray)(c)?function(e){return Math.max(c[0],c[1])+f(e)}:function(e){return c+f(e)}:function(e){return e.size?(0,o.isArray)(e.size)?Math.max(e.size[0],e.size[1])+f(e):(0,o.isObject)(e.size)?Math.max(e.size.width,e.size.height)+f(e):e.size+f(e):10+f(e)}}n.nodeSize=l;var h=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,i=t.workerEnabled,o=t.minMovement,a=t.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,o))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var e,i;if(r){var a=t.runOneStep(l)||[];t.reachMoveThreshold(r,a,o)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++l>=n&&(null===(i=t.onLayoutEnd)||void 0===i||i.call(t),window.clearInterval(t.timeInterval))}}),0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach((function(e,n){var i=e.x-t[n].x,o=e.y-t[n].y;r+=Math.sqrt(i*i+o*o)})),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes,i=n.edges,o=[],a=[];if(r){r.forEach((function(e,t){o[2*t]=0,o[2*t+1]=0,a[2*t]=0,a[2*t+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var s=Math.max(.02,n.interval-.002*e);n.updateVelocity(o,a,s,r);var u=[];return r.forEach((function(e){u.push({x:e.x,y:e.y})})),n.updatePosition(a,s,r),null===(t=n.tick)||void 0===t||t.call(n),u}},t.prototype.calRepulsive=function(e,t){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,u=void 0===s?1:s,l=n.nodeStrength,c=n.nodeSize;t.forEach((function(n,s){var f=r?r(n):1;t.forEach((function(t,d){if(!(s>=d)){var h=n.x-t.x,p=n.y-t.y;0===h&&0===p&&(h=.01*Math.random(),p=.01*Math.random());var g=h*h+p*p,v=Math.sqrt(g),m=(v+.1)*o,y=h/v,b=p/v,x=.5*(l(n)+l(t))*i/(m*m),w=r?r(t):1;if(e[2*s]+=y*x,e[2*s+1]+=b*x,e[2*d]-=y*x,e[2*d+1]-=b*x,a&&(c(n)+c(t))/2>v){var _=u*(l(n)+l(t))*.5/g;e[2*s]+=y*_/f,e[2*s+1]+=b*_/f,e[2*d]-=y*_/w,e[2*d+1]-=b*_/w}}}))}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.nodeMap,i=n.nodeIdxMap,a=n.linkDistance,s=n.edgeStrength,u=n.nodeSize,l=n.getMass;t.forEach((function(t,n){var c=(0,o.getEdgeTerminal)(t,"source"),f=(0,o.getEdgeTerminal)(t,"target"),d=r[c],h=r[f],p=h.x-d.x,g=h.y-d.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var v=Math.sqrt(p*p+g*g),m=p/v,y=g/v,b=((a(t,d,h)||1+(u(d)+u(d)||0)/2)-v)*s(t),x=i[c],w=i[f],_=l?l(d):1,S=l?l(h):1;e[2*x]-=m*b/_,e[2*x+1]-=y*b/_,e[2*w]+=m*b/S,e[2*w+1]+=y*b/S}))},t.prototype.calGravity=function(e,t){for(var n=this,r=n.center,i=n.gravity,a=n.degrees,s=t.length,u=0;u<s;u++){var l=t[u],c=l.x-r[0],f=l.y-r[1],d=i;if(n.getCenter){var h=n.getCenter(l,a[u]);h&&(0,o.isNumber)(h[0])&&(0,o.isNumber)(h[1])&&(0,o.isNumber)(h[2])&&(c=l.x-h[0],f=l.y-h[1],d=h[2])}d&&(e[2*u]-=d*c,e[2*u+1]-=d*f)}},t.prototype.updateVelocity=function(e,t,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var a=e[2*r]*o||.01,s=e[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var l=i.maxSpeed/u;a*=l,s*=l}t[2*r]=a,t[2*r+1]=s}))},t.prototype.updatePosition=function(e,t,n){n.forEach((function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=e[2*r]*t,a=e[2*r+1]*t;n.x+=i,n.y+=a}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(i.Base);t.GForceLayout=s},8584:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),l=n(7471),c=n(2100),f=n(3023),d=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,i[e.id]=t})),e.nodeMap=r,e.nodeIdxMap=i,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,u,l=this;return o(this,(function(o){switch(o.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(a={},u={},r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*l.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*l.height),a[e.id]=e,u[e.id]=t})),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return o.sent(),[2]}}))}))},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,d,h,p,g,v,m,y,b,x,w,_,S,E,C,k,M,I,T,A,N,D,P,O,L=this;return o(this,(function(R){switch(R.label){case 0:for(r=(n=this).nodes,a=n.edges,d=n.maxIteration,h=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),m=Math.sqrt(v),y=n.speed,b=n.clustering,x=(0,l.attributesToTextureData)([n.clusterField],r),w=x.array,_=x.count,r.forEach((function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),w[4*t+1]=n,w[4*t+2]=r})),S=r.length,E=(0,l.buildTextureData)(r,a),C=E.maxEdgePerVetex,k=E.array,M=n.workerEnabled,I=M?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),T=n.onLayoutEnd,A=[],N=0;N<_;N++)A.push(0,0,0,0);return D=I.createKernel(c.fruchtermanBundle).setDispatch([S,1,1]).setBinding({u_Data:k,u_K:m,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:w,u_ClusterCenters:A,MAX_EDGE_PER_VERTEX:C,VERTEX_COUNT:S}),b&&(P=I.createKernel(c.clusterBundle).setDispatch([_,1,1]).setBinding({u_Data:k,u_NodeAttributes:w,u_ClusterCenters:A,VERTEX_COUNT:S,CLUSTER_COUNT:_})),O=function(){return i(L,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<d?[4,D.execute()]:[3,6];case 2:return o.sent(),b?(P.setBinding({u_Data:D}),[4,P.execute()]):[3,4];case 3:o.sent(),D.setBinding({u_ClusterCenters:P}),o.label=4;case 4:D.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,D.getOutput()];case 7:return i=o.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(e,t){var n=i[4*t],r=i[4*t+1];e.x=n,e.y=r})),T&&T(),[2]}}))}))},[4,O()];case 1:return R.sent(),[2]}}))}))},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=d},2100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},7042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),l=n(7471),c=n(930),f=n(5193),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,i[t.id]=n})),e.nodeMap=r,e.nodeIdxMap=i,e.nodeStrength=(0,l.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,l.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),o[e.id]=e,a[e.id]=t})),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,l.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,h,p,g,v,m,y,b,x,w,_,S,E,C,k,M,I,T,A,N,D,P,O,L,R,B=this;return o(this,(function(z){switch(z.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,l.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength),g=(0,l.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,m=g.array,n.degrees=(0,c.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],w=[],_=[],S=[],E=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),C=n.gravity,k=n.center,r.forEach((function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[k[0],k[1],C];if(n.getCenter){var i=n.getCenter(e,n.degrees[t]);i&&(0,s.isNumber)(i[0])&&(0,s.isNumber)(i[1])&&(0,s.isNumber)(i[2])&&(r=i)}x.push(r[0]),w.push(r[1]),_.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(S.push(e.fx||.001),E.push(e.fy||.001)):(S.push(0),E.push(0))})),M=(0,l.arrayToTextureData)([y,n.degrees,b,S]),I=(0,l.arrayToTextureData)([x,w,_,E]),T=n.workerEnabled,A=T?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),N=n.onLayoutEnd,D=[],m.forEach((function(e){D.push(e)})),P=0;P<4;P++)D.push(0);return O=A.createKernel(f.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:M,u_NodeAttributeArray2:I,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:D,u_interval:n.interval}),L=A.createKernel(f.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),R=function(){return i(B,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<h?[4,O.execute()]:[3,5];case 2:return o.sent(),L.setBinding({u_Data:O}),[4,L.execute()];case 3:o.sent(),a=Math.max(.02,n.interval-.002*i),O.setBinding({u_interval:a,u_AveMovement:L}),o.label=4;case 4:return i++,[3,1];case 5:return[4,O.getOutput()];case 6:return s=o.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach((function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r})),N&&N(),[2]}}))}))},[4,R()];case 1:return z.sent(),[2]}}))}))},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},5193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},8609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var i=n(1784),o=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,o=t.length;if(0===o)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===o)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,l=e.condense,c=e.preventOverlapPadding,f=e.preventOverlap,d=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach((function(e){p.push(e)}));var g={};if(p.forEach((function(e,t){g[e.id]=t})),("degree"===a||!(0,i.isString)(a)||void 0===p[0][a])&&(a="degree",(0,i.isNaN)(t[0].degree))){var v=(0,i.getDegree)(p.length,g,n);p.forEach((function(e,t){e.degree=v[t]}))}p.sort((function(e,t){return t[a]-e[a]})),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=o,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,l&&(e.cellWidth=0,e.cellHeight=0),f||d){var w=(0,i.getFuncByUnknownType)(10,d),_=(0,i.getFuncByUnknownType)(30,h,!1);p.forEach((function(t){t.x&&t.y||(t.x=0,t.y=0);var n=_(t),r=n[0],i=void 0===r?30:r,o=n[1],a=void 0===o?30:o,s=void 0!==w?w(t):c,u=i+s,l=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,l)}))}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var S=0;S<p.length;S++){var E=p[S],C=void 0;if(e.position&&(C=e.position(E)),C&&(void 0!==C.row||void 0!==C.col)){var k={row:C.row,col:C.col};if(void 0===k.col)for(k.col=0;e.used(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;e.used(k.row,k.col);)k.row++;e.id2manPos[E.id]=k,e.use(k.row,k.col)}e.getPos(E)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.large=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-"+e+"-"+t]||!1},t.prototype.use=function(e,t){this.cellUsed["c-"+e+"-"+t]=!0},t.prototype.moveToNextCell=function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},t.prototype.getPos=function(e){var t,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(4950).Base);t.GridLayout=o},6929:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var o=n(8609);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n(1831);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(4461);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(2283);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var l=n(2893);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return l.CircularLayout}});var c=n(1893);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return c.DagreLayout}});var f=n(7530);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return f.DagreCompoundLayout}});var d=n(5374);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return d.RadialLayout}});var h=n(1457);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(6647);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var g=n(4328);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return g.FruchtermanLayout}});var v=n(8584);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var m=n(7042);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(7315);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(3467);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(3299);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var w=n(8698);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var _=n(4060);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return _.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return _.Layouts}}),i(n(2514),t)},4060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(8252),i=n(8609),o=n(1831),a=n(4461),s=n(2283),u=n(2893),l=n(1893),c=n(5374),f=n(1457),d=n(6647),h=n(4328),p=n(8584),g=n(7042),v=n(7315),m=n(3467),y=n(3299),b=n(8698),x=n(7530),w=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=w,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:l.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:c.RadialLayout,concentric:f.ConcentricLayout,grid:i.GridLayout,mds:d.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":g.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},6647:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var i=n(1132),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=void 0===n?[]:n,i=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=i[0],t[0].y=i[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.linkDistance,s=(0,o.getAdjMatrix)({nodes:t,edges:r},!1),u=(0,o.floydWarshall)(s);e.handleInfinity(u);var l=(0,o.scaleMatrix)(u,a);e.scaledDistances=l;var c=e.runMDS();return e.positions=c,c.forEach((function(e,n){t[n].x=e[0]+i[0],t[n].y=e[1]+i[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=i.Matrix.mul(i.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),o=t.mean();t.add(o).subRowVector(n).subColumnVector(r);var a=new i.SingularValueDecomposition(t),s=i.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(e){return i.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)}))},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach((function(e){e.forEach((function(e){e!==1/0&&t<e&&(t=e)}))})),e.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(e[r][i]=t)}))}))},t.prototype.getType=function(){return"mds"},t}(n(4950).Base);t.MDSLayout=a},5374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9164),t)},6058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1132),i=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this,t=e.dimension,n=e.distances,i=e.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=o.mean("row"),s=o.mean("column"),u=o.mean();o.add(u).subRowVector(a).subColumnVector(s);var l=new r.SingularValueDecomposition(o),c=r.Matrix.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map((function(e){return r.Matrix.mul([e],[c]).toJSON()[0].splice(0,t)}))}catch(g){for(var f=[],d=0;d<n.length;d++){var h=Math.random()*i,p=Math.random()*i;f.push([h,p])}return f}},e}();t.default=i},9164:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var o=n(1784),a=n(4950),s=i(n(6058)),u=i(n(7113));function l(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var c=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var i=e.linkDistance,a=null;if((0,o.isString)(e.focusNode)){for(var l=!1,c=0;c<t.length;c++)t[c].id===e.focusNode&&(a=t[c],e.focusNode=a,l=!0,c=t.length);l||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var f=function(e,t){var n=-1;return e.forEach((function(e,r){e.id===t&&(n=r)})),n}(t,a.id);f<0&&(f=0),e.focusIndex=f;var d=(0,o.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,o.floydWarshall)(d),p=e.maxToFocus(h,f);e.handleInfinity(h,f,p+1),e.distances=h;var g=h[f],v=e.width||500,m=e.height||500,y=v-r[0]>r[0]?r[0]:v-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=v/2),0===b&&(b=m/2);var x=b>y?y:b,w=Math.max.apply(Math,g),_=[];g.forEach((function(t,n){e.unitRadius||(e.unitRadius=x/w),_[n]=t*e.unitRadius})),e.radii=_;var S=e.eIdealDisMatrix();e.eIdealDistances=S;var E=function(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)0!==e[i][a]?o.push(1/(e[i][a]*e[i][a])):o.push(0);r.push(o)}return r}(S);e.weights=E;var C=new s.default({linkDistance:i,distances:S}).layout();C.forEach((function(e){(0,o.isNaN)(e[0])&&(e[0]=Math.random()*i),(0,o.isNaN)(e[1])&&(e[1]=Math.random()*i)})),e.positions=C,C.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),C.forEach((function(e){e[0]-=C[f][0],e[1]-=C[f][1]})),e.run();var k,M=e.preventOverlap,I=e.nodeSize,T=e.strictRadial;if(M){var A,N=e.nodeSpacing;A=(0,o.isNumber)(N)?function(){return N}:(0,o.isFunction)(N)?N:function(){return 0},k=I?(0,o.isArray)(I)?function(e){return(I[0]>I[1]?I[0]:I[1])+A(e)}:function(e){return I+A(e)}:function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+A(e):(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+A(e):e.size+A(e):10+A(e)};var D={nodes:t,nodeSizeFunc:k,adjMatrix:d,positions:C,radii:_,height:m,width:v,strictRadial:T,focusID:f,iterations:e.maxPreventOverlapIteration||200,k:C.length/4.5},P=new u.default(D);C=P.layout()}return C.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this,t=e.maxIteration,n=e.positions||[],r=e.weights||[],i=e.eIdealDistances||[],o=e.radii||[],a=0;a<=t;a++){var s=a/t;e.oneIteration(s,n,o,i,r)}},t.prototype.oneIteration=function(e,t,n,r,i){var o=1-e,a=this.focusIndex;t.forEach((function(s,u){var c=l(s,[0,0]),f=0===c?0:1/c;if(u!==a){var d=0,h=0,p=0;t.forEach((function(e,t){if(u!==t){var n=l(s,e),o=0===n?0:1/n,a=r[t][u];p+=i[u][t],d+=i[u][t]*(e[0]+a*(s[0]-e[0])*o),h+=i[u][t]*(e[1]+a*(s[1]-e[1])*o)}}));var g=0===n[u]?0:1/n[u];p*=o,p+=e*g*g,d*=o,d+=e*g*s[0]*f,s[0]=d/p,h*=o,h+=e*g*s[1]*f,s[1]=h/p}}))},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,i=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach((function(n,u){var l=[];n.forEach((function(n,s){if(u===s)l.push(0);else if(i[u]===i[s])if("data"===e.sortBy)l.push(n*(Math.abs(u-s)*e.sortStrength)/(i[u]/a));else if(e.sortBy){var c=t[u][e.sortBy]||0,f=t[s][e.sortBy]||0;(0,o.isString)(c)&&(c=c.charCodeAt(0)),(0,o.isString)(f)&&(f=f.charCodeAt(0)),l.push(n*(Math.abs(c-f)*e.sortStrength)/(i[u]/a))}else l.push(n*r/(i[u]/a));else{var d=(r+a)/2;l.push(n*d)}})),s.push(l)})),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(var o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(i=0;i<r;i++)if(i!==t)for(o=0;o<r;o++)if(e[i][o]===1/0){var a=Math.abs(e[t][i]-e[t][o]);a=0===a?1:a,e[i][o]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=c},7113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this,t=e.positions,n=[],r=e.iterations,i=e.width/10;e.maxDisplace=i,e.disp=n;for(var o=0;o<r;o++)t.forEach((function(e,t){n[t]={x:0,y:0}})),e.getRepulsion(),e.updatePositions();return t},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,i=e.k,o=e.radii||[];t.forEach((function(a,s){r[s]={x:0,y:0},t.forEach((function(t,u){if(s!==u&&o[s]===o[u]){var l=a[0]-t[0],c=a[1]-t[1],f=Math.sqrt(l*l+c*c);if(0===f){f=1;var d=s>u?1:-1;l=.01*d,c=.01*d}if(f<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=i*i/f;r[s].x+=l/f*h,r[s].y+=c/f*h}}}))}))},e.prototype.updatePositions=function(){var e=this,t=e.positions,n=e.disp,r=e.speed,i=e.strictRadial,o=e.focusID,a=e.maxDisplace||e.width/10;i&&n.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),s=i/a,u=-r/a,l=Math.sqrt(e.x*e.x+e.y*e.y),c=Math.acos((s*e.x+u*e.y)/l);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,u*=-1);var f=Math.cos(c)*l;e.x=s*f,e.y=u*f}));var s=e.radii;t.forEach((function(e,u){if(u!==o){var l=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(l>0&&u!==o){var c=Math.min(a*(r/800),l);if(e[0]+=n[u].x/l*c,e[1]+=n[u].y/l*c,i){var f=e[0]-t[o][0],d=e[1]-t[o][1],h=Math.sqrt(f*f+d*d);f=f/h*s[u],d=d/h*s[u],e[0]=t[o][0]+f,e[1]=t[o][1]+d}}}}))},e}();t.default=n},1831:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach((function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(4950).Base);t.RandomLayout=i},2514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8252:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(4950),o=n(1784),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name "+e+" exists already, it will be overridden"),(0,o.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,t,n),Object.keys(o).forEach((function(e){var t=o[e];i[e]=t})),r}return r(n,e),n}(i.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},4229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},3479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(1784),i=n(6162);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,i.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,o){return void 0===o&&(o=!0),n||0===n?(0,t.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(o){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},7471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(1784),i=n(930);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],l=(0,i.getEdgeTerminal)(u,"source"),c=(0,i.getEdgeTerminal)(u,"target");r[o[l]].push(o[c]),r[o[c]].push(o[l])}var f=0;for(a=0;a<e.length;a++){var d=n.length,h=r[a],p=h.length;n[4*a+2]=d,n[4*a+3]=h.length,f=Math.max(f,h.length);for(var g=0;g<p;++g){var v=h[g];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:f,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var o=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,o.push(l.x),o.push(l.y),o.push(0),o.push(0),a.push([])}for(u=0;u<t.length;u++){var c=t[u],f=(0,i.getEdgeTerminal)(c,"source"),d=(0,i.getEdgeTerminal)(c,"target");a[s[f]].push(s[d]),a[s[f]].push(n(c)),a[s[f]].push(r(c)),a[s[f]].push(0),a[s[d]].push(s[f]),a[s[d]].push(n(c)),a[s[d]].push(r(c)),a[s[d]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=o.length,g=a[u],v=g.length;o[4*u+2]=p+1048576*v/4,o[4*u+3]=0,h=Math.max(h,v/4);for(var m=0;m<v;++m){var y=g[m];o.push(+y)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:h,array:new Float32Array(o)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)}},1784:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4426),t),i(n(4229),t),i(n(6162),t),i(n(930),t),i(n(3040),t),i(n(3479),t)},930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(3040);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var i=[],o=0;o<e;o++)i[o]=0;return r?(r.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target");r&&(i[n[r]]+=1),o&&(i[n[o]]+=1)})),i):i};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,i=e.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){a[e.id]=t;o.push([])})),i&&i.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[i];o[s][u]=1,n||(o[u][s]=1)})),o};t.scaleMatrix=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n};var i=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)};t.traverseTreeUp=function(e,t){"function"===typeof t&&i(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach((function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),i<e.y&&(i=e.y)})),{minX:t,minY:n,maxX:r,maxY:i}}},6162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},3040:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var r=[];return e.forEach((function(e){r.push(e)})),r.map((function(e){return(0,t.clone)(e)}))}if("object"===typeof e&&e!=={}){var i=n({},e);return Object.keys(i).forEach((function(e){i[e]=(0,t.clone)(i[e])})),i}return e}},4426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var n=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.replace(n,(function(e,t){return t?t.toUpperCase():""}))}))},6022:function(e,t,n){"use strict";n.r(t),n.d(t,{Cache:function(){return St},assign:function(){return Ze},augment:function(){return He},clamp:function(){return ee},clearAnimationFrame:function(){return Ue},clone:function(){return Ye},contains:function(){return i},debounce:function(){return Xe},deepMix:function(){return $e},difference:function(){return a},each:function(){return h},endsWith:function(){return V},every:function(){return U},extend:function(){return Qe},filter:function(){return o},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return te},flatten:function(){return w},flattenDeep:function(){return _},forIn:function(){return ye},get:function(){return st},getEllipsisText:function(){return _t},getRange:function(){return C},getType:function(){return Ae},getWrapBehavior:function(){return K},group:function(){return X},groupBy:function(){return H},groupToMap:function(){return Y},has:function(){return be},hasKey:function(){return xe},hasValue:function(){return _e},head:function(){return F},identity:function(){return mt},includes:function(){return i},indexOf:function(){return Je},isArguments:function(){return Ne},isArray:function(){return f},isArrayLike:function(){return r},isBoolean:function(){return De},isDate:function(){return Pe},isDecimal:function(){return re},isElement:function(){return Ge},isEmpty:function(){return tt},isEqual:function(){return nt},isEqualWith:function(){return rt},isError:function(){return Oe},isEven:function(){return ie},isFinite:function(){return Le},isFunction:function(){return l},isInteger:function(){return oe},isMatch:function(){return g},isNegative:function(){return ae},isNil:function(){return c},isNull:function(){return Re},isNumber:function(){return ne},isNumberEqual:function(){return se},isObject:function(){return d},isObjectLike:function(){return v},isOdd:function(){return ue},isPlainObject:function(){return m},isPositive:function(){return le},isPrototype:function(){return ze},isRegExp:function(){return Fe},isString:function(){return O},isType:function(){return u},isUndefined:function(){return je},keys:function(){return p},last:function(){return j},lowerCase:function(){return Ee},lowerFirst:function(){return Ce},map:function(){return it},mapValues:function(){return at},max:function(){return S},maxBy:function(){return ce},measureTextWidth:function(){return wt},memoize:function(){return Ke},min:function(){return E},minBy:function(){return fe},mix:function(){return Ze},mod:function(){return de},noop:function(){return vt},number2color:function(){return Q},omit:function(){return ft},parseRadius:function(){return J},pick:function(){return ct},pull:function(){return T},pullAt:function(){return N},reduce:function(){return D},remove:function(){return P},requestAnimationFrame:function(){return Ve},set:function(){return ut},size:function(){return yt},some:function(){return W},sortBy:function(){return L},startsWith:function(){return G},substitute:function(){return ke},throttle:function(){return dt},toArray:function(){return ht},toDegree:function(){return pe},toInteger:function(){return ge},toRadian:function(){return me},toString:function(){return Se},union:function(){return B},uniq:function(){return R},uniqueId:function(){return gt},upperCase:function(){return Me},upperFirst:function(){return Ie},values:function(){return we},valuesOfKey:function(){return z},wrapBehavior:function(){return q}});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},i=function(e,t){return!!r(e)&&e.indexOf(t)>-1},o=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o,i)&&n.push(o)}return n},a=function(e,t){return void 0===t&&(t=[]),o(e,(function(e){return!i(t,e)}))},s={}.toString,u=function(e,t){return s.call(e)==="[object "+t+"]"},l=function(e){return u(e,"Function")},c=function(e){return null===e||void 0===e},f=function(e){return Array.isArray?Array.isArray(e):u(e,"Array")},d=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var h=function(e,t){if(e)if(f(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(d(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break},p=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(r)})),t};var g=function(e,t){var n=p(t),r=n.length;if(c(e))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},v=function(e){return"object"===typeof e&&null!==e},m=function(e){if(!v(e)||!u(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var y=function(e,t){if(!f(e))return null;var n;if(l(t)&&(n=t),m(t)&&(n=function(e){return g(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var b=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},x=function(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r][t];if(!c(i)){n=f(i)?i[0]:i;break}}return n},w=function(e){if(!f(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},_=function e(t,n){if(void 0===n&&(n=[]),f(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},S=function(e){if(f(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},E=function(e){if(f(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},C=function(e){var t=e.filter((function(e){return!isNaN(e)}));if(!t.length)return{min:0,max:0};if(f(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var i=S(t);return{min:E(t),max:i}},k=Array.prototype,M=k.splice,I=k.indexOf,T=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=-1;(o=I.call(e,i))>-1;)M.call(e,o,1);return e},A=Array.prototype.splice,N=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,a=t[n];n!==i&&a===o||(o=a,A.call(e,a,1))}return e},D=function(e,t,n){if(!f(e)&&!m(e))return e;var r=n;return h(e,(function(e,n){r=t(r,e,n)})),r},P=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,o=[],a=e.length;++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return N(e,o),n},O=function(e){return u(e,"String")};var L=function(e,t){var n;if(l(t))n=function(e,n){return t(e)-t(n)};else{var r=[];O(t)?r.push(t):f(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n];if(e[i]>t[i])return 1;if(e[i]<t[i])return-1}return 0}}return e.sort(n),e};function R(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}var B=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R([].concat.apply([],e))},z=function(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];if(!c(o)){f(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function F(e){if(r(e))return e[0]}function j(e){if(r(e)){return e[e.length-1]}}var G=function(e,t){return!(!f(e)&&!O(e))&&e[0]===t};var V=function(e,t){return!(!f(e)&&!O(e))&&e[e.length-1]===t},U=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},W=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},Z=Object.prototype.hasOwnProperty;var H=function(e,t){if(!t||!f(e))return{};for(var n,r={},i=l(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),Z.call(r,n)?r[n].push(a):r[n]=[a]}return r};function Y(e,t){if(!t)return{0:e};if(!l(t)){var n=f(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return H(e,t)}var X=function(e,t){if(!t)return[e];var n=Y(e,t),r=[];for(var i in n)r.push(n[i]);return r};var K=function(e,t){return e["_wrap_"+t]};var q=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},$={};var Q=function(e){var t=$[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,$[e]=t}return t};var J=function(e){var t=0,n=0,r=0,i=0;return f(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},ee=function(e,t,n){return e<t?t:e>n?n:e},te=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},ne=function(e){return u(e,"Number")},re=function(e){return ne(e)&&e%1!==0},ie=function(e){return ne(e)&&e%2===0},oe=Number.isInteger?Number.isInteger:function(e){return ne(e)&&e%1===0},ae=function(e){return ne(e)&&e<0};function se(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}var ue=function(e){return ne(e)&&e%2!==0},le=function(e){return ne(e)&&e>0},ce=function(e,t){if(f(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},fe=function(e,t){if(f(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},de=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ge=parseInt,ve=Math.PI/180,me=function(e){return ve*e},ye=h,be=function(e,t){return e.hasOwnProperty(t)},xe=be,we=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(n)})),t},_e=function(e,t){return i(we(e),t)},Se=function(e){return c(e)?"":e.toString()},Ee=function(e){return Se(e).toLowerCase()},Ce=function(e){var t=Se(e);return t.charAt(0).toLowerCase()+t.substring(1)};var ke=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e},Me=function(e){return Se(e).toUpperCase()},Ie=function(e){var t=Se(e);return t.charAt(0).toUpperCase()+t.substring(1)},Te={}.toString,Ae=function(e){return Te.call(e).replace(/^\[object /,"").replace(/]$/,"")},Ne=function(e){return u(e,"Arguments")},De=function(e){return u(e,"Boolean")},Pe=function(e){return u(e,"Date")},Oe=function(e){return u(e,"Error")};function Le(e){return ne(e)&&isFinite(e)}var Re=function(e){return null===e},Be=Object.prototype,ze=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||Be)},Fe=function(e){return u(e,"RegExp")},je=function(e){return void 0===e},Ge=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ve(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ue(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function We(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function Ze(e,t,n,r){return t&&We(e,t),n&&We(e,n),r&&We(e,r),e}var He=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];l(i)&&(i=i.prototype),Ze(n.prototype,i)}},Ye=function e(t){if("object"!==typeof t||null===t)return t;var n;if(f(t)){n=[];for(var r=0,i=t.length;r<i;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var o in n={},t)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o];return n};var Xe=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},Ke=function(e,t){if(!l(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function qe(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&m(o)?(m(e[i])||(e[i]={}),n<r?qe(e[i],o,n+1,r):e[i]=t[i]):f(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var $e=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)qe(e,t[r]);return e},Qe=function(e,t,n,r){l(t)||(n=t,t=e,e=function(){});var i=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},o=i(t.prototype,e);return e.prototype=Ze(o,e.prototype),e.superclass=i(t.prototype,t),Ze(o,n),Ze(e,r),e},Je=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i},et=Object.prototype.hasOwnProperty;var tt=function(e){if(c(e))return!0;if(r(e))return!e.length;var t=Ae(e);if("Map"===t||"Set"===t)return!e.size;if(ze(e))return!Object.keys(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},nt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(O(t)||O(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var i=!0,o=0;o<t.length&&(i=e(t[o],n[o]));o++);return i}if(v(t)||v(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=e(t[a[o]],n[a[o]]));o++);return i}return!1},rt=function(e,t,n){return l(n)?!!n(e,t):nt(e,t)},it=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(t(o,i))}return n},ot=function(e){return e},at=function(e,t){void 0===t&&(t=ot);var n={};return d(e)&&!c(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n},st=function(e,t,n){for(var r=0,i=O(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},ut=function(e,t,n){var r=e,i=O(t)?t.split("."):t;return i.forEach((function(e,t){t<i.length-1?(d(r[e])||(r[e]=ne(i[t+1])?[]:{}),r=r[e]):r[e]=n})),e},lt=Object.prototype.hasOwnProperty,ct=function(e,t){if(null===e||!m(e))return{};var n={};return h(t,(function(t){lt.call(e,t)&&(n[t]=e[t])})),n},ft=function(e,t){return D(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},dt=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},ht=function(e){return r(e)?Array.prototype.slice.call(e):[]},pt={},gt=function(e){return pt[e=e||"g"]?pt[e]+=1:pt[e]=1,e+pt[e]},vt=function(){},mt=function(e){return e};function yt(e){return c(e)?0:r(e)?e.length:Object.keys(e).length}var bt,xt=n(9388),wt=Ke((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return bt||(bt=document.createElement("canvas").getContext("2d")),bt.font=[o,a,i,n+"px",r].join(" "),bt.measureText(O(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),(0,xt.__spreadArrays)([e],we(t)).join("")})),_t=function(e,t,n,r){void 0===r&&(r="...");var i,o,a=wt(r,n),s=O(e)?e:Se(e),u=t,l=[];if(wt(e,n)<=t)return e;for(;i=s.substr(0,16),!((o=wt(i,n))+a>u&&o>u);)if(l.push(i),u-=o,!(s=s.substr(16)))return l.join("");for(;i=s.substr(0,1),!((o=wt(i,n))+a>u);)if(l.push(i),u-=o,!(s=s.substr(1)))return l.join("");return""+l.join("")+r},St=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}()},3915:function(e,t,n){var r=n(6149);e.exports={Graph:r.Graph,json:n(9071),alg:n(3959),version:r.version}},9756:function(e,t,n){var r=n(2783);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},4270:function(e,t,n){var r=n(2783);function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}},8869:function(e,t,n){var r=n(1787),i=n(2783);e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},1787:function(e,t,n){var r=n(2783),i=n(148);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},u=new i,l=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,u.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},2219:function(e,t,n){var r=n(2783),i=n(7181);e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},4035:function(e,t,n){var r=n(2783);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},3959:function(e,t,n){e.exports={components:n(9756),dijkstra:n(1787),dijkstraAll:n(8869),findCycles:n(2219),floydWarshall:n(4035),isAcyclic:n(3714),postorder:n(4945),preorder:n(3098),prim:n(5074),tarjan:n(7181),topsort:n(2980)}},3714:function(e,t,n){var r=n(2980);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},4945:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"post")}},3098:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"pre")}},5074:function(e,t,n){var r=n(2783),i=n(317),o=n(148);e.exports=function(e,t){var n,a=new i,s={},u=new o;function l(e){var r=e.v===n?e.w:e.v,i=u.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}},7181:function(e,t,n){var r=n(2783);e.exports=function(e){var t=0,n=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(u.lowlink=Math.min(u.lowlink,i[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,i[e].lowlink))})),u.lowlink===u.index){var l,c=[];do{l=n.pop(),i[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}return e.nodes().forEach((function(e){r.has(i,e)||a(e)})),o}},2980:function(e,t,n){var r=n(2783);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o},148:function(e,t,n){var r=n(2783);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},317:function(e,t,n){"use strict";var r=n(2783);e.exports=o;var i="\0";function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var o=""+t,a=""+n;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(r.isUndefined(i)?"\0":i)}function l(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function c(e,t){return u(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._in[e])}),this))},o.prototype.sinks=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._out[e])}),this))},o.prototype.setNodes=function(e,t){var n=arguments;return r.each(e,r.bind((function(e){n.length>1?this.setNode(e,t):this.setNode(e)}),this)),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),r.bind((function(e){this.setParent(e)}),this)),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),r.each(this._nodes,r.bind((function(n,r){e(r)&&t.setNode(r,n)}),this)),r.each(this._edgeObjs,r.bind((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,this.edge(e))}),this));var n=this,i={};function o(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},o.prototype.setEdge=function(){var e,t,n,i,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var c=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=o?i:this._defaultEdgeLabelFn(e,t,n);var f=l(this._isDirected,e,t,n);return e=f.v,t=f.w,Object.freeze(f),this._edgeObjs[c]=f,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][c]=f,this._out[e][c]=f,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},6149:function(e,t,n){e.exports={Graph:n(317),version:n(8931)}},9071:function(e,t,n){var r=n(2783),i=n(317);function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},2783:function(e,t,n){var r;try{r=n(763)}catch(i){}r||(r=window._),e.exports=r},8931:function(e){e.exports="2.1.4"},5511:function(e,t){"use strict";(function(e){e.TextureCompressionBC="texture-compression-bc"})(t.UX||(t.UX={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.OB||(t.OB={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.$l||(t.$l={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.zi||(t.zi={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.db||(t.db={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.wb||(t.wb={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.Wf||(t.Wf={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.X9||(t.X9={})),function(e){e.CCW="ccw",e.CW="cw"}(t.zX||(t.zX={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.iD||(t.iD={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.V||(t.V={})),function(e){e.Load="load"}(t.Ws||(t.Ws={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.YV||(t.YV={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.xS||(t.xS={})),function(e){e.Store="store",e.Clear="clear"}(t.EG||(t.EG={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.kd||(t.kd={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.EV||(t.EV={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.Ek||(t.Ek={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.p_||(t.p_={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.gB||(t.gB={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.H7||(t.H7={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.mj||(t.mj={})),function(e){e.Occlusion="occlusion"}(t.xL||(t.xL={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.FB||(t.FB={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.Yw||(t.Yw={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.$X||(t.$X={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.v2||(t.v2={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.gc||(t.gc={}))},5808:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(3449)).default;t.default=i},3449:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(6161)),a=r(n(7255)),s={lang:(0,i.default)({placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"]},o.default),timePickerLocale:(0,i.default)({},a.default)};s.lang.ok="\u786e\u5b9a";var u=s;t.default=u},5821:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(1431)),o=r(n(3449)),a=r(n(7255)),s=r(n(5808)),u="${label}\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684${type}",l={locale:"zh-cn",Pagination:i.default,DatePicker:o.default,TimePicker:a.default,Calendar:s.default,global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectNone:"\u6e05\u7a7a\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Form:{optional:"\uff08\u53ef\u9009\uff09",defaultValidateMessages:{default:"\u5b57\u6bb5\u9a8c\u8bc1\u9519\u8bef${label}",required:"\u8bf7\u8f93\u5165${label}",enum:"${label}\u5fc5\u987b\u662f\u5176\u4e2d\u4e00\u4e2a[${enum}]",whitespace:"${label}\u4e0d\u80fd\u4e3a\u7a7a\u5b57\u7b26",date:{format:"${label}\u65e5\u671f\u683c\u5f0f\u65e0\u6548",parse:"${label}\u4e0d\u80fd\u8f6c\u6362\u4e3a\u65e5\u671f",invalid:"${label}\u662f\u4e00\u4e2a\u65e0\u6548\u65e5\u671f"},types:{string:u,method:u,array:u,object:u,number:u,date:u,boolean:u,integer:u,float:u,regexp:u,email:u,url:u,hex:u},string:{len:"${label}\u987b\u4e3a${len}\u4e2a\u5b57\u7b26",min:"${label}\u6700\u5c11${min}\u4e2a\u5b57\u7b26",max:"${label}\u6700\u591a${max}\u4e2a\u5b57\u7b26",range:"${label}\u987b\u5728${min}-${max}\u5b57\u7b26\u4e4b\u95f4"},number:{len:"${label}\u5fc5\u987b\u7b49\u4e8e${len}",min:"${label}\u6700\u5c0f\u503c\u4e3a${min}",max:"${label}\u6700\u5927\u503c\u4e3a${max}",range:"${label}\u987b\u5728${min}-${max}\u4e4b\u95f4"},array:{len:"\u987b\u4e3a${len}\u4e2a${label}",min:"\u6700\u5c11${min}\u4e2a${label}",max:"\u6700\u591a${max}\u4e2a${label}",range:"${label}\u6570\u91cf\u987b\u5728${min}-${max}\u4e4b\u95f4"},pattern:{mismatch:"${label}\u4e0e\u6a21\u5f0f\u4e0d\u5339\u914d${pattern}"}}},Image:{preview:"\u9884\u89c8"}};t.Z=l},7255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]};t.default=n},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),o=n(9301),a=n(9774),s=n(1804),u=n(9145),l=n(5411),c=n(6467),f=n(221),d=n(9346);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,g=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+x)}var w=s(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),m()}),(function(e){n(e),m()}),o),y=null}}if(y.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(c("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(c("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||l(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in y&&r.forEach(g,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),y.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),o=n(3773),a=n(777);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(221));s.Axios=o,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),o=n(7470),a=n(2733),s=n(777),u=n(7835),l=u.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(g){p(g);break}}try{o=a(d)}catch(g){return Promise.reject(g)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),o=n(5517),a=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),o=n(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u},7600:function(e){e.exports={version:"0.26.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7049:function(e,t,n){var r=n(7910),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),f=function(e){return(l-e)/6/c+.5};return 0===c?i=o=0:(o=c/l,t=f(a),n=f(s),r=f(u),a===l?i=r-n:s===l?i=1/3+t-r:u===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=r[u],c=(o=e,a=l,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=u)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,l=e[1]/100,c=e[2]/100,f=l+c;switch(f>1&&(l/=f,c/=f),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=l+r*((n=1-c)-l),t){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},7287:function(e,t,n){var r=n(7049),i=n(9672),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},9672:function(e,t,n){var r=n(7049);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=t[u];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},7910:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9194:function(e,t,n){var r=n(7910),i=n(5114),o=Object.hasOwnProperty,a={};for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},3861:function(e,t,n){"use strict";var r=n(9194),i=n(7287),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var u={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=r.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,c=i[this.model].channels,this.color=f.value.slice(0,c),this.valpha="number"===typeof f.value[c]?f.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var d=o.call(e,0,c);this.color=h(d,c),this.valpha="number"===typeof e[c]?e[c]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var v=i[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(e[v[n]]);this.color=h(m)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function f(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,f(255)),green:c("rgb",1,f(255)),blue:c("rgb",2,f(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,f(100)),lightness:c("hsl",2,f(100)),saturationv:c("hsv",1,f(100)),value:c("hsv",2,f(100)),chroma:c("hcg",1,f(100)),gray:c("hcg",2,f(100)),white:c("hwb",1,f(100)),wblack:c("hwb",2,f(100)),cyan:c("cmyk",0,f(100)),magenta:c("cmyk",1,f(100)),yellow:c("cmyk",2,f(100)),black:c("cmyk",3,f(100)),x:c("xyz",0,f(100)),y:c("xyz",1,f(100)),z:c("xyz",2,f(100)),l:c("lab",0,f(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new l(d(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"===typeof n&&(n=h(o.call(arguments),t)),new l(n,e)}}})),e.exports=l},8177:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=o,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],a=[],s=[],u=[],l=[],c=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var g=e[n],v=e[g],m=e[v],y=257*e[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,l[n]=y,y=16843009*m^65537*v^257*g^16843008*n,c[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,n?(n=g^e[e[e[m^g]]],o^=e[e[o]]):n=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<i;a++)a<n?o[a]=t[a]:(l=o[a-1],a%n?n>6&&a%n==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=p[a/n|0]<<24),o[a]=o[a-n]^l);for(var s=this._invKeySchedule=[],u=0;u<i;u++){if(a=i-u,u%4)var l=o[a];else l=o[a-4];s[u]=u<4||a<=4?l:c[r[l>>>24]]^f[r[l>>>16&255]]^d[r[l>>>8&255]]^h[r[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,u,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,f,d,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var u=this._nRounds,l=e[t]^n[0],c=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<u;p++){var g=r[l>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&d]^n[h++],v=r[c>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&l]^n[h++],m=r[f>>>24]^i[d>>>16&255]^o[l>>>8&255]^a[255&c]^n[h++],y=r[d>>>24]^i[l>>>16&255]^o[c>>>8&255]^a[255&f]^n[h++];l=g,c=v,f=m,d=y}g=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[h++],v=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^n[h++],m=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^n[h++],y=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^n[h++],e[t]=g,e[t+1]=v,e[t+2]=m,e[t+3]=y},keySize:8});e.AES=t._createHelper(g)}(),o.AES)}()},3650:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(8228),void(o.lib.Cipher||function(e){var t=o,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,u=(s.Utf8,s.Base64),l=t.algo.EvpKDF,c=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:m}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),f=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=d.extend();function n(t,n,r){var i,o=this._iv;o?(i=o,this._iv=e):i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var u=i.create(a,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:h,padding:p}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},m=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=l.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,g.create({key:o,iv:a,salt:r})}},b=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=m.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,m.decrypt.call(this,e,t,i.key,r)}})}()))}()},8926:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(v){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},u=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=u.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),c=a.enc={},f=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=a)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=c}return new l.init(n,c)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e}()},3713:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},4728:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,u=0;u<4&&a+.75*u<r;u++)o.push(i.charAt(s>>>6*(3-u)&63));var l=i.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var u=e.indexOf(s);-1!==u&&(r=u)}return n(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)}()},1551:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var a=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)}()},8228:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(5590),n(5086),function(){var e=o,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,o=i.hasher.create(),a=r.create(),s=a.words,u=i.keySize,l=i.iterations;s.length<u;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var c=1;c<l;c++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*u,a}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),o.EvpKDF)}()},1863:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),function(e){var t=o,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),o.format.Hex)}()},5086:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,l=0;l<r;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},9704:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3646),n(5533),n(1551),n(3713),n(4728),n(3074),n(5590),n(9517),n(3183),n(4345),n(6319),n(6853),n(77),n(5086),n(3822),n(8228),n(3650),n(5152),n(2992),n(7223),n(5858),n(130),n(2409),n(4823),n(6644),n(1181),n(8413),n(1863),n(8177),n(2550),n(1325),n(2639),n(2130),o)}()},5533:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},3074:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],u=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],x=e[t+9],w=e[t+10],_=e[t+11],S=e[t+12],E=e[t+13],C=e[t+14],k=e[t+15],M=o[0],I=o[1],T=o[2],A=o[3];M=l(M,I,T,A,a,7,s[0]),A=l(A,M,I,T,u,12,s[1]),T=l(T,A,M,I,h,17,s[2]),I=l(I,T,A,M,p,22,s[3]),M=l(M,I,T,A,g,7,s[4]),A=l(A,M,I,T,v,12,s[5]),T=l(T,A,M,I,m,17,s[6]),I=l(I,T,A,M,y,22,s[7]),M=l(M,I,T,A,b,7,s[8]),A=l(A,M,I,T,x,12,s[9]),T=l(T,A,M,I,w,17,s[10]),I=l(I,T,A,M,_,22,s[11]),M=l(M,I,T,A,S,7,s[12]),A=l(A,M,I,T,E,12,s[13]),T=l(T,A,M,I,C,17,s[14]),M=c(M,I=l(I,T,A,M,k,22,s[15]),T,A,u,5,s[16]),A=c(A,M,I,T,m,9,s[17]),T=c(T,A,M,I,_,14,s[18]),I=c(I,T,A,M,a,20,s[19]),M=c(M,I,T,A,v,5,s[20]),A=c(A,M,I,T,w,9,s[21]),T=c(T,A,M,I,k,14,s[22]),I=c(I,T,A,M,g,20,s[23]),M=c(M,I,T,A,x,5,s[24]),A=c(A,M,I,T,C,9,s[25]),T=c(T,A,M,I,p,14,s[26]),I=c(I,T,A,M,b,20,s[27]),M=c(M,I,T,A,E,5,s[28]),A=c(A,M,I,T,h,9,s[29]),T=c(T,A,M,I,y,14,s[30]),M=f(M,I=c(I,T,A,M,S,20,s[31]),T,A,v,4,s[32]),A=f(A,M,I,T,b,11,s[33]),T=f(T,A,M,I,_,16,s[34]),I=f(I,T,A,M,C,23,s[35]),M=f(M,I,T,A,u,4,s[36]),A=f(A,M,I,T,g,11,s[37]),T=f(T,A,M,I,y,16,s[38]),I=f(I,T,A,M,w,23,s[39]),M=f(M,I,T,A,E,4,s[40]),A=f(A,M,I,T,a,11,s[41]),T=f(T,A,M,I,p,16,s[42]),I=f(I,T,A,M,m,23,s[43]),M=f(M,I,T,A,x,4,s[44]),A=f(A,M,I,T,S,11,s[45]),T=f(T,A,M,I,k,16,s[46]),M=d(M,I=f(I,T,A,M,h,23,s[47]),T,A,a,6,s[48]),A=d(A,M,I,T,y,10,s[49]),T=d(T,A,M,I,C,15,s[50]),I=d(I,T,A,M,v,21,s[51]),M=d(M,I,T,A,S,6,s[52]),A=d(A,M,I,T,p,10,s[53]),T=d(T,A,M,I,w,15,s[54]),I=d(I,T,A,M,u,21,s[55]),M=d(M,I,T,A,b,6,s[56]),A=d(A,M,I,T,k,10,s[57]),T=d(T,A,M,I,m,15,s[58]),I=d(I,T,A,M,E,21,s[59]),M=d(M,I,T,A,g,6,s[60]),A=d(A,M,I,T,_,10,s[61]),T=d(T,A,M,I,h,15,s[62]),I=d(I,T,A,M,x,21,s[63]),o[0]=o[0]+M|0,o[1]=o[1]+I|0,o[2]=o[2]+T|0,o[3]=o[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,l=0;l<4;l++){var c=u[l];u[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function c(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(u),t.HmacMD5=o._createHmacHelper(u)}(Math),i.MD5)}()},5152:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.mode.CFB=function(){var e=o.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),o.mode.CFB)}()},7223:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.mode.CTRGladman=function(){var e=o.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var u=0;u<i;u++)e[t+u]^=s[u]}});return e.Decryptor=r,e}(),o.mode.CTRGladman)}()},2992:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.mode.CTR=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}});return e.Decryptor=t,e}(),o.mode.CTR)}()},130:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.mode.ECB=function(){var e=o.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),o.mode.ECB)}()},5858:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.mode.OFB=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}});return e.Decryptor=t,e}(),o.mode.OFB)}()},2409:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Ansix923)}()},4823:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(o.lib.WordArray.random(r-1)).concat(o.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso10126)}()},6644:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.pad.Iso97971={pad:function(e,t){e.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(e,t)},unpad:function(e){o.pad.ZeroPadding.unpad(e),e.sigBytes--}},o.pad.Iso97971)}()},8413:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)}()},1181:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3650),o.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},o.pad.ZeroPadding)}()},3822:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(5590),n(5086),function(){var e=o,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.SHA1,s=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=s.create(n.hasher,e),o=r.create(),a=r.create([1]),u=o.words,l=a.words,c=n.keySize,f=n.iterations;u.length<c;){var d=i.update(t).finalize(a);i.reset();for(var h=d.words,p=h.length,g=d,v=1;v<f;v++){g=i.finalize(g),i.reset();for(var m=g.words,y=0;y<p;y++)h[y]^=m[y]}o.concat(d),l[0]++}return o.sigBytes=4*c,o}});e.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)}}(),o.PBKDF2)}()},2130:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&c,d=c<<16|65535&l;for(r[0]^=l,r[1]^=f,r[2]^=c,r[3]^=d,r[4]^=l,r[5]^=f,r[6]^=c,r[7]^=d,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(e,t){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,u=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),o.RabbitLegacy)}()},2639:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)u.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&c,d=c<<16|65535&l;for(i[0]^=l,i[1]^=f,i[2]^=c,i[3]^=d,i[4]^=l,i[5]^=f,i[6]^=c,i[7]^=d,n=0;n<4;n++)u.call(this)}},_doProcessBlock:function(e,t){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,u=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),o.Rabbit)}()},1325:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var u=r[i];r[i]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),o.RC4)}()},77:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,h,x,w,_,S,E,C,k,M,I=this._hash.words,T=f.words,A=d.words,N=s.words,D=u.words,P=l.words,O=c.words;for(_=o=I[0],S=a=I[1],E=h=I[2],C=x=I[3],k=w=I[4],n=0;n<80;n+=1)M=o+e[t+N[n]]|0,M+=n<16?p(a,h,x)+T[0]:n<32?g(a,h,x)+T[1]:n<48?v(a,h,x)+T[2]:n<64?m(a,h,x)+T[3]:y(a,h,x)+T[4],M=(M=b(M|=0,P[n]))+w|0,o=w,w=x,x=b(h,10),h=a,a=M,M=_+e[t+D[n]]|0,M+=n<16?y(S,E,C)+A[0]:n<32?m(S,E,C)+A[1]:n<48?v(S,E,C)+A[2]:n<64?g(S,E,C)+A[3]:p(S,E,C)+A[4],M=(M=b(M|=0,O[n]))+k|0,_=k,k=C,C=b(E,10),E=S,S=M;M=I[1]+h+C|0,I[1]=I[2]+x+k|0,I[2]=I[3]+w+_|0,I[3]=I[4]+o+S|0,I[4]=I[0]+a+E|0,I[0]=M},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function v(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),i.RIPEMD160)}()},5590:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,o=e.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],l=0;l<80;l++){if(l<16)a[l]=0|e[t+l];else{var c=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=c<<1|c>>>31}var f=(r<<5|r>>>27)+u+a[l];f+=l<20?1518500249+(i&o|~i&s):l<40?1859775393+(i^o^s):l<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,u=s,s=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),i.SHA1)}()},3183:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(9517),function(){var e=o,t=e.lib.WordArray,n=e.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(i),e.HmacSHA224=r._createHmacHelper(i)}(),o.SHA224)}()},9517:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=l[h-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[h]=g+l[h-7]+m+l[h-16]}var y=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),x=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&f)+u[h]+l[h];d=f,f=c,c=s,s=a+x|0,a=o,o=i,i=r,r=x+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(c),t.HmacSHA256=o._createHmacHelper(c)}(Math),i.SHA256)}()},6853:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3646),function(e){var t=o,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.x64.Word,s=t.algo,u=[],l=[],c=[];!function(){for(var e=1,t=0,n=0;n<24;n++){u[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?f^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}c[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=n[i]).high^=a,I.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,p=0,g=0;g<5;g++)h^=(I=n[d+5*g]).high,p^=I.low;var v=f[d];v.high=h,v.low=p}for(d=0;d<5;d++){var m=f[(d+4)%5],y=f[(d+1)%5],b=y.high,x=y.low;for(h=m.high^(b<<1|x>>>31),p=m.low^(x<<1|b>>>31),g=0;g<5;g++)(I=n[d+5*g]).high^=h,I.low^=p}for(var w=1;w<25;w++){var _=(I=n[w]).high,S=I.low,E=u[w];E<32?(h=_<<E|S>>>32-E,p=S<<E|_>>>32-E):(h=S<<E-32|_>>>64-E,p=_<<E-32|S>>>64-E);var C=f[l[w]];C.high=h,C.low=p}var k=f[0],M=n[0];for(k.high=M.high,k.low=M.low,d=0;d<5;d++)for(g=0;g<5;g++){var I=n[w=d+5*g],T=f[w],A=f[(d+1)%5+5*g],N=f[(d+2)%5+5*g];I.high=T.high^~A.high&N.high,I.low=T.low^~A.low&N.low}I=n[0];var D=c[s];I.high^=D.high,I.low^=D.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,l=[],c=0;c<u;c++){var f=a[c],d=f.high,h=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(d)}return new r.init(l,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(d),t.HmacSHA3=i._createHmacHelper(d)}(Math),o.SHA3)}()},6319:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3646),n(4345),function(){var e=o,t=e.x64,n=t.Word,r=t.WordArray,i=e.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),o.SHA384)}()},4345:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3646),function(){var e=o,t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,a=e.algo;function s(){return r.create.apply(r,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var c=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],f=n[6],d=n[7],h=r.high,p=r.low,g=i.high,v=i.low,m=o.high,y=o.low,b=a.high,x=a.low,w=s.high,_=s.low,S=c.high,E=c.low,C=f.high,k=f.low,M=d.high,I=d.low,T=h,A=p,N=g,D=v,P=m,O=y,L=b,R=x,B=w,z=_,F=S,j=E,G=C,V=k,U=M,W=I,Z=0;Z<80;Z++){var H,Y,X=l[Z];if(Z<16)Y=X.high=0|e[t+2*Z],H=X.low=0|e[t+2*Z+1];else{var K=l[Z-15],q=K.high,$=K.low,Q=(q>>>1|$<<31)^(q>>>8|$<<24)^q>>>7,J=($>>>1|q<<31)^($>>>8|q<<24)^($>>>7|q<<25),ee=l[Z-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=l[Z-7],ae=oe.high,se=oe.low,ue=l[Z-16],le=ue.high,ce=ue.low;Y=(Y=(Y=Q+ae+((H=J+se)>>>0<J>>>0?1:0))+re+((H+=ie)>>>0<ie>>>0?1:0))+le+((H+=ce)>>>0<ce>>>0?1:0),X.high=Y,X.low=H}var fe,de=B&F^~B&G,he=z&j^~z&V,pe=T&N^T&P^N&P,ge=A&D^A&O^D&O,ve=(T>>>28|A<<4)^(T<<30|A>>>2)^(T<<25|A>>>7),me=(A>>>28|T<<4)^(A<<30|T>>>2)^(A<<25|T>>>7),ye=(B>>>14|z<<18)^(B>>>18|z<<14)^(B<<23|z>>>9),be=(z>>>14|B<<18)^(z>>>18|B<<14)^(z<<23|B>>>9),xe=u[Z],we=xe.high,_e=xe.low,Se=U+ye+((fe=W+be)>>>0<W>>>0?1:0),Ee=me+ge;U=G,W=V,G=F,V=j,F=B,j=z,B=L+(Se=(Se=(Se=Se+de+((fe+=he)>>>0<he>>>0?1:0))+we+((fe+=_e)>>>0<_e>>>0?1:0))+Y+((fe+=H)>>>0<H>>>0?1:0))+((z=R+fe|0)>>>0<R>>>0?1:0)|0,L=P,R=O,P=N,O=D,N=T,D=A,T=Se+(ve+pe+(Ee>>>0<me>>>0?1:0))+((A=fe+Ee|0)>>>0<fe>>>0?1:0)|0}p=r.low=p+A,r.high=h+T+(p>>>0<A>>>0?1:0),v=i.low=v+D,i.high=g+N+(v>>>0<D>>>0?1:0),y=o.low=y+O,o.high=m+P+(y>>>0<O>>>0?1:0),x=a.low=x+R,a.high=b+L+(x>>>0<R>>>0?1:0),_=s.low=_+z,s.high=w+B+(_>>>0<z>>>0?1:0),E=c.low=E+j,c.high=S+F+(E>>>0<j>>>0?1:0),k=f.low=k+V,f.high=C+G+(k>>>0<V>>>0?1:0),I=d.low=I+W,d.high=M+U+(I>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(c),e.HmacSHA512=t._createHmacHelper(c)}(),o.SHA512)}()},2550:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=o,t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var l=i[o]=[],c=u[o];for(n=0;n<24;n++)l[n/6|0]|=t[(s[n]-1+c)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(s[n+24]-1+c)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=l[u][((a^i[u])&c[u])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(f);var p=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(n.create(t)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(p)}(),o.TripleDES)}()},3646:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.Base,o=n.WordArray,a=t.x64={};a.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i)}()},1619:function(e,t,n){"use strict";function r(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function i(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|l)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}function o(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new l(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function l(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function c(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return v},forceLink:function(){return b},forceManyBody:function(){return P},forceRadial:function(){return O},forceSimulation:function(){return D},forceX:function(){return L},forceY:function(){return R}});var f=u.prototype=l.prototype;function d(e){return function(){return e}}function h(e){return 1e-6*(e()-.5)}function p(e){return e.x+e.vx}function g(e){return e.y+e.vy}function v(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,c,f,d,v,m=t.length,y=0;y<o;++y)for(a=u(t,p,g).visitAfter(s),e=0;e<m;++e)l=t[e],d=n[l.index],v=d*d,c=l.x+l.vx,f=l.y+l.vy,a.visit(b);function b(e,t,n,o,a){var s=e.data,u=e.r,p=d+u;if(!s)return t>c+p||o<c-p||n>f+p||a<f-p;if(s.index>l.index){var g=c-s.x-s.vx,m=f-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=h(r))*g),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(u*=u)/(v+u)),l.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=d(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),l(),a):e},a}function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function b(e){var t,n,r,i,o,a,s=m,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=d(30),c=1;function f(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,f,d,p,g,v,m=0;m<s;++m)l=(u=e[m]).source,d=(f=u.target).x+f.vx-l.x-l.vx||h(a),p=f.y+f.vy-l.y-l.vy||h(a),d*=g=((g=Math.sqrt(d*d+p*p))-n[m])/g*r*t[m],p*=g,f.vx-=d*(v=o[m]),f.vy-=p*v,l.vx+=d*(v=1-v),l.vy+=p*v}function p(){if(r){var a,u,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,i=new Array(l);a<c;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(f,u.source)),"object"!==typeof u.target&&(u.target=y(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),g(),n=new Array(c),v()}}function g(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:d(+e),g(),f):u},f.distance=function(e){return arguments.length?(l="function"===typeof e?e:d(+e),v(),f):l},f}f.copy=function(){var e,t,n=new l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=c(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=c(t));return n},f.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)},f.addAll=function(e){var t,n,r,o,a=e.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,f=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,u[n]=o,r<l&&(l=r),r>f&&(f=r),o<c&&(c=o),o>d&&(d=o));if(l>f||c>d)return this;for(this.cover(l,c).cover(f,d),n=0;n<a;++n)i(this,s[n],u[n],e[n]);return this},f.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},f.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(e,t,n){var r,i,a,s,u,l,c,f=this._x0,d=this._y0,h=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(i=l.x0)>h||(a=l.y0)>p||(s=l.x1)<f||(u=l.y1)<d))if(v.length){var m=(i+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],i,y,m,u),new o(v[1],m,a,s,y),new o(v[0],i,a,m,y)),(c=(t>=y)<<1|e>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var b=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),w=b*b+x*x;if(w<n){var _=Math.sqrt(n=w);f=e-_,d=t-_,h=e+_,p=t+_,r=v.data}}return r},f.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},f.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},f.visit=function(e){var t,n,r,i,a,s,u=[],l=this._root;for(l&&u.push(new o(l,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,f=(i+s)/2;(n=l[3])&&u.push(new o(n,c,f,a,s)),(n=l[2])&&u.push(new o(n,r,f,c,s)),(n=l[1])&&u.push(new o(n,c,i,a,f)),(n=l[0])&&u.push(new o(n,r,i,c,f))}return this},f.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,u=t.y0,l=t.x1,c=t.y1,f=(s+l)/2,d=(u+c)/2;(a=i[0])&&n.push(new o(a,s,u,f,d)),(a=i[1])&&n.push(new o(a,f,u,l,d)),(a=i[2])&&n.push(new o(a,s,d,f,c)),(a=i[3])&&n.push(new o(a,f,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y};var x={value:function(){}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new _(r)}function _(e){this._=e}function S(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function E(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function C(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}_.prototype=w.prototype={constructor:_,on:function(e,t){var n,r=this._,i=S(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=C(r[n],e.name,t);else if(null==t)for(n in r)r[n]=C(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=E(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var k=w,M=n(6212),I=4294967296;function T(e){return e.x}function A(e){return e.y}var N=Math.PI*(3-Math.sqrt(5));function D(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=(0,M.HT)(f),l=k("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%I)/I}}();function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*N;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function P(){var e,t,n,r,i,o=d(-30),a=1,s=1/0,l=.81;function c(n){var i,o=e.length,a=u(e,T,A).visitAfter(p);for(r=n,i=0;i<o;++i)t=e[i],a.visit(g)}function f(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function p(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function g(e,o,u,c){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=c-o,g=f*f+d*d;if(p*p/l<g)return g<s&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)),t.vx+=f*e.value*r/g,t.vy+=d*e.value*r/g),!0;if(!(e.length||g>=s)){(e.data!==t||e.next)&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)));do{e.data!==t&&(p=i[e.data.index]*r/g,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,f()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),f(),c):o},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function O(e,t,n){var r,i,o,a=d(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],l=u.x-t||1e-6,c=u.y-n||1e-6,f=Math.sqrt(l*l+c*c),d=(o[a]-f)*i[a]*e/f;u.vx+=l*d,u.vy+=c*d}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=d(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:d(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function L(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}function R(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}},6212:function(e,t,n){"use strict";n.d(t,{HT:function(){return v}});var r,i,o=0,a=0,s=0,u=0,l=0,c=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return l||(d(p),l=f.now()+c)}function p(){l=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var r=new g;return r.restart(e,t,n),r}function m(){l=(u=f.now())+c,o=a=0;try{!function(){h(),++o;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(o)}(),l=0}}function y(){var e=f.now(),t=e-u;t>1e3&&(c-=t,u=e)}function b(e){o||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(m,e-f.now()-c)),s&&(s=clearInterval(s))):(s||(u=f.now(),s=setInterval(y,1e3)),o=1,d(m)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},716:function(e,t,n){"use strict";n.r(t),n.d(t,{BRIDGE_GRAPH_NAME:function(){return b},GraphType:function(){return v},HierarchyNodeType:function(){return m},InclusionType:function(){return g},LAYOUT_CONFIG:function(){return f},NodeType:function(){return p},ROOT_NAME:function(){return y},buildGraph:function(){return _a},flatGraph:function(){return Sa},getEdges:function(){return Ea},mergeConfig:function(){return d}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}var o=n(3433),a=n(136),s=n(4062),u=n(9439),l=n(3144),c=n(5671),f={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function d(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,a=JSON.parse(JSON.stringify(o)),s=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},l=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},c=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},d=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,l),node:Object.assign(a.nodeSize.node,c),bridge:d}}}function h(e){return"\u25ec".concat(e,"\u25ec")}var p,g,v,m,y=h("ROOT"),b=h("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(p||(p={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(g||(g={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(v||(v={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(m||(m={}));var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function w(e,t){return e(t={exports:{}},t.exports),t.exports}var _=function(e,t){return e===t||e!=e&&t!=t},S=function(e,t){for(var n=e.length;n--;)if(_(e[n][0],t))return n;return-1},E=Array.prototype.splice;function C(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(e){var t=this.__data__,n=S(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),--this.size,!0)},C.prototype.get=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},C.prototype.has=function(e){return S(this.__data__,e)>-1},C.prototype.set=function(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var k,M=C,I="object"==typeof x&&x&&x.Object===Object&&x,T="object"==typeof self&&self&&self.Object===Object&&self,A=I||T||Function("return this")(),N=A.Symbol,D=Object.prototype,P=D.hasOwnProperty,O=D.toString,L=N?N.toStringTag:void 0,R=Object.prototype.toString,B=N?N.toStringTag:void 0,z=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=P.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var i=O.call(e);return r&&(t?e[L]=n:delete e[L]),i}(e):function(e){return R.call(e)}(e)},F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},j=function(e){if(!F(e))return!1;var t=z(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},G=A["__core-js_shared__"],V=(k=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",U=Function.prototype.toString,W=function(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Z=/^\[object .+?Constructor\]$/,H=Function.prototype,Y=Object.prototype,X=H.toString,K=Y.hasOwnProperty,q=RegExp("^"+X.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=function(e){return!(!F(e)||function(e){return!!V&&V in e}(e))&&(j(e)?q:Z).test(W(e))},Q=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $(n)?n:void 0},J=Q(A,"Map"),ee=Q(Object,"create"),te=Object.prototype.hasOwnProperty,ne=Object.prototype.hasOwnProperty;function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}re.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(ee){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return te.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:ne.call(t,e)},re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?"__lodash_hash_undefined__":t,this};var ie=re,oe=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(J||M),string:new ie}},ae.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},ae.prototype.get=function(e){return oe(this,e).get(e)},ae.prototype.has=function(e){return oe(this,e).has(e)},ae.prototype.set=function(e,t){var n=oe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var se=ae;function ue(e){var t=this.__data__=new M(e);this.size=t.size}ue.prototype.clear=function(){this.__data__=new M,this.size=0},ue.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ue.prototype.get=function(e){return this.__data__.get(e)},ue.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof M){var r=n.__data__;if(!J||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new se(r)}return n.set(e,t),this.size=n.size,this};var le=ue,ce=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},fe=function(){try{var e=Q(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),de=function(e,t,n){"__proto__"==t&&fe?fe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},he=Object.prototype.hasOwnProperty,pe=function(e,t,n){var r=e[t];he.call(e,t)&&_(r,n)&&(void 0!==n||t in e)||de(e,t,n)},ge=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?de(n,s,u):pe(n,s,u)}return n},ve=function(e){return null!=e&&"object"==typeof e},me=function(e){return ve(e)&&"[object Arguments]"==z(e)},ye=Object.prototype,be=ye.hasOwnProperty,xe=ye.propertyIsEnumerable,we=me(function(){return arguments}())?me:function(e){return ve(e)&&be.call(e,"callee")&&!xe.call(e,"callee")},_e=Array.isArray,Se=function(){return!1},Ee=w((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=(i?i.isBuffer:void 0)||Se;e.exports=o})),Ce=/^(?:0|[1-9]\d*)$/,ke=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&e>-1&&e%1==0&&e<t},Me=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ie={};Ie["[object Float32Array]"]=Ie["[object Float64Array]"]=Ie["[object Int8Array]"]=Ie["[object Int16Array]"]=Ie["[object Int32Array]"]=Ie["[object Uint8Array]"]=Ie["[object Uint8ClampedArray]"]=Ie["[object Uint16Array]"]=Ie["[object Uint32Array]"]=!0,Ie["[object Arguments]"]=Ie["[object Array]"]=Ie["[object ArrayBuffer]"]=Ie["[object Boolean]"]=Ie["[object DataView]"]=Ie["[object Date]"]=Ie["[object Error]"]=Ie["[object Function]"]=Ie["[object Map]"]=Ie["[object Number]"]=Ie["[object Object]"]=Ie["[object RegExp]"]=Ie["[object Set]"]=Ie["[object String]"]=Ie["[object WeakMap]"]=!1;var Te=function(e){return function(t){return e(t)}},Ae=w((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&I.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Ne=Ae&&Ae.isTypedArray,De=Ne?Te(Ne):function(e){return ve(e)&&Me(e.length)&&!!Ie[z(e)]},Pe=Object.prototype.hasOwnProperty,Oe=function(e,t){var n=_e(e),r=!n&&we(e),i=!n&&!r&&Ee(e),o=!n&&!r&&!i&&De(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!Pe.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ke(l,u))||s.push(l);return s},Le=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)},Be=function(e,t){return function(n){return e(t(n))}},ze=Be(Object.keys,Object),Fe=Object.prototype.hasOwnProperty,je=function(e){if(!Re(e))return ze(e);var t=[];for(var n in Object(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t},Ge=function(e){return null!=e&&Me(e.length)&&!j(e)},Ve=function(e){return Ge(e)?Oe(e):je(e)},Ue=Object.prototype.hasOwnProperty,We=function(e){if(!F(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&n.push(r);return n},Ze=function(e){return Ge(e)?Oe(e,!0):We(e)},He=w((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}})),Ye=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Xe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Ke=function(){return[]},qe=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Qe=$e?function(e){return null==e?[]:(e=Object(e),Xe($e(e),(function(t){return qe.call(e,t)})))}:Ke,Je=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},et=Be(Object.getPrototypeOf,Object),tt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Je(t,Qe(e)),e=et(e);return t}:Ke,nt=function(e,t,n){var r=t(e);return _e(e)?r:Je(r,n(e))},rt=function(e){return nt(e,Ve,Qe)},it=function(e){return nt(e,Ze,tt)},ot=Q(A,"DataView"),at=Q(A,"Promise"),st=Q(A,"Set"),ut=Q(A,"WeakMap"),lt=W(ot),ct=W(J),ft=W(at),dt=W(st),ht=W(ut),pt=z;(ot&&"[object DataView]"!=pt(new ot(new ArrayBuffer(1)))||J&&"[object Map]"!=pt(new J)||at&&"[object Promise]"!=pt(at.resolve())||st&&"[object Set]"!=pt(new st)||ut&&"[object WeakMap]"!=pt(new ut))&&(pt=function(e){var t=z(e),n="[object Object]"==t?e.constructor:void 0,r=n?W(n):"";if(r)switch(r){case lt:return"[object DataView]";case ct:return"[object Map]";case ft:return"[object Promise]";case dt:return"[object Set]";case ht:return"[object WeakMap]"}return t});var gt=pt,vt=Object.prototype.hasOwnProperty,mt=A.Uint8Array,yt=function(e){var t=new e.constructor(e.byteLength);return new mt(t).set(new mt(e)),t},bt=/\w*$/,xt=N?N.prototype:void 0,wt=xt?xt.valueOf:void 0,_t=function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},St=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return yt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _t(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,bt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return wt?Object(wt.call(e)):{}}(e)}},Et=Object.create,Ct=function(){function e(){}return function(t){if(!F(t))return{};if(Et)return Et(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),kt=function(e){return"function"!=typeof e.constructor||Re(e)?{}:Ct(et(e))},Mt=Ae&&Ae.isMap,It=Mt?Te(Mt):function(e){return ve(e)&&"[object Map]"==gt(e)},Tt=Ae&&Ae.isSet,At=Tt?Te(Tt):function(e){return ve(e)&&"[object Set]"==gt(e)},Nt={};Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object DataView]"]=Nt["[object Boolean]"]=Nt["[object Date]"]=Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object Symbol]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object WeakMap]"]=!1;var Dt=function e(t,n,r,i,o,a){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!F(t))return t;var f=_e(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return Ye(t,s)}else{var d=gt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Ee(t))return He(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!o){if(s=l||h?{}:kt(t),!u)return l?function(e,t){return ge(e,tt(e),t)}(t,function(e,t){return e&&ge(t,Ze(t),e)}(s,t)):function(e,t){return ge(e,Qe(e),t)}(t,function(e,t){return e&&ge(t,Ve(t),e)}(s,t))}else{if(!Nt[d])return o?t:{};s=St(t,d,u)}}a||(a=new le);var p=a.get(t);if(p)return p;a.set(t,s),At(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):It(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var g=f?void 0:(c?l?it:rt:l?Ze:Ve)(t);return ce(g||t,(function(i,o){g&&(i=t[o=i]),pe(s,o,e(i,n,r,o,t,a))})),s},Pt=function(e){return function(){return e}},Ot=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Lt=function(e,t){return e&&Ot(e,t,Ve)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!Ge(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Lt),Bt=function(e){return e},zt=function(e){return"function"==typeof e?e:Bt},Ft=function(e,t){return(_e(e)?ce:Rt)(e,zt(t))},jt=Ft,Gt=function(e,t){var n=[];return Rt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};function Vt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new se;++t<n;)this.add(e[t])}Vt.prototype.add=Vt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Vt.prototype.has=function(e){return this.__data__.has(e)};var Ut=Vt,Wt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Zt=function(e,t){return e.has(t)},Ht=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,h=2&n?new Ut:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var v=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!Wt(t,(function(e,t){if(!Zt(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Yt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Xt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Kt=N?N.prototype:void 0,qt=Kt?Kt.valueOf:void 0,$t=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new mt(e),new mt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Yt;case"[object Set]":var u=1&r;if(s||(s=Xt),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Ht(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(qt)return qt.call(e)==qt.call(t)}return!1},Qt=Object.prototype.hasOwnProperty,Jt=Object.prototype.hasOwnProperty,en=function(e,t,n,r,i,o){var a=_e(e),s=_e(t),u=a?"[object Array]":gt(e),l=s?"[object Array]":gt(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=u==l;if(d&&Ee(e)){if(!Ee(t))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new le),a||De(e)?Ht(e,t,n,r,i,o):$t(e,t,u,n,r,i,o);if(!(1&n)){var h=c&&Jt.call(e,"__wrapped__"),p=f&&Jt.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new le),i(g,v,n,r,o)}}return!!d&&(o||(o=new le),function(e,t,n,r,i,o){var a=1&n,s=rt(e),u=s.length;if(u!=rt(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:Qt.call(t,c)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var g=e[c=s[l]],v=t[c];if(r)var m=a?r(v,g,c,t,e,o):r(g,v,c,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))},tn=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ve(t)&&!ve(n)?t!=t&&n!=n:en(t,n,r,i,e,o))},nn=function(e){return e==e&&!F(e)},rn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},on=function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,nn(i)]}return t}(e);return 1==t.length&&t[0][2]?rn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new le;if(r)var d=r(l,c,u,e,t,f);if(!(void 0===d?tn(c,l,3,r,f):d))return!1}}return!0}(n,e,t)}},an=function(e){return"symbol"==typeof e||ve(e)&&"[object Symbol]"==z(e)},sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,un=/^\w*$/,ln=function(e,t){if(_e(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!an(e))||un.test(e)||!sn.test(e)||null!=t&&e in Object(t)};function cn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cn.Cache||se),n}cn.Cache=se;var fn,dn=cn,hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pn=/\\(\\)?/g,gn=function(e){var t=dn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(hn,(function(e,n,r,i){t.push(r?i.replace(pn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),vn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},mn=N?N.prototype:void 0,yn=mn?mn.toString:void 0,bn=function e(t){if("string"==typeof t)return t;if(_e(t))return vn(t,e)+"";if(an(t))return yn?yn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},xn=function(e){return null==e?"":bn(e)},wn=function(e,t){return _e(e)?e:ln(e,t)?[e]:gn(xn(e))},_n=function(e){if("string"==typeof e||an(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Sn=function(e,t){for(var n=0,r=(t=wn(t,e)).length;null!=e&&n<r;)e=e[_n(t[n++])];return n&&n==r?e:void 0},En=function(e,t){return null!=e&&t in Object(e)},Cn=function(e,t,n){for(var r=-1,i=(t=wn(t,e)).length,o=!1;++r<i;){var a=_n(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Me(i)&&ke(a,i)&&(_e(e)||we(e))},kn=function(e,t){return null!=e&&Cn(e,t,En)},Mn=function(e,t){return ln(e)&&nn(t)?rn(_n(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Sn(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?kn(n,e):tn(t,r,3)}},In=function(e){return function(t){return null==t?void 0:t[e]}},Tn=function(e){return ln(e)?In(_n(e)):function(e){return function(t){return Sn(t,e)}}(e)},An=function(e){return"function"==typeof e?e:null==e?Bt:"object"==typeof e?_e(e)?Mn(e[0],e[1]):on(e):Tn(e)},Nn=function(e,t){return(_e(e)?Xe:Gt)(e,An(t))},Dn=Object.prototype.hasOwnProperty,Pn=function(e,t){return null!=e&&Dn.call(e,t)},On=function(e,t){return null!=e&&Cn(e,t,Pn)},Ln=Object.prototype.hasOwnProperty,Rn=function(e){return void 0===e},Bn=function(e,t){var n=-1,r=Ge(e)?Array(e.length):[];return Rt(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},zn=function(e,t){return(_e(e)?vn:Bn)(e,An(t))},Fn=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},jn=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n},Gn=function(e,t,n){var r=_e(e)?Fn:jn,i=arguments.length<3;return r(e,An(t),n,i,Rt)},Vn=In("length"),Un=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Wn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zn="\\ud83c[\\udffb-\\udfff]",Hn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="(?:"+Wn+"|"+Zn+")?",qn="[\\ufe0e\\ufe0f]?"+Kn+"(?:\\u200d(?:"+[Hn,Yn,Xn].join("|")+")[\\ufe0e\\ufe0f]?"+Kn+")*",$n="(?:"+[Hn+Wn+"?",Wn,Yn,Xn,"[\\ud800-\\udfff]"].join("|")+")",Qn=RegExp(Zn+"(?="+Zn+")|"+$n+qn,"g"),Jn=function(e){return function(e){return Un.test(e)}(e)?function(e){for(var t=Qn.lastIndex=0;Qn.test(e);)++t;return t}(e):Vn(e)},er=N?N.isConcatSpreadable:void 0,tr=function(e){return _e(e)||we(e)||!!(er&&e&&e[er])},nr=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=tr),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):Je(o,u):i||(o[o.length]=u)}return o},rr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ir=Math.max,or=function(e,t,n){return t=ir(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ir(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),rr(e,this,s)}},ar=fe?function(e,t){return fe(e,"toString",{configurable:!0,enumerable:!1,value:Pt(t),writable:!0})}:Bt,sr=Date.now,ur=function(e){var t=0,n=0;return function(){var r=sr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ar),lr=function(e,t){return ur(or(e,t,Bt),e+"")},cr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},fr=function(e){return e!=e},dr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):cr(e,fr,n)}(e,t,0)>-1},hr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},pr=st&&1/Xt(new st([,-0]))[1]==1/0?function(e){return new st(e)}:function(){},gr=function(e){return ve(e)&&Ge(e)},vr=lr((function(e){return function(e,t,n){var r=-1,i=dr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=hr;else if(o>=200){var l=t?null:pr(e);if(l)return Xt(l);a=!1,i=Zt,u=new Ut}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}(nr(e,1,gr,!0))})),mr=function(e){return null==e?[]:function(e,t){return vn(t,(function(t){return e[t]}))}(e,Ve(e))};try{fn={clone:function(e){return Dt(e,4)},constant:Pt,each:jt,filter:Nn,has:On,isArray:_e,isEmpty:function(e){if(null==e)return!0;if(Ge(e)&&(_e(e)||"string"==typeof e||"function"==typeof e.splice||Ee(e)||De(e)||we(e)))return!e.length;var t=gt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!je(e).length;for(var n in e)if(Ln.call(e,n))return!1;return!0},isFunction:j,isUndefined:Rn,keys:Ve,map:zn,reduce:Gn,size:function(e){if(null==e)return 0;if(Ge(e))return function(e){return"string"==typeof e||!_e(e)&&ve(e)&&"[object String]"==z(e)}(e)?Jn(e):e.length;var t=gt(e);return"[object Map]"==t||"[object Set]"==t?e.size:je(e).length},transform:function(e,t,n){var r=_e(e),i=r||Ee(e)||De(e);if(t=An(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:F(e)&&j(o)?Ct(et(e)):{}}return(i?ce:Lt)(e,(function(e,r,i){return t(n,e,r,i)})),n},union:vr,values:mr}}catch(f){}fn||(fn=window._);var yr=fn,br=xr;function xr(e){this._isDirected=!yr.has(e,"directed")||e.directed,this._isMultigraph=!!yr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!yr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=yr.constant(void 0),this._defaultEdgeLabelFn=yr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function wr(e,t){e[t]?e[t]++:e[t]=1}function _r(e,t){--e[t]||delete e[t]}function Sr(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(yr.isUndefined(r)?"\0":r)}function Er(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function Cr(e,t){return Sr(e,t.v,t.w,t.name)}xr.prototype._nodeCount=0,xr.prototype._edgeCount=0,xr.prototype.isDirected=function(){return this._isDirected},xr.prototype.isMultigraph=function(){return this._isMultigraph},xr.prototype.isCompound=function(){return this._isCompound},xr.prototype.setGraph=function(e){return this._label=e,this},xr.prototype.graph=function(){return this._label},xr.prototype.setDefaultNodeLabel=function(e){return yr.isFunction(e)||(e=yr.constant(e)),this._defaultNodeLabelFn=e,this},xr.prototype.nodeCount=function(){return this._nodeCount},xr.prototype.nodes=function(){return yr.keys(this._nodes)},xr.prototype.sources=function(){var e=this;return yr.filter(this.nodes(),(function(t){return yr.isEmpty(e._in[t])}))},xr.prototype.sinks=function(){var e=this;return yr.filter(this.nodes(),(function(t){return yr.isEmpty(e._out[t])}))},xr.prototype.setNodes=function(e,t){var n=arguments,r=this;return yr.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},xr.prototype.setNode=function(e,t){return yr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},xr.prototype.node=function(e){return this._nodes[e]},xr.prototype.hasNode=function(e){return yr.has(this._nodes,e)},xr.prototype.removeNode=function(e){var t=this;if(yr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],yr.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),yr.each(yr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],yr.each(yr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},xr.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(yr.isUndefined(t))t="\0";else{for(var n=t+="";!yr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},xr.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},xr.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},xr.prototype.children=function(e){if(yr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return yr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},xr.prototype.predecessors=function(e){var t=this._preds[e];if(t)return yr.keys(t)},xr.prototype.successors=function(e){var t=this._sucs[e];if(t)return yr.keys(t)},xr.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return yr.union(t,this.successors(e))},xr.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},xr.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;yr.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),yr.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&yr.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},xr.prototype.setDefaultEdgeLabel=function(e){return yr.isFunction(e)||(e=yr.constant(e)),this._defaultEdgeLabelFn=e,this},xr.prototype.edgeCount=function(){return this._edgeCount},xr.prototype.edges=function(){return yr.values(this._edgeObjs)},xr.prototype.setPath=function(e,t){var n=this,r=arguments;return yr.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},xr.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,yr.isUndefined(n)||(n=""+n);var a=Sr(this._isDirected,e,t,n);if(yr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!yr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=Er(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,wr(this._preds[t],e),wr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},xr.prototype.edge=function(e,t,n){var r=1===arguments.length?Cr(this._isDirected,arguments[0]):Sr(this._isDirected,e,t,n);return this._edgeLabels[r]},xr.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?Cr(this._isDirected,arguments[0]):Sr(this._isDirected,e,t,n);return yr.has(this._edgeLabels,r)},xr.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?Cr(this._isDirected,arguments[0]):Sr(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],_r(this._preds[t],e),_r(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},xr.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=yr.values(n);return t?yr.filter(r,(function(e){return e.v===t})):r}},xr.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=yr.values(n);return t?yr.filter(r,(function(e){return e.w===t})):r}},xr.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var kr={Graph:br,version:"2.1.8"},Mr={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Ir(e),edges:Tr(e)};return yr.isUndefined(e.graph())||(t.value=yr.clone(e.graph())),t},read:function(e){var t=new br(e.options).setGraph(e.value);return yr.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),yr.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function Ir(e){return yr.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return yr.isUndefined(n)||(i.value=n),yr.isUndefined(r)||(i.parent=r),i}))}function Tr(e){return yr.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return yr.isUndefined(t.name)||(r.name=t.name),yr.isUndefined(n)||(r.value=n),r}))}var Ar=Nr;function Nr(){this._arr=[],this._keyIndices={}}Nr.prototype.size=function(){return this._arr.length},Nr.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},Nr.prototype.has=function(e){return yr.has(this._keyIndices,e)},Nr.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Nr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Nr.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!yr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Nr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Nr.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Nr.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Nr.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Nr.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Dr=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},s=new Ar,u=function(e){var t=e.v!==i?e.v:e.w,r=a[t],u=n(e),l=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(t,l))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(e,String(t),n||Pr,r||function(t){return e.outEdges(t)})},Pr=yr.constant(1),Or=function(e){var t=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){yr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(a!==u);i.push(l)}}return e.nodes().forEach((function(e){yr.has(r,e)||o(e)})),i},Lr=yr.constant(1),Rr=Br;function Br(e){var t={},n={},r=[];if(yr.each(e.sinks(),(function i(o){if(yr.has(n,o))throw new zr;yr.has(t,o)||(n[o]=!0,t[o]=!0,yr.each(e.predecessors(o),i),delete n[o],r.push(o))})),yr.size(t)!==e.nodeCount())throw new zr;return r}function zr(){}Br.CycleException=zr,zr.prototype=new Error;var Fr=function(e,t,n){yr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return yr.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);jr(e,t,"post"===n,o,r,i)})),i};function jr(e,t,n,r,i,o){yr.has(r,t)||(r[t]=!0,n||o.push(t),yr.each(i(t),(function(t){jr(e,t,n,r,i,o)})),n&&o.push(t))}var Gr,Vr={Graph:kr.Graph,json:Mr,alg:{components:function(e){var t,n={},r=[];function i(r){yr.has(n,r)||(n[r]=!0,t.push(r),yr.each(e.successors(r),i),yr.each(e.predecessors(r),i))}return yr.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r},dijkstra:Dr,dijkstraAll:function(e,t,n){return yr.transform(e.nodes(),(function(r,i){r[i]=Dr(e,i,t,n)}),{})},findCycles:function(e){return yr.filter(Or(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||Lr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Rr(e)}catch(e){if(e instanceof Rr.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Fr(e,t,"post")},preorder:function(e,t){return Fr(e,t,"pre")},prim:function(e,t){var n,r=new br,i={},o=new Ar;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===e.nodeCount())return r;yr.each(e.nodes(),(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),yr.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:Or,topsort:Rr},version:kr.version};try{Gr=Vr}catch(f){}Gr||(Gr=window.graphlib);var Ur,Wr=Gr,Zr=function(e,t,n){if(!F(n))return!1;var r=typeof t;return!!("number"==r?Ge(n)&&ke(t,n.length):"string"==r&&t in n)&&_(n[t],e)},Hr=Object.prototype,Yr=Hr.hasOwnProperty,Xr=lr((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Zr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Ze(o),s=-1,u=a.length;++s<u;){var l=a[s],c=e[l];(void 0===c||_(c,Hr[l])&&!Yr.call(e,l))&&(e[l]=o[l])}return e})),Kr=/^\s+|\s+$/g,qr=/^[-+]0x[0-9a-f]+$/i,$r=/^0b[01]+$/i,Qr=/^0o[0-7]+$/i,Jr=parseInt,ei=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(an(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Kr,"");var n=$r.test(e);return n||Qr.test(e)?Jr(e.slice(2),n?2:8):qr.test(e)?NaN:+e}(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ti=Math.max,ni=function(e){return function(t,n,r){var i=Object(t);if(!Ge(t)){var o=An(n);t=Ve(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=ei(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=ti(r+i,0)),cr(e,An(t),i)})),ri=function(e){return null!=e&&e.length?nr(e,1):[]},ii=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!an(a):n(a,s)))var s=a,u=o}return u},oi=function(e,t){return e>t},ai=function(e,t,n){(void 0!==n&&!_(e[t],n)||void 0===n&&!(t in e))&&de(e,t,n)},si=Function.prototype,ui=Object.prototype,li=si.toString,ci=ui.hasOwnProperty,fi=li.call(Object),di=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},hi=function(e,t,n,r,i,o,a){var s=di(e,n),u=di(t,n),l=a.get(u);if(l)ai(e,n,l);else{var c=o?o(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var d=_e(u),h=!d&&Ee(u),p=!d&&!h&&De(u);c=u,d||h||p?_e(s)?c=s:gr(s)?c=Ye(s):h?(f=!1,c=He(u,!0)):p?(f=!1,c=_t(u,!0)):c=[]:function(e){if(!ve(e)||"[object Object]"!=z(e))return!1;var t=et(e);if(null===t)return!0;var n=ci.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&li.call(n)==fi}(u)||we(u)?(c=s,we(s)?c=function(e){return ge(e,Ze(e))}(s):F(s)&&!j(s)||(c=kt(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),ai(e,n,c)}},pi=function e(t,n,r,i,o){t!==n&&Ot(n,(function(a,s){if(o||(o=new le),F(a))hi(t,n,s,r,e,i,o);else{var u=i?i(di(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),ai(t,s,u)}}),Ze)},gi=function(e){return lr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Zr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r)}return t}))}((function(e,t,n){pi(e,t,n)})),vi=function(e,t){return e<t},mi=function(e,t,n,r){if(!F(e))return e;for(var i=-1,o=(t=wn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=_n(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=F(c)?c:ke(t[i+1])?[]:{})}pe(s,u,l),s=s[u]}return e},yi=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sn(e,a);n(s,a)&&mi(o,wn(a,e),s)}return o}(e,t,(function(t,n){return kn(e,n)}))},bi=function(e){return ur(or(e,void 0,ri),e+"")}((function(e,t){return null==e?{}:yi(e,t)})),xi=Math.ceil,wi=Math.max,_i=function(e,t,n){return n&&"number"!=typeof n&&Zr(e,t,n)&&(t=n=void 0),e=ei(e),void 0===t?(t=e,e=0):t=ei(t),function(e,t,n,r){for(var i=-1,o=wi(xi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:ei(n),void 0)},Si=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=an(e),a=void 0!==t,s=null===t,u=t==t,l=an(t);if(!s&&!l&&!o&&e>t||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},Ei=function(e,t,n){t=t.length?vn(t,(function(e){return _e(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[Bt];var r=-1;t=vn(t,Te(An));var i=Bn(e,(function(e,n,i){return{criteria:vn(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Si(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},Ci=lr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Zr(e,t[0],t[1])?t=[]:n>2&&Zr(t[0],t[1],t[2])&&(t=[t[0]]),Ei(e,nr(t,1),[])})),ki=0;try{Ur={cloneDeep:function(e){return Dt(e,5)},constant:Pt,defaults:Xr,each:jt,filter:Nn,find:ni,flatten:ri,forEach:Ft,forIn:function(e,t){return null==e?e:Ot(e,zt(t),Ze)},has:On,isUndefined:Rn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:zn,mapValues:function(e,t){var n={};return t=An(t),Lt(e,(function(e,r,i){de(n,r,t(e,r,i))})),n},max:function(e){return e&&e.length?ii(e,Bt,oi):void 0},merge:gi,min:function(e){return e&&e.length?ii(e,Bt,vi):void 0},minBy:function(e,t){return e&&e.length?ii(e,An(t),vi):void 0},now:function(){return A.Date.now()},pick:bi,range:_i,reduce:Gn,sortBy:Ci,uniqueId:function(e){var t=++ki;return xn(e)+t},values:mr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],pe)}}}catch(f){}Ur||(Ur=window._);var Mi=Ur,Ii=Ti;function Ti(){var e={};e._next=e._prev=e,this._sentinel=e}function Ai(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Ni(e,t){if("_next"!==e&&"_prev"!==e)return t}Ti.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ai(t),t},Ti.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ai(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Ti.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Ni)),n=n._prev;return"["+e.join(", ")+"]"};var Di=Wr.Graph,Pi=Mi.constant(1);function Oi(e,t,n,r,i){var o=i?[]:void 0;return Mi.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Li(t,n,s)})),Mi.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Li(t,n,a)})),e.removeNode(r.v),o}function Li(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ri=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Di,r=0,i=0;Mi.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),Mi.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var o=Mi.range(i+r+3).map((function(){return new Ii})),a=r+1;return Mi.forEach(n.nodes(),(function(e){Li(o,a,n.node(e))})),{graph:n,buckets:o,zeroIdx:a}}(e,t||Pi),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Oi(e,t,n,r);for(;r=o.dequeue();)Oi(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(Oi(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return Mi.flatten(Mi.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return Mi.forEach(e.nodes(),(function i(o){Mi.has(r,o)||(r[o]=!0,n[o]=!0,Mi.forEach(e.outEdges(o),(function(e){Mi.has(n,e.w)?t.push(e):i(e.w)})),delete n[o])})),t}(e);Mi.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,Mi.uniqueId("rev"))}))},Bi=function(e){Mi.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))},zi=Wr.Graph,Fi={addDummyNode:ji,simplify:function(e){var t=(new zi).setGraph(e.graph());return Mi.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),Mi.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new zi({multigraph:e.isMultigraph()}).setGraph(e.graph());return Mi.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),Mi.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=Mi.map(e.nodes(),(function(t){var n={};return Mi.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return Mi.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=Mi.map(e.nodes(),(function(t){var n={};return Mi.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return Mi.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=Mi.map(Mi.range(Gi(e)+1),(function(){return[]}));return Mi.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;Mi.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=Mi.min(Mi.map(e.nodes(),(function(t){return e.node(t).rank})));Mi.forEach(e.nodes(),(function(n){var r=e.node(n);Mi.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=Mi.min(Mi.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];Mi.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;Mi.forEach(n,(function(t,n){Mi.isUndefined(t)&&n%i!=0?--r:r&&Mi.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),ji(e,"border",i,t)},maxRank:Gi,partition:function(e,t){var n={lhs:[],rhs:[]};return Mi.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=Mi.now();try{return t()}finally{console.log(e+" time: "+(Mi.now()-n)+"ms")}},notime:function(e,t){return t()}};function ji(e,t,n,r){var i;do{i=Mi.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function Gi(e){return Mi.max(Mi.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!Mi.isUndefined(n))return n})))}var Vi=function(e){e.graph().dummyChains=[],Mi.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),f=c.labelRank;if(u!==a+1){for(e.removeEdge(t),i=0,++a;a<u;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},n=Fi.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(o,n,{weight:c.weight},l),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:c.weight},l)}}(e,t)}))},Ui=function(e){Mi.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))},Wi=function(e){var t={};Mi.forEach(e.sources(),(function n(r){var i=e.node(r);if(Mi.has(t,r))return i.rank;t[r]=!0;var o=Mi.min(Mi.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},Zi=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Hi=Wr.Graph,Yi=Zi,Xi=function(e){var t,n,r=new Hi({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});Ki(r,e)<o;)t=qi(r,e),n=r.hasNode(t.v)?Yi(e,t):-Yi(e,t),$i(r,e,n);return r};function Ki(e,t){return Mi.forEach(e.nodes(),(function n(r){Mi.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Yi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function qi(e,t){return Mi.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Yi(t,n)}))}function $i(e,t,n){Mi.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var Qi=Zi,Ji=Wi,eo=Wr.alg.preorder,to=Wr.alg.postorder,no=Fi.simplify,ro=io;function io(e){e=no(e),Ji(e);var t,n=Xi(e);for(so(n),oo(n,e);t=lo(n);)fo(n,e,t,co(n,e,t))}function oo(e,t){var n=to(e,e.nodes());n=n.slice(0,n.length-1),Mi.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=ao(e,t,n)}(e,t,n)}))}function ao(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,Mi.forEach(t.nodeEdges(n),(function(o){var s,u,l=o.v===n,c=l?o.w:o.v;if(c!==r){var f=l===i,d=t.edge(o).weight;if(a+=f?d:-d,s=n,u=c,e.hasEdge(s,u)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}})),a}function so(e,t){arguments.length<2&&(t=e.nodes()[0]),uo(e,{},1,t)}function uo(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Mi.forEach(e.neighbors(r),(function(i){Mi.has(t,i)||(n=uo(e,t,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function lo(e){return Mi.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function co(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=Mi.filter(t.edges(),(function(t){return u===ho(e,e.node(t.v),s)&&u!==ho(e,e.node(t.w),s)}));return Mi.minBy(l,(function(e){return Qi(t,e)}))}function fo(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),so(e),oo(e,t),function(e,t){var n=Mi.find(e.nodes(),(function(e){return!t.node(e).parent})),r=eo(e,n);r=r.slice(1),Mi.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function ho(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}io.initLowLimValues=so,io.initCutValues=oo,io.calcCutValue=ao,io.leaveEdge=lo,io.enterEdge=co,io.exchangeEdges=fo;var po=Wi,go=po;function vo(e){ro(e)}var mo=function(e){var t=Fi.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Mi.forEach(o,(function(e){n(e,i+1)})),t[r]=i}return Mi.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=Mi.max(Mi.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Mi.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var o=function(e){return Mi.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;Mi.forEach(e.children(),(function(a){bo(e,t,i,o,r,n,a)})),e.graph().nodeRankFactor=i},yo=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Mi.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))};function bo(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var u=Fi.addBorderNode(e,"_bt"),l=Fi.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(u,a),c.borderTop=u,e.setParent(l,a),c.borderBottom=l,Mi.forEach(s,(function(s){bo(e,t,n,r,i,o,s);var c=e.node(s),f=c.borderTop?c.borderTop:s,d=c.borderBottom?c.borderBottom:s,h=c.borderTop?r:2*r,p=f!==d?1:i-o[a]+1;e.setEdge(u,f,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(d,l,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function xo(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=Fi.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var wo=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||So(e)},_o=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){Mi.forEach(e.nodes(),(function(t){Co(e.node(t))})),Mi.forEach(e.edges(),(function(t){var n=e.edge(t);Mi.forEach(n.points,Co),Mi.has(n,"y")&&Co(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){Mi.forEach(e.nodes(),(function(t){ko(e.node(t))})),Mi.forEach(e.edges(),(function(t){var n=e.edge(t);Mi.forEach(n.points,ko),Mi.has(n,"x")&&ko(n)}))}(e),So(e))};function So(e){Mi.forEach(e.nodes(),(function(t){Eo(e.node(t))})),Mi.forEach(e.edges(),(function(t){Eo(e.edge(t))}))}function Eo(e){var t=e.width;e.width=e.height,e.height=t}function Co(e){e.y=-e.y}function ko(e){var t=e.x;e.x=e.y,e.y=t}var Mo=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=Io(e,t[r-1],t[r]);return n};function Io(e,t,n){for(var r=Mi.zipObject(n,Mi.map(n,(function(e,t){return t}))),i=Mi.flatten(Mi.map(t,(function(t){return Mi.sortBy(Mi.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Mi.map(new Array(a),(function(){return 0})),u=0;return Mi.forEach(i.forEach((function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}function To(e,t,n){for(var r;t.length&&(r=Mi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var Ao=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,l={};s&&(o=Mi.filter(o,(function(e){return e!==s&&e!==u})));var c=function(e,t){return Mi.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=Mi.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}(t,o);Mi.forEach(c,(function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);l[n.v]=o,Mi.has(o,"barycenter")&&(a=n,s=o,Mi.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var f=function(e,t){var n={};return Mi.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};Mi.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),Mi.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];Mi.isUndefined(t)||Mi.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(Mi.isUndefined(t.barycenter)||Mi.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),Mi.forEach(i.in.reverse(),n(i)),Mi.forEach(i.out,r(i))}return Mi.map(Mi.filter(t,(function(e){return!e.merged})),(function(e){return Mi.pick(e,["vs","i","barycenter","weight"])}))}(Mi.filter(n,(function(e){return!e.indegree})))}(c,r);!function(e,t){Mi.forEach(e,(function(e){e.vs=Mi.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(f,l);var d=function(e,t){var n,r=Fi.partition(e,(function(e){return Mi.has(e,"barycenter")})),i=r.lhs,o=Mi.sortBy(r.rhs,(function(e){return-e.i})),a=[],s=0,u=0,l=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),l=To(a,o,l),Mi.forEach(i,(function(e){l+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,l=To(a,o,l)}));var c={vs:Mi.flatten(a,!0)};return u&&(c.barycenter=s/u,c.weight=u),c}(f,i);if(s&&(d.vs=Mi.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);Mi.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d},No=Wr.Graph,Do=Wr.Graph,Po=function(e){var t=Fi.maxRank(e),n=Oo(e,Mi.range(1,t+1),"inEdges"),r=Oo(e,Mi.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=Mi.filter(e.nodes(),(function(t){return!e.children(t).length})),r=Mi.max(Mi.map(n,(function(t){return e.node(t).rank}))),i=Mi.map(Mi.range(r+1),(function(){return[]})),o=Mi.sortBy(n,(function(t){return e.node(t).rank}));return Mi.forEach(o,(function n(r){if(!Mi.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),Mi.forEach(e.successors(r),n)}})),i}(e);Ro(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Lo(s%2?n:r,s%4>=2),i=Fi.buildLayerMatrix(e);var l=Mo(e,i);l<a&&(u=0,o=Mi.cloneDeep(i),a=l)}Ro(e,o)};function Oo(e,t,n){return Mi.map(t,(function(t){return function(e,t,n){var r=function(e){for(var t;e.hasNode(t=Mi.uniqueId("_root")););return t}(e),i=new No({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return Mi.forEach(e.nodes(),(function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Mi.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=Mi.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})})),Mi.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i}(e,t,n)}))}function Lo(e,t){var n=new Do;Mi.forEach(e,(function(e){var r=e.graph().root,i=Ao(e,r,n,t);Mi.forEach(i.vs,(function(t,n){e.node(t).order=n})),function(e,t,n){var r,i={};Mi.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}(e,n,i.vs)}))}function Ro(e,t){Mi.forEach(t,(function(t){Mi.forEach(t,(function(t,n){e.node(t).order=n}))}))}var Bo=Wr.Graph;function zo(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Fo(e,t,n){if(t>n){var r=t;t=n,n=r}return Mi.has(e[t],n)}var jo=function(e){var t,n=Fi.buildLayerMatrix(e),r=Mi.merge(function(e,t){var n={};return Mi.reduce(t,(function(t,r){var i=0,o=0,a=t.length,s=Mi.last(r);return Mi.forEach(r,(function(t,u){var l=function(e,t){if(e.node(t).dummy)return Mi.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),c=l?e.node(l).order:a;(l||t===s)&&(Mi.forEach(r.slice(o,u+1),(function(t){Mi.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||c<a)||o.dummy&&e.node(t).dummy||zo(n,r,t)}))})),o=u+1,i=c)})),r})),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;Mi.forEach(Mi.range(r,i),(function(r){s=t[r],e.node(s).dummy&&Mi.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&zo(n,t,s)}))}))}return Mi.reduce(t,(function(t,n){var i,o=-1,a=0;return Mi.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n}(e,n)),i={};Mi.forEach(["u","d"],(function(o){t="u"===o?n:Mi.values(n).reverse(),Mi.forEach(["l","r"],(function(n){"r"===n&&(t=Mi.map(t,(function(e){return Mi.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return Mi.forEach(t,(function(e){Mi.forEach(e,(function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),Mi.forEach(t,(function(e){var t=-1;Mi.forEach(e,(function(e){var s=r(e);if(s.length)for(var u=((s=Mi.sortBy(s,(function(e){return a[e]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var f=s[l];o[e]===e&&t<a[f]&&!Fo(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}}))})),{root:i,align:o}}(0,t,r,a),u=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new Bo,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,Mi.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,Mi.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}(o.nodesep,o.edgesep,r);return Mi.forEach(t,(function(t){var r;Mi.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){o[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}),a.successors.bind(a)),Mi.forEach(r,(function(e){o[e]=o[n[e]]})),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Mi.mapValues(u,(function(e){return-e}))),i[o+n]=u}))}));var o=function(e,t){return Mi.minBy(Mi.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Mi.forIn(t,(function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}(e,i);return function(e,t){var n=Mi.values(t),r=Mi.min(n),i=Mi.max(n);Mi.forEach(["u","d"],(function(n){Mi.forEach(["l","r"],(function(o){var a,s=n+o,u=e[s];if(u!==t){var l=Mi.values(u);(a="l"===o?r-Mi.min(l):i-Mi.max(l))&&(e[s]=Mi.mapValues(u,(function(e){return e+a})))}}))}))}(i,o),function(e,t){return Mi.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=Mi.sortBy(Mi.map(e,r));return(i[1]+i[2])/2}))}(i,e.graph().align)},Go=Fi.normalizeRanks,Vo=Fi.removeEmptyRanks,Uo=Fi,Wo=Wr.Graph,Zo=["nodesep","edgesep","ranksep","marginx","marginy"],Ho={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Yo=["acyclicer","ranker","rankdir","align"],Xo=["width","height"],Ko={width:0,height:0},qo=["minlen","weight","width","height","labeloffset"],$o={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Qo=["labelpos"];function Jo(e,t){return Mi.mapValues(Mi.pick(e,t),Number)}function ea(e){var t={};return Mi.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var ta=Wr.Graph,na={graphlib:Wr,layout:function(e,t){var n=t&&t.debugTiming?Uo.time:Uo.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new Wo({multigraph:!0,compound:!0}),n=ea(e.graph());return t.setGraph(Mi.merge({},Ho,Jo(n,Zo),Mi.pick(n,Yo))),Mi.forEach(e.nodes(),(function(n){var r=ea(e.node(n));t.setNode(n,Mi.defaults(Jo(r,Xo),Ko)),t.setParent(n,e.parent(n))})),Mi.forEach(e.edges(),(function(n){var r=ea(e.edge(n));t.setEdge(n,Mi.merge({},$o,Jo(r,qo),Mi.pick(r,Qo)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,Mi.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){Mi.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){Ri(e)})),t("    nestingGraph.run",(function(){mo(e)})),t("    rank",(function(){!function(e){switch(e.graph().ranker){case"network-simplex":default:vo(e);break;case"tight-tree":!function(e){po(e),Xi(e)}(e);break;case"longest-path":go(e)}}(Uo.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){Mi.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Uo.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){Vo(e)})),t("    nestingGraph.cleanup",(function(){yo(e)})),t("    normalizeRanks",(function(){Go(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;Mi.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Mi.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){Mi.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){Vi(e)})),t("    parentDummyChains",(function(){!function(e){var t=function(e){var t={},n=0;return Mi.forEach(e.children(),(function r(i){var o=n;Mi.forEach(e.children(i),r),t[i]={low:o,lim:n++}})),t}(e);Mi.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=a[u])!==s&&e.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}e.setParent(n,l),n=e.successors(n)[0]}}))}(e)})),t("    addBorderSegments",(function(){!function(e){Mi.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Mi.forEach(r,t),Mi.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)xo(e,"borderLeft","_bl",n,i,o),xo(e,"borderRight","_br",n,i,o)}}))}(e)})),t("    order",(function(){Po(e)})),t("    insertSelfEdges",(function(){!function(e){var t=Uo.buildLayerMatrix(e);Mi.forEach(t,(function(t){var n=0;Mi.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,Mi.forEach(i.selfEdges,(function(t){Uo.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){wo(e)})),t("    position",(function(){!function(e){(function(e){var t=Fi.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Mi.forEach(t,(function(t){var i=Mi.max(Mi.map(t,(function(t){return e.node(t).height})));Mi.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=Fi.asNonCompoundGraph(e)),Mi.forEach(jo(e),(function(t,n){e.node(n).x=t}))}(e)})),t("    positionSelfEdges",(function(){!function(e){Mi.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){Mi.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(Mi.last(n.borderLeft)),a=e.node(Mi.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),Mi.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){Ui(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){Mi.forEach(e.edges(),(function(t){var n=e.edge(t);if(Mi.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){_o(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}Mi.forEach(e.nodes(),(function(t){u(e.node(t))})),Mi.forEach(e.edges(),(function(t){var n=e.edge(t);Mi.has(n,"x")&&u(n)})),t-=a,r-=s,Mi.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),Mi.forEach(e.edges(),(function(n){var i=e.edge(n);Mi.forEach(i.points,(function(e){e.x-=t,e.y-=r})),Mi.has(i,"x")&&(i.x-=t),Mi.has(i,"y")&&(i.y-=r)})),o.width=n-t+a,o.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){Mi.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Uo.intersectRect(o,n)),i.points.push(Uo.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){Mi.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){Bi(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){Mi.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),Mi.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Mi.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},debug:{debugOrdering:function(e){var t=Fi.buildLayerMatrix(e),n=new ta({compound:!0,multigraph:!0}).setGraph({});return Mi.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),Mi.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),Mi.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),Mi.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:Fi.time,notime:Fi.notime},version:"0.8.5"},ra=na.graphlib,ia=na.layout,oa=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.cardinality=1,this.include=g.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=p.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height})),aa=(0,l.Z)((function e(){(0,c.Z)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]}));var sa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=g.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=p.META,this.path=[],this.name=t,this.metaGraph=fa(t,v.META,n)}return(0,l.Z)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map((function(t){return e.metaGraph.node(t)}))}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach((function(t){return n.push(e.node(t))})):t.push(r.name)}return t}}]),e}(),ua=function(){function e(t,n){(0,c.Z)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return(0,l.Z)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function la(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new sa(e,t)}function ca(e,t){return new ua(e,t)}function fa(e,t,n){var r=n||{},i=new ra.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var da=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=la(y,this.graphOptions),this.index[y]=this.root}return(0,l.Z)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=fa(b,v.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach((function(n){n.edges().filter((function(t){return t.v===e||t.w===e})).forEach((function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach((function(n){var a=o?[n.w,r.v]:[n.v,r.w],s=(0,u.Z)(a,2),l=s[0],c=s[1],f=t.getChildName(e,l),d={v:o?c:f,w:o?f:c},h=i.edge(d);h||((h=ca(d.v,d.w)).inbound=o,i.setEdge(d.v,d.w,h)),h.addBaseEdge(n,t)}))}))})),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return ha(i,e,t,n),ha(o,e,t,n),n}}]),e}();function ha(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach((function(t){var n=e.edge(t);r.push(n)}))}var pa=function(){function e(t){(0,c.Z)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new ma(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return(0,l.Z)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===p.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach((function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)})),i.edges().forEach((function(e){var t=i.edge(e),n=new va(t);o.setEdge(e.v,e.w,n)}));var a=r.node.parentNode;if(a){var s=this.getRenderNodeByName(a.name),l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},c=this.hierarchy.getBridgeGraph(e);c.edges().forEach((function(n){var r=c.edge(n),f=!!i.node(n.w),d=f?[n.w,n.v]:[n.v,n.w],h=(0,u.Z)(d,2),v=h[0],m=h[1],y=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return s.coreGraph.edge(n)},b=y(m);b||(b=y(l(f,m,a.name)));var x=l(f,e),w=l(f,m,e),_=o.node(w);if(!_){var S=o.node(x);if(!S){var E={name:x,type:p.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:g.UNSPECIFIED,inbound:f,attr:{}};S=new ga(E),t.index[x]=S,o.setNode(x,S)}var C={name:w,type:p.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:g.UNSPECIFIED,inbound:f,attr:{}};_=new ga(C),t.index[w]=_,o.setNode(w,_),o.setParent(w,x),S.node.cardinality++}var k=new va(r);k.adjoiningMetaEdge=b,f?o.setEdge(w,v,k):o.setEdge(v,w,k)}))}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new ma(t,this.hierarchy.graphOptions):new ga(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),ga=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr})),va=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]})),ma=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;(0,c.Z)(this,n),i=t.call(this,e);var o=e.metaGraph.graph();return r.compound=!0,i.coreGraph=fa(o.name,v.CORE,r),i}return(0,l.Z)(n)}(ga);function ya(e,t){e.node.isGroupNode&&function(e,t){var n=d(t);e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)})).forEach((function(e){var r,i,o,a,s,u,l=e.height,c=e.width;switch(e.node.type){case p.NODE:Object.assign(e,n.nodeSize.node),e.height=l||n.nodeSize.node.height,e.width=c||n.nodeSize.node.width;break;case p.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case p.META:e.expanded?ya(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length,r=3;e.width=Math.max(e.coreBox.width,n*r)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(e,t),e.node.type===p.META&&function(e,t){var n=d(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach((function(t){e.node(t).node.type!==p.BRIDGE&&a.push(t)})),!a.length)return{width:0,height:0};ia(e);var s=1/0,u=1/0,l=-1/0,c=-1/0;return a.forEach((function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,l=o>l?o:l;var a=.5*n.height,f=n.y-a,d=n.y+a;u=f<u?f:u,c=d>c?d:c})),e.edges().forEach((function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ba(e[0],e[1]),n=1;n<e.length-1;n++){var r=ba(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:xa(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:xa(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=wa(f,i));var d=n.points[1];null!=r&&(n.points[0]=wa(d,r)),n.points.forEach((function(e){s=e.x<s?e.x:s,l=e.x>l?e.x:l,u=e.y<u?e.y:u,c=e.y>c?e.y:c}))})),e.nodes().forEach((function(t){var n=e.node(t);n.x-=s,n.y-=u})),e.edges().forEach((function(t){e.edge(t).points.forEach((function(e){e.x-=s,e.y-=u}))})),{width:l-s,height:c-u}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ba(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function xa(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function wa(e,t){var n,r,i=t.expanded?t.x:xa(t),o=t.y,a=e.x-i,s=e.y-o,u=t.expanded?t.width:t.coreBox.width,l=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*l/2?(s<0&&(l=-l),n=0===s?0:l/2*a/s,r=l/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:i+n,y:o+r}}function _a(e,t,n){var r,a,s,l,c=e.nodes.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))!==t})).map((function(e){return e.id}));if(c.length)throw new Error("Duplicated ids found: ".concat(c.join(", ")));var d=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),i=new Map,a=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(i.has(t))return i.get(t);for(var a=0;a<r.length;a++){var s=r[a];if(n&&-1!==n[s].indexOf(t))return o.unshift(s),e(s,o)}return 0===o.length&&i.set(t,o),o},s=function(t){return e.edges.filter((function(e){return e.w===t})).map((function(e){return{name:e.v}}))};return e.nodes.forEach((function(e){var n=e.id,r=[].concat((0,o.Z)(a(n)),[n]),i=s(n);t.nodes.push({name:n,path:r,inputs:i,width:e.width,height:e.height,attr:Object.assign({},e)})})),t}(e),h=function(e,t){var n=function(e,t){var n,r=i(t.values());try{for(r.s();!(n=r.n()).done;){if(n.value.includes(e))return!0}}catch(o){r.e(o)}finally{r.f()}return!1};return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return(0,o.Z)(new Set(r));var a,s=new Map(Object.keys(t).map((function(e){return[e,t[e]]}))),l={},c=i(s);try{for(c.s();!(a=c.n()).done;){var f=(0,u.Z)(a.value,2),d=f[0],h=f[1];n(d,s)?l[d]=h:r=r.concat(d,h)}}catch(p){c.e(p)}finally{c.f()}return e(l,r)}(e).filter((function(e){return t.includes(e)}))}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new pa(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new da({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var s=i[a],u=e.node(s);u||((u=la(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=o,e.setNode(s,u),o.metaGraph.setNode(s,u)),o=u}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach((function(a){r=[],i=[];for(var s=o(t.nodes[a.v],r),u=o(t.nodes[a.w],i);r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var l=n[r[s+1]],c=r[s],f=i[u],d=l.metaGraph.edge(c,f);d||(d=ca(c,f),l.metaGraph.setEdge(c,f,d)),d.addBaseEdge(a,e)}))}(i,e),i}(function(e){var t=new aa;return e.nodes.map((function(e){return new oa(e)})).forEach((function(e){t.nodes[e.name]=e,e.inputs.forEach((function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)}))})),t}(e),t))}(d,{rankDirection:(null===(a=null===(r=null==n?void 0:n.graph)||void 0===r?void 0:r.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||f.graph.meta.rankDir,align:(null===(l=null===(s=null==n?void 0:n.graph)||void 0===s?void 0:s.meta)||void 0===l?void 0:l.align)||f.graph.meta.align});return function(e,t){t.forEach((function(t){var n=e.getRenderInfoNodes().find((function(e){return e.displayName===t})),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)}))}(p,h),ya(p.root,n),Ca(p.root)}function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:(0,o.Z)(n.edges)};return n.nodes.forEach((function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)})),t&&r.nodes.forEach((function(e){var t=r.nodes.find((function(t){return t.id===e.parentNodeName}));if(t){var n=t.x-t.width/2+t.paddingLeft,i=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==y&&(e.x+=n,e.y+=i),0===e.type&&e.edges.forEach((function(t){t.points.forEach((function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop}))}))}})),r}function Ea(e,t,n,r){var i,a,s=[],u=(null===(i=n.find((function(t){return t.id===e})))||void 0===i?void 0:i.path)||[],l=(null===(a=n.find((function(e){return e.id===t})))||void 0===a?void 0:a.path)||[],c=[y].concat((0,o.Z)(u)).slice(0,u.length).reverse(),f=[y].concat((0,o.Z)(l)).slice(0,l.length);return c.forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),f.filter((function(e){return!c.includes(e)})).forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),s}function Ca(e){var t,n=e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)}));return Object.assign(Object.assign({},ka(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map((function(e){return e.node.type===p.META?Ca(e):ka(e)}))):[],edges:e.expanded?Ma(e):[]})}function ka(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function Ma(e){return e.coreGraph.edges().map((function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}})).filter((function(e){return e.renderInfoEdge.metaEdge})).map((function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map((function(e){return Object.assign({},e)}));if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,l=o.x-s,c=o.y-u,f=-e.paddingLeft,d=-(e.paddingTop+e.labelHeight);a.x=l+f,a.y=c+d}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}}))}},553:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5742:function(e,t,n){"use strict";n.r(t),n.d(t,{create:function(){return i},fromMat4:function(){return o},clone:function(){return a},copy:function(){return s},fromValues:function(){return u},set:function(){return l},identity:function(){return c},transpose:function(){return f},invert:function(){return d},adjoint:function(){return h},determinant:function(){return p},multiply:function(){return g},translate:function(){return v},rotate:function(){return m},scale:function(){return y},fromTranslation:function(){return b},fromRotation:function(){return x},fromScaling:function(){return w},fromMat2d:function(){return _},fromQuat:function(){return S},normalFromMat4:function(){return E},projection:function(){return C},str:function(){return k},frob:function(){return M},add:function(){return I},subtract:function(){return T},multiplyScalar:function(){return A},multiplyScalarAndAdd:function(){return N},exactEquals:function(){return D},equals:function(){return P},mul:function(){return O},sub:function(){return L}});var r=n(553);function i(){var e=new r.WT(9);return r.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new r.WT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,n,i,o,a,s,u,l){var c=new r.WT(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c}function l(e,t,n,r,i,o,a,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,d=-c*o+s*u,h=l*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*a,e[3]=s*u-o*c,e[4]=n*c-i*u,e[5]=i*o-n*s,e[6]=o*l-a*u,e[7]=r*u-n*l,e[8]=n*a-r*o,e}function p(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+h*a+p*l,e[1]=d*i+h*s+p*c,e[2]=d*o+h*u+p*f,e[3]=g*r+v*a+m*l,e[4]=g*i+v*s+m*c,e[5]=g*o+v*u+m*f,e[6]=y*r+b*a+x*l,e[7]=y*i+b*s+x*c,e[8]=y*o+b*u+x*f,e}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+l,e[7]=d*i+h*s+c,e[8]=d*o+h*u+f,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*i+d*s,e[2]=h*o+d*u,e[3]=h*a-d*r,e[4]=h*s-d*i,e[5]=h*u-d*o,e[6]=l,e[7]=c,e[8]=f,e}function y(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function x(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function S(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[3]=c-m,e[6]=d+v,e[1]=c+m,e[4]=1-l-p,e[7]=h-g,e[2]=d-v,e[5]=h+g,e[8]=1-l-f,e}function E(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,_=r*l-o*s,S=i*l-o*u,E=c*g-f*p,C=c*v-d*p,k=c*m-h*p,M=f*v-d*g,I=f*m-h*g,T=d*m-h*v,A=y*T-b*I+x*M+w*k-_*C+S*E;return A?(A=1/A,e[0]=(s*T-u*I+l*M)*A,e[1]=(u*k-a*T-l*C)*A,e[2]=(a*I-s*k+l*E)*A,e[3]=(i*I-r*T-o*M)*A,e[4]=(n*T-i*k+o*C)*A,e[5]=(r*k-n*I-o*E)*A,e[6]=(g*S-v*_+m*w)*A,e[7]=(v*x-p*S-m*b)*A,e[8]=(p*_-g*x+m*y)*A,e):null}function C(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function k(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function M(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function I(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function T(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function A(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function N(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function D(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function P(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-d)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-h)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-y)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(x))}var O=g,L=T},8679:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i},d9:function(){return o},kE:function(){return a},al:function(){return s},JG:function(){return u},t8:function(){return l},IH:function(){return c},$X:function(){return f},Jp:function(){return d},bA:function(){return h},Fv:function(){return p},AK:function(){return g},kC:function(){return v},t7:function(){return m},fF:function(){return y},kK:function(){return b},VC:function(){return x},lu:function(){return w},TK:function(){return _},Zh:function(){return S}});var r=n(553);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.WT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function m(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function x(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,f=o*s-r*l,d=r*u-i*s,h=i*d-o*f,p=o*c-r*d,g=r*f-i*c,v=2*a;return c*=v,f*=v,d*=v,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=u+f+p,e[2]=l+d+g,e}var w=f,_=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},S=a;!function(){var e=i()}()},1989:function(e){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},6250:function(e){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},9573:function(e){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},1523:function(e){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},7684:function(e){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},1023:function(e){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},2689:function(e,t,n){e.exports=n(857)},857:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},8785:function(e,t,n){e.exports=n(4967)},4967:function(e){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},847:function(e){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},1446:function(e){e.exports=1e-6},3348:function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(1446)},2239:function(e){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},5497:function(e){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},4330:function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(7684)()},9347:function(e){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},1583:function(e,t,n){e.exports={EPSILON:n(1446),create:n(7684),clone:n(9573),fromValues:n(9347),copy:n(1523),set:n(5713),equals:n(3348),exactEquals:n(2239),add:n(1989),subtract:n(8828),sub:n(1756),multiply:n(3533),mul:n(3749),divide:n(4967),div:n(8785),inverse:n(8937),min:n(7539),max:n(6912),rotate:n(631),floor:n(5497),ceil:n(6250),round:n(190),scale:n(8362),scaleAndAdd:n(5685),distance:n(857),dist:n(2689),squaredDistance:n(5773),sqrDist:n(3039),length:n(11),len:n(5007),squaredLength:n(6915),sqrLen:n(4269),negate:n(9582),normalize:n(6845),dot:n(847),cross:n(1023),lerp:n(5358),random:n(2970),transformMat2:n(9519),transformMat2d:n(300),transformMat3:n(492),transformMat4:n(8823),forEach:n(4330),limit:n(1407)}},8937:function(e){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},5007:function(e,t,n){e.exports=n(11)},11:function(e){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},5358:function(e){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},1407:function(e){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},6912:function(e){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},7539:function(e){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},3749:function(e,t,n){e.exports=n(3533)},3533:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},9582:function(e){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},6845:function(e){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},2970:function(e){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},631:function(e){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},190:function(e){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},8362:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},5685:function(e){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},5713:function(e){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},3039:function(e,t,n){e.exports=n(5773)},4269:function(e,t,n){e.exports=n(6915)},5773:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},6915:function(e){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},1756:function(e,t,n){e.exports=n(8828)},8828:function(e){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},9519:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},300:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},492:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},8823:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=d(n,m);try{l(t,m,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case g:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},5929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(e,t,r,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,t)&&Reflect.defineMetadata(n,r(),this,t),Reflect.hasMetadata(n,this,t)?Reflect.getMetadata(n,this,t):r()},set:function(e){Reflect.defineMetadata(n,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,i){return function(o,a){r(o,a,(function(){return e.getNamed(n,i)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,i,o){return function(a,s){r(a,s,(function(){return e.getTagged(n,i,o)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.getAll(n)}),t)}}}},5696:function(e,t,n){"use strict";var r=n(722);t.Z=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},3893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(9e3),i=n(7909);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var d=f[c];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(9e3),i=n(7909),o=n(4706),a=n(3893),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},9369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(9e3),i=n(7909);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},5030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(7909),i=n(4706),o=n(3893);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},8130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(7909),i=n(4706),o=n(3893);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},4841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(7909),i=n(4706),o=n(3893);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},4793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(9e3),i=n(7909),o=n(4706);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},4460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(4706),i=n(3893);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(7909),i=n(4706),o=n(3893);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},6906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(7909),i=n(4706),o=n(3893);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},8522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(1664),i=n(9825),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},1770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},9e3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},1664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},7909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},3918:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(8522),s=n(9e3),u=n(1664),l=n(7909),c=n(4658),f=n(7206),d=n(1801),h=n(4310),p=n(9825),g=n(4362),v=n(5628),m=n(9847),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function l(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){l(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},7837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(9825),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},5628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},9847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(9e3),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},6543:function(e,t,n){"use strict";t.f3=t.t6=t.b2=t.W2=void 0,n(7909);var r=n(3918);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(1664);var o=n(7837);var a=n(9369);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(4460);var u=n(8130);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var l=n(1412);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(4841);var f=n(6906);var d=n(5030);var h=n(802);var p=n(4793);var g=n(4658);var v=n(9825);var m=n(3893);var y=n(371);var b=n(4362);var x=n(6747)},3065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(9825),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},4706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(7909),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},4658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(7909),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},7206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(1770),i=n(9e3),o=n(1664),a=n(7909),s=n(6016),u=n(4362),l=n(3065),c=n(4706),f=n(343),d=n(2440),h=n(3668),p=n(697);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),l=t?s:s.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function m(e,t,n,r,a,s){var u,l;if(null===a){u=v(e,t,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(e,t,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=l.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=l}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=d.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(t.implementationType));throw new Error(c)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,f,d){void 0===d&&(d=!1);var h=new l.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new p.Target(t,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return m(e,d,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),a=new l.Context(e);return new h.Request(t,a,null,[],i)}},3970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},2440:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(1412),o=n(9e3),a=n(1664),s=n(7909),u=n(4362);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(697);function c(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,p=c.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,l,h||p?c.length:n.length),v=d(e,n);return r(r([],g),v)}function f(e,t,n,r,s){var u=s[e.toString()]||[],c=h(u),f=!0!==c.unmanaged,d=r[e],p=c.inject||c.multiInject;if((d=p||d)instanceof i.LazyServiceIdentifer&&(d=d.unwrap()),f){if(!t&&(d===Object||d===Function||void 0===d)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,d);return v.metadata=u,v}return null}function d(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),p=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,p,g);v.metadata=c,i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=d(e,m);i=r(r([],i),y)}return i}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return c(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:e(t,r)}return 0}},3668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(9825),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(7909),i=n(9825),o=n(4706),a=n(3970),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},1265:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(9e3),o=n(1664),a=n(7909);t.resolveInstance=function(e,t,n){var s,u,l=null;if(t.length>0){var c=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(l=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else l=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,l),l}},1801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(9e3),i=n(1664),o=n(6016),a=n(4362),s=n(1265),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},l=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return e(t)(n)}));var d=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],p=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(g&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)d=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)d=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)d=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)d=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=s.resolveInstance(h.implementationType,l,e(t))}return"function"===typeof h.onActivation&&(d=h.onActivation(n.parentContext,d)),p&&(h.cache=d,h.activated=!0),g&&null!==t&&!t.has(h.id)&&t.set(h.id,d),d}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},6120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(1664),i=n(56),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},8109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(6120),i=n(8262),o=n(3505),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},8262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(3505),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},4310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(9e3),i=n(1664),o=n(8109),a=n(56),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(8262),i=n(3505),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},3505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(8262),i=n(371),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(7909),i=n(4706);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},6747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},6016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(9e3);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},9825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},4362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(9e3);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&u(e),h=n||c||f||d,p=h?r(e.length,String):[],g=p.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=u(e),b=u(t),x=y?d:s(e),w=b?d:s(t),_=(x=x==f?h:x)==h,S=(w=w==f?h:w)==h,E=x==w;if(E&&l(e)){if(!l(t))return!1;y=!0,_=!1}if(E&&!_)return m||(m=new r),y||c(e)?i(e,t,n,g,v,m):o(e,t,x,n,g,v,m);if(!(1&n)){var C=_&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(C||k){var M=C?e.value():e,I=k?t.value():t;return m||(m=new r),v(M,I,n,g,m)}}return!!E&&(m||(m=new r),a(e,t,n,g,v,m))}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var m=e[p],y=t[p];if(a)var b=l?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,l,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<c;){var m=e[d=l[f]],y=t[d];if(o)var b=u?o(y,m,d,t,e,s):o(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),v=l(i),m=l(o),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case v:return c;case m:return f;case y:return d;case b:return h}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,f,d,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(w,t),g?y(e):f}function x(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=c}function w(){var e=i();if(x(e))return _(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-p)):n}(e))}function _(e){return d=void 0,m&&u?y(e):(u=l=void 0,f)}function S(){var e=i(),n=x(e);if(u=arguments,l=this,h=e,n){if(void 0===d)return b(h);if(v)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=l=d=void 0},S.flush=function(){return void 0===d?f:_(i())},S}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,v=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",_="[object Error]",S="[object Function]",E="[object GeneratorFunction]",C="[object Map]",k="[object Number]",M="[object Object]",I="[object Promise]",T="[object RegExp]",A="[object Set]",N="[object String]",D="[object Symbol]",P="[object WeakMap]",O="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",F="[object Int16Array]",j="[object Int32Array]",G="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",Z=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,q=RegExp(X.source),$=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Me="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Ne="[\\ud800-\\udfff]",De="["+Te+"]",Pe="["+Ee+"]",Oe="\\d+",Le="[\\u2700-\\u27bf]",Re="["+ke+"]",Be="[^\\ud800-\\udfff"+Te+Oe+Ce+ke+Me+"]",ze="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Me+"]",Ue="(?:"+Re+"|"+Be+")",We="(?:"+Ve+"|"+Be+")",Ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Pe+"|"+ze+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ke=Xe+Ye+("(?:\\u200d(?:"+[Fe,je,Ge].join("|")+")"+Xe+Ye+")*"),qe="(?:"+[Le,je,Ge].join("|")+")"+Ke,$e="(?:"+[Fe+Pe+"?",Pe,je,Ge,Ne].join("|")+")",Qe=RegExp(Ae,"g"),Je=RegExp(Pe,"g"),et=RegExp(ze+"(?="+ze+")|"+$e+Ke,"g"),tt=RegExp([Ve+"?"+Re+"+"+Ze+"(?="+[De,Ve,"$"].join("|")+")",We+"+"+He+"(?="+[De,Ve+Ue,"$"].join("|")+")",Ve+"?"+Ue+"+"+Ze,Ve+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,qe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Ie+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[R]=at[B]=at[z]=at[F]=at[j]=at[G]=at[V]=at[U]=at[W]=!0,at[y]=at[b]=at[O]=at[x]=at[L]=at[w]=at[_]=at[S]=at[C]=at[k]=at[M]=at[T]=at[A]=at[N]=at[P]=!1;var st={};st[y]=st[b]=st[O]=st[L]=st[x]=st[w]=st[R]=st[B]=st[z]=st[F]=st[j]=st[C]=st[k]=st[M]=st[T]=st[A]=st[N]=st[D]=st[G]=st[V]=st[U]=st[W]=!0,st[_]=st[S]=st[P]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,gt=pt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===pt,mt=vt&&ft.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,_t=yt&&yt.isRegExp,St=yt&&yt.isSet,Et=yt&&yt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Nt(e,t){return!!(null==e?0:e.length)&&Gt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ot(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Rt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zt=Zt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Gt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Ut,n)}function Vt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ut(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:g}function Zt(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function Qt(e,t){return Pt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Gt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Gt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):zt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ht:mn.defaults(ht.Object(),t,mn.pick(ht,it))).Array,r=t.Date,se=t.Error,Ee=t.Function,Ce=t.Math,ke=t.Object,Me=t.RegExp,Ie=t.String,Te=t.TypeError,Ae=n.prototype,Ne=Ee.prototype,De=ke.prototype,Pe=t["__core-js_shared__"],Oe=Ne.toString,Le=De.hasOwnProperty,Re=0,Be=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ze=De.toString,Fe=Oe.call(ke),je=ht._,Ge=Me("^"+Oe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=vt?t.Buffer:i,Ue=t.Symbol,We=t.Uint8Array,Ze=Ve?Ve.allocUnsafe:i,He=ln(ke.getPrototypeOf,ke),Ye=ke.create,Xe=De.propertyIsEnumerable,Ke=Ae.splice,qe=Ue?Ue.isConcatSpreadable:i,$e=Ue?Ue.iterator:i,et=Ue?Ue.toStringTag:i,nt=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=r&&r.now!==ht.Date.now&&r.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Ce.ceil,gt=Ce.floor,mt=ke.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:i,zt=t.isFinite,Ht=Ae.join,yn=ln(ke.keys,ke),bn=Ce.max,xn=Ce.min,wn=r.now,_n=t.parseInt,Sn=Ce.random,En=Ae.reverse,Cn=ho(t,"DataView"),kn=ho(t,"Map"),Mn=ho(t,"Promise"),In=ho(t,"Set"),Tn=ho(t,"WeakMap"),An=ho(ke,"create"),Nn=Tn&&new Tn,Dn={},Pn=jo(Cn),On=jo(kn),Ln=jo(Mn),Rn=jo(In),Bn=jo(Tn),zn=Ue?Ue.prototype:i,Fn=zn?zn.valueOf:i,jn=zn?zn.toString:i;function Gn(e){if(rs(e)&&!Ha(e)&&!(e instanceof Zn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Go(e)}return new Wn(e)}var Vn=function(){function e(){}return function(t){if(!ns(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Yn(e);this.size=t.size}function $n(e,t){var n=Ha(e),r=!n&&Za(e),i=!n&&!r&&qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Kt(e.length,Ie):[],u=s.length;for(var l in e)!t&&!Le.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,u))||s.push(l);return s}function Qn(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Jn(e,t){return Bo(Ai(e),ur(t,0,e.length))}function er(e){return Bo(Ai(e))}function tr(e,t,n){(n!==i&&!Va(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&Va(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Va(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ni(t,Ps(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Is(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var f=Ha(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ai(e,s)}else{var d=vo(e),h=d==S||d==E;if(qa(e))return Ei(e,u);if(d==M||d==y||h&&!o){if(s=l||h?{}:yo(e),!u)return l?function(e,t){return Ni(e,go(e),t)}(e,function(e,t){return e&&Ni(t,Os(t),e)}(s,e)):function(e,t){return Ni(e,po(e),t)}(e,or(s,e))}else{if(!st[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case O:return Ci(e);case x:case w:return new r(+e);case L:return function(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case B:case z:case F:case j:case G:case V:case U:case W:return ki(e,n);case C:return new r;case k:case N:return new r(e);case T:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case D:return i=e,Fn?ke(Fn.call(i)):{}}var i}(e,d,u)}}a||(a=new qn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var g=f?i:(c?l?oo:io:l?Os:Ps)(e);return Mt(g||e,(function(r,i){g&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Te(o);return Po((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=Nt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Pt(t,$t(n))),r?(o=Dt,a=!1):t.length>=200&&(o=Jt,a=!1,t=new Kn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}Gn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Gn}},Gn.prototype=Un.prototype,Gn.prototype.constructor=Gn,Wn.prototype=Vn(Un.prototype),Wn.prototype.constructor=Wn,Zn.prototype=Vn(Un.prototype),Zn.prototype.constructor=Zn,Hn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===a?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?a:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return rr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(kn||Yn),string:new Hn}},Xn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return co(this,e).get(e)},Xn.prototype.has=function(e){return co(this,e).has(e)},Xn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Yn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var hr=Oi(wr),pr=Oi(_r,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Ot(i,s):r||(i[i.length]=s)}return i}var br=Li(),xr=Li(!0);function wr(e,t){return e&&br(e,t,Ps)}function _r(e,t){return e&&xr(e,t,Ps)}function Sr(e,t){return At(t,(function(t){return Ja(e[t])}))}function Er(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Cr(e,t,n){var r=t(e);return Ha(e)?r:Ot(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in ke(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=ze.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return ze.call(e)}(e)}function Mr(e,t){return e>t}function Ir(e,t){return null!=e&&Le.call(e,t)}function Tr(e,t){return null!=e&&t in ke(e)}function Ar(e,t,r){for(var o=r?Dt:Nt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Pt(d,$t(t))),c=xn(d.length,c),l[u]=!r&&(t||a>=120&&d.length>=120)?new Kn(u&&d):i}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var g=d[h],v=t?t(g):g;if(g=r||0!==g?g:0,!(p?Jt(p,v):o(f,v,r))){for(u=s;--u;){var m=l[u];if(!(m?Jt(m,v):o(e[u],v,r)))continue e}p&&p.push(v),f.push(g)}}return f}function Nr(e,t,n){var r=null==(e=To(e,t=xi(t,e)))?e:e[Fo(Qo(t))];return null==r?i:Ct(r,e,n)}function Dr(e){return rs(e)&&kr(e)==y}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ha(e),u=Ha(t),l=s?b:vo(e),c=u?b:vo(t),f=(l=l==y?M:l)==M,d=(c=c==y?M:c)==M,h=l==c;if(h&&qa(e)){if(!qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new qn),s||fs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case x:case w:case k:return Va(+e,+t);case _:return e.name==t.name&&e.message==t.message;case T:case N:return e==t+"";case C:var s=un;case A:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case D:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),g=d&&Le.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,m=g?t.value():t;return a||(a=new qn),o(v,m,n,r,a)}}if(!h)return!1;return a||(a=new qn),function(e,t,n,r,o,a){var s=1&n,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!s)return!1;var f=l;for(;f--;){var d=u[f];if(!(s?d in t:Le.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<l;){var m=e[d=u[f]],y=t[d];if(r)var b=s?r(y,m,d,t,e,a):r(m,y,d,e,t,a);if(!(b===i?m===y||o(m,y,n,r,a):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Pr,o))}function Or(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var d=new qn;if(r)var h=r(c,f,l,e,t,d);if(!(h===i?Pr(f,c,3,r,d):h))return!1}}return!0}function Lr(e){return!(!ns(e)||(t=e,Be&&Be in t))&&(Ja(e)?Ge:ye).test(jo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ha(e)?Vr(e[0],e[1]):Gr(e):pu(e)}function Br(e){if(!Co(e))return yn(e);var t=[];for(var n in ke(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Co(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function jr(e,t){var r=-1,i=Xa(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Gr(e){var t=fo(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Vr(e,t){return _o(e)&&ko(t)?Mo(Fo(e),t):function(n){var r=Is(n,e);return r===i&&r===t?Ts(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new qn),ns(a))!function(e,t,n,r,o,a,s){var u=No(e,n),l=No(t,n),c=s.get(l);if(c)return void tr(e,n,c);var f=a?a(u,l,n+"",e,t,s):i,d=f===i;if(d){var h=Ha(l),p=!h&&qa(l),g=!h&&!p&&fs(l);f=l,h||p||g?Ha(u)?f=u:Ka(u)?f=Ai(u):p?(d=!1,f=Ei(l,!0)):g?(d=!1,f=ki(l,!0)):f=[]:as(l)||Za(l)?(f=u,Za(u)?f=bs(u):ns(u)&&!Ja(u)||(f=yo(l))):d=!1}d&&(s.set(l,f),o(f,l,r,a,s),s.delete(l));tr(e,n,f)}(e,t,s,n,Ur,r,o);else{var u=r?r(No(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Os)}function Wr(e,t){var n=e.length;if(n)return xo(t+=t<0?n:0,n)?e[t]:i}function Zr(e,t,n){t=t.length?Pt(t,(function(e){return Ha(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Pt(t,$t(lo()));var i=jr(e,(function(e,n,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Mi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Er(e,a);n(s,a)&&ei(o,xi(a,e),s)}return o}function Yr(e,t,n,r){var i=r?Vt:Gt,o=-1,a=t.length,s=e;for(e===t&&(t=Ai(t)),n&&(s=Pt(e,$t(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xo(i)?Ke.call(e,i,1):di(e,i)}}return e}function Kr(e,t){return e+gt(Sn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Oo(Io(e,t,ou),e+"")}function Qr(e){return Qn(Vs(e))}function Jr(e,t){var n=Vs(e);return Bo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=xi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Fo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var f=u[l];(c=r?r(f,l,u):i)===i&&(c=ns(f)?f:xo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=Nn?function(e,t){return Nn.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Bo(Vs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;o<a;){var f=gt((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,g=d===d,v=cs(d);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!v):!p&&!v&&(r?d<=t:d<t);m?o=f+1:a=f}return xn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Va(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:cs(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Ha(e))return Pt(e,ci)+"";if(cs(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Nt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Dt;else if(o>=200){var l=t?null:qi(e);if(l)return fn(l);a=!1,i=Jt,u=new Kn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function di(e,t){return null==(e=To(e,t=xi(t,e)))||delete e[Fo(Qo(t))]}function hi(e,t,n,r){return ei(e,t,n(Er(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Zn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,e[u],t,r));return fi(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Ka(e)?e:[]}function bi(e){return"function"==typeof e?e:ou}function xi(e,t){return Ha(e)?e:_o(e,t)?[e]:zo(xs(e))}var wi=$r;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=ut||function(e){return ht.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ze?Ze(n):new e.constructor(n);return e.copy(r),r}function Ci(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function ki(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Ii(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=bn(a-s,0),f=n(l+c),d=!i;++u<l;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function Ti(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,f=bn(a-u,0),d=n(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Ai(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?ar(n,u,l):nr(n,u,l)}return n}function Di(e,t){return function(n,r){var i=Ha(n)?kt:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function Pi(e){return $r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ri(e){return function(t){var n=sn(t=xs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?_i(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Lt(Js(Zs(t).replace(Qe,"")),e,"")}}function zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Fi(e){return function(t,n,r){var o=ke(t);if(!Xa(t)){var a=lo(n,3);t=Ps(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function ji(e){return ro((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Te(o);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=t[r]),c="wrapper"==l?ao(s):i;u=c&&So(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&So(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Gi(e,t,r,o,a,s,u,l,c,d){var h=t&f,p=1&t,g=2&t,v=24&t,m=512&t,y=g?i:zi(e);return function i(){for(var f=arguments.length,b=n(f),x=f;x--;)b[x]=arguments[x];if(v)var w=uo(i),_=nn(b,w);if(o&&(b=Ii(b,o,a,v)),s&&(b=Ti(b,s,u,v)),f-=_,v&&f<d){var S=cn(b,w);return Xi(e,t,Gi,i.placeholder,r,b,S,l,c,d-f)}var E=p?r:this,C=g?E[e]:e;return f=b.length,l?b=Ao(b,l):m&&f>1&&b.reverse(),h&&c<f&&(b.length=c),this&&this!==ht&&this instanceof i&&(C=y||zi(C)),C.apply(E,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Wi(e){return ro((function(t){return t=Pt(t,$t(lo())),$r((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Zi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,pt(e/hn(t)));return sn(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=gs(t),r===i?(r=t,t=0):r=gs(r),function(e,t,r,i){for(var o=-1,a=bn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:gs(o),e)}}function Yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Xi(e,t,n,r,o,a,s,u,f,d){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],g=n.apply(i,p);return So(e)&&Do(g,p),g.placeholder=r,Lo(g,e,t)}function Ki(e){var t=Ce[e];return function(e,n){if(e=ys(e),(n=null==n?0:xn(vs(n),292))&&zt(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=In&&1/fn(new In([,-0]))[1]==h?function(e){return new In(e)}:cu;function $i(e){return function(t){var n=vo(t);return n==C?un(t):n==A?dn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,r,a,h,p,g,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Te(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),g=g===i?g:bn(vs(g),0),v=v===i?v:vs(v),y-=h?h.length:0,t&c){var b=a,x=h;a=h=i}var w=m?i:ao(e),_=[e,t,r,a,h,b,x,p,g,v];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ii(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ti(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],a=_[3],h=_[4],!(v=_[9]=_[9]===i?m?0:e.length:bn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var o=zi(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=f.length)<r?Xi(e,t,Gi,a.placeholder,i,u,f,i,i,r-s):Ct(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,v):t!=l&&33!=t||h.length?Gi.apply(i,_):function(e,t,r,i){var o=1&t,a=zi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),d=this&&this!==ht&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Ct(d,o?r:this,f)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=zi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Lo((w?ti:Do)(S,_),e,t)}function Ji(e,t,n,r){return e===i||Va(e,De[n])&&!Le.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Ur(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new Kn:i;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(r)var m=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!Bt(t,(function(e,t){if(!Jt(p,t)&&(g===e||o(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Oo(Io(e,i,Yo),e+"")}function io(e){return Cr(e,Ps,po)}function oo(e){return Cr(e,Os,go)}var ao=Nn?function(e){return Nn.get(e)}:cu;function so(e){for(var t=e.name+"",n=Dn[t],r=Le.call(Dn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Le.call(Gn,"placeholder")?Gn:e).placeholder}function lo(){var e=Gn.iteratee||au;return e=e===au?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Ps(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=ke(e),At(mt(e),(function(t){return Xe.call(e,t)})))}:mu,go=mt?function(e){for(var t=[];e;)Ot(t,po(e)),e=He(e);return t}:mu,vo=kr;function mo(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&xo(a,i)&&(Ha(e)||Za(e))}function yo(e){return"function"!=typeof e.constructor||Co(e)?{}:Vn(He(e))}function bo(e){return Ha(e)||Za(e)||!!(qe&&e&&e[qe])}function xo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&xo(t,n.length):"string"==r&&t in n)&&Va(n[t],e)}function _o(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function So(e){var t=so(e),n=Gn[t];if("function"!=typeof n||!(t in Zn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Cn&&vo(new Cn(new ArrayBuffer(1)))!=L||kn&&vo(new kn)!=C||Mn&&vo(Mn.resolve())!=I||In&&vo(new In)!=A||Tn&&vo(new Tn)!=P)&&(vo=function(e){var t=kr(e),n=t==M?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case Pn:return L;case On:return C;case Ln:return I;case Rn:return A;case Bn:return P}return t});var Eo=Pe?Ja:yu;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function ko(e){return e===e&&!ns(e)}function Mo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function Io(e,t,r){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Ct(e,this,u)}}function To(e,t){return t.length<2?e:Er(e,ii(t,0,-1))}function Ao(e,t){for(var n=e.length,r=xn(t.length,n),o=Ai(e);r--;){var a=t[r];e[r]=xo(a,n)?o[a]:i}return e}function No(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Do=Ro(ti),Po=dt||function(e,t){return ht.setTimeout(e,t)},Oo=Ro(ni);function Lo(e,t,n){var r=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(m,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Kr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var zo=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Go(e){if(e instanceof Zn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=$r((function(e,t){return Ka(e)?dr(e,yr(t,1,Ka,!0)):[]})),Uo=$r((function(e,t){var n=Qo(t);return Ka(n)&&(n=i),Ka(e)?dr(e,yr(t,1,Ka,!0),lo(n,2)):[]})),Wo=$r((function(e,t){var n=Qo(t);return Ka(n)&&(n=i),Ka(e)?dr(e,yr(t,1,Ka,!0),i,n):[]}));function Zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),jt(e,lo(t,3),i)}function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?bn(r+o,0):xn(o,r-1)),jt(e,lo(t,3),o,!0)}function Yo(e){return(null==e?0:e.length)?yr(e,1):[]}function Xo(e){return e&&e.length?e[0]:i}var Ko=$r((function(e){var t=Pt(e,yi);return t.length&&t[0]===e[0]?Ar(t):[]})),qo=$r((function(e){var t=Qo(e),n=Pt(e,yi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,lo(t,2)):[]})),$o=$r((function(e){var t=Qo(e),n=Pt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=$r(ea);function ea(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Xr(e,Pt(t,(function(e){return xo(e,n)?+e:e})).sort(Mi)),r}));function na(e){return null==e?e:En.call(e)}var ra=$r((function(e){return fi(yr(e,1,Ka,!0))})),ia=$r((function(e){var t=Qo(e);return Ka(t)&&(t=i),fi(yr(e,1,Ka,!0),lo(t,2))})),oa=$r((function(e){var t=Qo(e);return t="function"==typeof t?t:i,fi(yr(e,1,Ka,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Kt(t,(function(t){return Pt(e,Zt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Pt(n,(function(e){return Ct(t,i,e)}))}var ua=$r((function(e,t){return Ka(e)?dr(e,t):[]})),la=$r((function(e){return vi(At(e,Ka))})),ca=$r((function(e){var t=Qo(e);return Ka(t)&&(t=i),vi(At(e,Ka),lo(t,2))})),fa=$r((function(e){var t=Qo(e);return t="function"==typeof t?t:i,vi(At(e,Ka),i,t)})),da=$r(aa);var ha=$r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Gn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Zn&&xo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Di((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Fi(Zo),ba=Fi(Ho);function xa(e,t){return(Ha(e)?Mt:hr)(e,lo(t,3))}function wa(e,t){return(Ha(e)?It:pr)(e,lo(t,3))}var _a=Di((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=$r((function(e,t,r){var i=-1,o="function"==typeof t,a=Xa(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?Ct(t,e,r):Nr(e,t,r)})),a})),Ea=Di((function(e,t,n){ar(e,n,t)}));function Ca(e,t){return(Ha(e)?Pt:jr)(e,lo(t,3))}var ka=Di((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ma=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Zr(e,yr(t,1),[])})),Ia=ft||function(){return ht.Date.now()};function Ta(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Qi(e,f,i,i,i,i,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Te(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Na=$r((function(e,t,n){var r=1;if(n.length){var i=cn(n,uo(Na));r|=l}return Qi(e,r,t,n,i)})),Da=$r((function(e,t,n){var r=3;if(n.length){var i=cn(n,uo(Da));r|=l}return Qi(t,r,e,n,i)}));function Pa(e,t,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(o);function g(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function v(e){return f=e,l=Po(y,t),d?g(e):u}function m(e){var n=e-c;return c===i||n>=t||n<0||h&&e-f>=s}function y(){var e=Ia();if(m(e))return b(e);l=Po(y,function(e){var n=t-(e-c);return h?xn(n,s-(e-f)):n}(e))}function b(e){return l=i,p&&r?g(e):(r=a=i,u)}function x(){var e=Ia(),n=m(e);if(r=arguments,a=this,c=e,n){if(l===i)return v(c);if(h)return Si(l),l=Po(y,t),g(c)}return l===i&&(l=Po(y,t)),u}return t=ys(t)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==i&&Si(l),f=0,r=c=a=l=i},x.flush=function(){return l===i?u:b(Ia())},x}var Oa=$r((function(e,t){return fr(e,1,t)})),La=$r((function(e,t,n){return fr(e,ys(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Xn),n}function Ba(e){if("function"!=typeof e)throw new Te(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Xn;var za=wi((function(e,t){var n=(t=1==t.length&&Ha(t[0])?Pt(t[0],$t(lo())):Pt(yr(t,1),$t(lo()))).length;return $r((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),Fa=$r((function(e,t){var n=cn(t,uo(Fa));return Qi(e,l,i,t,n)})),ja=$r((function(e,t){var n=cn(t,uo(ja));return Qi(e,c,i,t,n)})),Ga=ro((function(e,t){return Qi(e,d,i,i,i,t)}));function Va(e,t){return e===t||e!==e&&t!==t}var Ua=Yi(Mr),Wa=Yi((function(e,t){return e>=t})),Za=Dr(function(){return arguments}())?Dr:function(e){return rs(e)&&Le.call(e,"callee")&&!Xe.call(e,"callee")},Ha=n.isArray,Ya=bt?$t(bt):function(e){return rs(e)&&kr(e)==O};function Xa(e){return null!=e&&ts(e.length)&&!Ja(e)}function Ka(e){return rs(e)&&Xa(e)}var qa=yt||yu,$a=xt?$t(xt):function(e){return rs(e)&&kr(e)==w};function Qa(e){if(!rs(e))return!1;var t=kr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ja(e){if(!ns(e))return!1;var t=kr(e);return t==S||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==vs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?$t(wt):function(e){return rs(e)&&vo(e)==C};function os(e){return"number"==typeof e||rs(e)&&kr(e)==k}function as(e){if(!rs(e)||kr(e)!=M)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Fe}var ss=_t?$t(_t):function(e){return rs(e)&&kr(e)==T};var us=St?$t(St):function(e){return rs(e)&&vo(e)==A};function ls(e){return"string"==typeof e||!Ha(e)&&rs(e)&&kr(e)==N}function cs(e){return"symbol"==typeof e||rs(e)&&kr(e)==D}var fs=Et?$t(Et):function(e){return rs(e)&&ts(e.length)&&!!at[kr(e)]};var ds=Yi(Fr),hs=Yi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xa(e))return ls(e)?pn(e):Ai(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=vo(e);return(t==C?un:t==A?fn:Vs)(e)}function gs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(vs(e),0,v):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return g;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=me.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):ve.test(e)?g:+e}function bs(e){return Ni(e,Os(e))}function xs(e){return null==e?"":ci(e)}var ws=Pi((function(e,t){if(Co(t)||Xa(t))Ni(t,Ps(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),_s=Pi((function(e,t){Ni(t,Os(t),e)})),Ss=Pi((function(e,t,n,r){Ni(t,Os(t),e,r)})),Es=Pi((function(e,t,n,r){Ni(t,Ps(t),e,r)})),Cs=ro(sr);var ks=$r((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Os(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Va(f,De[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),Ms=$r((function(e){return e.push(i,eo),Ct(Rs,i,e)}));function Is(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ts(e,t){return null!=e&&mo(e,t,Tr)}var As=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),nu(ou)),Ns=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ds=$r(Nr);function Ps(e){return Xa(e)?$n(e):Br(e)}function Os(e){return Xa(e)?$n(e,!0):zr(e)}var Ls=Pi((function(e,t,n){Ur(e,t,n)})),Rs=Pi((function(e,t,n,r){Ur(e,t,n,r)})),Bs=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Ni(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n}));var zs=ro((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ts(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Pt(oo(e),(function(e){return[e]}));return t=lo(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var js=$i(Ps),Gs=$i(Os);function Vs(e){return null==e?[]:Qt(e,Ps(e))}var Us=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Qs(xs(e).toLowerCase())}function Zs(e){return(e=xs(e))&&e.replace(we,rn).replace(Je,"")}var Hs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ys=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Ri("toLowerCase");var Ks=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=Bi((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var $s=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Ri("toUpperCase");function Js(e,t,n){return e=xs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=$r((function(e,t){try{return Ct(e,i,t)}catch(n){return Qa(n)?n:new se(n)}})),tu=ro((function(e,t){return Mt(t,(function(t){t=Fo(t),ar(e,t,Na(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=ji(),iu=ji(!0);function ou(e){return e}function au(e){return Rr("function"==typeof e?e:lr(e,1))}var su=$r((function(e,t){return function(n){return Nr(n,e,t)}})),uu=$r((function(e,t){return function(n){return Nr(e,n,t)}}));function lu(e,t,n){var r=Ps(t),i=Sr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ps(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Ja(e);return Mt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function cu(){}var fu=Wi(Pt),du=Wi(Tt),hu=Wi(Bt);function pu(e){return _o(e)?Zt(Fo(e)):function(e){return function(t){return Er(t,e)}}(e)}var gu=Hi(),vu=Hi(!0);function mu(){return[]}function yu(){return!1}var bu=Ui((function(e,t){return e+t}),0),xu=Ki("ceil"),wu=Ui((function(e,t){return e/t}),1),_u=Ki("floor");var Su=Ui((function(e,t){return e*t}),1),Eu=Ki("round"),Cu=Ui((function(e,t){return e-t}),0);return Gn.after=function(e,t){if("function"!=typeof t)throw new Te(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Gn.ary=Ta,Gn.assign=ws,Gn.assignIn=_s,Gn.assignInWith=Ss,Gn.assignWith=Es,Gn.at=Cs,Gn.before=Aa,Gn.bind=Na,Gn.bindAll=tu,Gn.bindKey=Da,Gn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Gn.chain=pa,Gn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:bn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Gn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Gn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ot(Ha(r)?Ai(r):[r],yr(t,1))},Gn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Te(o);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}}))},Gn.conforms=function(e){return function(e){var t=Ps(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Gn.constant=nu,Gn.countBy=ma,Gn.create=function(e,t){var n=Vn(e);return null==t?n:or(n,t)},Gn.curry=function e(t,n,r){var o=Qi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Gn.curryRight=function e(t,n,r){var o=Qi(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Gn.debounce=Pa,Gn.defaults=ks,Gn.defaultsDeep=Ms,Gn.defer=Oa,Gn.delay=La,Gn.difference=Vo,Gn.differenceBy=Uo,Gn.differenceWith=Wo,Gn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Gn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Gn.dropRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0,!0):[]},Gn.dropWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0):[]},Gn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Gn.filter=function(e,t){return(Ha(e)?At:mr)(e,lo(t,3))},Gn.flatMap=function(e,t){return yr(Ca(e,t),1)},Gn.flatMapDeep=function(e,t){return yr(Ca(e,t),h)},Gn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),yr(Ca(e,t),n)},Gn.flatten=Yo,Gn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Gn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:vs(t)):[]},Gn.flip=function(e){return Qi(e,512)},Gn.flow=ru,Gn.flowRight=iu,Gn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Gn.functions=function(e){return null==e?[]:Sr(e,Ps(e))},Gn.functionsIn=function(e){return null==e?[]:Sr(e,Os(e))},Gn.groupBy=_a,Gn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Gn.intersection=Ko,Gn.intersectionBy=qo,Gn.intersectionWith=$o,Gn.invert=As,Gn.invertBy=Ns,Gn.invokeMap=Sa,Gn.iteratee=au,Gn.keyBy=Ea,Gn.keys=Ps,Gn.keysIn=Os,Gn.map=Ca,Gn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Gn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Gn.matches=function(e){return Gr(lr(e,1))},Gn.matchesProperty=function(e,t){return Vr(e,lr(t,1))},Gn.memoize=Ra,Gn.merge=Ls,Gn.mergeWith=Rs,Gn.method=su,Gn.methodOf=uu,Gn.mixin=lu,Gn.negate=Ba,Gn.nthArg=function(e){return e=vs(e),$r((function(t){return Wr(t,e)}))},Gn.omit=Bs,Gn.omitBy=function(e,t){return Fs(e,Ba(lo(t)))},Gn.once=function(e){return Aa(2,e)},Gn.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?i:n)||(n=null==n?[]:[n]),Zr(e,t,n))},Gn.over=fu,Gn.overArgs=za,Gn.overEvery=du,Gn.overSome=hu,Gn.partial=Fa,Gn.partialRight=ja,Gn.partition=ka,Gn.pick=zs,Gn.pickBy=Fs,Gn.property=pu,Gn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Gn.pull=Jo,Gn.pullAll=ea,Gn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,lo(n,2)):e},Gn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,i,n):e},Gn.pullAt=ta,Gn.range=gu,Gn.rangeRight=vu,Gn.rearg=Ga,Gn.reject=function(e,t){return(Ha(e)?At:mr)(e,Ba(lo(t,3)))},Gn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Xr(e,i),n},Gn.rest=function(e,t){if("function"!=typeof e)throw new Te(o);return $r(e,t=t===i?t:vs(t))},Gn.reverse=na,Gn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),(Ha(e)?Jn:Jr)(e,t)},Gn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Gn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Gn.shuffle=function(e){return(Ha(e)?er:ri)(e)},Gn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ii(e,t,n)):[]},Gn.sortBy=Ma,Gn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Gn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Gn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?v:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?_i(pn(e),0,n):e.split(t,n):[]},Gn.spread=function(e,t){if("function"!=typeof e)throw new Te(o);return t=null==t?0:bn(vs(t),0),$r((function(n){var r=n[t],i=_i(n,0,t);return r&&Ot(i,r),Ct(e,this,i)}))},Gn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Gn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Gn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Gn.takeRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!1,!0):[]},Gn.takeWhile=function(e,t){return e&&e.length?pi(e,lo(t,3)):[]},Gn.tap=function(e,t){return t(e),e},Gn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Te(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(e,t,{leading:r,maxWait:t,trailing:i})},Gn.thru=ga,Gn.toArray=ps,Gn.toPairs=js,Gn.toPairsIn=Gs,Gn.toPath=function(e){return Ha(e)?Pt(e,Fo):cs(e)?[e]:Ai(zo(xs(e)))},Gn.toPlainObject=bs,Gn.transform=function(e,t,n){var r=Ha(e),i=r||qa(e)||fs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Ja(o)?Vn(He(e)):{}}return(i?Mt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Gn.unary=function(e){return Ta(e,1)},Gn.union=ra,Gn.unionBy=ia,Gn.unionWith=oa,Gn.uniq=function(e){return e&&e.length?fi(e):[]},Gn.uniqBy=function(e,t){return e&&e.length?fi(e,lo(t,2)):[]},Gn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Gn.unset=function(e,t){return null==e||di(e,t)},Gn.unzip=aa,Gn.unzipWith=sa,Gn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Gn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Gn.values=Vs,Gn.valuesIn=function(e){return null==e?[]:Qt(e,Os(e))},Gn.without=ua,Gn.words=Js,Gn.wrap=function(e,t){return Fa(bi(t),e)},Gn.xor=la,Gn.xorBy=ca,Gn.xorWith=fa,Gn.zip=da,Gn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Gn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Gn.zipWith=ha,Gn.entries=js,Gn.entriesIn=Gs,Gn.extend=_s,Gn.extendWith=Ss,lu(Gn,Gn),Gn.add=bu,Gn.attempt=eu,Gn.camelCase=Us,Gn.capitalize=Ws,Gn.ceil=xu,Gn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Gn.clone=function(e){return lr(e,4)},Gn.cloneDeep=function(e){return lr(e,5)},Gn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Gn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Gn.conformsTo=function(e,t){return null==t||cr(e,t,Ps(t))},Gn.deburr=Zs,Gn.defaultTo=function(e,t){return null==e||e!==e?t:e},Gn.divide=wu,Gn.endsWith=function(e,t,n){e=xs(e),t=ci(t);var r=e.length,o=n=n===i?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Gn.eq=Va,Gn.escape=function(e){return(e=xs(e))&&$.test(e)?e.replace(K,on):e},Gn.escapeRegExp=function(e){return(e=xs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Gn.every=function(e,t,n){var r=Ha(e)?Tt:gr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Gn.find=ya,Gn.findIndex=Zo,Gn.findKey=function(e,t){return Ft(e,lo(t,3),wr)},Gn.findLast=ba,Gn.findLastIndex=Ho,Gn.findLastKey=function(e,t){return Ft(e,lo(t,3),_r)},Gn.floor=_u,Gn.forEach=xa,Gn.forEachRight=wa,Gn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Os)},Gn.forInRight=function(e,t){return null==e?e:xr(e,lo(t,3),Os)},Gn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Gn.forOwnRight=function(e,t){return e&&_r(e,lo(t,3))},Gn.get=Is,Gn.gt=Ua,Gn.gte=Wa,Gn.has=function(e,t){return null!=e&&mo(e,t,Ir)},Gn.hasIn=Ts,Gn.head=Xo,Gn.identity=ou,Gn.includes=function(e,t,n,r){e=Xa(e)?e:Vs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Gt(e,t,n)>-1},Gn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),Gt(e,t,i)},Gn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Gn.invoke=Ds,Gn.isArguments=Za,Gn.isArray=Ha,Gn.isArrayBuffer=Ya,Gn.isArrayLike=Xa,Gn.isArrayLikeObject=Ka,Gn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&kr(e)==x},Gn.isBuffer=qa,Gn.isDate=$a,Gn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Gn.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||fs(e)||Za(e)))return!e.length;var t=vo(e);if(t==C||t==A)return!e.size;if(Co(e))return!Br(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Gn.isEqual=function(e,t){return Pr(e,t)},Gn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Gn.isError=Qa,Gn.isFinite=function(e){return"number"==typeof e&&zt(e)},Gn.isFunction=Ja,Gn.isInteger=es,Gn.isLength=ts,Gn.isMap=is,Gn.isMatch=function(e,t){return e===t||Or(e,t,fo(t))},Gn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,fo(t),n)},Gn.isNaN=function(e){return os(e)&&e!=+e},Gn.isNative=function(e){if(Eo(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Gn.isNil=function(e){return null==e},Gn.isNull=function(e){return null===e},Gn.isNumber=os,Gn.isObject=ns,Gn.isObjectLike=rs,Gn.isPlainObject=as,Gn.isRegExp=ss,Gn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Gn.isSet=us,Gn.isString=ls,Gn.isSymbol=cs,Gn.isTypedArray=fs,Gn.isUndefined=function(e){return e===i},Gn.isWeakMap=function(e){return rs(e)&&vo(e)==P},Gn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==kr(e)},Gn.join=function(e,t){return null==e?"":Ht.call(e,t)},Gn.kebabCase=Hs,Gn.last=Qo,Gn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?bn(r+o,0):xn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,Ut,o,!0)},Gn.lowerCase=Ys,Gn.lowerFirst=Xs,Gn.lt=ds,Gn.lte=hs,Gn.max=function(e){return e&&e.length?vr(e,ou,Mr):i},Gn.maxBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Mr):i},Gn.mean=function(e){return Wt(e,ou)},Gn.meanBy=function(e,t){return Wt(e,lo(t,2))},Gn.min=function(e){return e&&e.length?vr(e,ou,Fr):i},Gn.minBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Fr):i},Gn.stubArray=mu,Gn.stubFalse=yu,Gn.stubObject=function(){return{}},Gn.stubString=function(){return""},Gn.stubTrue=function(){return!0},Gn.multiply=Su,Gn.nth=function(e,t){return e&&e.length?Wr(e,vs(t)):i},Gn.noConflict=function(){return ht._===this&&(ht._=je),this},Gn.noop=cu,Gn.now=Ia,Gn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Zi(gt(i),n)+e+Zi(pt(i),n)},Gn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?e+Zi(t-r,n):e},Gn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?Zi(t-r,n)+e:e},Gn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(xs(e).replace(ae,""),t||0)},Gn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return xn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Kr(e,t)},Gn.reduce=function(e,t,n){var r=Ha(e)?Lt:Yt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Gn.reduceRight=function(e,t,n){var r=Ha(e)?Rt:Yt,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Gn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),qr(xs(e),t)},Gn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Gn.result=function(e,t,n){var r=-1,o=(t=xi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Fo(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Gn.round=Eu,Gn.runInContext=e,Gn.sample=function(e){return(Ha(e)?Qn:Qr)(e)},Gn.size=function(e){if(null==e)return 0;if(Xa(e))return ls(e)?hn(e):e.length;var t=vo(e);return t==C||t==A?e.size:Br(e).length},Gn.snakeCase=Ks,Gn.some=function(e,t,n){var r=Ha(e)?Bt:oi;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Gn.sortedIndex=function(e,t){return ai(e,t)},Gn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Gn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Va(e[r],t))return r}return-1},Gn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Gn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Gn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Va(e[n],t))return n}return-1},Gn.startCase=qs,Gn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:ur(vs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Gn.subtract=Cu,Gn.sum=function(e){return e&&e.length?Xt(e,ou):0},Gn.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Gn.template=function(e,t,n){var r=Gn.templateSettings;n&&wo(e,t,n)&&(t=i),e=xs(e),t=Ss({},t,r,Ji);var o,a,s=Ss({},t.imports,r.imports,Ji),u=Ps(s),l=Qt(s,u),c=0,f=t.interpolate||_e,d="__p += '",h=Me((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(c,u).replace(Se,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(Z,""):d).replace(H,"$1").replace(Y,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=eu((function(){return Ee(u,p+"return "+d).apply(i,l)}));if(v.source=d,Qa(v))throw v;return v},Gn.times=function(e,t){if((e=vs(e))<1||e>p)return[];var n=v,r=xn(e,v);t=lo(t),e-=v;for(var i=Kt(r,t);++n<e;)t(n);return i},Gn.toFinite=gs,Gn.toInteger=vs,Gn.toLength=ms,Gn.toLower=function(e){return xs(e).toLowerCase()},Gn.toNumber=ys,Gn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,p):0===e?e:0},Gn.toString=xs,Gn.toUpper=function(e){return xs(e).toUpperCase()},Gn.trim=function(e,t,n){if((e=xs(e))&&(n||t===i))return qt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),o=pn(t);return _i(r,en(r,o),tn(r,o)+1).join("")},Gn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Gn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Gn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var l=s?_i(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),ss(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=Me(o.source,xs(ge.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var d=c.index;l=l.slice(0,d===i?u:d)}}else if(e.indexOf(ci(o),u)!=u){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Gn.unescape=function(e){return(e=xs(e))&&q.test(e)?e.replace(X,vn):e},Gn.uniqueId=function(e){var t=++Re;return xs(e)+t},Gn.upperCase=$s,Gn.upperFirst=Qs,Gn.each=xa,Gn.eachRight=wa,Gn.first=Xo,lu(Gn,function(){var e={};return wr(Gn,(function(t,n){Le.call(Gn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Gn.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Gn[e].placeholder=Gn})),Mt(["drop","take"],(function(e,t){Zn.prototype[e]=function(n){n=n===i?1:bn(vs(n),0);var r=this.__filtered__&&!t?new Zn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Zn.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Zn.prototype[e]=function(){return this.__filtered__?new Zn(this):this[n](1)}})),Zn.prototype.compact=function(){return this.filter(ou)},Zn.prototype.find=function(e){return this.filter(e).head()},Zn.prototype.findLast=function(e){return this.reverse().find(e)},Zn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Zn(this):this.map((function(n){return Nr(n,e,t)}))})),Zn.prototype.reject=function(e){return this.filter(Ba(lo(e)))},Zn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Zn.prototype.toArray=function(){return this.take(v)},wr(Zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Gn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Gn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Zn,l=s[0],c=u||Ha(t),f=function(e){var t=o.apply(Gn,Ot([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){t=g?t:new Zn(this);var v=e.apply(t,s);return v.__actions__.push({func:ga,args:[f],thisArg:i}),new Wn(v,d)}return p&&g?e.apply(this,s):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Gn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ha(i)?i:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),wr(Zn.prototype,(function(e,t){var n=Gn[t];if(n){var r=n.name+"";Le.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[Gi(i,2).name]=[{name:"wrapper",func:i}],Zn.prototype.clone=function(){var e=new Zn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Zn.prototype.reverse=function(){if(this.__filtered__){var e=new Zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=xn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return gi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var g=-1,v=e[l+=t];++g<f;){var m=c[g],y=m.iteratee,b=m.type,x=y(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}p[d++]=v}return p},Gn.prototype.at=va,Gn.prototype.chain=function(){return pa(this)},Gn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Gn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Gn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Go(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Gn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Zn){var t=e;return this.__actions__.length&&(t=new Zn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[na],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(na)},Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Gn.prototype.first=Gn.prototype.head,$e&&(Gn.prototype[$e]=function(){return this}),Gn}();ht._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1132:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractMatrix:function(){return j},CHO:function(){return we},CholeskyDecomposition:function(){return we},EVD:function(){return ge},EigenvalueDecomposition:function(){return ge},LU:function(){return ne},LuDecomposition:function(){return ne},Matrix:function(){return V},MatrixColumnSelectionView:function(){return Z},MatrixColumnView:function(){return W},MatrixFlipColumnView:function(){return H},MatrixFlipRowView:function(){return Y},MatrixRowSelectionView:function(){return K},MatrixRowView:function(){return X},MatrixSelectionView:function(){return q},MatrixSubView:function(){return $},MatrixTransposeView:function(){return Q},NIPALS:function(){return _e},Nipals:function(){return _e},QR:function(){return ie},QrDecomposition:function(){return ie},SVD:function(){return oe},SingularValueDecomposition:function(){return oe},WrapperMatrix1D:function(){return J},WrapperMatrix2D:function(){return ee},correlation:function(){return pe},covariance:function(){return he},default:function(){return V},determinant:function(){return ue},inverse:function(){return ae},linearDependencies:function(){return fe},pseudoInverse:function(){return de},solve:function(){return se},wrap:function(){return te}});var r=n(2963),i=n(136),o=n(4062),a=n(5671),s=n(3144),u=Object.prototype.toString;function l(e){return u.call(e).endsWith("Array]")}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!l(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=f(e),i=c(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var d=(u-a)/(i-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*d+a;return t}var h=" ".repeat(2),p=" ".repeat(4);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(h,"[\n").concat(p).concat(v(e,r,o,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(e.rows,"\n").concat(h,"columns: ").concat(e.columns,"\n}")}function v(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],l=0;l<a;l++){for(var c=[],f=0;f<s;f++)c.push(m(e.get(l,f),r));u.push("".concat(c.join(" ")))}return s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns")),a!==i&&u.push("... ".concat(i-t," more rows")),u.join("\n".concat(p))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function y(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function b(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function x(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function w(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function _(e,t){if(!l(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function S(e,t){if(!l(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function E(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(k("startRow",t),k("endRow",n),k("startColumn",r),k("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function C(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function k(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function M(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function I(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,l=0,c=0;c<i;c++)s+=l=e.get(a,c)-n[a],u+=l*l;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}function T(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,l=0,c=0;c<r;c++)s+=l=e.get(c,a)-n[a],u+=l*l;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}function A(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,l=0;l<r;l++)for(var c=0;c<i;c++)a+=u=e.get(l,c)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}function N(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function D(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function P(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function O(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function L(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function R(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function B(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function z(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function F(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var j=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var l=n+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(t,l)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var l=e.get(a,u)-s*e.get(r,u);e.set(a,u,l)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new V(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){y(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return V.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){y(this,e),t=x(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){y(this,e),y(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){b(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return V.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){b(this,e),t=w(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){b(this,e),b(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){y(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){b(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){M(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){M(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){y(this,e),M(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){y(this,e),M(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){b(this,e),M(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){b(this,e),M(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=V.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new V(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var l=0,c=0;c<n;c++)l+=this.get(u,c)*o[c];i.set(u,a,l)}}return i}},{key:"strassen2x2",value:function(e){e=V.checkMatrix(e);var t=new V(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),l=e.get(1,1),c=(n+u)*(r+l),f=(a+u)*r,d=n*(o-l),h=u*(s-r),p=(n+i)*l,g=c+h-p+(i-u)*(s+l),v=d+p,m=f+h,y=c-f+d+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=V.checkMatrix(e);var t=new V(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-o)*(-d+g),w=(-n+o+a)*(f-d+g),_=(o+a)*(-f+d),S=n*f,E=(-n+u+l)*(f-h+v),C=(-n+u)*(h-v),k=(u+l)*(-f+h),M=(-i+l+c)*(g+m-y),I=(i-c)*(g-y),T=i*m,A=(l+c)*(-m+y),N=(-i+a+s)*(v+m-b),D=(i-s)*(v-b),P=(a+s)*(-m+b),O=S+T+r*p,L=(n+r+i-o-a-l-c)*g+w+_+S+M+T+A,R=S+E+k+(n+r+i-a-s-u-l)*v+T+N+P,B=x+a*(-f+d+p-g-v-m+b)+w+S+T+N+D,z=x+w+_+S+s*y,F=T+N+D+P+o*h,j=S+E+C+l*(-f+h+p-g-v-m+y)+M+I+T,G=M+I+T+A+u*d,U=S+E+C+k+c*b;return t.set(0,0,O),t.set(0,1,L),t.set(0,2,R),t.set(1,0,B),t.set(1,1,z),t.set(1,2,F),t.set(2,0,j),t.set(2,1,G),t.set(2,2,U),t}},{key:"mmulStrassen",value:function(t){t=V.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,o),l=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),l=n.subMatrix(0,a-1,0,u-1),c=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),g=n.subMatrix(a,n.rows-1,u,n.columns-1),v=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(l,g),e.add(c,v),a,u),y=t(e.add(h,g),c,a,u),b=t(l,e.sub(d,v),a,u),x=t(g,e.sub(p,c),a,u),w=t(e.add(l,f),v,a,u),_=t(e.sub(h,l),e.add(c,d),a,u),S=t(e.sub(f,g),e.add(p,v),a,u),E=e.add(m,x);E.sub(w),E.add(S);var C=e.add(b,w),k=e.add(y,x),M=e.sub(m,y);M.add(b),M.add(_);var I=e.zeros(2*E.rows,2*E.columns);return(I=(I=(I=(I=I.setSubMatrix(E,0,0)).setSubMatrix(C,E.rows,0)).setSubMatrix(k,0,E.columns)).setSubMatrix(M,E.rows,E.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,l),t=s(t,u,l),u,l)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new V(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&d(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new V(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&d(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=V.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new V(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var l=0;l<i;l++)o.set(r*a+u,i*s+l,this.get(a,s)*e.get(u,l));return o}},{key:"kroneckerSum",value:function(e){if(e=V.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(V.eye(n,n)),i=V.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new V(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){E(this,e,t,n,r);for(var i=new V(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new V(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new V(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=V.checkMatrix(e)).isEmpty())return this;E(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){_(this,e),S(this,t);for(var n=new V(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new V(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=C(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=C(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=C(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=C(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!l(a))throw new TypeError("mean must be an array");return I(this,i,a);case"column":if(!l(a))throw new TypeError("mean must be an array");return T(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return A(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!l(i))throw new TypeError("center must be an array");return N(this,i),this;case"column":if(!l(i))throw new TypeError("center must be an array");return D(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return P(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=O(this);else if(!l(n))throw new TypeError("scale must be an array");return L(this,n),this;case"column":if(void 0===n)n=R(this);else if(!l(n))throw new TypeError("scale must be an array");return B(this,n),this;case void 0:if(void 0===n)n=z(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return F(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return g(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new V(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new V(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new V(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new V(e,t)}},{key:"ones",value:function(e,t){return new V(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new V(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var l=a-i,c=new V(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=i+Math.round(u()*l);c.set(f,d,h)}return c}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new V(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new V(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function G(e,t){return e-t}j.prototype.klass="Matrix","undefined"!==typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return g(this)}),j.random=j.rand,j.randomInt=j.randInt,j.diagonal=j.diag,j.prototype.diagonal=j.prototype.diag,j.identity=j.eye,j.prototype.negate=j.prototype.neg,j.prototype.tensorProduct=j.prototype.kroneckerProduct;var V=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;if((0,a.Z)(this,n),o=t.call(this),n.isMatrix(e))return(0,r.Z)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)o.data.push(new Float64Array(i))}else{if(!l(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(i=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var c=0;c<e;c++){if(u[c].length!==i)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(u[c]))}}return o.rows=e,o.columns=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return y(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),y(this,e,!0),t=Float64Array.from(x(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){b(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),b(this,e,!0),t=w(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(j);!function(e,t){e.prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e.get(n,r));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e.get(n,r));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e.get(n,r));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e.get(n,r));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%e.get(n,r));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&e.get(n,r));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|e.get(n,r));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^e.get(n,r));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<e.get(n,r));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>e.get(n,r));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>e.get(n,r));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),e.get(n,r)));return this}}(j,V);var U=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this)).matrix=e,o.rows=r,o.columns=i,o}return(0,s.Z)(n)}(j),W=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),b(e,r),(i=t.call(this,e,e.rows,1)).column=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(U),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),S(e,r),(i=t.call(this,e,e.rows,r.length)).columnIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(U),H=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(U),Y=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(U),X=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),y(e,r),(i=t.call(this,e,1,e.columns)).row=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(U),K=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),_(e,r),(i=t.call(this,e,r.length,e.columns)).rowIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(U),q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),_(e,r),S(e,i),(o=t.call(this,e,r.length,i.length)).rowIndices=r,o.columnIndices=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(U),$=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,o,s){var u;return(0,a.Z)(this,n),E(e,r,i,o,s),(u=t.call(this,e,i-r+1,s-o+1)).startRow=r,u.startColumn=o,u}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(U),Q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.columns,e.rows)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(U),J=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var o=i.rows,s=void 0===o?1:o;if(e.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=s,r.columns=e.length/s,r.data=e,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(j),ee=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).data=e,r.rows=e.length,r.columns=e[0].length,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(j);function te(e,t){if(l(e))return e[0]&&l(e[0])?new ee(e):new J(e,t);throw new Error("the argument is not an array")}var ne=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s,u,l,c,f,d=(t=ee.checkMatrix(t)).clone(),h=d.rows,p=d.columns,g=new Float64Array(h),v=1;for(n=0;n<h;n++)g[n]=n;for(c=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)c[n]=d.get(n,r);for(n=0;n<h;n++){for(f=Math.min(n,r),s=0,i=0;i<f;i++)s+=d.get(n,i)*c[i];c[n]-=s,d.set(n,r,c[n])}for(o=r,n=r+1;n<h;n++)Math.abs(c[n])>Math.abs(c[o])&&(o=n);if(o!==r){for(i=0;i<p;i++)u=d.get(o,i),d.set(o,i,d.get(r,i)),d.set(r,i,u);l=g[o],g[o]=g[r],g[r]=l,v=-v}if(r<h&&0!==d.get(r,r))for(n=r+1;n<h;n++)d.set(n,r,d.get(n,r)/d.get(r,r))}this.LU=d,this.pivotVector=g,this.pivotSign=v}return(0,s.Z)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=V.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new V(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i>o?r.set(i,o,e.get(i,o)):i===o?r.set(i,o,1):r.set(i,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new V(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i<=o?r.set(i,o,e.get(i,o)):r.set(i,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function re(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var ie=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s=(t=ee.checkMatrix(t)).clone(),u=t.rows,l=t.columns,c=new Float64Array(l);for(i=0;i<l;i++){var f=0;for(n=i;n<u;n++)f=re(f,s.get(n,i));if(0!==f){for(s.get(i,i)<0&&(f=-f),n=i;n<u;n++)s.set(n,i,s.get(n,i)/f);for(s.set(i,i,s.get(i,i)+1),r=i+1;r<l;r++){for(o=0,n=i;n<u;n++)o+=s.get(n,i)*s.get(n,r);for(o=-o/s.get(i,i),n=i;n<u;n++)s.set(n,r,s.get(n,r)+o*s.get(n,i))}}c[i]=-f}this.QR=s,this.Rdiag=c}return(0,s.Z)(e,[{key:"solve",value:function(e){e=V.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,i,o,a,s=e.columns,u=e.clone(),l=t.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*u.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*t.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*t.get(r,o))}return u.subMatrix(0,l-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,i=new V(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new V(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}]),e}(),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),(t=ee.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,i=t.rows,o=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,l=n.computeRightSingularVectors,c=void 0===l||l,f=n.autoTranspose,d=void 0!==f&&f,h=Boolean(u),p=Boolean(c),g=!1;if(i<o)if(d){i=(r=t.transpose()).rows,o=r.columns,g=!0;var v=h;h=p,p=v}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(i,o),y=Math.min(i+1,o),b=new Float64Array(y),x=new V(i,m),w=new V(o,o),_=new Float64Array(o),S=new Float64Array(i),E=new Float64Array(y),C=0;C<y;C++)E[C]=C;for(var k=Math.min(i-1,o),M=Math.max(0,Math.min(o-2,i)),I=Math.max(k,M),T=0;T<I;T++){if(T<k){b[T]=0;for(var A=T;A<i;A++)b[T]=re(b[T],r.get(A,T));if(0!==b[T]){r.get(T,T)<0&&(b[T]=-b[T]);for(var N=T;N<i;N++)r.set(N,T,r.get(N,T)/b[T]);r.set(T,T,r.get(T,T)+1)}b[T]=-b[T]}for(var D=T+1;D<o;D++){if(T<k&&0!==b[T]){for(var P=0,O=T;O<i;O++)P+=r.get(O,T)*r.get(O,D);P=-P/r.get(T,T);for(var L=T;L<i;L++)r.set(L,D,r.get(L,D)+P*r.get(L,T))}_[D]=r.get(T,D)}if(h&&T<k)for(var R=T;R<i;R++)x.set(R,T,r.get(R,T));if(T<M){_[T]=0;for(var B=T+1;B<o;B++)_[T]=re(_[T],_[B]);if(0!==_[T]){_[T+1]<0&&(_[T]=0-_[T]);for(var z=T+1;z<o;z++)_[z]/=_[T];_[T+1]+=1}if(_[T]=-_[T],T+1<i&&0!==_[T]){for(var F=T+1;F<i;F++)S[F]=0;for(var j=T+1;j<i;j++)for(var G=T+1;G<o;G++)S[j]+=_[G]*r.get(j,G);for(var U=T+1;U<o;U++)for(var W=-_[U]/_[T+1],Z=T+1;Z<i;Z++)r.set(Z,U,r.get(Z,U)+W*S[Z])}if(p)for(var H=T+1;H<o;H++)w.set(H,T,_[H])}}var Y=Math.min(o,i+1);if(k<o&&(b[k]=r.get(k,k)),i<Y&&(b[Y-1]=0),M+1<Y&&(_[M]=r.get(M,Y-1)),_[Y-1]=0,h){for(var X=k;X<m;X++){for(var K=0;K<i;K++)x.set(K,X,0);x.set(X,X,1)}for(var q=k-1;q>=0;q--)if(0!==b[q]){for(var $=q+1;$<m;$++){for(var Q=0,J=q;J<i;J++)Q+=x.get(J,q)*x.get(J,$);Q=-Q/x.get(q,q);for(var te=q;te<i;te++)x.set(te,$,x.get(te,$)+Q*x.get(te,q))}for(var ne=q;ne<i;ne++)x.set(ne,q,-x.get(ne,q));x.set(q,q,1+x.get(q,q));for(var ie=0;ie<q-1;ie++)x.set(ie,q,0)}else{for(var oe=0;oe<i;oe++)x.set(oe,q,0);x.set(q,q,1)}}if(p)for(var ae=o-1;ae>=0;ae--){if(ae<M&&0!==_[ae])for(var se=ae+1;se<o;se++){for(var ue=0,le=ae+1;le<o;le++)ue+=w.get(le,ae)*w.get(le,se);ue=-ue/w.get(ae+1,ae);for(var ce=ae+1;ce<o;ce++)w.set(ce,se,w.get(ce,se)+ue*w.get(ce,ae))}for(var fe=0;fe<o;fe++)w.set(fe,ae,0);w.set(ae,ae,1)}for(var de=Y-1,he=Number.EPSILON;Y>0;){var pe=void 0,ge=void 0;for(pe=Y-2;pe>=-1&&-1!==pe;pe--){var ve=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(_[pe])<=ve||Number.isNaN(_[pe])){_[pe]=0;break}}if(pe===Y-2)ge=4;else{var me=void 0;for(me=Y-1;me>=pe&&me!==pe;me--){var ye=(me!==Y?Math.abs(_[me]):0)+(me!==pe+1?Math.abs(_[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ge=3:me===Y-1?ge=1:(ge=2,pe=me)}switch(pe++,ge){case 1:var be=_[Y-2];_[Y-2]=0;for(var xe=Y-2;xe>=pe;xe--){var we=re(b[xe],be),_e=b[xe]/we,Se=be/we;if(b[xe]=we,xe!==pe&&(be=-Se*_[xe-1],_[xe-1]=_e*_[xe-1]),p)for(var Ee=0;Ee<o;Ee++)we=_e*w.get(Ee,xe)+Se*w.get(Ee,Y-1),w.set(Ee,Y-1,-Se*w.get(Ee,xe)+_e*w.get(Ee,Y-1)),w.set(Ee,xe,we)}break;case 2:var Ce=_[pe-1];_[pe-1]=0;for(var ke=pe;ke<Y;ke++){var Me=re(b[ke],Ce),Ie=b[ke]/Me,Te=Ce/Me;if(b[ke]=Me,Ce=-Te*_[ke],_[ke]=Ie*_[ke],h)for(var Ae=0;Ae<i;Ae++)Me=Ie*x.get(Ae,ke)+Te*x.get(Ae,pe-1),x.set(Ae,pe-1,-Te*x.get(Ae,ke)+Ie*x.get(Ae,pe-1)),x.set(Ae,ke,Me)}break;case 3:var Ne=Math.max(Math.abs(b[Y-1]),Math.abs(b[Y-2]),Math.abs(_[Y-2]),Math.abs(b[pe]),Math.abs(_[pe])),De=b[Y-1]/Ne,Pe=b[Y-2]/Ne,Oe=_[Y-2]/Ne,Le=b[pe]/Ne,Re=_[pe]/Ne,Be=((Pe+De)*(Pe-De)+Oe*Oe)/2,ze=De*Oe*(De*Oe),Fe=0;0===Be&&0===ze||(Fe=ze/(Be+(Fe=Be<0?0-Math.sqrt(Be*Be+ze):Math.sqrt(Be*Be+ze))));for(var je=(Le+De)*(Le-De)+Fe,Ge=Le*Re,Ve=pe;Ve<Y-1;Ve++){var Ue=re(je,Ge);0===Ue&&(Ue=Number.MIN_VALUE);var We=je/Ue,Ze=Ge/Ue;if(Ve!==pe&&(_[Ve-1]=Ue),je=We*b[Ve]+Ze*_[Ve],_[Ve]=We*_[Ve]-Ze*b[Ve],Ge=Ze*b[Ve+1],b[Ve+1]=We*b[Ve+1],p)for(var He=0;He<o;He++)Ue=We*w.get(He,Ve)+Ze*w.get(He,Ve+1),w.set(He,Ve+1,-Ze*w.get(He,Ve)+We*w.get(He,Ve+1)),w.set(He,Ve,Ue);if(0===(Ue=re(je,Ge))&&(Ue=Number.MIN_VALUE),We=je/Ue,Ze=Ge/Ue,b[Ve]=Ue,je=We*_[Ve]+Ze*b[Ve+1],b[Ve+1]=-Ze*_[Ve]+We*b[Ve+1],Ge=Ze*_[Ve+1],_[Ve+1]=We*_[Ve+1],h&&Ve<i-1)for(var Ye=0;Ye<i;Ye++)Ue=We*x.get(Ye,Ve)+Ze*x.get(Ye,Ve+1),x.set(Ye,Ve+1,-Ze*x.get(Ye,Ve)+We*x.get(Ye,Ve+1)),x.set(Ye,Ve,Ue)}_[Y-2]=je,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var Xe=0;Xe<=de;Xe++)w.set(Xe,pe,-w.get(Xe,pe));for(;pe<de&&!(b[pe]>=b[pe+1]);){var Ke=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Ke,p&&pe<o-1)for(var qe=0;qe<o;qe++)Ke=w.get(qe,pe+1),w.set(qe,pe+1,w.get(qe,pe)),w.set(qe,pe,Ke);if(h&&pe<i-1)for(var $e=0;$e<i;$e++)Ke=x.get($e,pe+1),x.set($e,pe+1,x.get($e,pe)),x.set($e,pe,Ke);pe++}0,Y--}}if(g){var Qe=w;w=x,x=Qe}this.m=i,this.n=o,this.s=b,this.U=x,this.V=w}return(0,s.Z)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,i=V.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),l=s.rows,c=a.rows,f=V.zeros(l,c),d=0;d<l;d++)for(var h=0;h<c;h++){for(var p=0,g=0;g<r;g++)p+=u.get(d,g)*a.get(h,g);f.set(d,h,p)}return f.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(V.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new V(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&i.set(o,a,e.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,l=s.columns,c=new V(n,u),f=0;f<n;f++)for(var d=0;d<u;d++){for(var h=0,p=0;p<l;p++)h+=i.get(f,p)*s.get(d,p);c.set(f,d,h)}return c}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return V.diag(this.s)}}]),e}();function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=ee.checkMatrix(e),t?new oe(e).inverse():se(e,V.eye(e.rows))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=ee.checkMatrix(e),t=ee.checkMatrix(t),n?new oe(e).solve(t):e.isSquare()?new ne(e).solve(t):new ie(e).solve(t)}function ue(e){var t,n,r,i,o,a;if((e=V.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(i=new q(e,[1,2],[1,2]),o=new q(e,[1,2],[0,2]),a=new q(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*ue(i)-n*ue(o)+r*ue(a)):new ne(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function le(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function ce(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>i)return new Array(t.rows+1).fill(0);for(var o=t.addRow(n,[0]),a=0;a<o.rows;a++)Math.abs(o.get(a,0))<r&&o.set(a,0,0);return o.to1DArray()}function fe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,a=(e=V.checkMatrix(e)).rows,s=new V(a,a),u=0;u<a;u++){var l=V.columnVector(e.getRow(u)),c=e.subMatrixRow(le(a,u)).transpose(),f=new oe(c),d=f.solve(l),h=V.sub(l,c.mmul(d)).abs().max();s.setRow(u,ce(h,d,u,r,o))}return s}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=V.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new oe(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,a=0;a<o.length;a++)Math.abs(o[a])>t?o[a]=1/o[a]:o[a]=0;return i.mmul(V.diag(o).mmul(r.transpose()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new V(e);var r=!1;if("object"!==typeof t||V.isMatrix(t)||l(t)?t=new V(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o;a&&(e=e.center("column"),r||(t=t.center("column")));for(var s=e.transpose().mmul(t),u=0;u<s.rows;u++)for(var c=0;c<s.columns;c++)s.set(u,c,s.get(u,c)*(1/(e.rows-1)));return s}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new V(e);var r=!1;if("object"!==typeof t||V.isMatrix(t)||l(t)?t=new V(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o,s=i.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var c=e.standardDeviation("column",{unbiased:!0}),f=r?c:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(c[h]*f[p]))*(1/(e.rows-1)));return d}var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e);var r=n.assumeSymmetric,i=void 0!==r&&r;if(!(t=ee.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var o,s,u=t.columns,l=new V(u,u),c=new Float64Array(u),f=new Float64Array(u),d=t;if(!!i||t.isSymmetric()){for(o=0;o<u;o++)for(s=0;s<u;s++)l.set(o,s,d.get(o,s));ve(u,f,c,l),me(u,f,c,l)}else{var h=new V(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(o=0;o<u;o++)h.set(o,s,d.get(o,s));ye(u,h,p,l),be(u,f,c,l,h)}this.n=u,this.e=f,this.d=c,this.V=l}return(0,s.Z)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,i=this.d,o=new V(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}]),e}();function ve(e,t,n,r){var i,o,a,s,u,l,c,f;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(f=0,a=0,l=0;l<s;l++)f+=Math.abs(n[l]);if(0===f)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(l=0;l<s;l++)n[l]/=f,a+=n[l]*n[l];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=f*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=t[u]+r.get(u,u)*i,l=u+1;l<=s-1;l++)o+=r.get(l,u)*n[l],t[l]+=r.get(l,u)*i;t[u]=o}for(i=0,u=0;u<s;u++)t[u]/=a,i+=t[u]*n[u];for(c=i/(a+a),u=0;u<s;u++)t[u]-=c*n[u];for(u=0;u<s;u++){for(i=n[u],o=t[u],l=u;l<=s-1;l++)r.set(l,u,r.get(l,u)-(i*t[l]+o*n[l]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(l=0;l<=s;l++)n[l]=r.get(l,s+1)/a;for(u=0;u<=s;u++){for(o=0,l=0;l<=s;l++)o+=r.get(l,s+1)*r.get(l,u);for(l=0;l<=s;l++)r.set(l,u,r.get(l,u)-o*n[l])}}for(l=0;l<=s;l++)r.set(l,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}function me(e,t,n,r){var i,o,a,s,u,l,c,f,d,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,w=0,_=Number.EPSILON;for(l=0;l<e;l++){for(w=Math.max(w,Math.abs(n[l])+Math.abs(t[l])),c=l;c<e&&!(Math.abs(t[c])<=_*w);)c++;if(c>l){0;do{for(1,i=n[l],d=re(f=(n[l+1]-i)/(2*t[l]),1),f<0&&(d=-d),n[l]=t[l]/(f+d),n[l+1]=t[l]*(f+d),h=n[l+1],o=i-n[l],a=l+2;a<e;a++)n[a]-=o;for(x+=o,f=n[c],g=p=1,v=p,m=t[l+1],y=0,b=0,a=c-1;a>=l;a--)for(v=g,g=p,b=y,i=p*t[a],o=p*f,d=re(f,t[a]),t[a+1]=y*d,y=t[a]/d,f=(p=f/d)*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<e;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);f=-y*b*v*m*t[l]/h,t[l]=y*f,n[l]=p*f}while(Math.abs(t[l])>_*w)}n[l]=n[l]+x,t[l]=0}for(a=0;a<e-1;a++){for(u=a,f=n[a],s=a+1;s<e;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<e;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}function ye(e,t,n,r){var i,o,a,s,u,l,c,f=e-1;for(l=1;l<=f-1;l++){for(c=0,s=l;s<=f;s++)c+=Math.abs(t.get(s,l-1));if(0!==c){for(a=0,s=f;s>=l;s--)n[s]=t.get(s,l-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[l]>0&&(o=-o),a-=n[l]*o,n[l]=n[l]-o,u=l;u<e;u++){for(i=0,s=f;s>=l;s--)i+=n[s]*t.get(s,u);for(i/=a,s=l;s<=f;s++)t.set(s,u,t.get(s,u)-i*n[s])}for(s=0;s<=f;s++){for(i=0,u=f;u>=l;u--)i+=n[u]*t.get(s,u);for(i/=a,u=l;u<=f;u++)t.set(s,u,t.get(s,u)-i*n[u])}n[l]=c*n[l],t.set(l,l-1,c*o)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(l=f-1;l>=1;l--)if(0!==t.get(l,l-1)){for(s=l+1;s<=f;s++)n[s]=t.get(s,l-1);for(u=l;u<=f;u++){for(o=0,s=l;s<=f;s++)o+=n[s]*r.get(s,u);for(o=o/n[l]/t.get(l,l-1),s=l;s<=f;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}function be(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,p,g,v,m,y,b,x=e-1,w=e-1,_=Number.EPSILON,S=0,E=0,C=0,k=0,M=0,I=0,T=0,A=0;for(o=0;o<e;o++)for((o<0||o>w)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)E+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(I=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(I=E),!(Math.abs(i.get(u,u-1))<_*I));)u--;if(u===x)i.set(x,x,i.get(x,x)+S),n[x]=i.get(x,x),t[x]=0,x--,A=0;else if(u===x-1){if(f=i.get(x,x-1)*i.get(x-1,x),k=(C=(i.get(x-1,x-1)-i.get(x,x))/2)*C+f,T=Math.sqrt(Math.abs(k)),i.set(x,x,i.get(x,x)+S),i.set(x-1,x-1,i.get(x-1,x-1)+S),d=i.get(x,x),k>=0){for(T=C>=0?C+T:C-T,n[x-1]=d+T,n[x]=n[x-1],0!==T&&(n[x]=d-f/T),t[x-1]=0,t[x]=0,C=(d=i.get(x,x-1))/(I=Math.abs(d)+Math.abs(T)),k=T/I,C/=M=Math.sqrt(C*C+k*k),k/=M,a=x-1;a<e;a++)T=i.get(x-1,a),i.set(x-1,a,k*T+C*i.get(x,a)),i.set(x,a,k*i.get(x,a)-C*T);for(o=0;o<=x;o++)T=i.get(o,x-1),i.set(o,x-1,k*T+C*i.get(o,x)),i.set(o,x,k*i.get(o,x)-C*T);for(o=0;o<=w;o++)T=r.get(o,x-1),r.set(o,x-1,k*T+C*r.get(o,x)),r.set(o,x,k*r.get(o,x)-C*T)}else n[x-1]=d+C,n[x]=d+C,t[x-1]=T,t[x]=-T;x-=2,A=0}else{if(d=i.get(x,x),h=0,f=0,u<x&&(h=i.get(x-1,x-1),f=i.get(x,x-1)*i.get(x-1,x)),10===A){for(S+=d,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-d);d=h=.75*(I=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2))),f=-.4375*I*I}if(30===A&&(I=(I=(h-d)/2)*I+f)>0){for(I=Math.sqrt(I),h<d&&(I=-I),I=d-f/((h-d)/2+I),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-I);S+=I,d=h=f=.964}for(A+=1,l=x-2;l>=u&&(C=((M=d-(T=i.get(l,l)))*(I=h-T)-f)/i.get(l+1,l)+i.get(l,l+1),k=i.get(l+1,l+1)-T-M-I,M=i.get(l+2,l+1),C/=I=Math.abs(C)+Math.abs(k)+Math.abs(M),k/=I,M/=I,l!==u)&&!(Math.abs(i.get(l,l-1))*(Math.abs(k)+Math.abs(M))<_*(Math.abs(C)*(Math.abs(i.get(l-1,l-1))+Math.abs(T)+Math.abs(i.get(l+1,l+1)))));)l--;for(o=l+2;o<=x;o++)i.set(o,o-2,0),o>l+2&&i.set(o,o-3,0);for(s=l;s<=x-1&&(y=s!==x-1,s!==l&&(C=i.get(s,s-1),k=i.get(s+1,s-1),M=y?i.get(s+2,s-1):0,0!==(d=Math.abs(C)+Math.abs(k)+Math.abs(M))&&(C/=d,k/=d,M/=d)),0!==d);s++)if(I=Math.sqrt(C*C+k*k+M*M),C<0&&(I=-I),0!==I){for(s!==l?i.set(s,s-1,-I*d):u!==l&&i.set(s,s-1,-i.get(s,s-1)),d=(C+=I)/I,h=k/I,T=M/I,k/=C,M/=C,a=s;a<e;a++)C=i.get(s,a)+k*i.get(s+1,a),y&&(C+=M*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-C*T)),i.set(s,a,i.get(s,a)-C*d),i.set(s+1,a,i.get(s+1,a)-C*h);for(o=0;o<=Math.min(x,s+3);o++)C=d*i.get(o,s)+h*i.get(o,s+1),y&&(C+=T*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-C*M)),i.set(o,s,i.get(o,s)-C),i.set(o,s+1,i.get(o,s+1)-C*k);for(o=0;o<=w;o++)C=d*r.get(o,s)+h*r.get(o,s+1),y&&(C+=T*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-C*M)),r.set(o,s,r.get(o,s)-C),r.set(o,s+1,r.get(o,s+1)-C*k)}}}if(0!==E){for(x=e-1;x>=0;x--)if(C=n[x],0===(k=t[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(f=i.get(o,o)-C,M=0,a=u;a<=x;a++)M+=i.get(o,a)*i.get(a,x);if(t[o]<0)T=f,I=M;else if(u=o,0===t[o]?i.set(o,x,0!==f?-M/f:-M/(_*E)):(d=i.get(o,o+1),h=i.get(o+1,o),c=(d*I-T*M)/(k=(n[o]-C)*(n[o]-C)+t[o]*t[o]),i.set(o,x,c),i.set(o+1,x,Math.abs(d)>Math.abs(T)?(-M-f*c)/d:(-I-h*c)/T)),_*(c=Math.abs(i.get(o,x)))*c>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/c)}else if(k<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,k/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-C)/i.get(x,x-1))):(b=xe(0,-i.get(x-1,x),i.get(x-1,x-1)-C,k),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(f=i.get(o,o)-C,t[o]<0)T=f,M=p,I=g;else if(u=o,0===t[o]?(b=xe(-p,-g,f,k),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),h=i.get(o+1,o),v=(n[o]-C)*(n[o]-C)+t[o]*t[o]-k*k,m=2*(n[o]-C)*k,0===v&&0===m&&(v=_*E*(Math.abs(f)+Math.abs(k)+Math.abs(d)+Math.abs(h)+Math.abs(T))),b=xe(d*M-T*p+k*g,d*I-T*g-k*p,v,m),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(T)+Math.abs(k)?(i.set(o+1,x-1,(-p-f*i.get(o,x-1)+k*i.get(o,x))/d),i.set(o+1,x,(-g-f*i.get(o,x)-k*i.get(o,x-1))/d)):(b=xe(-M-h*i.get(o,x-1),-I-h*i.get(o,x),T,k),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),_*(c=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))))*c>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/c),i.set(a,x,i.get(a,x)/c)}for(o=0;o<e;o++)if(o<0||o>w)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=0;a--)for(o=0;o<=w;o++){for(T=0,s=0;s<=Math.min(a,w);s++)T+=r.get(o,s)*i.get(s,a);r.set(o,a,T)}}}function xe(e,t,n,r){var i,o;return Math.abs(n)>Math.abs(r)?[(e+(i=r/n)*t)/(o=n+i*r),(t-i*e)/o]:[((i=n/r)*e+t)/(o=r+i*n),(i*t-e)/o]}var we=function(){function e(t){if((0,a.Z)(this,e),!(t=ee.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,i,o=t,s=o.rows,u=new V(s,s),l=!0;for(r=0;r<s;r++){var c=0;for(i=0;i<r;i++){var f=0;for(n=0;n<i;n++)f+=u.get(i,n)*u.get(r,n);f=(o.get(r,i)-f)/u.get(i,i),u.set(r,i,f),c+=f*f}for(l&=(c=o.get(r,r)-c)>0,u.set(r,r,Math.sqrt(Math.max(c,0))),i=r+1;i<s;i++)u.set(r,i,0)}this.L=u,this.positiveDefinite=Boolean(l)}return(0,s.Z)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=ee.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),_e=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),t=ee.checkMatrix(t);var r,i=n.Y,o=n.scaleScores,s=void 0!==o&&o,u=n.maxIterations,c=void 0===u?1e3:u,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(i){if((i=l(i)&&"number"===typeof i[0]?V.columnVector(i):ee.checkMatrix(i)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=i.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,g,v,m=1,y=0;y<c&&m>d;y++)g=(g=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(g.norm()),h=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),y>0&&(m=h.clone().sub(v).pow(2).sum()),v=h.clone(),i?(p=(p=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=i.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(i){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),w=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),_=i.clone().sub(h.clone().mulS(w.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=g.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=_,this.betas=w}else this.w=g.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(g.transpose()))}))},2173:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(e){return e.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(e){return this.week()!==e.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n(2426))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function m(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)l(i=t[r=b[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function S(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,M={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),M[e]||(E(t),M[e]=!0)}function T(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},F={};function j(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(R);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=G(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}function U(e,t){return e.isValid()?(t=W(t,e.localeData()),z[t]=z[t]||V(t),z[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,r),B.lastIndex=0,n-=1;return e}var Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var K="%d",q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return T(this[e=re(e)])?this[e]():this}function ge(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=re(e)]))return this[e](t);return this}var ve,me=/\d/,ye=/\d\d/,be=/\d{3}/,xe=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,Se=/\d\d\d\d?/,Ee=/\d\d\d\d\d\d?/,Ce=/\d{1,3}/,ke=/\d{1,4}/,Me=/[+-]?\d{1,6}/,Ie=/\d+/,Te=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Ne=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Oe(e,t,n){ve[e]=T(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Re(e))}function Re(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var ze={};function Fe(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=ce(e)}),n=0;n<e.length;n++)ze[e[n]]=r}function je(e,t){Fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ge(e,t,n){null!=t&&s(ze,e)&&ze[e](t,n._a,n,e)}var Ve,Ue=0,We=1,Ze=2,He=3,Ye=4,Xe=5,Ke=6,qe=7,$e=8;function Qe(e,t){return(e%t+t)%t}function Je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Qe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Oe("M",_e),Oe("MM",_e,ye),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Fe(["M","MM"],(function(e,t){t[We]=ce(e)-1})),Fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ve.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ve.call(this._shortMonthsParse,a))||-1!==(i=Ve.call(this._longMonthsParse,a))?i:null:-1!==(i=Ve.call(this._longMonthsParse,a))||-1!==(i=Ve.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Je(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Be(r[t]),i[t]=Be(i[t]);for(t=0;t<24;t++)o[t]=Be(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return ue(e)?366:365}j("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Oe("Y",Te),Oe("YY",_e,ye),Oe("YYYY",ke,xe),Oe("YYYYY",Me,we),Oe("YYYYYY",Me,we),Fe(["YYYYY","YYYYYY"],Ue),Fe("YYYY",(function(e,t){t[Ue]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Fe("YY",(function(e,t){t[Ue]=r.parseTwoDigitYear(e)})),Fe("Y",(function(e,t){t[Ue]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var vt=fe("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?a=gt(o=e-1)+s:s>gt(e)?(o=e+1,a=s-gt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function _t(e,t,n){var r,i,o=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+St(i=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function St(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(gt(e)-r+i)/7}function Et(e){return _t(e,this._week.dow,this._week.doy).week}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Oe("w",_e),Oe("ww",_e,ye),Oe("W",_e),Oe("WW",_e,ye),je(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Ct={dow:0,doy:6};function kt(){return this._week.dow}function Mt(){return this._week.doy}function It(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Tt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Nt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Oe("d",_e),Oe("e",_e),Oe("E",_e),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),je(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),je(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=Pe,Bt=Pe,zt=Pe;function Ft(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function jt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Gt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._shortWeekdaysParse,a))||-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ve.call(this._shortWeekdaysParse,a))||-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ve.call(this._minWeekdaysParse,a))||-1!==(i=Ve.call(this._weekdaysParse,a))||-1!==(i=Ve.call(this._shortWeekdaysParse,a))?i:null}function Ut(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Nt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Be(this.weekdaysMin(n,"")),i=Be(this.weekdaysShort(n,"")),o=Be(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Jt(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,$t),j("k",["kk",2],0,Qt),j("hmm",0,0,(function(){return""+$t.apply(this)+L(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+$t.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),ne("hour","h"),ae("hour",13),Oe("a",en),Oe("A",en),Oe("H",_e),Oe("h",_e),Oe("k",_e),Oe("HH",_e,ye),Oe("hh",_e,ye),Oe("kk",_e,ye),Oe("hmm",Se),Oe("hmmss",Ee),Oe("Hmm",Se),Oe("Hmmss",Ee),Fe(["H","HH"],He),Fe(["k","kk"],(function(e,t,n){var r=ce(e);t[He]=24===r?0:r})),Fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Fe(["h","hh"],(function(e,t,n){t[He]=ce(e),v(n).bigHour=!0})),Fe("hmm",(function(e,t,n){var r=e.length-2;t[He]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r)),v(n).bigHour=!0})),Fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i)),v(n).bigHour=!0})),Fe("Hmm",(function(e,t,n){var r=e.length-2;t[He]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r))})),Fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=ce(e.substr(0,r)),t[Ye]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:P,longDateFormat:Z,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:q,relativeTime:Q,months:et,monthsShort:tt,week:Ct,weekdays:Pt,weekdaysMin:Lt,weekdaysShort:Ot,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=fn(e[o]).split("-")).length,n=(n=fn(e[o+1]))?n.split("-"):null;t>0;){if(r=hn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}o++}return an}function hn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=l(t)?mn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=hn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(N(r,t)),ln[e]&&ln[e].forEach((function(e){gn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function vn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(N(un[e]._config,t)):(null!=(r=hn(e))&&(i=r._config),t=N(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=hn(e))return t;e=[e]}return dn(e)}function yn(){return k(un)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ze]<1||n[Ze]>Je(n[Ue],n[We])?Ze:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ye]||0!==n[Xe]||0!==n[Ke])?He:n[Ye]<0||n[Ye]>59?Ye:n[Xe]<0||n[Xe]>59?Xe:n[Ke]<0||n[Ke]>999?Ke:-1,v(e)._overflowDayOfYear&&(t<Ue||t>Ze)&&(t=Ze),v(e)._overflowWeeks&&-1===t&&(t=qe),v(e)._overflowWeekday&&-1===t&&(t=$e),v(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function In(e){var t,n,r,i,o,a,s=e._i,u=xn.exec(s)||wn.exec(s);if(u){for(v(e).iso=!0,t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=En.length;t<n;t++)if(En[t][1].exec(u[3])){o=(u[2]||" ")+En[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),jn(e)}else e._isValid=!1}function Tn(e,t,n,r,i,o){var a=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Nn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return Mn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function On(e){var t,n=kn.exec(Nn(e._i));if(n){if(t=Tn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Cn.exec(e._i);null===t?(In(e),!1===e._isValid&&(delete e._isValid,On(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Rn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Bn(e),e._w&&null==e._a[Ze]&&null==e._a[We]&&Fn(e),null!=e._dayOfYear&&(o=Rn(e._a[Ue],r[Ue]),(e._dayOfYear>gt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ze]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ye]&&0===e._a[Xe]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function Fn(e){var t,n,r,i,o,a,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Rn(t.GG,e._a[Ue],_t(Xn(),1,4).year),r=Rn(t.W,1),((i=Rn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=_t(Xn(),o,a),n=Rn(t.gg,e._a[Ue],l.year),r=Rn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>St(n,o,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ue]=s.year,e._dayOfYear=s.dayOfYear)}function jn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,a,s,u=""+e._i,l=u.length,c=0;for(i=W(e._f,e._locale).match(R)||[],t=0;t<i.length;t++)o=i[t],(n=(u.match(Le(o,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&v(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),c+=n.length),F[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),Ge(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=l-c,u.length>0&&v(e).unusedInput.push(u),e._a[He]<=12&&!0===v(e).bigHour&&e._a[He]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[He]=Gn(e._locale,e._a[He],e._meridiem),null!==(s=v(e).era)&&(e._a[Ue]=e._locale.erasConvertYear(s,e._a[Ue])),zn(e),bn(e)}else On(e);else In(e)}function Gn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],jn(t),m(t)&&(a=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));h(e,n||t)}function Un(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),zn(e)}}function Wn(e){var t=new _(bn(Zn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Zn(e){var t=e._i,n=e._f;return e._locale=e._locale||mn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new _(bn(t)):(f(t)?e._d=t:o(n)?Vn(e):n?jn(e):Hn(e),m(e)||(e._d=null),e))}function Hn(e){var t=e._i;l(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),zn(e)):a(t)?Un(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Xn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),qn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function $n(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return $n("isBefore",[].slice.call(arguments,0))}function Jn(){return $n("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Ve.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==ce(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Mr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=mn(),this._bubble()}function ar(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&a++;return a+o}function lr(e,t){j(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Oe("Z",Ne),Oe("ZZ",Ne),Fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ne,e)}));var cr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(cr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||f(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function hr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ne,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=hr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Dr(this,Mr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:hr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(hr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Zn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Cr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(e,t){var n,r,i,o=e,a=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Cr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ce(a[Ze])*n,h:ce(a[He])*n,m:ce(a[Ye])*n,s:ce(a[Xe])*n,ms:ce(sr(1e3*a[Ke]))*n}):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:Ir(a[2],n),M:Ir(a[3],n),w:Ir(a[4],n),d:Ir(a[5],n),h:Ir(a[6],n),m:Ir(a[7],n),s:Ir(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ar(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),ar(e)&&s(e,"_locale")&&(r._locale=e._locale),ar(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ir(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Tr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Tr(e,t):((n=Tr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Nr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Mr(n,r),e),this}}function Dr(e,t,n,i){var o=t._milliseconds,a=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,de(e,"Month")+s*n),a&&he(e,"Date",de(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Mr.fn=or.prototype,Mr.invalid=ir;var Pr=Nr(1,"add"),Or=Nr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Rr(e){return S(e)||f(e)||Lr(e)||c(e)||zr(e)||Br(e)||null===e||void 0===e}function Br(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function zr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Lr(e)})).length),t&&n}function Fr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function jr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Gr(e,t){1===arguments.length&&(arguments[0]?Rr(arguments[0])?(e=arguments[0],t=void 0):Fr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=dr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Vr(){return new _(this)}function Ur(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zr(e,t,n,r){var i=S(e)?e:Xn(e),o=S(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Hr(e,t){var n,r=S(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=qr(this,r)/12;break;case"month":o=qr(this,r);break;case"quarter":o=qr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:le(o)}function qr(e,t){if(e.date()<t.date())return-qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Jr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Mr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Xn(),e)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Mr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Xn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,li=60*ui,ci=60*li,fi=3506328*ci;function di(e,t){return(e%t+t)%t}function hi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:hi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),ci);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:hi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ci-di(t+(this._isUTC?0:this.utcOffset()*li),ci)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ui-di(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function Ei(){return h({},v(this))}function Ci(){return v(this).overflow}function ki(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mi(e,t){var n,i,o,a=this._eras||mn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ii(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Ti(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Oi(e){return s(this,"_erasNameRegex")||Gi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||Gi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ri(e){return s(this,"_erasNarrowRegex")||Gi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bi(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function ji(e,t){return t._eraYearOrdinalRegex||Ie}function Gi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Be(a[e].name)),n.push(Be(a[e].abbr)),i.push(Be(a[e].narrow)),o.push(Be(a[e].name)),o.push(Be(a[e].abbr)),o.push(Be(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Vi(e,t){j(0,[e,e.length],0,t)}function Ui(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Zi(){return St(this.year(),1,4)}function Hi(){return St(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Ki(e,t,n,r,i){var o;return null==e?_t(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),qi.call(this,e,t,n,r,i))}function qi(e,t,n,r,i){var o=wt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $i(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),Oe("N",Bi),Oe("NN",Bi),Oe("NNN",Bi),Oe("NNNN",zi),Oe("NNNNN",Fi),Fe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),Oe("y",Ie),Oe("yy",Ie),Oe("yyy",Ie),Oe("yyyy",Ie),Oe("yo",ji),Fe(["y","yy","yyy","yyyy"],Ue),Fe(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ue]=n._locale.eraYearOrdinalParse(e,i):t[Ue]=parseInt(e,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Oe("G",Te),Oe("g",Te),Oe("GG",_e,ye),Oe("gg",_e,ye),Oe("GGGG",ke,xe),Oe("gggg",ke,xe),Oe("GGGGG",Me,we),Oe("ggggg",Me,we),je(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),je(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Oe("Q",me),Fe("Q",(function(e,t){t[We]=3*(ce(e)-1)})),j("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Oe("D",_e),Oe("DD",_e,ye),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Fe(["D","DD"],Ze),Fe("Do",(function(e,t){t[Ze]=ce(e.match(_e)[0])}));var Qi=fe("Date",!0);function Ji(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}j("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Oe("DDD",Ce),Oe("DDDD",be),Fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),j("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Oe("m",_e),Oe("mm",_e,ye),Fe(["m","mm"],Ye);var eo=fe("Minutes",!1);j("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Oe("s",_e),Oe("ss",_e,ye),Fe(["s","ss"],Xe);var to,no,ro=fe("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Oe("S",Ce,me),Oe("SS",Ce,ye),Oe("SSS",Ce,be),to="SSSS";to.length<=9;to+="S")Oe(to,Ie);function io(e,t){t[Ke]=ce(1e3*("0."+e))}for(to="S";to.length<=9;to+="S")Fe(to,io);function oo(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=fe("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var so=_.prototype;function uo(e){return Xn(1e3*e)}function lo(){return Xn.apply(null,arguments).parseZone()}function co(e){return e}so.add=Pr,so.calendar=Gr,so.clone=Vr,so.diff=Kr,so.endOf=vi,so.format=ei,so.from=ti,so.fromNow=ni,so.to=ri,so.toNow=ii,so.get=pe,so.invalidAt=Ci,so.isAfter=Ur,so.isBefore=Wr,so.isBetween=Zr,so.isSame=Hr,so.isSameOrAfter=Yr,so.isSameOrBefore=Xr,so.isValid=Si,so.lang=ai,so.locale=oi,so.localeData=si,so.max=qn,so.min=Kn,so.parsingFlags=Ei,so.set=ge,so.startOf=gi,so.subtract=Or,so.toArray=xi,so.toObject=wi,so.toDate=bi,so.toISOString=Qr,so.inspect=Jr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(so[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),so.toJSON=_i,so.toString=$r,so.unix=yi,so.valueOf=mi,so.creationData=ki,so.eraName=Ai,so.eraNarrow=Ni,so.eraAbbr=Di,so.eraYear=Pi,so.year=vt,so.isLeapYear=mt,so.weekYear=Ui,so.isoWeekYear=Wi,so.quarter=so.quarters=$i,so.month=ct,so.daysInMonth=ft,so.week=so.weeks=It,so.isoWeek=so.isoWeeks=Tt,so.weeksInYear=Yi,so.weeksInWeekYear=Xi,so.isoWeeksInYear=Zi,so.isoWeeksInISOWeekYear=Hi,so.date=Qi,so.day=so.days=Wt,so.weekday=Zt,so.isoWeekday=Ht,so.dayOfYear=Ji,so.hour=so.hours=rn,so.minute=so.minutes=eo,so.second=so.seconds=ro,so.millisecond=so.milliseconds=no,so.utcOffset=pr,so.utc=vr,so.local=mr,so.parseZone=yr,so.hasAlignedHourOffset=br,so.isDST=xr,so.isLocal=_r,so.isUtcOffset=Sr,so.isUtc=Er,so.isUTC=Er,so.zoneAbbr=oo,so.zoneName=ao,so.dates=C("dates accessor is deprecated. Use date instead.",Qi),so.months=C("months accessor is deprecated. Use month instead",ct),so.years=C("years accessor is deprecated. Use year instead",vt),so.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),so.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fo=D.prototype;function ho(e,t,n,r){var i=mn(),o=p().set(r,t);return i[n](o,e)}function po(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return ho(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ho(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=mn(),a=e?o._week.dow:0,s=[];if(null!=n)return ho(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=ho(t,(i+a)%7,r,"day");return s}function vo(e,t){return po(e,t,"months")}function mo(e,t){return po(e,t,"monthsShort")}function yo(e,t,n){return go(e,t,n,"weekdays")}function bo(e,t,n){return go(e,t,n,"weekdaysShort")}function xo(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=O,fo.longDateFormat=H,fo.invalidDate=X,fo.ordinal=$,fo.preparse=co,fo.postformat=co,fo.relativeTime=J,fo.pastFuture=ee,fo.set=A,fo.eras=Mi,fo.erasParse=Ii,fo.erasConvertYear=Ti,fo.erasAbbrRegex=Li,fo.erasNameRegex=Oi,fo.erasNarrowRegex=Ri,fo.months=ot,fo.monthsShort=at,fo.monthsParse=ut,fo.monthsRegex=ht,fo.monthsShortRegex=dt,fo.week=Et,fo.firstDayOfYear=Mt,fo.firstDayOfWeek=kt,fo.weekdays=Ft,fo.weekdaysMin=Gt,fo.weekdaysShort=jt,fo.weekdaysParse=Ut,fo.weekdaysRegex=Yt,fo.weekdaysShortRegex=Xt,fo.weekdaysMinRegex=Kt,fo.isPM=tn,fo.meridiem=on,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",mn);var wo=Math.abs;function _o(){var e=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),e.milliseconds=wo(e.milliseconds),e.seconds=wo(e.seconds),e.minutes=wo(e.minutes),e.hours=wo(e.hours),e.months=wo(e.months),e.years=wo(e.years),this}function So(e,t,n,r){var i=Mr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Eo(e,t){return So(this,e,t,1)}function Co(e,t){return So(this,e,t,-1)}function ko(e){return e<0?Math.floor(e):Math.ceil(e)}function Mo(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ko(To(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=le(o/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,a+=le(n/24),s+=i=le(Io(a)),a-=ko(To(i)),r=le(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Io(e){return 4800*e/146097}function To(e){return 146097*e/4800}function Ao(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Io(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(To(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function No(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Do(e){return function(){return this.as(e)}}var Po=Do("ms"),Oo=Do("s"),Lo=Do("m"),Ro=Do("h"),Bo=Do("d"),zo=Do("w"),Fo=Do("M"),jo=Do("Q"),Go=Do("y");function Vo(){return Mr(this)}function Uo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zo=Wo("milliseconds"),Ho=Wo("seconds"),Yo=Wo("minutes"),Xo=Wo("hours"),Ko=Wo("days"),qo=Wo("months"),$o=Wo("years");function Qo(){return le(this.days()/7)}var Jo=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ta(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function na(e,t,n,r){var i=Mr(e).abs(),o=Jo(i.as("s")),a=Jo(i.as("m")),s=Jo(i.as("h")),u=Jo(i.as("d")),l=Jo(i.as("M")),c=Jo(i.as("w")),f=Jo(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,ta.apply(null,d)}function ra(e){return void 0===e?Jo:"function"===typeof e&&(Jo=e,!0)}function ia(e,t){return void 0!==ea[e]&&(void 0===t?ea[e]:(ea[e]=t,"s"===e&&(ea.ss=t-1),!0))}function oa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ea;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ea,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=na(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(e){return(e>0)-(e<0)||+e}function ua(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=aa(this._milliseconds)/1e3,l=aa(this._days),c=aa(this._months),f=this.asSeconds();return f?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=sa(this._months)!==sa(f)?"-":"",a=sa(this._days)!==sa(f)?"-":"",s=sa(this._milliseconds)!==sa(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var la=or.prototype;return la.isValid=rr,la.abs=_o,la.add=Eo,la.subtract=Co,la.as=Ao,la.asMilliseconds=Po,la.asSeconds=Oo,la.asMinutes=Lo,la.asHours=Ro,la.asDays=Bo,la.asWeeks=zo,la.asMonths=Fo,la.asQuarters=jo,la.asYears=Go,la.valueOf=No,la._bubble=Mo,la.clone=Vo,la.get=Uo,la.milliseconds=Zo,la.seconds=Ho,la.minutes=Yo,la.hours=Xo,la.days=Ko,la.weeks=Qo,la.months=qo,la.years=$o,la.humanize=oa,la.toISOString=ua,la.toString=ua,la.toJSON=ua,la.locale=oi,la.localeData=si,la.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),la.lang=ai,j("X",0,0,"unix"),j("x",0,0,"valueOf"),Oe("x",Te),Oe("X",De),Fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Fe("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.1",i(Xn),r.fn=so,r.min=Qn,r.max=Jn,r.now=er,r.utc=p,r.unix=uo,r.months=vo,r.isDate=f,r.locale=pn,r.invalid=y,r.duration=Mr,r.isMoment=S,r.weekdays=yo,r.parseZone=lo,r.localeData=mn,r.isDuration=ar,r.monthsShort=mo,r.weekdaysMin=xo,r.defineLocale=gn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=bo,r.normalizeUnits=re,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=jr,r.prototype=so,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},5687:function(e,t,n){var r=n(1989),i=n(5713),o=n(6845),a=n(8828),s=n(847),u=[0,0];e.exports.x7=function(e,t,n,a,l){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),l/s(t,u)},e.exports.mJ=function(e,t){return i(e,-t[1],t[0]),e},e.exports.o7=function(e,t,n){return a(e,t,n),o(e,e),e}},1431:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"}},6161:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"};t.default=n},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case g:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===g}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,E=60107,C=60108,k=60114,M=60109,I=60110,T=60112,A=60113,N=60120,D=60115,P=60116,O=60121,L=60128,R=60129,B=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),S=F("react.portal"),E=F("react.fragment"),C=F("react.strict_mode"),k=F("react.profiler"),M=F("react.provider"),I=F("react.context"),T=F("react.forward_ref"),A=F("react.suspense"),N=F("react.suspense_list"),D=F("react.memo"),P=F("react.lazy"),O=F("react.block"),F("react.scope"),L=F("react.opaque.id"),R=F("react.debug_trace_mode"),B=F("react.offscreen"),z=F("react.legacy_hidden")}var j,G="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=G&&e[G]||e["@@iterator"])?e:null}function U(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function Z(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function H(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 22:return e=Z(e.type._render,!1);case 1:return e=Z(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return Y(e.type);case O:return Y(e._render);case P:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function le(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ie=null,Te=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Me(e.stateNode,e.type,t))}}function Ne(e){Ie?Te?Te.push(e):Te=[e]:Ie=e}function De(){if(Ie){var e=Ie,t=Te;if(Te=Ie=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Re=Pe,Be=!1,ze=!1;function Fe(){null===Ie&&null===Te||(Le(),De())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ge=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ge=!1}function Ue(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var We=!1,Ze=null,He=!1,Ye=null,Xe={onError:function(e){We=!0,Ze=e}};function Ke(e,t,n,r,i,o,a,s,u){We=!1,Ze=null,Ue.apply(Xe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function _t(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},kt={};function Mt(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=Mt("animationend"),Tt=Mt("animationiteration"),At=Mt("animationstart"),Nt=Mt("transitionend"),Dt=new Map,Pt=new Map,Ot=["abort","abort",It,"animationEnd",Tt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Rt=8;function Bt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Bt(u),i=Rt):0!==(s&=o)&&(r=Bt(s),i=Rt)}else 0!==(o=n&~a)?(r=Bt(o),i=Rt):0!==s&&(r=Bt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Bt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Gt(24&~t))?jt(10,t):e;case 10:return 0===(e=Gt(192&~t))?jt(8,t):e;case 8:return 0===(e=Gt(3584&~t))&&(0===(e=Gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Gt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Gt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Zt(e)/Ht|0)|0},Zt=Math.log,Ht=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Kt=!0;function qt(e,t,n,r){Be||Le();var i=Qt,o=Be;Be=!0;try{Oe(i,e,t,n,r)}finally{(Be=o)||Fe()}}function $t(e,t,n,r){Xt(Yt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return lt=vt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Lr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=i({},dn,{view:0,detail:0}),gn=un(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),xn=un(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(wn),Sn=un(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return Mn}var Tn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Tn),Nn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=un(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(On),Rn=[9,13,27,32],Bn=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var Fn=f&&"TextEvent"in window&&!zn,jn=f&&(!Bn||zn&&8<zn&&11>=zn),Gn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Xn(e,t,n,r){Ne(r),0<(t=Br(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function $n(e){Tr(e,0)}function Qn(e){if($(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),qn=Kn=null)}function or(e){if("value"===e.propertyName&&Qn(qn)){var t=[];if(Xn(t,qn,e,ke(e)),e=$n,Be)e(t);else{Be=!0;try{Pe(e,t)}finally{Be=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),qn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function ur(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==Q(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Br(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ot,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Pt.set(Er[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ke.apply(this,arguments),We){if(!We)throw Error(a(198));var c=Ze;We=!1,Ze=null,He||(He=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,l),o=u}}}if(He)throw e=Ye,He=!1,Ye=null,e}function Ar(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Mr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Mr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Or(o,e,i,t),a.add(s))}function Or(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=qt;break;case 1:i=$t;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{Re(e,t,n)}finally{ze=!1,Fe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case It:case Tt:case At:u=xn;break;case Nt:u=Pn;break;case"scroll":u=gn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=je(p,d))&&c.push(Rr(p,g,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ii(u),h=null==l?s:ii(l),(s=new c(g,p+"leave",u,n,i)).target=f,s.relatedTarget=h,g=null,ni(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,g=c),f=g,u&&l)e:{for(d=l,p=0,h=c=u;h;h=zr(h))p++;for(h=0,g=d;g;g=zr(g))h++;for(;0<p-h;)c=zr(c),p--;for(;0<h-p;)d=zr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=zr(c),d=zr(d)}c=null}else c=null;null!==u&&Fr(a,s,u,c,!1),null!==l&&null!==f&&Fr(a,f,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Jn;else if(Yn(s))if(er)v=lr;else{v=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Xn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Yn(m)||"true"===m.contentEditable)&&(br=m,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Bn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Zn=!0)),0<(m=Br(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Bn&&Un(e,t)?(e=rn(),nn=tn=en=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Tr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=je(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=je(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Gr=null,Vr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var $r=Math.random().toString(36).slice(2),Qr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Qr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Qr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Jr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function li(e){return{current:e}}function ci(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var di={},hi=li(di),pi=li(!1),gi=di;function vi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(a(168));fi(hi,t),fi(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Y(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),fi(hi,e)):ci(pi),fi(pi,n)}var Si=null,Ei=null,Ci=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ai=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Bi={},zi=void 0!==Ti?Ti:function(){},Fi=null,ji=null,Gi=!1,Vi=Ai(),Ui=1e4>Vi?Ai:function(){return Ai()-Vi};function Wi(){switch(Ni()){case Di:return 99;case Pi:return 98;case Oi:return 97;case Li:return 96;case Ri:return 95;default:throw Error(a(332))}}function Zi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Oi;case 96:return Li;case 95:return Ri;default:throw Error(a(332))}}function Hi(e,t){return e=Zi(e),Ci(e,t)}function Yi(e,t,n){return e=Zi(e),ki(e,t,n)}function Xi(){if(null!==ji){var e=ji;ji=null,Mi(e)}Ki()}function Ki(){if(!Gi&&null!==Fi){Gi=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Di,Xi),n}finally{Gi=!1}}}var qi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=li(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ba=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(d=o.baseState,s=0,f=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(h,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Gs|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function xo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?gi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?gi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Yu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Xu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Yu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case S:return(t=$u(t,e.mode,n)).return=e,t}if(So(t)||V(t))return(t=Xu(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(So(n)||V(n))return null!==i?null:f(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m,f=v}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=V(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===E&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case _:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===E){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===E?((r=Xu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Yu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(V(o))return v(e,r,o,u);if(c&&Co(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,r)}}var Mo=ko(!0),Io=ko(!1),To={},Ao=li(To),No=li(To),Do=li(To);function Po(e){if(e===To)throw Error(a(174));return e}function Oo(e,t){switch(fi(Do,t),fi(No,e),fi(Ao,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ao),fi(Ao,t)}function Lo(){ci(Ao),ci(No),ci(Do)}function Ro(e){Po(Do.current);var t=Po(Ao.current),n=pe(t,e.type);t!==n&&(fi(No,e),fi(Ao,n))}function Bo(e){No.current===e&&(ci(Ao),ci(No))}var zo=li(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Go=null,Vo=!1;function Uo(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zo(e){if(Vo){var t=Go;if(t){var n=t;if(!Wo(e,t)){if(!(t=Xr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(jo=e);Uo(jo,n)}jo=e,Go=Xr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,jo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Yo(e){if(e!==jo)return!1;if(!Vo)return Ho(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Go;t;)Uo(e,t),t=Xr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Go=Xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Go=null}}else Go=jo?Xr(e.stateNode.nextSibling):null;return!0}function Xo(){Go=jo=null,Vo=!1}var Ko=[];function qo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var $o=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Pa:Oa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,$o.current=La,e=n(r,i)}while(ia)}if($o.current=Da,t=null!==ta&&null!==ta.next,Jo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function la(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Jo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=c,Gs|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Ba=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=$o.current,l=u.useState((function(){return ha(i,t,n)})),c=l[1],f=l[0];l=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(c(e),e=hu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Wt(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Na.bind(null,ea,e),l.queue=e,l.baseQueue=null,f=ha(i,t,n),l.memoizedState=l.baseState=f),f}function ga(e,t,n){return pa(la(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Na.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return la().memoizedState}function xa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function _a(e,t){return xa(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function Ea(e,t){return wa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ca.bind(null,t,e),n)}function Ma(){}function Ia(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Na(e,t,n){var r=du(),i=hu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(e,i,r)}}var Da={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ma,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return va(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Oa={readContext:ao,useCallback:Ia,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Ta,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Ia,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Ta,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Ra=w.ReactCurrentOwner,Ba=!1;function za(e,t,n,r){t.child=null===e?Io(t,null,n,r):Mo(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ba?(t.flags|=1,za(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ga(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ga(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ba=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ba=!0)}return Wa(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return za(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=mi(n)?gi:hi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ba?(t.flags|=1,za(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Za(e,t,n,r,i){if(mi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=vi(t,l=mi(n)?gi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&wo(t,a,r,l),so=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),u=t.memoizedState,s!==r||d!==u||pi.current||so?("function"===typeof c&&(mo(t,n,c,r),u=t.memoizedState),(s=so||bo(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:$i(t.type,s),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=mi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wo(t,a,r,u),so=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||pi.current||so?("function"===typeof h&&(mo(t,n,h,r),p=t.memoizedState),(l=so||bo(t,n,l,r,d,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ua(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),os(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Mo(t,e.child,null,o),t.child=Mo(t,null,s,o)):za(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ya(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Oo(e,t.containerInfo)}var Xa,Ka,qa,$a={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=zo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(zo,1&o),null===e?(void 0!==i.fallback&&Zo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=$a,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ku(t,i,0,null),n=Xu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Xu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(za(e,t,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Lo(),ci(pi),ci(hi),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Yo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Bo(t);var o=Po(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Ao.current),Yo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Ar(kr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var l in Ee(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":q(r),re(r,s,!0);break;case"textarea":q(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Xa(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Ar(kr[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ar("invalid",e);break;default:o=r}Ee(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&x(e,s,f,l))}switch(n){case"input":q(e),re(e,r,!1);break;case"textarea":q(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Do.current),Po(Ao.current),Yo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(zo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Yo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?0===zs&&(zs=3):(0!==zs&&3!==zs||(zs=4),null===Ps||0===(134217727&Gs)&&0===(134217727&Vs)||yu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(zo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(zo,1&zo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=zo.current,fi(zo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),ci(pi),ci(hi),qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Bo(e),null;case 13:return ci(zo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(zo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Ao.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,$s=r),cs(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Bu(n,e),Ru(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Bu(t,n);else{r=t;try{i()}catch(o){ju(r,o)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ju(t,o)}break;case 5:gs(t);break;case 4:Cs(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Es(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Zs=Ui(),ys(t.child,!0)),void Ms(t);case 19:return void Ms(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,As=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,Ds=0,Ps=null,Os=null,Ls=0,Rs=0,Bs=li(0),zs=0,Fs=null,js=0,Gs=0,Vs=0,Us=0,Ws=null,Zs=0,Hs=1/0;function Ys(){Hs=Ui()+500}var Xs,Ks=null,qs=!1,$s=null,Qs=null,Js=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,fu=!1;function du(){return 0!==(48&Ds)?Ui():-1!==su?su:su=Ui()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=js),0!==qi.transition){0!==lu&&(lu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ds)&&98===e?e=jt(12,uu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Ut(e,t,n),e===Ps&&(Vs|=t,4===zs&&yu(e,Ls));var r=Wi();1===t?0!==(8&Ds)&&0===(48&Ds)?bu(e):(vu(e,n),0===Ds&&(Ys(),Xi())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Ws=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Bt(l);var f=Rt;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=zt(e,e===Ps?Ls:0),t=Rt,0===r)null!==n&&(n!==Bi&&Mi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Bi&&Mi(n)}15===t?(n=bu.bind(null,e),null===Fi?(Fi=[n],ji=ki(Di,Ki)):Fi.push(n),n=Bi):14===t?n=Yi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Yi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,lu=uu=0,0!==(48&Ds))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=zt(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var o=ku();for(Ps===e&&Ls===r||(Ys(),Eu(e,r));;)try{Tu();break}catch(u){Cu(e,u)}if(no(),As.current=o,Ds=i,null!==Os?r=0:(Ps=null,Ls=0,r=zs),0!==(js&Vs))Eu(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Ft(e))&&(r=Mu(e,n))),1===r)throw t=Fs,Eu(e,0),yu(e,n),vu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Du(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Zs+500-Ui())){if(0!==zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(Du.bind(null,e),r);break}Du(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Zr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(a(329))}}return vu(e,Ui()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ds))throw Error(a(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Mu(e,t);0!==(js&Vs)&&(n=Mu(e,t=zt(e,t)))}else n=Mu(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Ft(e))&&(n=Mu(e,t))),1===n)throw n=Fs,Eu(e,0),yu(e,t),vu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),vu(e,Ui()),null}function xu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Ys(),Xi())}}function wu(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Ys(),Xi())}}function _u(e,t){fi(Bs,Rs),Rs|=t,js|=t}function Su(){Rs=Bs.current,ci(Bs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Lo(),ci(pi),ci(hi),qo();break;case 5:Bo(r);break;case 4:Lo();break;case 13:case 19:ci(zo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ps=e,Os=Hu(e.current,null),Ls=Rs=js=t,zs=0,Fs=null,Us=Vs=Gs=0}function Cu(e,t){for(;;){var n=Os;try{if(no(),$o.current=Da,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ta=ea=null,ia=!1,Ns.current=null,null===n||null===n.return){zs=1,Fs=t,Os=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&zo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(l),d.updateQueue=m}else v.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=Gu.bind(null,o,l,s);l.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==zs&&(zs=2),u=ls(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ds(0,o,t));break e;case 1:o=u;var w=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Qs||!Qs.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hs(d,o,t));break e}}d=d.return}while(null!==d)}Nu(n)}catch(S){t=S,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function ku(){var e=As.current;return As.current=Da,null===e?Da:e}function Mu(e,t){var n=Ds;Ds|=16;var r=ku();for(Ps===e&&Ls===t||Eu(e,t);;)try{Iu();break}catch(i){Cu(e,i)}if(no(),Ds=n,As.current=r,null!==Os)throw Error(a(261));return Ps=null,Ls=0,zs}function Iu(){for(;null!==Os;)Au(Os)}function Tu(){for(;null!==Os&&!Ii();)Au(Os)}function Au(e){var t=Xs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Nu(e):Os=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Rs)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===zs&&(zs=5)}function Du(e){var t=Wi();return Hi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ds))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Wt(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Os=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,Ns.current=null,Gr=Kt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(k){u=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==l||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++p===o&&(d=f),m===l&&++g===c&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Kt=!1,cu=null,fu=!1,Ks=r;do{try{Ou()}catch(k){if(null===Ks)throw Error(a(330));ju(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);cu=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var x=Ks.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:_s(Ks),Ks.flags&=-3;break;case 6:_s(Ks),Ks.flags&=-3,ks(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,ks(Ks.alternate,Ks);break;case 4:ks(Ks.alternate,Ks);break;case 8:Cs(s,u=Ks);var _=u.alternate;xs(u),null!==_&&xs(_)}Ks=Ks.nextEffect}}catch(k){if(null===Ks)throw Error(a(330));ju(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Vr,x=vr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=pr(b,_),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Gr,Vr=Gr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var S=Ks.flags;if(36&S&&ms(b,Ks.alternate,Ks),128&S){x=void 0;var E=Ks.ref;if(null!==E){var C=Ks.stateNode;Ks.tag,x=C,"function"===typeof E?E(x):E.current=x}}Ks=Ks.nextEffect}}catch(k){if(null===Ks)throw Error(a(330));ju(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,zi(),Ds=i}else e.current=n;if(Js)Js=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(k){}if(vu(e,Ui()),qs)throw qs=!1,e=$s,$s=null,e;return 0!==(8&Ds)||Xi(),null}function Ou(){for(;null!==Ks;){var e=Ks.alternate;fu||null===cu||(0!==(8&Ks.flags)?et(Ks,cu)&&(fu=!0):13===Ks.tag&&Is(e,Ks)&&et(Ks,cu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Js||(Js=!0,Yi(97,(function(){return Lu(),null}))),Ks=Ks.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,zu)}return!1}function Ru(e,t){nu.push(t,e),Js||(Js=!0,Yi(97,(function(){return Lu(),null})))}function Bu(e,t){ru.push(t,e),Js||(Js=!0,Yi(97,(function(){return Lu(),null})))}function zu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(a(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Xi(),!0}function Fu(e,t,n){fo(e,t=ds(0,t=ls(n,t),1)),t=du(),null!==(e=gu(e,1))&&(Ut(e,1,t),vu(e,t))}function ju(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=hs(n,e=ls(t,e),1);if(fo(n,i),i=du(),null!==(n=gu(n,1)))Ut(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Gu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===zs||3===zs&&(62914560&Ls)===Ls&&500>Ui()-Zs?Eu(e,0):Us|=n),vu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=js),0===(t=Gt(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=gu(e,t))&&(Ut(e,t,n),vu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Uu(e,t,n,r)}function Zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Xu(n.children,i,o,t);case R:s=8,i|=16;break;case C:s=8,i|=1;break;case k:return(e=Wu(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case A:return(e=Wu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case N:return(e=Wu(19,n,t,i)).elementType=N,e.lanes=o,e;case B:return Ku(n,i,o,t);case z:return(e=Wu(24,n,t,i)).elementType=z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case I:s=9;break e;case T:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case O:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Xu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=B,e.lanes=n,e}function qu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Ju(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,o=du(),s=hu(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=xi(n,l,u);break e}}n=u}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tl(a);s.call(e)}}el(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tl(a);u.call(e)}}wu((function(){el(t,a,e,i)}))}return tl(a)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(a(200));return Ju(e,t,null,n)}Xs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ba=!0;else{if(0===(n&r)){switch(Ba=!1,t.tag){case 3:Ya(t),Xo();break;case 5:Ro(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(fi(zo,1&zo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(zo,1&zo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(zo,zo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Ba=0!==(16384&e.flags)}else Ba=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,za(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=Za(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=ja(null,t,i,$i(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Za(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ya(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Xo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Go=Xr(t.stateNode.containerInfo.firstChild),jo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else za(e,t,r,n),Xo();t=t.child}return t;case 5:return Ro(t),null===e&&Zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Ua(e,t),za(e,t,s,n),t.child;case 6:return null===e&&Zo(t),null;case 13:return Qa(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Mo(t,null,r,n):za(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return za(e,t,t.pendingProps,n),t.child;case 8:case 12:return za(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,fo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}za(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,za(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),ja(e,t,i,o=$i(i.type,o),r,n);case 15:return Ga(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,oo(t,n),xo(t,r,i),_o(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rl(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rl(e,n)}},it=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=xu,Oe=function(e,t,n,r,i){var o=Ds;Ds|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=o)&&(Ys(),Xi())}},Le=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ui())}))}Xi()}(),Lu())},Re=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Ys(),Xi())}};var ul={Events:[ri,ii,oi,Ne,De,Lu,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Si=fl.inject(cl),Ei=fl}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ds=n,Xi()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return al(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,f=60120,d=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case d:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return x(e)===u}},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),M(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+k(s=e[l],l);u+=M(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=M(s=s.value,t,n,c=r+k(s,l++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function N(){var e=A.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),c="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,f=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,d=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,h=new(c||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(L(n)){if(!W(e))throw new TypeError;if(!H(t))throw new TypeError;return E(e,t)}if(!W(e))throw new TypeError;if(!z(t))throw new TypeError;if(!z(r)&&!L(r)&&!R(r))throw new TypeError;return R(r)&&(r=void 0),C(e,t,n=U(n),r)}function g(e,t){function n(n,r){if(!z(n))throw new TypeError;if(!L(r)&&!Y(r))throw new TypeError;N(e,t,n,r)}return n}function v(e,t,n,r){if(!z(n))throw new TypeError;return L(r)||(r=U(r)),N(e,t,n,r)}function m(e,t,n){if(!z(t))throw new TypeError;return L(n)||(n=U(n)),M(e,t,n)}function y(e,t,n){if(!z(t))throw new TypeError;return L(n)||(n=U(n)),I(e,t,n)}function b(e,t,n){if(!z(t))throw new TypeError;return L(n)||(n=U(n)),T(e,t,n)}function x(e,t,n){if(!z(t))throw new TypeError;return L(n)||(n=U(n)),A(e,t,n)}function w(e,t){if(!z(e))throw new TypeError;return L(t)||(t=U(t)),D(e,t)}function _(e,t){if(!z(e))throw new TypeError;return L(t)||(t=U(t)),P(e,t)}function S(e,t,n){if(!z(t))throw new TypeError;L(n)||(n=U(n));var r=k(t,n,!1);if(L(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}function E(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!L(r)&&!R(r)){if(!H(r))throw new TypeError;t=r}}return t}function C(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!L(o)&&!R(o)){if(!z(o))throw new TypeError;r=o}}return r}function k(e,t,n){var r=h.get(e);if(L(r)){if(!n)return;r=new f,h.set(e,r)}var i=r.get(t);if(L(i)){if(!n)return;i=new f,r.set(t,i)}return i}function M(e,t,n){if(I(e,t,n))return!0;var r=J(t);return!R(r)&&M(e,r,n)}function I(e,t,n){var r=k(t,n,!1);return!L(r)&&G(r.has(e))}function T(e,t,n){if(I(e,t,n))return A(e,t,n);var r=J(t);return R(r)?void 0:T(e,r,n)}function A(e,t,n){var r=k(t,n,!1);if(!L(r))return r.get(e)}function N(e,t,n,r){k(n,r,!0).set(e,t)}function D(e,t){var n=P(e,t),r=J(e);if(null===r)return n;var i=D(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var l=u[s];o.has(l)||(o.add(l),a.push(l))}for(var c=0,f=i;c<f.length;c++){l=f[c];o.has(l)||(o.add(l),a.push(l))}return a}function P(e,t){var n=[],r=k(e,t,!1);if(L(r))return n;for(var i=K(r.keys()),o=0;;){var a=$(i);if(!a)return n.length=o,n;var s=q(a);try{n[o]=s}catch(u){try{Q(i)}finally{throw u}}o++}}function O(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function R(e){return null===e}function B(e){return"symbol"===typeof e}function z(e){return"object"===typeof e?null!==e:"function"===typeof e}function F(e,t){switch(O(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(z(o))throw new TypeError;return o}return j(e,"default"===n?"number":n)}function j(e,t){if("string"===t){var n=e.toString;if(Z(n))if(!z(i=n.call(e)))return i;if(Z(r=e.valueOf))if(!z(i=r.call(e)))return i}else{var r;if(Z(r=e.valueOf))if(!z(i=r.call(e)))return i;var i,o=e.toString;if(Z(o))if(!z(i=o.call(e)))return i}throw new TypeError}function G(e){return!!e}function V(e){return""+e}function U(e){var t=F(e,3);return B(t)?t:V(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Z(e){return"function"===typeof e}function H(e){return"function"===typeof e}function Y(e){switch(O(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Z(n))throw new TypeError;return n}}function K(e){var t=X(e,i);if(!Z(t))throw new TypeError;var n=t.call(e);if(!z(n))throw new TypeError;return n}function q(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function Q(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+l()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function l(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",b),e("getOwnMetadata",x),e("getMetadataKeys",w),e("getOwnMetadataKeys",_),e("deleteMetadata",S)}(i)}()}(r||(r={}))},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(T([])));w&&w!==n&&r.call(w,o)&&(b=w);var _=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=y,u(_,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9084:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||i(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,n){l(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function g(e,t){for(e+="";e.length<t;)e=" "+e;return e}function v(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,o=0,a={unknown:new v,0:new v};a.unknown.name=a[0].name=t||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(i=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new v)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(a[o].name=f[1]?r(f[2]):f[2])}a[o].lines.push(new m(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function _(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function S(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function E(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";N(r,"string",u+" shader source must be a string",a);var l=w(r,a),c=_(s);S(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(g(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(g("| ",6)),o(g("^^^",t+3)+n,"font-weight:bold"),o(g("| ",6)),o(i+n,"font-weight:bold")})),o(g("| ",6)+n)}else o(g(e.number,4)+"|  "),o(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+l[0].name)}}function C(e,t,r,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(r,a),l='Error linking program with vertex shader, "'+w(i,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+s),o.raise(l)}}function k(e){e._commandRef=b()}function M(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}k(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function I(e,t){var n=x();i(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function T(e,t,n){e||I(t,n||b())}function A(e,t,n,r){e in t||I("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||b())}function N(e,t,n,r){l(e,t)||I("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||b())}function D(e){e()}function P(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var O=33071,L=9728,R=9984,B=9985,z=9986,F=9987,j=5121,G=5122,V=5123,U=5124,W=5125,Z=5126,H=32819,Y=32820,X=33635,K=34042,q=36193,$={};function Q(e,t){return e===Y||e===H||e===X?2:e===K?4:$[e]*t}function J(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===O&&e.wrapT===O||o(J(i)&&J(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==R&&e.minFilter!==z&&e.minFilter!==B&&e.minFilter!==F,"min filter requires mipmap"):(o(J(i)&&J(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Z&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===L&&e.magFilter===L,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var l=i>>r,c=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(o(f.width===l&&f.height===c,"invalid shape for mip images"),o(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(Q(f.type,s)*l/f.unpackAlignment)*f.unpackAlignment;o(f.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===O&&t.wrapT===O,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];o(l.width===i&&l.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!l.compressed,"can not generate mipmap for compressed textures"),o(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var d=c[f];if(d){var h=i>>f,p=a>>f;o(l.mipmask&1<<f,"missing mipmap data"),o(d.width===h&&d.height===p,"invalid shape for mip images"),o(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?o(d.data.byteLength===h*p*Math.max(Q(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}$[5120]=$[j]=1,$[G]=$[V]=$[q]=$[X]=$[H]=$[Y]=2,$[U]=$[W]=$[Z]=$[K]=4;var ne=t(o,{optional:D,raise:i,commandRaise:I,command:T,parameter:s,commandParameter:A,constructor:p,type:c,commandType:N,isTypedArray:u,nni:f,oneOf:d,shaderError:E,linkError:C,callSite:x,saveCommandRef:k,saveDrawInfo:M,framebufferFormat:P,guessCommand:b,texture2D:ee,textureCube:te}),re=0,ie=0,oe=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function le(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return le(e.substr(0,r.index)).concat(le(r[1])).concat(le(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(le(i[a]));return o}function ce(e){return"["+le(e).join("][")+"]"}function fe(e,t){return new se(e,ce(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof se}function he(e,t){return"function"===typeof e?new se(ie,e):"number"===typeof e||"boolean"===typeof e?new se(oe,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:fe,isDynamic:de,unbox:he,accessor:ce},ge={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ve="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function me(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function _e(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function Se(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Ee(e){var t,n,r,i,o=e||{},a={},s=[],u=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof o?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),ne(t,"invalid query string for element")):"object"===typeof o?xe(o)?t=o:we(o)?r=(i=o).canvas:(ne.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Se(o.canvas):"container"in o&&(n=Se(o.container)),"attributes"in o&&(a=o.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in o&&(s=_e(o.extensions)),"optionalExtensions"in o&&(u=_e(o.optionalExtensions)),"onDone"in o&&(ne.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(l=+o.pixelRatio,ne(l>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=ye(n||document.body,f,l);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=be(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:l,profile:c,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ce(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function ke(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Me=5120,Ie=5121,Te=5122,Ae=5123,Ne=5124,De=5125,Pe=5126;function Oe(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Le(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Re(){var e=ke(8,(function(){return[]}));function t(t){var n=Oe(t),r=e[Le(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Le(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Me:r=new Int8Array(t(n),0,n);break;case Ie:r=new Uint8Array(t(n),0,n);break;case Te:r=new Int16Array(t(2*n),0,n);break;case Ae:r=new Uint16Array(t(2*n),0,n);break;case Ne:r=new Int32Array(t(4*n),0,n);break;case De:r=new Uint32Array(t(4*n),0,n);break;case Pe:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Be=Re();Be.zero=Re();var ze=3408,Fe=3410,je=3411,Ge=3412,Ve=3413,Ue=3414,We=3415,Ze=33901,He=33902,Ye=3379,Xe=3386,Ke=34921,qe=36347,$e=36348,Qe=35661,Je=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,ot=7937,at=7938,st=35724,ut=34047,lt=36063,ct=34852,ft=3553,dt=34067,ht=34069,pt=33984,gt=6408,vt=5126,mt=5121,yt=36160,bt=36053,xt=36064,wt=16384,_t=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ct),i=e.getParameter(lt));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(ft,a),e.texImage2D(ft,0,gt,1,1,0,gt,vt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,xt,ft,a,0),e.bindTexture(ft,null),e.checkFramebufferStatus(yt)!==bt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=Be.allocType(vt,4);e.readPixels(0,0,1,1,gt,vt,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),Be.freeType(u)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),f=Be.allocType(mt,36);e.activeTexture(pt),e.bindTexture(dt,c),e.texImage2D(ht,0,gt,3,3,0,gt,mt,f),Be.freeType(f),e.bindTexture(dt,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(Fe),e.getParameter(je),e.getParameter(Ge),e.getParameter(Ve)],depthBits:e.getParameter(Ue),stencilBits:e.getParameter(We),subpixelBits:e.getParameter(ze),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Ze),lineWidthDims:e.getParameter(He),maxViewportDims:e.getParameter(Xe),maxCombinedTextureUnits:e.getParameter(Qe),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Ye),maxAttributes:e.getParameter(Ke),maxVertexUniforms:e.getParameter(qe),maxVertexTextureUnits:e.getParameter(Je),maxVaryingVectors:e.getParameter($e),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(ot),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:o,npotTextureCube:l}};function St(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var Et=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ct={shape:Nt,flatten:At};function kt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Mt(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function It(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],l=0;l<n;++l)for(var c=u[l],f=0;f<r;++f)i[a++]=c[f]}function Tt(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],l=t[n+2],c=t[n+3];for(a=0;a<s;++a)It(e[a],u,l,c,r,i),i+=o}else for(a=0;a<s;++a)Tt(e[a],t,n+1,r,i),i+=o}function At(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||Be.allocType(n,i);switch(t.length){case 0:break;case 1:kt(e,t[0],a);break;case 2:Mt(e,t[0],t[1],a);break;case 3:It(e,t[0],t[1],t[2],a,0);break;default:Tt(e,t,0,a,0)}return a}function Nt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Dt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ot={dynamic:35048,stream:35040,static:35044},Lt=Ct.flatten,Rt=Ct.shape,Bt=35044,zt=35040,Ft=5121,jt=5126,Gt=[];function Vt(e){return 0|Dt[Object.prototype.toString.call(e)]}function Ut(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Wt(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)e[s++]=t[i*u+o*l+a]}function Zt(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=Bt,this.byteLength=0,this.dimension=1,this.dtype=Ft,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function l(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),d(n,t,zt,0,1,!1),n}function c(e){u.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||jt,n.length>0)if(Array.isArray(n[0])){s=Rt(n);for(var l=1,c=1;c<s.length;++c)l*=s[c];t.dimension=l,f(t,u=Lt(n,s,t.dtype),r),a?t.persistentData=u:Be.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var d=Be.allocType(t.dtype,n.length);Ut(d,n),f(t,d,r),a?t.persistentData=d:Be.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Vt(n[0])||jt,f(t,u=Lt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:Be.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Vt(n),t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(St(n)){s=n.shape;var h=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=h[0],y=0):2===s.length?(g=s[0],v=s[1],m=h[0],y=h[1]):ne.raise("invalid shape"),t.dtype=i||Vt(n.data)||jt,t.dimension=v;var b=Be.allocType(t.dtype,g*v);Wt(b,n.data,g,v,m,y,p),f(t,b,r),a?t.persistentData=b:Be.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Ft,t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(i,o,u,l){n.bufferCount++;var c=new s(o);function f(n){var i=Bt,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||St(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===o||Array.isArray(o)||e(o)||St(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ne.parameter(n.usage,Ot,"invalid buffer usage"),i=Ot[n.usage]),"type"in n&&(ne.parameter(n.type,Pt,"invalid buffer type"),s=Pt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?d(c,o,i,s,u,l):(a&&t.bufferData(c.type,a,i),c.dtype=s||Ft,c.usage=i,c.dimension=u,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*Gt[c.dtype]),f}function p(e,n){ne(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function g(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=Be.allocType(c.dtype,t.length);Ut(o,t),p(o,i),Be.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=Rt(t);var a=Lt(t,r,c.dtype);p(a,i),Be.freeType(a)}else ne.raise("invalid buffer data")}else if(St(t)){r=t.shape;var s=t.stride,u=0,l=0,d=0,h=0;1===r.length?(u=r[0],l=1,d=s[0],h=0):2===r.length?(u=r[0],l=r[1],d=s[0],h=s[1]):ne.raise("invalid shape");var g=Array.isArray(t.data)?c.dtype:Vt(t.data),v=Be.allocType(g,u*l);Wt(v,t.data,u,l,d,h,t.offset),p(v,i),Be.freeType(v)}else ne.raise("invalid data for buffer subdata");return f}return a[c.id]=c,u||f(i),f._reglType="buffer",f._buffer=c,f.subdata=g,r.profile&&(f.stats=c.stats),f.destroy=function(){h(c)},f}function g(){Et(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:l,destroyStream:c,clear:function(){Et(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:g,_initBuffer:d}}Gt[5120]=1,Gt[5122]=2,Gt[5124]=4,Gt[5121]=1,Gt[5123]=2,Gt[5125]=4,Gt[5126]=4;var Ht={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Yt=0,Xt=1,Kt=4,qt=5120,$t=5121,Qt=5122,Jt=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,i){var o={},a=0,s={uint8:$t,uint16:Jt};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Kt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){l.push(e)}function d(i,o,a,s,u,l,c){var f;if(i.buffer.bind(),o){var d=c;c||e(o)&&(!St(o)||e(o.data))||(d=n.oes_element_index_uint?tn:Jt),r._initBuffer(i.buffer,o,a,d,3)}else t.bufferData(nn,l,a),i.buffer.dtype=f||$t,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case $t:case qt:f=$t;break;case Jt:case Qt:f=Jt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===Jt?h>>=1:f===tn&&(h>>=2)),i.vertCount=h;var p=s;if(s<0){p=Kt;var g=i.buffer.dimension;1===g&&(p=Yt),2===g&&(p=Xt),3===g&&(p=Kt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var o=r.create(null,nn,!0),a=new u(o._buffer);function l(t){if(t)if("number"===typeof t)o(t),a.primType=Kt,a.vertCount=0|t,a.type=$t;else{var n=null,r=on,i=-1,u=-1,c=0,f=0;Array.isArray(t)||e(t)||St(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||St(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Ot,"invalid element buffer usage"),r=Ot[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Ht,"invalid element buffer primitive"),i=Ht[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?c=0|t.length:(c=u,f===Jt||f===Qt?c*=2:f!==tn&&f!==en||(c*=4))),d(a,n,r,i,u,c,f)}else o(),a.primType=Kt,a.vertCount=0,a.type=$t;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=a,l.subdata=function(e,t){return o.subdata(e,t),l},l.destroy=function(){h(a)},l}return{create:p,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){Et(o).forEach(h)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),ln=5123;function cn(e){for(var t=Be.allocType(ln,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,gn=34067,vn=34069,mn=6408,yn=6406,bn=6407,xn=6409,wn=6410,_n=32854,Sn=32855,En=36194,Cn=32819,kn=32820,Mn=33635,In=34042,Tn=6402,An=34041,Nn=35904,Dn=35906,Pn=36193,On=33776,Ln=33777,Rn=33778,Bn=33779,zn=35986,Fn=35987,jn=34798,Gn=35840,Vn=35841,Un=35842,Wn=35843,Zn=36196,Hn=5121,Yn=5123,Xn=5125,Kn=5126,qn=10242,$n=10243,Qn=10497,Jn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,ur=9987,lr=33170,cr=4352,fr=4353,dr=4354,hr=34046,pr=3317,gr=37440,vr=37441,mr=37443,yr=37444,br=33984,xr=[or,sr,ar,ur],wr=[0,xn,wn,bn,mn],_r={};function Sr(e){return"[object "+e+"]"}_r[xn]=_r[yn]=_r[Tn]=1,_r[An]=_r[wn]=2,_r[bn]=_r[Nn]=3,_r[mn]=_r[Dn]=4;var Er=Sr("HTMLCanvasElement"),Cr=Sr("OffscreenCanvas"),kr=Sr("CanvasRenderingContext2D"),Mr=Sr("ImageBitmap"),Ir=Sr("HTMLImageElement"),Tr=Sr("HTMLVideoElement"),Ar=Object.keys(Dt).concat([Er,Cr,kr,Mr,Ir,Tr]),Nr=[];Nr[Hn]=1,Nr[Kn]=4,Nr[Pn]=2,Nr[Yn]=2,Nr[Xn]=4;var Dr=[];function Pr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Or(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Lr(e){return Object.prototype.toString.call(e)}function Rr(e){return Lr(e)===Er}function Br(e){return Lr(e)===Cr}function zr(e){return Lr(e)===kr}function Fr(e){return Lr(e)===Mr}function jr(e){return Lr(e)===Ir}function Gr(e){return Lr(e)===Tr}function Vr(e){if(!e)return!1;var t=Lr(e);return Ar.indexOf(t)>=0||Pr(e)||Or(e)||St(e)}function Ur(e){return 0|Dt[Object.prototype.toString.call(e)]}function Wr(e,t){var n=t.length;switch(e.type){case Hn:case Yn:case Xn:case Kn:var r=Be.allocType(e.type,n);r.set(t),e.data=r;break;case Pn:e.data=cn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Zr(e,t){return Be.allocType(e.type===Pn?Kn:e.type,t)}function Hr(e,t){e.type===Pn?(e.data=cn(t),Be.freeType(t)):e.data=t}function Yr(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,l=Zr(e,a*s*u),c=0,f=0;f<s;++f)for(var d=0;d<a;++d)for(var h=0;h<u;++h)l[c++]=t[n*d+r*f+i*h+o];Hr(e,l)}function Xr(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Dr[e]?Dr[e]:_r[e]*Nr[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Kr(n,r,i,o,a,s,u){var l={"don't care":cr,"dont care":cr,nice:dr,fast:fr},c={repeat:Qn,clamp:Jn,mirror:er},f={nearest:rr,linear:ir},d=t({mipmap:ur,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},f),h={none:0,browser:yr},p={uint8:Hn,rgba4:Cn,rgb565:Mn,"rgb5 a1":kn},g={alpha:yn,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:_n,"rgb5 a1":Sn,rgb565:En},v={};r.ext_srgb&&(g.srgb=Nn,g.srgba=Dn),r.oes_texture_float&&(p.float32=p.float=Kn),r.oes_texture_half_float&&(p.float16=p["half float"]=Pn),r.webgl_depth_texture&&(t(g,{depth:Tn,"depth stencil":An}),t(p,{uint16:Yn,uint32:Xn,"depth stencil":In})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":On,"rgba s3tc dxt1":Ln,"rgba s3tc dxt3":Rn,"rgba s3tc dxt5":Bn}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":zn,"rgba atc explicit alpha":Fn,"rgba atc interpolated alpha":jn}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":Gn,"rgb pvrtc 2bppv1":Vn,"rgba pvrtc 4bppv1":Un,"rgba pvrtc 2bppv1":Wn}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Zn);var m=Array.prototype.slice.call(n.getParameter(hn));Object.keys(v).forEach((function(e){var t=v[e];m.indexOf(t)>=0&&(g[e]=t)}));var y=Object.keys(g);i.textureFormats=y;var b=[];Object.keys(g).forEach((function(e){var t=g[e];b[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var _=[];Object.keys(d).forEach((function(e){var t=d[e];_[t]=e}));var S=[];Object.keys(c).forEach((function(e){var t=c[e];S[t]=e}));var E=y.reduce((function(e,t){var n=g[t];return n===xn||n===yn||n===xn||n===wn||n===Tn||n===An||r.ext_srgb&&(n===Nn||n===Dn)?e[n]=n:n===Sn||t.indexOf("rgba")>=0?e[n]=mn:e[n]=bn,e}),{});function C(){this.internalformat=mn,this.format=mn,this.type=Hn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function k(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function M(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(o>=0&&o<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ne(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ne(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var l=!1;if("format"in t){var c=t.format;ne(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(c,g,"invalid texture format");var f=e.internalformat=g[c];e.format=E[f],c in p&&("type"in t||(e.type=p[c])),c in v&&(e.compressed=!0),l=!0}!u&&l?e.channels=_r[e.format]:u&&!l?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):l&&u&&ne(e.channels===_r[e.format],"number of channels inconsistent with specified format")}}function I(e){n.pixelStorei(gr,e.flipY),n.pixelStorei(vr,e.premultiplyAlpha),n.pixelStorei(mr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function T(){C.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function A(t,n){var r=null;if(Vr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),M(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Vr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Hn||(t.type=Ur(r));else if(Pr(r))t.channels=t.channels||4,Wr(t,r),t.alignment=1,t.needsFree=!0;else if(St(r)){var u=r.data;Array.isArray(u)||t.type!==Hn||(t.type=Ur(u));var l,c,f,d,h,p,g=r.shape,v=r.stride;3===g.length?(f=g[2],p=v[2]):(ne(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),l=g[0],c=g[1],d=v[0],h=v[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Yr(t,u,d,h,p,r.offset)}else if(Rr(r)||Br(r)||zr(r))Rr(r)||Br(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Fr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(jr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Gr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Or(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=fn(r[0][0])?b||r[0][0].length:b||1;for(var x=Ct.shape(r),w=1,_=0;_<x.length;++_)w*=x[_];var S=Zr(t,w);Ct.flatten(r,x,"",S),Hr(t,S),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Kn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Pn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function N(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,l=e.type,c=e.width,f=e.height;I(e),i?n.texImage2D(t,r,u,u,l,i):e.compressed?n.compressedTexImage2D(t,r,s,c,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,c,f,0)):n.texImage2D(t,r,u,c,f,0,u,l,a||null)}function D(e,t,r,i,a){var s=e.element,u=e.data,l=e.internalformat,c=e.format,f=e.type,d=e.width,h=e.height;I(e),s?n.texSubImage2D(t,a,r,i,c,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,l,d,h,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,i,d,h,c,f,u)}var P=[];function O(){return P.pop()||new T}function L(e){e.needsFree&&Be.freeType(e.data),T.call(e),P.push(e)}function R(){C.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function B(e,t,n){var r=e.images[0]=O();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function z(e,t){var n=null;if(Vr(t))k(n=e.images[0]=O(),e),A(n,t),e.mipmask=1;else if(M(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)k(n=e.images[i]=O(),e),n.width>>=i,n.height>>=i,A(n,r[i]),e.mipmask|=1<<i;else k(n=e.images[0]=O(),e),A(n,t),e.mipmask=1;k(e,e.images[0]),!e.compressed||e.internalformat!==On&&e.internalformat!==Ln&&e.internalformat!==Rn&&e.internalformat!==Bn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;N(n[r],t,r)}}var j=[];function G(){var e=j.pop()||new R;C.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&L(t[n]),t[n]=null;j.push(e)}function U(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Jn,this.wrapT=Jn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function W(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],xr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(ne.parameter(s[0],c),ne.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,c),o=c[u]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,c),a=c[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:ne.raise("invalid mipmap type")}g&&!("min"in t)&&(e.minFilter=or)}}function Z(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,qn,e.wrapS),n.texParameteri(t,$n,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(lr,e.mipmapHint),n.generateMipmap(t))}var H=0,Y={},X=i.maxTextureUnits,K=Array(X).map((function(){return null}));function q(e){C.call(this),this.mipmask=0,this.internalformat=mn,this.id=H++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,u.profile&&(this.stats={size:0})}function $(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function Q(){var e=K[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function J(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),K[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete Y[e.id],s.textureCount--}function ee(e,t){var r=new q(pn);function o(e,t){var n=r.texInfo;U.call(n);var a=G();return"number"===typeof e?B(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),W(n,e),z(a,e)):B(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),ne.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,$(r),F(a,pn),Z(n,pn),Q(),V(a),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=w[n.magFilter],o.min=_[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,l=O();return k(l,r),l.width=0,l.height=0,A(l,e),l.width=l.width||(r.width>>u)-a,l.height=l.height||(r.height>>u)-s,ne(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(l.data||l.element||l.needsCopy,"missing image data"),$(r),D(l,pn,a,s,u),Q(),L(l),o}function l(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,$(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=a>>s;if(!l||!c)break;n.texImage2D(pn,s,r.format,l,c,0,r.format,r.type,null)}return Q(),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,i,a,!1,!1)),o}return Y[r.id]=r,s.textureCount++,o(e,t),o.subimage=a,o.resize=l,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(e,t,r,o,a,l){var c=new q(gn);Y[c.id]=c,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,o,a){var s,l=c.texInfo;for(U.call(l),s=0;s<6;++s)f[s]=G();if("number"!==typeof e&&e)if("object"===typeof e)if(t)z(f[0],e),z(f[1],t),z(f[2],n),z(f[3],r),z(f[4],o),z(f[5],a);else if(W(l,e),M(c,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),k(f[s],c),z(f[s],h[s])}else for(s=0;s<6;++s)z(f[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)B(f[s],p,p)}for(k(c,f[0]),i.npotTextureCube||ne(dn(c.width)&&dn(c.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ne.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,$(c),s=0;s<6;++s)F(f[s],vn+s);for(Z(l,gn),Q(),u.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=b[c.internalformat],d.type=x[c.type],d.mag=w[l.magFilter],d.min=_[l.minFilter],d.wrapS=S[l.wrapS],d.wrapT=S[l.wrapT],s=0;s<6;++s)V(f[s]);return d}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=O();return k(u,c),u.width=0,u.height=0,A(u,t),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,ne(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),ne(c.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),$(c),D(u,vn+e,o,a,s),Q(),L(u),d}function p(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,$(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(vn+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return Q(),u.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,o,a,l),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function re(){for(var e=0;e<X;++e)n.activeTexture(br+e),n.bindTexture(pn,null),K[e]=null;Et(Y).forEach(J),s.cubeCount=0,s.textureCount=0}function ie(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null)}Et(Y).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(vn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);Z(e.texInfo,e.target)}))}function oe(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(gn,null)}}return t(q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<X;++r){var i=K[r];if(i){if(i.bindCount>0)continue;i.unit=-1}K[r]=e,t=r;break}t>=X&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&J(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(Y).forEach((function(t){e+=Y[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:oe}}Dr[_n]=2,Dr[Sn]=2,Dr[En]=2,Dr[An]=4,Dr[On]=.5,Dr[Ln]=.5,Dr[Rn]=1,Dr[Bn]=1,Dr[zn]=.5,Dr[Fn]=1,Dr[jn]=1,Dr[Gn]=.5,Dr[Vn]=.25,Dr[Un]=.5,Dr[Wn]=.25,Dr[Zn]=.5;var qr=36161,$r=32854,Qr=32855,Jr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function ui(e,t,n){return si[e]*t*n}si[$r]=2,si[Qr]=2,si[Jr]=2,si[ei]=2,si[ti]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var li=function(e,t,n,r,i){var o={rgba4:$r,rgb565:Jr,"rgb5 a1":Qr,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(o.srgba=ri),t.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),t.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function l(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=$r,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(qr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var c=new l(e.createRenderbuffer());function f(t,r){var s=0,u=0,l=$r;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(ne.parameter(d.format,o,"invalid renderbuffer format"),l=o[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return f.width=c.width=s,f.height=c.height=u,c.format=l,e.bindRenderbuffer(qr,c.renderbuffer),e.renderbufferStorage(qr,l,s,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height)),f.format=a[c.format],f}function d(t,r){var o=0|t,a=0|r||o;return o===c.width&&a===c.height||(ne(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=o,f.height=c.height=a,e.bindRenderbuffer(qr,c.renderbuffer),e.renderbufferStorage(qr,c.format,o,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height))),f}return u[c.id]=c,r.renderbufferCount++,f(t,s),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function d(){Et(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(qr,t.renderbuffer),e.renderbufferStorage(qr,t.format,t.width,t.height)})),e.bindRenderbuffer(qr,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){Et(u).forEach(c)},restore:d}},ci=36160,fi=36161,di=3553,hi=34069,pi=36064,gi=36096,vi=36128,mi=33306,yi=36053,bi=36054,xi=36055,wi=36057,_i=36061,Si=36193,Ei=5121,Ci=5126,ki=6407,Mi=6408,Ii=6402,Ti=[ki,Mi],Ai=[];Ai[Mi]=4,Ai[ki]=3;var Ni=[];Ni[Ei]=1,Ni[Ci]=4,Ni[Si]=2;var Di=33189,Pi=36168,Oi=34041,Li=[32854,32855,36194,35907,34842,34843,34836],Ri={};function Bi(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ne(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(ci,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=di,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ne(t===di)):"textureCube"===o?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(di,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(fi,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function _(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function S(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function E(t){var n;e.bindFramebuffer(ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(ci,pi+n,di,null,0);e.framebufferTexture2D(ci,mi,di,null,0),e.framebufferTexture2D(ci,gi,di,null,0),e.framebufferTexture2D(ci,vi,di,null,0),p(gi,t.depthAttachment),p(vi,t.stencilAttachment),p(mi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(ci);e.isContextLost()||o===yi||ne.raise("framebuffer configuration not supported, status = "+Ri[o]),e.bindFramebuffer(ci,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function C(e,i){var o=new w;function f(e,t){var i;ne(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,w="rgba",S="uint8",C=1,k=null,M=null,I=null,T=!1;if("number"===typeof e)a=0|e,d=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var A=e;if("shape"in A){var N=A.shape;ne(Array.isArray(N)&&N.length>=2,"invalid shape for framebuffer"),a=N[0],d=N[1]}else"radius"in A&&(a=d=A.radius),"width"in A&&(a=A.width),"height"in A&&(d=A.height);("color"in A||"colors"in A)&&(b=A.color||A.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in A&&(C=0|A.colorCount,ne(C>0,"invalid color buffer count")),"colorTexture"in A&&(x=!!A.colorTexture,w="rgba4"),"colorType"in A&&(S=A.colorType,x?(ne(n.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==S&&"float32"!==S||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(S,c,"invalid color type")),"colorFormat"in A&&(w=A.colorFormat,u.indexOf(w)>=0?x=!0:l.indexOf(w)>=0?x=!1:x?ne.oneOf(A.colorFormat,u,"invalid color format for texture"):ne.oneOf(A.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in A||"depthStencilTexture"in A)&&(T=!(!A.depthTexture&&!A.depthStencilTexture),ne(!T||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in A&&("boolean"===typeof A.depth?p=A.depth:(k=A.depth,y=!1)),"stencil"in A&&("boolean"===typeof A.stencil?y=A.stencil:(M=A.stencil,p=!1)),"depthStencil"in A&&("boolean"===typeof A.depthStencil?p=y=A.depthStencil:(I=A.depthStencil,p=!1,y=!1))}else a=d=1;var D=null,P=null,O=null,L=null;if(Array.isArray(b))D=b.map(g);else if(b)D=[g(b)];else for(D=new Array(C),i=0;i<C;++i)D[i]=v(a,d,x,w,S);ne(n.webgl_draw_buffers||D.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(D.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||D[0].width,d=d||D[0].height,k?P=g(k):p&&!y&&(P=v(a,d,T,"depth","uint32")),M?O=g(M):y&&!p&&(O=v(a,d,!1,"stencil","uint8")),I?L=g(I):!k&&!M&&y&&p&&(L=v(a,d,T,"depth stencil","depth stencil")),ne(!!k+!!M+!!I<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(i=0;i<D.length;++i)if(h(D[i],a,d),ne(!D[i]||D[i].texture&&Ti.indexOf(D[i].texture._texture.format)>=0||D[i].renderbuffer&&Li.indexOf(D[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),D[i]&&D[i].texture){var B=Ai[D[i].texture._texture.format]*Ni[D[i].texture._texture.type];null===R?R=B:ne(R===B,"all color attachments much have the same number of bits per pixel.")}return h(P,a,d),ne(!P||P.texture&&P.texture._texture.format===Ii||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Di,"invalid depth attachment for framebuffer object"),h(O,a,d),ne(!O||O.renderbuffer&&O.renderbuffer._renderbuffer.format===Pi,"invalid stencil attachment for framebuffer object"),h(L,a,d),ne(!L||L.texture&&L.texture._texture.format===Oi||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Oi,"invalid depth-stencil attachment for framebuffer object"),_(o),o.width=a,o.height=d,o.colorAttachments=D,o.depthAttachment=P,o.stencilAttachment=O,o.depthStencilAttachment=L,f.color=D.map(m),f.depth=m(P),f.stencil=m(O),f.depthStencil=m(L),f.width=o.width,f.height=o.height,E(o),f}function d(e,t){ne(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,E(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),_(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function k(e){var o=Array(6);function a(e){var r;ne(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},d=0,h=null,p="rgba",g="uint8",v=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&ne(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(v=0|m.colorCount,ne(v>0,"invalid color buffer count")),"colorType"in m&&(ne.oneOf(m.colorType,c,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,ne.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(f.depth=m.depth),"stencil"in m&&(f.stencil=m.stencil),"depthStencil"in m&&(f.depthStencil=m.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(v);var b={radius:d,format:p,type:g};for(r=0;r<v;++r)l[r]=i.createCube(b)}for(f.color=Array(l.length),r=0;r<l.length;++r){var x=l[r];ne("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,ne(x.width===d&&x.height===d,"invalid cube map shape"),f.color[r]={target:hi,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)f.color[w].target=hi+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=C(f)}return t(a,{width:d,height:d,color:l})}function l(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:o,resize:l,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function M(){s.cur=null,s.next=null,s.dirty=!0,Et(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),E(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:C,createCube:k,clear:function(){Et(x).forEach(S)},restore:M})}Ri[yi]="complete",Ri[bi]="incomplete attachment",Ri[wi]="incomplete dimensions",Ri[xi]="incomplete, missing attachment",Ri[_i]="unsupported";var zi=5126,Fi=34962;function ji(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=zi,this.offset=0,this.stride=0,this.divisor=0}function Gi(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new ji;var l=0,c={},f={Record:ji,scope:{},state:s,currentVAO:null,targetVAO:null,restore:h()?x:function(){},createVAO:w,getVAO:g,destroyBuffer:d,setVAO:h()?v:m,clear:h()?y:function(){}};function d(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(e){return"function"===typeof e&&e._vao?e._vao:null}function v(e){if(e!==f.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function m(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}}function y(){Et(c).forEach((function(e){e.destroy()}))}function b(){this.id=++l,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}function x(){h()&&Et(c).forEach((function(e){e.refresh()}))}function w(t){var r=new b;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var l=0;l<t.length;++l){var c,f=t[l],d=u[l]=new ji,h=f.data||f;Array.isArray(h)||e(h)||St(h)?(r.buffers[l]&&(c=r.buffers[l],e(h)&&c._buffer.byteLength>=h.byteLength?c.subdata(h):(c.destroy(),r.buffers[l]=null)),r.buffers[l]||(c=r.buffers[l]=o.create(f,Fi,!1,!0)),d.buffer=o.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[l]=1):o.getBuffer(f)?(d.buffer=o.getBuffer(f),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(f.buffer)?(d.buffer=o.getBuffer(f.buffer),d.size=0|(+f.size||d.buffer.dimension),d.normalized=!!f.normalized||!1,"type"in f?(ne.parameter(f.type,Pt,"invalid buffer type"),d.type=Pt[f.type]):d.type=d.buffer.dtype,d.offset=0|(f.offset||0),d.stride=0|(f.stride||0),d.divisor=0|(f.divisor||0),d.state=1,ne(d.size>=1&&d.size<=4,"size must be between 1 and 4"),ne(d.offset>=0,"invalid offset"),ne(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),ne(d.divisor>=0,"divisor must be positive"),ne(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(ne(l>0,"first attribute must not be a constant"),d.x=+f.x||0,d.y=+f.y||0,d.z=+f.z||0,d.w=+f.w||0,d.state=2):ne(!1,"invalid attribute spec for location "+l)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return b.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Fi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},b.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=h();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],i.vaoCount-=1)},f}var Vi=35632,Ui=35633,Wi=35718,Zi=35721;function Hi(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(t,r,i){var s=t===Vi?o:a,u=s[r];if(!u){var l=n.str(r);u=e.createShader(t),e.shaderSource(u,l),e.compileShader(u),ne.shaderError(e,u,l,t,i),s[r]=u}return u}var c={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,c,f=l(Vi,t.fragId),d=l(Ui,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var g=e.getProgramParameter(h,Wi);i.profile&&(t.stats.uniformsCount=g);var v=t.uniforms;for(a=0;a<g;++a)if(c=e.getActiveUniform(h,a))if(c.size>1)for(var m=0;m<c.size;++m){var y=c.name.replace("[0]","["+m+"]");u(v,new s(y,n.id(y),e.getUniformLocation(h,y),c))}else u(v,new s(c.name,n.id(c.name),e.getUniformLocation(h,c.name),c));var b=e.getProgramParameter(h,Zi);i.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(c=e.getActiveAttrib(h,a))&&u(x,new s(c.name,n.id(c.name),e.getAttribLocation(h,c.name),c))}function g(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);Et(o).forEach(t),o={},Et(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(n,i,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(i>=0,"missing fragment shader",s);var l=c[i];l||(l=c[i]={});var d=l[n];if(d&&(d.refCount++,!u))return d;var g=new h(i,n);return r.shaderCount++,p(g,s,u),d||(l[n]=g),f.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=f.indexOf(g);f.splice(t,1),r.shaderCount--}l[g.vertId].refCount<=0&&(e.deleteShader(a[g.vertId]),delete a[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(e.deleteShader(o[g.fragId]),delete o[g.fragId],delete c[g.fragId])}})},restore:g,shader:l,frag:-1,vert:-1}}var Yi=6408,Xi=5121,Ki=3333,qi=5126;function $i(t,n,r,i,o,a,s){function u(u){var l;null===n.next?(ne(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Xi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(l===Xi||l===qi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===qi&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(l===Xi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,f=0|u.y,ne(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||i.framebufferWidth-c),h=0|(u.height||i.framebufferHeight-f),p=u.data||null),p&&(l===Xi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===qi&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var g=d*h*4;return p||(l===Xi?p=new Uint8Array(g):l===qi&&(p=p||new Float32Array(g))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(Ki,4),t.readPixels(c,f,d,h,Yi,l,p),p}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):u(e)}return c}function Qi(e){return Array.prototype.slice.call(e)}function Ji(e){return Qi(e).join("")}function eo(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o}function o(){var n=[];function r(){n.push.apply(n,Qi(arguments))}var i=[];function o(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Qi(arguments)),n.push(";")),t}return t(r,{def:o,toString:function(){return Ji([i.length>0?"var "+i.join(",")+";":"",Ji(n)])}})}function a(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,Qi(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var e=Ji(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,Qi(arguments)),this},else:function(){return r.apply(r,Qi(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Ji(["if(",e,"){",i(),"}",t])}})}var u=o(),l={};function c(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),u=s.toString;return l[e]=t(s,{arg:i,toString:function(){return Ji(["function(",r.join(),"){",u(),"}"])}})}function f(){var e=['"use strict";',u,"return {"];Object.keys(l).forEach((function(t){e.push('"',t,'":',l[t].toString(),",")})),e.push("}");var t=Ji(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:i,block:o,proc:c,scope:a,cond:s,compile:f}}var to="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,uo=3,lo=4,co=5,fo=6,ho="dither",po="blend.enable",go="blend.color",vo="blend.equation",mo="blend.func",yo="depth.enable",bo="depth.func",xo="depth.range",wo="depth.mask",_o="colorMask",So="cull.enable",Eo="cull.face",Co="frontFace",ko="lineWidth",Mo="polygonOffset.enable",Io="polygonOffset.offset",To="sample.alpha",Ao="sample.enable",No="sample.coverage",Do="stencil.enable",Po="stencil.mask",Oo="stencil.func",Lo="stencil.opFront",Ro="stencil.opBack",Bo="scissor.enable",zo="scissor.box",Fo="viewport",jo="profile",Go="framebuffer",Vo="vert",Uo="frag",Wo="elements",Zo="primitive",Ho="count",Yo="offset",Xo="instances",Ko="vao",qo="Width",$o="Height",Qo=Go+qo,Jo=Go+$o,ea=Fo+qo,ta=Fo+$o,na="drawingBuffer",ra=na+qo,ia=na+$o,oa=[mo,vo,Oo,Lo,Ro,No,Fo,zo,Io],aa=34962,sa=34963,ua=3553,la=34067,ca=2884,fa=3042,da=3024,ha=2960,pa=2929,ga=3089,va=32823,ma=32926,ya=32928,ba=5126,xa=35664,wa=35665,_a=35666,Sa=5124,Ea=35667,Ca=35668,ka=35669,Ma=35670,Ia=35671,Ta=35672,Aa=35673,Na=35674,Da=35675,Pa=35676,Oa=35678,La=35680,Ra=4,Ba=1028,za=1029,Fa=2304,ja=2305,Ga=32775,Va=32776,Ua=519,Wa=7680,Za=0,Ha=1,Ya=32774,Xa=513,Ka=36160,qa=36064,$a={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qa=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ja={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Fa,ccw:ja};function rs(t){return Array.isArray(t)||e(t)||St(t)}function is(e){return e.sort((function(e,t){return e===Fo?-1:t===Fo?1:e<t?-1:1}))}function os(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new os(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===oo){var r=e.data.length;return new os(!0,r>=1,r>=2,t)}if(n===lo){var i=e.data;return new os(i.thisDep,i.contextDep,i.propDep,t)}if(n===co)return new os(!1,!1,!1,t);if(n===fo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var l=e.data[u];if(l.type===ao)s=!0;else if(l.type===so)a=!0;else if(l.type===uo)o=!0;else if(l.type===oo){o=!0;var c=l.data;c>=1&&(a=!0),c>=2&&(s=!0)}else l.type===lo&&(o=o||l.data.thisDep,a=a||l.data.contextDep,s=s||l.data.propDep)}return new os(o,a,s,t)}return new os(n===uo,n===so,n===ao,t)}var ls=new os(!1,!1,!1,(function(){}));function cs(e,n,r,i,o,a,s,u,l,c,f,d,h,p,g){var v=c.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Ga,m.max=Va);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},w={},_=[],S={},E={};function C(e){return e.replace(".","_")}function k(e,t,n){var r=C(e);_.push(e),w[r]=x[r]=!!n,S[r]=t}function M(e,t,n){var r=C(e);_.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,E[r]=t}k(ho,da),k(po,fa),M(go,"blendColor",[0,0,0,0]),M(vo,"blendEquationSeparate",[Ya,Ya]),M(mo,"blendFuncSeparate",[Ha,Za,Ha,Za]),k(yo,pa,!0),M(bo,"depthFunc",Xa),M(xo,"depthRange",[0,1]),M(wo,"depthMask",!0),M(_o,_o,[!0,!0,!0,!0]),k(So,ca),M(Eo,"cullFace",za),M(Co,Co,ja),M(ko,ko,1),k(Mo,va),M(Io,"polygonOffset",[0,0]),k(To,ma),k(Ao,ya),M(No,"sampleCoverage",[1,!1]),k(Do,ha),M(Po,"stencilMask",-1),M(Oo,"stencilFunc",[Ua,0,-1]),M(Lo,"stencilOpSeparate",[Ba,Wa,Wa,Wa]),M(Ro,"stencilOpSeparate",[za,Wa,Wa,Wa]),k(Bo,ga),M(zo,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),M(Fo,Fo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var I={gl:e,context:h,strings:n,next:w,current:x,draw:d,elements:a,buffer:o,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},T={primTypes:Ht,compareFuncs:Ja,blendFuncs:$a,blendEquations:m,stencilOps:es,glTypes:Pt,orientationType:ns};ne.optional((function(){I.isArrayLike=fn})),b&&(T.backBuffer=[za],T.drawBuffer=ke(i.maxDrawbuffers,(function(e){return 0===e?[0]:ke(e,(function(e){return qa+e}))})));var A=0;function N(){var e=eo(),t=e.link,r=e.global;e.id=A++,e.batchId="0";var i=t(I),o=e.shared={props:"a0"};Object.keys(I).forEach((function(e){o[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},T.invalidBlendCombinations=Qa}));var a=e.next={},s=e.current={};Object.keys(E).forEach((function(e){Array.isArray(x[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(T).forEach((function(e){u[e]=r.def(JSON.stringify(T[e]))})),e.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case uo:return n.def("this",r.data);case lo:return r.data.append(e,n),r.data.ref;case co:return r.data.toString();case fo:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new v),l[r]=t(i)},e}function D(e){var t,n=e.static,r=e.dynamic;if(jo in n){var i=!!n[jo];(t=ss((function(e,t){return i}))).enable=i}else if(jo in r){var o=r[jo];t=us(o,(function(e,t){return e.invoke(t,o)}))}return t}function P(e,t){var n=e.static,r=e.dynamic;if(Go in n){var i=n[Go];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ss((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Qo,n+".width"),t.set(o,"."+Jo,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Qo,r+"."+ra),t.set(r,"."+Jo,r+"."+ia),"null"}))}if(Go in r){var o=r[Go];return us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Qo,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+Jo,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function O(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];ne.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,l=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new os(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Qo,"-",l));var i=s;return"height"in o||(i=t.def(n,".",Jo,"-",c)),[l,c,r,i]}))}if(e in i){var f=i[e],d=us(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Qo,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Jo,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new os(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Qo),t.def(n,".",Jo)]})):null}var a=o(Fo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:o(zo)}}function L(e,t){var n=e.static;if("string"===typeof n[Uo]&&"string"===typeof n[Vo]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)ne("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function R(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in o){var a=o[e];return us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(Uo),l=a(Vo),c=null;return as(u)&&as(l)?(c=f.program(l.id,u.id,null,r),s=ss((function(e,t){return e.link(c)}))):s=new os(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Uo);var i=r+".program("+(l?l.append(e,t):t.def(r,".",Vo))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:l,progVar:s,program:c}}function B(e,t){var n=e.static,r=e.dynamic;function i(){if(Wo in n){var e=n[Wo];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var i=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return i.value=e,i}if(Wo in r){var o=r[Wo];return us(o,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),l=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(l.else,"!"+a+"||"+s,"invalid elements")})),t.entry(l),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Zo in n){var e=n[Zo];return ne.commandParameter(e,Ht,"invalid primitve",t.commandStr),ss((function(t,n){return Ht[e]}))}if(Zo in r){var i=r[Zo];return us(i,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Ht))})),t.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return Ra})):new os(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Ra)})):null}function u(e,i){if(e in n){var a=0|n[e];return ne.command(!i||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return i&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return i&&o?ss((function(e,t){return e.OFFSET="0",0})):null}var l=u(Yo,!0);function c(){if(Ho in n){var e=0|n[Ho];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Ho in r){var i=r[Ho];return us(i,(function(e,t){var n=e.invoke(t,i);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return l?new os(l.thisDep,l.contextDep,l.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||l.thisDep,o.contextDep||l.contextDep,o.propDep||l.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:c(),instances:u(Xo,!1),offset:l}}function z(e,t){var n=e.static,r=e.dynamic,o={};return _.forEach((function(e){var a=C(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=ss((function(){return s}))}else if(e in r){var u=r[e];o[a]=us(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case So:case po:case ho:case Do:case yo:case Bo:case Mo:case To:case Ao:case wo:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case bo:return s((function(n){return ne.commandParameter(n,Ja,"invalid "+e,t.commandStr),Ja[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Ja))})),n.def(i,"[",r,"]")}));case xo:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case mo:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,$a,a+".srcRGB",t.commandStr),ne.commandParameter(r,$a,a+".srcAlpha",t.commandStr),ne.commandParameter(i,$a,a+".dstRGB",t.commandStr),ne.commandParameter(o,$a,a+".dstAlpha",t.commandStr),ne.command(-1===Qa.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[$a[n],$a[i],$a[r],$a[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ne.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys($a))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),l=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),l,n.def(i,"[",o("dst","Alpha"),"]")]}));case vo:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,m,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case go:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),ke(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),ke(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Po:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Oo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ne.commandParameter(r,Ja,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(o,"number",e+".mask",t.commandStr),[Ja[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Wa),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Lo:case Ro:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(i,es,e+".zfail",t.commandStr),ne.commandParameter(o,es,e+".zpass",t.commandStr),[e===Ro?za:Ba,es[r],es[i],es[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ne.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(es))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Wa)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Ro?za:Ba,o("fail"),o("zfail"),o("zpass")]}));case Io:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Eo:return s((function(e){var n=0;return"front"===e?n=Ba:"back"===e&&(n=za),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Ba,":",za)}));case ko:return s((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Co:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Fa+":"+ja)}));case _o:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),ke(4,(function(e){return"!!"+n+"["+e+"]"}))}));case No:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),o}function F(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=ss((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(o.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(o)?r=ss((function(t){return t.global.def("[",ke(o.length,(function(n){return ne.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),i}function j(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=n.id(e),u=new v;if(rs(i))u.state=ro,u.buffer=o.getBuffer(o.create(i,aa,!1,!0)),u.type=0;else{var l=o.getBuffer(i);if(l)u.state=ro,u.buffer=l,u.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=io,"number"===typeof c?u.x=c:(ne.command(fn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),to.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{l=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),ne.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,g=0;"type"in i&&(ne.commandParameter(i.type,Pt,"invalid type for attribute "+e,t.commandStr),g=Pt[i.type]);var m=0|i.divisor;"divisor"in i&&(ne.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=l,u.state=ro,u.size=h,u.normalized=p,u.type=g||l.dtype,u.offset=f,u.stride=d,u.divisor=m}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new v;c.state=ro,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var f=l.buffer,d=l.type;function h(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",f,"=",u,".createStream(",aa,",",i,");",d,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",io,";","if(typeof "+i+'.constant === "number"){',l[to[0]],"=",i,".constant;",to.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",to.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",aa,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",f,");","}"),l}a[e]=us(t,n)})),a}function G(e,t){var n=e.static,r=e.dynamic;if(Ko in n){var i=n[Ko];return null!==i&&null===c.getVAO(i)&&(i=c.createVAO(i)),ss((function(e){return e.link(c.getVAO(i))}))}if(Ko in r){var o=r[Ko];return us(o,(function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function V(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function U(e,t,n,i,o){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Go,Vo,Uo,Wo,Zo,Yo,Ho,Xo,jo,Ko].concat(_);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=L(e,t),l=P(e,o),f=O(e,l,o),d=B(e,o),h=z(e,o),p=R(e,o,u);function g(e){var t=f[e];t&&(h[e]=t)}g(Fo),g(C(zo));var v=Object.keys(h).length>0,m={framebuffer:l,draw:d,shader:p,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(m.profile=D(e,o),m.uniforms=F(n,o),m.drawVAO=m.scopeVAO=G(e,o),!m.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&b.length>0){var x=c.getVAO(c.createVAO(b));m.drawVAO=new os(null,null,null,(function(e,t){return e.link(x)})),m.useVAO=!0}}return u?m.useVAO=!0:m.attributes=j(t,o),m.context=V(i,o),m}function W(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(o){t.save(r,"."+o);var a=n[o].append(e,t);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),t(i)}function Z(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,l=e.constants,c=l.drawBuffer,f=l.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Ka,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Ka,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function H(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,l=e.cond(s,".dirty");_.forEach((function(t){var r,c,f=C(t);if(!(f in n.state))if(f in a){r=a[f],c=o[f];var d=ke(x[f].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",E[f],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(u,".",f);var h=e.cond(r,"!==",s,".",f);l(h),f in S?h(e.cond(r).then(i,".enable(",S[f],");").else(i,".disable(",S[f],");"),s,".",f,"=",r,";"):h(i,".",E[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(s,".dirty=false;"),t(l)}function Y(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var l=u.append(e,t);if(S[i]){var c=S[i];as(u)?t(s,l?".enable(":".disable(",c,");"):t(e.cond(l).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(a,".",i,"=",l,";")}else if(fn(l)){var f=o[i];t(s,".",E[i],"(",l,");",l.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",E[i],"(",l,");",a,".",i,"=",l,";")}}))}function X(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function K(e,t,n,r,i){var o,a,s,u=e.shared,l=e.stats,c=u.current,f=u.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(e){e(o=t.def(),"=",h(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),p&&(r?e(a=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",l,");"))}function v(e){e(l,".cpuTime+=",h(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function m(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(d){if(as(d))return void(d.enable?(g(t),v(t.exit),m("true")):m("false"));m(s=d.append(e,t))}else s=t.def(c,".profile");var y=e.block();g(y),t("if(",s,"){",y,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function q(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case xa:case Ea:case Ia:return 2;case wa:case Ca:case Ta:return 3;case _a:case ka:case Aa:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",d.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",aa,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",d.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),y){var l=i.divisor;t("if(",u,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",to.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",to.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}l===ro?h():l===io?p():(t("if(",l,"===",ro,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var o,u=r.name,l=n.attributes[u];if(l){if(!i(l))return;o=l.append(e,t)}else{if(!i(ls))return;var c=e.scopeAttrib(u);ne.optional((function(){e.assert(t,c+".state","missing attribute "+u)})),o={},Object.keys(new v).forEach((function(e){o[e]=t.def(c,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function $(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,l=0;l<i.length;++l){var c,f=i[l],d=f.name,h=f.info.type,p=r.uniforms[d],g=e.link(f)+".location";if(p){if(!o(p))continue;if(as(p)){var v=p.value;if(ne.command(null!==v&&"undefined"!==typeof v,'missing uniform "'+d+'"',e.commandStr),h===Oa||h===La){ne.command("function"===typeof v&&(h===Oa&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||h===La&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+d,e.commandStr);var m=e.link(v._texture||v.color[0]._texture);t(u,".uniform1i(",g,",",m+".bind());"),t.exit(m,".unbind();")}else if(h===Na||h===Da||h===Pa){ne.optional((function(){ne.command(fn(v),"invalid matrix for uniform "+d,e.commandStr),ne.command(h===Na&&4===v.length||h===Da&&9===v.length||h===Pa&&16===v.length,"invalid length for matrix uniform "+d,e.commandStr)}));var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;h===Da?b=3:h===Pa&&(b=4),t(u,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(h){case ba:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1f";break;case xa:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2f";break;case wa:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3f";break;case _a:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4f";break;case Ma:ne.commandType(v,"boolean","uniform "+d,e.commandStr),a="1i";break;case Sa:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1i";break;case Ia:case Ea:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2i";break;case Ta:case Ca:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3i";break;case Aa:case ka:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4i"}t(u,".uniform",a,"(",g,",",fn(v)?Array.prototype.slice.call(v):v,");")}continue}c=p.append(e,t)}else{if(!o(ls))continue;c=t.def(s.uniforms,"[",n.id(d),"]")}h===Oa?(ne(!Array.isArray(c),"must specify a scalar prop for textures"),t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):h===La&&(ne(!Array.isArray(c),"must specify a scalar prop for cube maps"),t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ne(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(c)?ne(c.length===t,"must have length "+t):n(s.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){ne(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case Sa:r("number");break;case Ea:i(2,"number");break;case Ca:i(3,"number");break;case ka:i(4,"number");break;case ba:r("number");break;case xa:i(2,"number");break;case wa:i(3,"number");break;case _a:i(4,"number");break;case Ma:r("boolean");break;case Ia:i(2,"boolean");break;case Ta:i(3,"boolean");break;case Aa:i(4,"boolean");break;case Na:i(4,"number");break;case Da:i(9,"number");break;case Pa:i(16,"number");break;case Oa:o(ua);break;case La:o(la)}}));var x=1;switch(h){case Oa:case La:var w=t.def(c,"._texture");t(u,".uniform1i(",g,",",w,".bind());"),t.exit(w,".unbind();");continue;case Sa:case Ma:a="1i";break;case Ea:case Ia:a="2i",x=2;break;case Ca:case Ta:a="3i",x=3;break;case ka:case Aa:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case wa:a="3f",x=3;break;case _a:a="4f",x=4;break;case Na:a="Matrix2fv";break;case Da:a="Matrix3fv";break;case Pa:a="Matrix4fv"}if(t(u,".uniform",a,"(",g,","),"M"===a.charAt(0)){var _=Math.pow(h-Na+2,2),S=e.global.def("new Float32Array(",_,")");Array.isArray(c)?t("false,(",ke(_,(function(e){return S+"["+e+"]="+c[e]})),",",S,")"):t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",ke(_,(function(e){return S+"["+e+"]="+c+"["+e+"]"})),",",S,")")}else x>1?t(ke(x,(function(e){return Array.isArray(c)?c[e]:c+"["+e+"]"}))):(ne(!Array.isArray(c),"uniform value must not be an array"),t(c));t(");")}}function Q(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var i,u=s.elements,l=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(l=n),i=u.append(e,l)):i=l.def(a,".",Wo),i&&l("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function l(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ne.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Ho),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var c=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var d,h,p=f(Zo),g=f(Yo),v=l();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");y&&(d=f(Xo),h=e.instancing);var m=c+".type",b=s.elements&&as(s.elements);function x(){function e(){n(h,".drawElementsInstancedANGLE(",[p,v,m,g+"<<(("+m+"-"+no+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,g,v,d],");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(o+".drawElements("+[p,v,m,g+"<<(("+m+"-"+no+")>>1)"]+");")}function t(){n(o+".drawArrays("+[p,g,v]+");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),w(),n("}")):x():w()}function J(e,t,n,r,i){var o=N(),a=o.proc("body",i);return ne.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){X(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),q(e,t,n,r.attributes,(function(){return!0}))),$(e,t,n,r.uniforms,(function(){return!0})),Q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);X(e,n),W(e,n,t.context),Z(e,n,t.framebuffer),H(e,n,t),Y(e,n,t.state),K(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link((function(n){return J(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",X(e,t),q(e,t,n,r.attributes,i),$(e,t,n,r.uniforms,i),Q(e,t,t,n)}function ie(e,t,n,r){X(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var l=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function d(e){return!f(e)}if(t(l.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",c,"}",l.exit),n.needsContext&&W(e,c,n.context),n.needsFramebuffer&&Z(e,c,n.framebuffer),Y(e,c,n.state,f),n.profile&&f(n.profile)&&K(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),q(e,l,n,r.attributes,d),q(e,c,n,r.attributes,f)),$(e,l,n,r.uniforms,d),$(e,c,n,r.uniforms,f),Q(e,l,c,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,c),g=c.def(p,".id"),v=c.def(h,"[",g,"]");c(e.shared.gl,".useProgram(",p,".program);","if(!",v,"){",v,"=",h,"[",g,"]=",e.link((function(t){return J(re,e,n,t,2)})),"(",p,");}",v,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",X(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||Z(e,n,o)):Z(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),H(e,n,t),Y(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||K(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)ie(e,n,t,null);else{var l=u.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(l,".id"),d=n.def(c,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",f,"]=",e.link((function(n){return J(ie,e,t,n,2)})),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}W(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),is(Object.keys(t.state)).forEach((function(n){var o=t.state[n].append(e,r);fn(o)?o.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,o)})),K(e,r,t,!0,!0),[Wo,Yo,Ho,Xo,Zo].forEach((function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))})),Object.keys(t.uniforms).forEach((function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new v).forEach((function(e){r.set(o,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Vo),a(Uo),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,l=e.global.def("{}");o.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var o=us(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(lo,{thisDep:a,contextDep:s,propDep:u,ref:l,append:c}),delete t.static[n]}function c(e,t){o.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var o=e.invoke(t,i);t(l,".",n,"=",o,";")}}))}}function le(e,n,r,i,o){var a=N();a.stats=a.link(o),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),oa.forEach((function(t){ue(a,e,t)}));var s=U(e,n,r,i,a);return te(a,s),ae(a,s),oe(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=N(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),Z(e,t),Z(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",aa,",",d,".buffer.buffer);",u,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],a=o.def(l,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",a,";"),n(s),t("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(E).forEach((function(r){var i,a,s=E[r],f=x[r],d=e.block();if(d(u,".",s,"("),fn(f)){var h=f.length;i=e.global.def(l,".",r),a=e.global.def(c,".",r),d(ke(h,(function(e){return i+"["+e+"]"})),");",ke(h,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",ke(h,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",d,"}")}else i=o.def(l,".",r),a=o.def(c,".",r),d(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",a,"){",d,"}");n(d)})),e.compile()}(),compile:le}}function fs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ds=34918,hs=34919,ps=35007,gs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),h(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new u}function f(e){l.push(e)}var d=[];function h(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],g=[];function v(){var e,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ds),i(s)):o[e++]=s,p[n+1]=a,g[n+1]=e}for(o.length=e,e=0,n=0;n<d.length;++n){var u=d[n],l=u.startQueryIndex,c=u.endQueryIndex;u.sum+=p[c]-p[l];var h=g[l],v=g[c];v===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=v,d[e++]=u)}d.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},vs=16384,ms=256,ys=1024,bs=34962,xs="webglcontextlost",ws="webglcontextrestored",_s=1,Ss=2,Es=3;function Cs(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function ks(e){var n=Ee(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Ce(r,n);if(!a)return null;var s=me(),u=fs(),l=a.extensions,c=gs(r,l),f=ve(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},g={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},m=_t(r,l),y=Zt(r,u,n,x),b=Gi(r,l,m,u,y);function x(e){return b.destroyBuffer(e)}var w=an(r,l,y,u),_=Hi(r,s,u,n),S=Kr(r,l,m,(function(){k.procs.poll()}),p,u,n),E=li(r,l,m,u,n),C=Bi(r,l,m,S,E,u),k=cs(r,s,l,m,y,w,S,C,g,b,_,v,p,c,n),M=$i(r,C,k.procs.poll,p,i,l,m),I=k.next,T=r.canvas,A=[],N=[],D=[],P=[n.onDestroy],O=null;function L(){if(0===A.length)return c&&c.update(),void(O=null);O=ge.next(L),Y();for(var e=A.length-1;e>=0;--e){var t=A[e];t&&t(p,null,0)}r.flush(),c&&c.update()}function R(){!O&&A.length>0&&(O=ge.next(L))}function B(){O&&(ge.cancel(L),O=null)}function z(e){e.preventDefault(),o=!0,B(),N.forEach((function(e){e()}))}function F(e){r.getError(),o=!1,a.restore(),_.restore(),y.restore(),S.restore(),E.restore(),C.restore(),b.restore(),c&&c.restore(),k.procs.refresh(),R(),D.forEach((function(e){e()}))}function j(){A.length=0,B(),T&&(T.removeEventListener(xs,z),T.removeEventListener(ws,F)),_.clear(),C.clear(),E.clear(),S.clear(),w.clear(),y.clear(),b.clear(),c&&c.clear(),P.forEach((function(e){e()}))}function G(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(pe.isDynamic(o))r[i]=pe.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pe.isDynamic(o[a]))return void(r[i]=pe.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=k.compile(u,s,a,i,l),f=c.draw,d=c.batch,h=c.scope,p=[];function g(e){for(;p.length<e;)p.push(null);return p}function v(e,t){var n;if(o&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,g(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(v,{stats:l,destroy:function(){c.destroy()}})}T&&(T.addEventListener(xs,z,!1),T.addEventListener(ws,F,!1));var V=C.setFBO=G({framebuffer:pe.define.call(null,_s,"framebuffer")});function U(e,t){var n=0;k.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=vs),"depth"in t&&(r.clearDepth(+t.depth),n|=ms),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=ys),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function W(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)V(t({framebuffer:e.framebuffer.faces[n]},e),U);else V(e,U);else U(null,e)}function Z(e){function t(){var t=Cs(A,e);function n(){var e=Cs(A,n);A[e]=A[A.length-1],A.length-=1,A.length<=0&&B()}ne(t>=0,"cannot cancel a frame twice"),A[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),A.push(e),R(),{cancel:t}}function H(){var e=I.viewport,t=I.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function Y(){p.tick+=1,p.time=K(),H(),k.procs.poll()}function X(){S.refresh(),H(),k.procs.refresh(),c&&c.update()}function K(){return(ve()-f)/1e3}function q(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return Z(t);case"lost":n=N;break;case"restore":n=D;break;case"destroy":n=P;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}X();var $=t(G,{clear:W,prop:pe.define.bind(null,_s),context:pe.define.bind(null,Ss),this:pe.define.bind(null,Es),draw:G({}),buffer:function(e){return y.create(e,bs,!1,!1)},elements:function(e){return w.create(e,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:E.create,framebuffer:C.create,framebufferCube:C.createCube,vao:b.createVAO,attributes:i,frame:Z,on:q,limits:m,hasExtension:function(e){return m.extensions.indexOf(e.toLowerCase())>=0},read:M,destroy:j,_gl:r,_refresh:X,poll:function(){Y(),c&&c.update()},now:K,stats:u});return n.onDone(null,$),$}return ks}()},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?w.postMessage(null):(g=!1,v=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,w.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],M=[],I=1,T=null,A=3,N=!1,D=!1,P=!1;function O(e){for(var t=S(M);null!==t;){if(null===t.callback)E(M);else{if(!(t.startTime<=e))break;E(M),t.sortIndex=t.expirationTime,_(k,t)}t=S(M)}}function L(e){if(P=!1,O(e),!D)if(null!==S(k))D=!0,n(R);else{var t=S(M);null!==t&&r(L,t.startTime-e)}}function R(e,n){D=!1,P&&(P=!1,i()),N=!0;var o=A;try{for(O(n),T=S(k);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"===typeof a){T.callback=null,A=T.priorityLevel;var s=a(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?T.callback=s:T===S(k)&&E(k),O(n)}else E(k);T=S(k)}if(null!==T)var u=!0;else{var l=S(M);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{T=null,A=o,N=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||N||(D=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(M,e),null===S(k)&&e===S(M)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=u,_(k,e),D||N||(D=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},5114:function(e,t,n){"use strict";var r=n(423),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},423:function(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},7045:function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=j.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=j.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=j.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=j.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=j.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=j.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=j.hex8.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=j.hex6.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:n?"name":"hex"};if(t=j.hex4.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=j.hex3.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(h=e.r,p=e.g,g=e.b,t={r:255*P(h,255),g:255*P(p,255),b:255*P(g,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=B(e.s),s=B(e.v),t=function(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),f=!0,d="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=B(e.s),u=B(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,g;return n=D(n),{ok:f,format:e.format||d,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[R(u(e).toString(16)),R(u(t).toString(16)),R(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[R(z(r)),R(u(e).toString(16)),R(u(t).toString(16)),R(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=O(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=O(n.s),d(n)}function b(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=O(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=O(n.l),d(n)}function S(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function E(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function T(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[R(u(e).toString(16)),R(u(t).toString(16)),R(u(n).toString(16)),R(z(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*P(this._r,255))+"%",g:u(100*P(this._g,255))+"%",b:u(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%)":"rgba("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=d.readability(e,t[l]))>u&&(u=r,s=d(t[l]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O(e){return l(1,c(0,e))}function L(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function z(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return L(e)/255}var j=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!j.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return l},__awaiter:function(){return c},__generator:function(){return f},__createBinding:function(){return d},__exportStar:function(){return h},__values:function(){return p},__read:function(){return g},__spread:function(){return v},__spreadArrays:function(){return m},__spreadArray:function(){return y},__await:function(){return b},__asyncGenerator:function(){return x},__asyncDelegator:function(){return w},__asyncValues:function(){return _},__makeTemplateObject:function(){return S},__importStar:function(){return C},__importDefault:function(){return k},__classPrivateFieldGet:function(){return M},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return E(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},2480:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4062:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);var i=n(2963);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,i.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f055211e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="demo:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkdemo=self.webpackChunkdemo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{Arc:function(){return HA},BezierCurve:function(){return UA},BoundingRect:function(){return ix},Circle:function(){return oA},CompoundPath:function(){return XA},Ellipse:function(){return uA},Group:function(){return Mx},Image:function(){return mS},IncrementalDisplayable:function(){return uN},Line:function(){return zA},LinearGradient:function(){return $A},OrientedBoundingRect:function(){return oN},Path:function(){return cS},Point:function(){return Xb},Polygon:function(){return NA},Polyline:function(){return OA},RadialGradient:function(){return JA},Rect:function(){return CS},Ring:function(){return MA},Sector:function(){return EA},Text:function(){return GS},applyTransform:function(){return kN},clipPointsByRect:function(){return AN},clipRectByRect:function(){return NN},createIcon:function(){return DN},extendPath:function(){return pN},extendShape:function(){return dN},getShapeClass:function(){return vN},getTransform:function(){return CN},groupTransition:function(){return TN},initProps:function(){return HE},isElementRemoved:function(){return YE},lineLineIntersect:function(){return ON},linePolygonIntersect:function(){return PN},makeImage:function(){return yN},makePath:function(){return mN},mergePath:function(){return xN},registerShape:function(){return gN},removeElement:function(){return XE},removeElementWithFadeOut:function(){return qE},resizePath:function(){return wN},setTooltipConfig:function(){return RN},subPixelOptimize:function(){return EN},subPixelOptimizeLine:function(){return _N},subPixelOptimizeRect:function(){return SN},transformDirection:function(){return MN},traverseElements:function(){return zN},updateProps:function(){return ZE}});var t={};n.r(t),n.d(t,{GADDI:function(){return yle},Stack:function(){return xle},breadthFirstSearch:function(){return lue},connectedComponent:function(){return fue},cosineSimilarity:function(){return Vue},default:function(){return _le},depthFirstSearch:function(){return mue},detectAllCycles:function(){return xue},detectAllDirectedCycle:function(){return bue},detectAllUndirectedCycle:function(){return yue},detectCycle:function(){return wue},detectDirectedCycle:function(){return wle},dijkstra:function(){return _ue},findAllPath:function(){return kue},findShortestPath:function(){return Cue},floydWarshall:function(){return Mue},getAdjMatrix:function(){return Jse},getDegree:function(){return hue},getInDegree:function(){return pue},getNeighbors:function(){return aue},getOutDegree:function(){return gue},iLouvain:function(){return zue},kCore:function(){return Fue},kMeans:function(){return Gue},labelPropagation:function(){return Iue},louvain:function(){return Bue},minimumSpanningTree:function(){return $ue},nodesCosineSimilarity:function(){return Uue},pageRank:function(){return Que}});var r={};n.r(r),n.d(r,{Line:function(){return rce},applyMatrix:function(){return Gle},compare:function(){return Lle},distance:function(){return Wle},floydWarshall:function(){return Hle},fractionToLine:function(){return sce},getAdjMatrix:function(){return Yle},getBBoxBoundLine:function(){return ice},getCircleCenterByPoints:function(){return Ule},getCircleIntersectByPoint:function(){return Fle},getDegree:function(){return Qle},getEllipseIntersectByPoint:function(){return jle},getLineIntersect:function(){return Ble},getPointsCenter:function(){return uce},getRectIntersectByPoint:function(){return zle},intersectBBox:function(){return tce},invertMatrix:function(){return Vle},isPointInPolygon:function(){return ece},isPointsOverlap:function(){return fce},isPolygonsIntersect:function(){return nce},itemIntersectByLine:function(){return ace},lerp:function(){return pce},move:function(){return Kle},pointLineDistance:function(){return hce},pointLineSquareDist:function(){return cce},pointRectSquareDist:function(){return dce},rotate:function(){return $le},scale:function(){return qle},scaleMatrix:function(){return Zle},squareDist:function(){return lce},translate:function(){return Xle}});var i={};n.r(i),n.d(i,{cloneBesidesImg:function(){return Wce},getBBox:function(){return Nce},getComboBBox:function(){return Vce},getLabelPosition:function(){return Pce},getLetterWidth:function(){return zce},getLoopCfgs:function(){return Dce},getTextSize:function(){return Fce},plainCombosToTrees:function(){return jce},reconstructTree:function(){return Gce},shouldRefreshEdge:function(){return Uce},traverseTree:function(){return Rce},traverseTreeUp:function(){return Bce}});var o={};n.r(o),n.d(o,{catmullRomToBezier:function(){return Qce},fillPath:function(){return xfe},fillPathByDiff:function(){return Sfe},formatPath:function(){return kfe},intersection:function(){return mfe},parsePathArray:function(){return afe},parsePathString:function(){return $ce},pathToAbsolute:function(){return efe},pathToCurve:function(){return ife},rectPath:function(){return dfe}});var a={};n.r(a),n.d(a,{easeBack:function(){return Ohe},easeBackIn:function(){return Dhe},easeBackInOut:function(){return Ohe},easeBackOut:function(){return Phe},easeBounce:function(){return The},easeBounceIn:function(){return Ihe},easeBounceInOut:function(){return Ahe},easeBounceOut:function(){return The},easeCircle:function(){return Che},easeCircleIn:function(){return She},easeCircleInOut:function(){return Che},easeCircleOut:function(){return Ehe},easeCubic:function(){return che},easeCubicIn:function(){return uhe},easeCubicInOut:function(){return che},easeCubicOut:function(){return lhe},easeElastic:function(){return Bhe},easeElasticIn:function(){return Rhe},easeElasticInOut:function(){return zhe},easeElasticOut:function(){return Bhe},easeExp:function(){return _he},easeExpIn:function(){return xhe},easeExpInOut:function(){return _he},easeExpOut:function(){return whe},easeLinear:function(){return ihe},easePoly:function(){return hhe},easePolyIn:function(){return fhe},easePolyInOut:function(){return hhe},easePolyOut:function(){return dhe},easeQuad:function(){return she},easeQuadIn:function(){return ohe},easeQuadInOut:function(){return she},easeQuadOut:function(){return ahe},easeSin:function(){return yhe},easeSinIn:function(){return vhe},easeSinInOut:function(){return yhe},easeSinOut:function(){return mhe}});var s={};n.r(s),n.d(s,{calculationItemsBBox:function(){return lge},cloneEvent:function(){return age},formatPadding:function(){return oge},isNaN:function(){return uge},isViewportChanged:function(){return sge},processParallelEdges:function(){return cge},uniqueId:function(){return ige}});var u={};n.r(u),n.d(u,{getClosedSpline:function(){return ove},getControlPoint:function(){return nve},getSpline:function(){return tve},paddedHull:function(){return cve},pathToPoints:function(){return ive},pointsToPolygon:function(){return rve},roundedHull:function(){return lve}});var l={};n.r(l),n.d(l,{defaultSubjectColors:function(){return Wve}});var c={};n.r(c),n.d(c,{Base:function(){return jme},Circle:function(){return Vme},Ellipse:function(){return Zme},Image:function(){return Xme},Line:function(){return $me},Marker:function(){return eye},Path:function(){return cye},Polygon:function(){return hye},Polyline:function(){return gye},Rect:function(){return mye},Text:function(){return bye}});var f={};n.r(f),n.d(f,{Base:function(){return Bye},Circle:function(){return Fye},Dom:function(){return Gye},Ellipse:function(){return Uye},Image:function(){return Zye},Line:function(){return Yye},Marker:function(){return $ye},Path:function(){return Jye},Polygon:function(){return tbe},Polyline:function(){return rbe},Rect:function(){return obe},Text:function(){return cbe}});var d={};n.r(d),n.d(d,{getColorSetsBySubjectColors:function(){return Hbe},getColorsWithSubjectColor:function(){return Zbe},mixColor:function(){return Wbe}});var h={};n.r(h),n.d(h,{arrayToTextureData:function(){return cxe},attributesToTextureData:function(){return lxe},buildTextureData:function(){return axe},buildTextureDataWithOneEdgeAttr:function(){return sxe},buildTextureDataWithTwoEdgeAttr:function(){return uxe},proccessToFunc:function(){return oxe},radialLayout:function(){return fxe}});var p={};n.r(p),n.d(p,{gpuDetector:function(){return dxe}});var g={};n.r(g),n.d(g,{assign:function(){return Fwe},default:function(){return o_e},defaultI18n:function(){return Uwe},format:function(){return r_e},parse:function(){return i_e},setGlobalDateI18n:function(){return Zwe},setGlobalDateMasks:function(){return n_e}});var v,m=n(4164),y=n(9439),b=n(2791);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(v||(v={}));var w=function(e){return e};var _="beforeunload",S="popstate";function E(e){e.preventDefault(),e.returnValue=""}function C(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function k(){return Math.random().toString(36).substr(2,8)}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function T(e,t){if(!e)throw new Error(t)}var A=(0,b.createContext)(null);var N=(0,b.createContext)(null);var D=(0,b.createContext)({outlet:null,matches:[]});function P(e){return function(e){var t=(0,b.useContext)(D).outlet;if(t)return(0,b.createElement)(B.Provider,{value:e},t);return t}(e.context)}function O(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,o=e.location,a=e.navigationType,s=void 0===a?v.Pop:a,u=e.navigator,l=e.static,c=void 0!==l&&l;L()&&T(!1);var f=X(n),d=(0,b.useMemo)((function(){return{basename:f,navigator:u,static:c}}),[f,u,c]);"string"===typeof o&&(o=I(o));var h=o,p=h.pathname,g=void 0===p?"/":p,m=h.search,y=void 0===m?"":m,x=h.hash,w=void 0===x?"":x,_=h.state,S=void 0===_?null:_,E=h.key,C=void 0===E?"default":E,k=(0,b.useMemo)((function(){var e=H(g,f);return null==e?null:{pathname:e,search:y,hash:w,state:S,key:C}}),[f,g,y,w,S,C]);return null==k?null:(0,b.createElement)(A.Provider,{value:d},(0,b.createElement)(N.Provider,{children:i,value:{location:k,navigationType:s}}))}function L(){return null!=(0,b.useContext)(N)}function R(){return L()||T(!1),(0,b.useContext)(N).location}var B=(0,b.createContext)(null);function z(e,t){L()||T(!1);var n,r=(0,b.useContext)(D).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/"),s=(i&&i.route,R());if(t){var u,l="string"===typeof t?I(t):t;"/"===a||(null==(u=l.pathname)?void 0:u.startsWith(a))||T(!1),n=l}else n=s;var c=n.pathname||"/",f=function(e,t,n){void 0===n&&(n="/");var r=H(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=U(i[a],r);return o}(e,{pathname:"/"===a?c:c.slice(a.length)||"/"});return W(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Y([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:Y([a,e.pathnameBase])})})),r)}function F(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||T(!1),o.relativePath=o.relativePath.slice(r.length));var a=Y([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&T(!1),F(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:V(a,e.index),routesMeta:s})})),t}var j=/^:\w+$/,G=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function U(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Z({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;o.push({params:r,pathname:Y([i,c.pathname]),pathnameBase:Y([i,c.pathnameBase]),route:f}),"/"!==c.pathnameBase&&(i=Y([i,c.pathnameBase]))}return o}function W(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,b.createElement)(D.Provider,{children:void 0!==r.route.element?r.route.element:(0,b.createElement)(P,null),value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,y.Z)(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Y=function(e){return e.join("/").replace(/\/\/+/g,"/")},X=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},K=n(5671),q=n(3144),$=n(136),Q=n(4062),J=n(184),ee=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){return(0,J.jsx)("div",{children:"404\uff08\u672a\u627e\u5230\u9875\u9762\u4fe1\u606f\uff09"})}}]),n}(b.Component),te=ee,ne=n(3433),re=n(4942),ie=n(1694),oe=n.n(ie),ae={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},se={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},ue={lang:x({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:x({},se)},le="${label} is not a valid ${type}",ce={locale:"en",Pagination:ae,DatePicker:ue,TimePicker:se,Calendar:ue,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:le,method:le,array:le,object:le,number:le,date:le,boolean:le,integer:le,float:le,regexp:le,email:le,url:le,hex:le},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},fe=ce,de=(0,b.createContext)(void 0),he=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||fe[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return x(x({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?fe.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(b.Component);he.defaultProps={componentName:"global"},he.contextType=de;var pe=function(){var e=(0,b.useContext(_e).getPrefixCls)("empty-img-default");return b.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},b.createElement("g",{fill:"none",fillRule:"evenodd"},b.createElement("g",{transform:"translate(24 31.67)"},b.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),b.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),b.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),b.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),b.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),b.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),b.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},b.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),b.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ge=function(){var e=(0,b.useContext(_e).getPrefixCls)("empty-img-simple");return b.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},b.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},b.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),b.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},b.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),b.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},me=b.createElement(pe,null),ye=b.createElement(ge,null),be=function(e){var t=e.className,n=e.prefixCls,r=e.image,i=void 0===r?me:r,o=e.description,a=e.children,s=e.imageStyle,u=ve(e,["className","prefixCls","image","description","children","imageStyle"]),l=b.useContext(_e),c=l.getPrefixCls,f=l.direction;return b.createElement(he,{componentName:"Empty"},(function(e){var r,l=c("empty",n),d="undefined"!==typeof o?o:e.description,h="string"===typeof d?d:"empty",p=null;return p="string"===typeof i?b.createElement("img",{alt:h,src:i}):i,b.createElement("div",x({className:oe()(l,(r={},(0,re.Z)(r,"".concat(l,"-normal"),i===ye),(0,re.Z)(r,"".concat(l,"-rtl"),"rtl"===f),r),t)},u),b.createElement("div",{className:"".concat(l,"-image"),style:s},p),d&&b.createElement("div",{className:"".concat(l,"-description")},d),a&&b.createElement("div",{className:"".concat(l,"-footer")},a))}))};be.PRESENTED_IMAGE_DEFAULT=me,be.PRESENTED_IMAGE_SIMPLE=ye;var xe=be,we=function(e){return b.createElement(Se,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return b.createElement(xe,{image:xe.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return b.createElement(xe,{image:xe.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return b.createElement(xe,null)}}))},_e=b.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:we}),Se=_e.Consumer;var Ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ce=b.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function ke(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var i=function(r){var i=b.useContext(_e).getPrefixCls,o=r.prefixCls,a=i(t,o);return b.createElement(e,x({prefixCls:a,tagName:n},r))};return i.displayName=r,i}}var Me=function(e){var t=e.prefixCls,n=e.className,r=e.children,i=e.tagName,o=Ee(e,["prefixCls","className","children","tagName"]),a=oe()(t,n);return b.createElement(i,x({className:a},o),r)},Ie=ke({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t,n=b.useContext(_e).direction,r=b.useState([]),i=(0,y.Z)(r,2),o=i[0],a=i[1],s=e.prefixCls,u=e.className,l=e.children,c=e.hasSider,f=e.tagName,d=Ee(e,["prefixCls","className","children","hasSider","tagName"]),h=oe()(s,(t={},(0,re.Z)(t,"".concat(s,"-has-sider"),"boolean"===typeof c?c:o.length>0),(0,re.Z)(t,"".concat(s,"-rtl"),"rtl"===n),t),u),p=b.useMemo((function(){return{siderHook:{addSider:function(e){a((function(t){return[].concat((0,ne.Z)(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return b.createElement(Ce.Provider,{value:p},b.createElement(f,x({className:h},d),l))})),Te=ke({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(Me),Ae=ke({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(Me),Ne=ke({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(Me),De=Ie;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){var n=Oe({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var Re={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function Be(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ze(e,t){if(null==e)return{};var n,r,i=Be(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe=(0,b.createContext)({}),je=n(1002);function Ge(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Ve(e){return Math.min(1,Math.max(0,e))}function Ue(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function We(e){return e<=1?100*Number(e)+"%":e}function Ze(e){return 1===e.length?"0"+e:String(e)}function He(e,t,n){e=Ge(e,255),t=Ge(t,255),n=Ge(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function Ye(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Xe(e,t,n){e=Ge(e,255),t=Ge(t,255),n=Ge(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function Ke(e,t,n,r){var i=[Ze(Math.round(e).toString(16)),Ze(Math.round(t).toString(16)),Ze(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function qe(e){return Math.round(255*parseFloat(e)).toString(16)}function $e(e){return Qe(e)/255}function Qe(e){return parseInt(e,16)}var Je={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function et(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Je[e])e=Je[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=it.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=it.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=it.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=it.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=it.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=it.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=it.hex8.exec(e))return{r:Qe(n[1]),g:Qe(n[2]),b:Qe(n[3]),a:$e(n[4]),format:t?"name":"hex8"};if(n=it.hex6.exec(e))return{r:Qe(n[1]),g:Qe(n[2]),b:Qe(n[3]),format:t?"name":"hex"};if(n=it.hex4.exec(e))return{r:Qe(n[1]+n[1]),g:Qe(n[2]+n[2]),b:Qe(n[3]+n[3]),a:$e(n[4]+n[4]),format:t?"name":"hex8"};if(n=it.hex3.exec(e))return{r:Qe(n[1]+n[1]),g:Qe(n[2]+n[2]),b:Qe(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(ot(e.r)&&ot(e.g)&&ot(e.b)?(t=function(e,t,n){return{r:255*Ge(e,255),g:255*Ge(t,255),b:255*Ge(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):ot(e.h)&&ot(e.s)&&ot(e.v)?(r=We(e.s),i=We(e.v),t=function(e,t,n){e=6*Ge(e,360),t=Ge(t,100),n=Ge(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):ot(e.h)&&ot(e.s)&&ot(e.l)&&(r=We(e.s),o=We(e.l),t=function(e,t,n){var r,i,o;if(e=Ge(e,360),t=Ge(t,100),n=Ge(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=Ye(s,a,e+1/3),i=Ye(s,a,e),o=Ye(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Ue(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var tt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",nt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",rt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",it={CSS_UNIT:new RegExp(tt),rgb:new RegExp("rgb"+nt),rgba:new RegExp("rgba"+rt),hsl:new RegExp("hsl"+nt),hsla:new RegExp("hsla"+rt),hsv:new RegExp("hsv"+nt),hsva:new RegExp("hsva"+rt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ot(e){return Boolean(it.CSS_UNIT.exec(String(e)))}var at=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function st(e){var t=Xe(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function ut(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Ke(t,n,r,!1))}function lt(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function ct(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function ft(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function dt(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function ht(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=et(e),i=5;i>0;i-=1){var o=st(r),a=ut(et({h:ct(o,i,!0),s:ft(o,i,!0),v:dt(o,i,!0)}));n.push(a)}n.push(ut(r));for(var s=1;s<=4;s+=1){var u=st(r),l=ut(et({h:ct(u,s),s:ft(u,s),v:dt(u,s)}));n.push(l)}return"dark"===t.theme?at.map((function(e){var r=e.index,i=e.opacity;return ut(lt(et(t.backgroundColor||"#141414"),et(n[r]),100*i))})):n}var pt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},gt={},vt={};Object.keys(pt).forEach((function(e){gt[e]=ht(pt[e]),gt[e].primary=gt[e][5],vt[e]=ht(pt[e],{theme:"dark",backgroundColor:"#141414"}),vt[e].primary=vt[e][5]}));gt.red,gt.volcano,gt.gold,gt.orange,gt.yellow,gt.lime,gt.green,gt.cyan,gt.blue,gt.geekblue,gt.purple,gt.magenta,gt.grey;var mt={};function yt(e,t){0}function bt(e,t){0}function xt(e,t,n){t||mt[n]||(e(!1,n),mt[n]=!0)}function wt(e,t){xt(bt,e,t)}var _t=function(e,t){xt(yt,e,t)};function St(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Et="rc-util-key";function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Et}function kt(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Mt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!St())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=kt(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var It=new Map;function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=kt(t);return Array.from(It.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Ct(t))===e}))}function At(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=kt(n);if(!It.has(r)){var i=Mt("",n),o=i.parentNode;It.set(r,o),o.removeChild(i)}var a=Tt(t,n);if(a){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var c=Mt(e,n);return c.setAttribute(Ct(n),t),c}function Nt(e){return"object"===(0,je.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,je.Z)(e.icon)||"function"===typeof e.icon)}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Pt(e,t,n){return n?b.createElement(e.tag,Oe(Oe({key:t},Dt(e.attrs)),n),(e.children||[]).map((function(n,r){return Pt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):b.createElement(e.tag,Oe({key:t},Dt(e.attrs)),(e.children||[]).map((function(n,r){return Pt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Ot(e){return ht(e)[0]}function Lt(e){return e?Array.isArray(e)?e:[e]:[]}var Rt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Bt=["icon","className","onClick","style","primaryColor","secondaryColor"],zt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ft=function(e){var t=e.icon,n=e.className,r=e.onClick,i=e.style,o=e.primaryColor,a=e.secondaryColor,s=ze(e,Bt),u=zt;if(o&&(u={primaryColor:o,secondaryColor:a||Ot(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=(0,b.useContext)(Fe).csp;(0,b.useEffect)((function(){At(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){_t(e,"[@ant-design/icons] ".concat(t))}(Nt(t),"icon should be icon definiton, but got ".concat(t)),!Nt(t))return null;var l=t;return l&&"function"===typeof l.icon&&(l=Oe(Oe({},l),{},{icon:l.icon(u.primaryColor,u.secondaryColor)})),Pt(l.icon,"svg-".concat(l.name),Oe({className:n,onClick:r,style:i,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};Ft.displayName="IconReact",Ft.getTwoToneColors=function(){return Oe({},zt)},Ft.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;zt.primaryColor=t,zt.secondaryColor=n||Ot(t),zt.calculated=!!n};var jt=Ft;function Gt(e){var t=Lt(e),n=(0,y.Z)(t,2),r=n[0],i=n[1];return jt.setTwoToneColors({primaryColor:r,secondaryColor:i})}var Vt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Gt("#1890ff");var Ut=b.forwardRef((function(e,t){var n,r=e.className,i=e.icon,o=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,l=e.twoToneColor,c=ze(e,Vt),f=b.useContext(Fe).prefixCls,d=void 0===f?"anticon":f,h=oe()(d,(n={},(0,re.Z)(n,"".concat(d,"-").concat(i.name),!!i.name),(0,re.Z)(n,"".concat(d,"-spin"),!!o||"loading"===i.name),n),r),p=s;void 0===p&&u&&(p=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,v=Lt(l),m=(0,y.Z)(v,2),x=m[0],w=m[1];return b.createElement("span",Oe(Oe({role:"img","aria-label":i.name},c),{},{ref:t,tabIndex:p,onClick:u,className:h}),b.createElement(jt,{icon:i,primaryColor:x,secondaryColor:w,style:g}))}));Ut.displayName="AntdIcon",Ut.getTwoToneColor=function(){var e=jt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ut.setTwoToneColor=Gt;var Wt=Ut,Zt=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Re}))};Zt.displayName="BarsOutlined";var Ht=b.forwardRef(Zt),Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Xt=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Yt}))};Xt.displayName="RightOutlined";var Kt=b.forwardRef(Xt),qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},$t=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:qt}))};$t.displayName="LeftOutlined";var Qt=b.forwardRef($t),Jt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},en=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tn={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},nn=b.createContext({}),rn=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),on=b.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.trigger,o=e.children,a=e.defaultCollapsed,s=void 0!==a&&a,u=e.theme,l=void 0===u?"dark":u,c=e.style,f=void 0===c?{}:c,d=e.collapsible,h=void 0!==d&&d,p=e.reverseArrow,g=void 0!==p&&p,v=e.width,m=void 0===v?200:v,w=e.collapsedWidth,_=void 0===w?80:w,S=e.zeroWidthTriggerStyle,E=e.breakpoint,C=e.onCollapse,k=e.onBreakpoint,M=en(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),I=(0,b.useContext)(Ce).siderHook,T=(0,b.useState)("collapsed"in M?M.collapsed:s),A=(0,y.Z)(T,2),N=A[0],D=A[1],P=(0,b.useState)(!1),O=(0,y.Z)(P,2),L=O[0],R=O[1];(0,b.useEffect)((function(){"collapsed"in M&&D(M.collapsed)}),[M.collapsed]);var B=function(e,t){"collapsed"in M||D(e),null===C||void 0===C||C(e,t)},z=(0,b.useRef)();z.current=function(e){R(e.matches),null===k||void 0===k||k(e.matches),N!==e.matches&&B(e.matches,"responsive")},(0,b.useEffect)((function(){function e(e){return z.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&E&&E in tn){t=n("(max-width: ".concat(tn[E],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[E]),(0,b.useEffect)((function(){var e=rn("ant-sider-");return I.addSider(e),function(){return I.removeSider(e)}}),[]);var F=function(){B(!N,"clickTrigger")},j=(0,b.useContext)(_e).getPrefixCls,G=b.useMemo((function(){return{siderCollapsed:N}}),[N]);return b.createElement(nn.Provider,{value:G},function(){var e,a=j("layout-sider",n),s=Le(M,["collapsed"]),u=N?_:m,c=Jt(u)?"".concat(u,"px"):String(u),d=0===parseFloat(String(_||0))?b.createElement("span",{onClick:F,className:oe()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(g?"right":"left")),style:S},i||b.createElement(Ht,null)):null,p={expanded:g?b.createElement(Kt,null):b.createElement(Qt,null),collapsed:g?b.createElement(Qt,null):b.createElement(Kt,null)}[N?"collapsed":"expanded"],v=null!==i?d||b.createElement("div",{className:"".concat(a,"-trigger"),onClick:F,style:{width:c}},i||p):null,y=x(x({},f),{flex:"0 0 ".concat(c),maxWidth:c,minWidth:c,width:c}),w=oe()(a,"".concat(a,"-").concat(l),(e={},(0,re.Z)(e,"".concat(a,"-collapsed"),!!N),(0,re.Z)(e,"".concat(a,"-has-trigger"),h&&null!==i&&!d),(0,re.Z)(e,"".concat(a,"-below"),!!L),(0,re.Z)(e,"".concat(a,"-zero-width"),0===parseFloat(c)),e),r);return b.createElement("aside",x({className:w},s,{style:y,ref:t}),b.createElement("div",{className:"".concat(a,"-children")},o),h||L&&d?v:null)}())}));on.displayName="Sider";var an=on,sn=De;sn.Header=Te,sn.Footer=Ae,sn.Content=Ne,sn.Sider=an;var un,ln=sn,cn=(0,b.createContext)({}),fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},dn=["xxl","xl","lg","md","sm","xs"],hn={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},pn=new Map,gn=-1,vn={},mn={matchHandlers:{},dispatch:function(e){return vn=e,pn.forEach((function(e){return e(vn)})),pn.size>=1},subscribe:function(e){return pn.size||this.register(),gn+=1,pn.set(gn,e),e(vn),gn},unsubscribe:function(e){pn.delete(e),pn.size||this.unregister()},unregister:function(){var e=this;Object.keys(hn).forEach((function(t){var n=hn[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),pn.clear()},register:function(){var e=this;Object.keys(hn).forEach((function(t){var n=hn[t],r=function(n){var r=n.matches;e.dispatch(x(x({},vn),(0,re.Z)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},yn=mn,bn=function(){return St()&&window.document.documentElement},xn=function(){var e=b.useState(!1),t=(0,y.Z)(e,2),n=t[0],r=t[1];return b.useEffect((function(){r(function(){if(!bn())return!1;if(void 0!==un)return un;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),un=1===e.scrollHeight,document.body.removeChild(e),un}())}),[]),n},wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_n=(fn("top","middle","bottom","stretch"),fn("start","end","center","space-around","space-between"),b.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.justify,o=e.align,a=e.className,s=e.style,u=e.children,l=e.gutter,c=void 0===l?0:l,f=e.wrap,d=wn(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=b.useContext(_e),p=h.getPrefixCls,g=h.direction,v=b.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),m=(0,y.Z)(v,2),w=m[0],_=m[1],S=xn(),E=b.useRef(c);b.useEffect((function(){var e=yn.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===(0,je.Z)(t)||Array.isArray(t)&&("object"===(0,je.Z)(t[0])||"object"===(0,je.Z)(t[1])))&&_(e)}));return function(){return yn.unsubscribe(e)}}),[]);var C=p("row",r),k=function(){var e=[0,0];return(Array.isArray(c)?c:[c,0]).forEach((function(t,n){if("object"===(0,je.Z)(t))for(var r=0;r<dn.length;r++){var i=dn[r];if(w[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t||0})),e}(),M=oe()(C,(n={},(0,re.Z)(n,"".concat(C,"-no-wrap"),!1===f),(0,re.Z)(n,"".concat(C,"-").concat(i),i),(0,re.Z)(n,"".concat(C,"-").concat(o),o),(0,re.Z)(n,"".concat(C,"-rtl"),"rtl"===g),n),a),I={},T=k[0]>0?k[0]/-2:void 0,A=k[1]>0?k[1]/-2:void 0;if(T&&(I.marginLeft=T,I.marginRight=T),S){var N=(0,y.Z)(k,2);I.rowGap=N[1]}else A&&(I.marginTop=A,I.marginBottom=A);var D=(0,y.Z)(k,2),P=D[0],O=D[1],L=b.useMemo((function(){return{gutter:[P,O],wrap:f,supportFlexGap:S}}),[P,O,f,S]);return b.createElement(cn.Provider,{value:L},b.createElement("div",x({},d,{className:M,style:x(x({},I),s),ref:t}),u))})));_n.displayName="Row";var Sn=_n,En=Sn,Cn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var kn=["xs","sm","md","lg","xl","xxl"],Mn=b.forwardRef((function(e,t){var n,r=b.useContext(_e),i=r.getPrefixCls,o=r.direction,a=b.useContext(cn),s=a.gutter,u=a.wrap,l=a.supportFlexGap,c=e.prefixCls,f=e.span,d=e.order,h=e.offset,p=e.push,g=e.pull,v=e.className,m=e.children,y=e.flex,w=e.style,_=Cn(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),S=i("col",c),E={};kn.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===(0,je.Z)(i)&&(r=i||{}),delete _[t],E=x(x({},E),(n={},(0,re.Z)(n,"".concat(S,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,re.Z)(n,"".concat(S,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,re.Z)(n,"".concat(S,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,re.Z)(n,"".concat(S,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,re.Z)(n,"".concat(S,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,re.Z)(n,"".concat(S,"-rtl"),"rtl"===o),n))}));var C=oe()(S,(n={},(0,re.Z)(n,"".concat(S,"-").concat(f),void 0!==f),(0,re.Z)(n,"".concat(S,"-order-").concat(d),d),(0,re.Z)(n,"".concat(S,"-offset-").concat(h),h),(0,re.Z)(n,"".concat(S,"-push-").concat(p),p),(0,re.Z)(n,"".concat(S,"-pull-").concat(g),g),n),v,E),k={};if(s&&s[0]>0){var M=s[0]/2;k.paddingLeft=M,k.paddingRight=M}if(s&&s[1]>0&&!l){var I=s[1]/2;k.paddingTop=I,k.paddingBottom=I}return y&&(k.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(y),!1!==u||k.minWidth||(k.minWidth=0)),b.createElement("div",x({},_,{style:x(x({},k),w),className:C,ref:t}),m)}));Mn.displayName="Col";var In=Mn,Tn=In,An=n(7326),Nn=n(3873);function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return b.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Dn(e)):(0,Nn.isFragment)(e)&&e.props?n=n.concat(Dn(e.props.children,t)):n.push(e))})),n}var Pn="RC_FORM_INTERNAL_HOOKS",On=function(){_t(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ln=b.createContext({getFieldValue:On,getFieldsValue:On,getFieldError:On,getFieldWarning:On,getFieldsError:On,isFieldsTouched:On,isFieldTouched:On,isFieldValidating:On,isFieldsValidating:On,resetFields:On,setFields:On,setFieldsValue:On,validateFields:On,submit:On,getInternalHooks:function(){return On(),{dispatch:On,initEntityValue:On,registerField:On,useSubscribe:On,setInitialValues:On,setCallbacks:On,getFields:On,setValidateMessages:On,setPreserve:On,getInitialValue:On}}});function Rn(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var Bn=n(7757),zn=n.n(Bn),Fn=n(5861);function jn(){return jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Gn(e){return Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gn(e)}function Vn(e,t){return Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vn(e,t)}function Un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(li){return!1}}function Wn(e,t,n){return Wn=Un()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Vn(i,n.prototype),i},Wn.apply(null,arguments)}function Zn(e){var t="function"===typeof Map?new Map:void 0;return Zn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Wn(e,arguments,Gn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Vn(r,e)},Zn(e)}var Hn=/%[sdj%]/g;function Yn(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(Hn,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return a}return e}function Kn(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function qn(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var $n=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Vn(t,n),r}(Zn(Error));function Qn(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);qn(a,n,(function(e){return r(e),e.length?o(new $n(e,Yn(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,l=0,c=[],f=new Promise((function(t,o){var f=function(e){if(c.push.apply(c,e),++l===u)return r(c),c.length?o(new $n(c,Yn(c))):t(i)};s.length||(r(c),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?qn(r,n,f):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function Jn(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function er(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=jn({},e[n],r):e[n]=r}return e}var tr=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!Kn(t,o||e.type)||r.push(Xn(i.messages.required,e.fullField))},nr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},rr={integer:function(e){return rr.number(e)&&parseInt(e,10)===e},float:function(e){return rr.number(e)&&!rr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(li){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!rr.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(nr.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(nr.url)},hex:function(e){return"string"===typeof e&&!!e.match(nr.hex)}},ir={required:tr,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(Xn(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)tr(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?rr[o](t)||r.push(Xn(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(Xn(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,l=null,c="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(c?l="number":f?l="string":d&&(l="array"),!l)return!1;d&&(u=t.length),f&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(Xn(i.messages[l].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(Xn(i.messages[l].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(Xn(i.messages[l].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(Xn(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Xn(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Xn(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Xn(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},or=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t,o)&&!e.required)return n();ir.required(e,t,r,a,i,o),Kn(t,o)||ir.type(e,t,r,a,i)}n(a)},ar={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t,"string")&&!e.required)return n();ir.required(e,t,r,o,i,"string"),Kn(t,"string")||(ir.type(e,t,r,o,i),ir.range(e,t,r,o,i),ir.pattern(e,t,r,o,i),!0===e.whitespace&&ir.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&ir.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&(ir.type(e,t,r,o,i),ir.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&ir.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),Kn(t)||ir.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&(ir.type(e,t,r,o,i),ir.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&(ir.type(e,t,r,o,i),ir.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();ir.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(ir.type(e,t,r,o,i),ir.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&ir.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i),void 0!==t&&ir.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t,"string")&&!e.required)return n();ir.required(e,t,r,o,i),Kn(t,"string")||ir.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t,"date")&&!e.required)return n();var a;if(ir.required(e,t,r,o,i),!Kn(t,"date"))a=t instanceof Date?t:new Date(t),ir.type(e,a,r,o,i),a&&ir.range(e,a.getTime(),r,o,i)}n(o)},url:or,hex:or,email:or,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;ir.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Kn(t)&&!e.required)return n();ir.required(e,t,r,o,i)}n(o)}};function sr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ur=sr(),lr=function(){function e(e){this.rules=null,this._messages=ur,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=er(sr(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===ur&&(u=sr()),er(u,a.messages),a.messages=u}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=jn({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:jn({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),l[e]=l[e]||[],l[e].push({rule:a,value:r,source:o,field:e}))}))}));var c={};return Qn(l,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return jn({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!a.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==i.message&&(l=[].concat(i.message));var f=l.map(Jn(i,o));if(a.first&&f.length)return c[i.field]=1,n(f);if(s){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(Jn(i,o)):a.error&&(f=[a.error(i,Xn(a.messages.required,i.field))]),n(f);var d={};i.defaultField&&Object.keys(t.value).map((function(e){d[e]=i.defaultField})),d=jn({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(u.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator?r=i.asyncValidator(i,t.value,l,t.source,a):i.validator&&(!0===(r=i.validator(i,t.value,l,t.source,a))?l():!1===r?l("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)),r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=Yn(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!ar.hasOwnProperty(e.type))throw new Error(Xn("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?ar.required:ar[this.getType(e)]||void 0},e}();lr.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");ar[e]=t},lr.warning=function(){},lr.messages=ur,lr.validators=ar;var cr="'${name}' is not a valid ${type}",fr={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:cr,method:cr,array:cr,object:cr,number:cr,date:cr,boolean:cr,integer:cr,float:cr,regexp:cr,email:cr,url:cr,hex:cr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function dr(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var hr=n(3878),pr=n(9199),gr=n(181),vr=n(5267);function mr(e){return(0,hr.Z)(e)||(0,pr.Z)(e)||(0,gr.Z)(e)||(0,vr.Z)()}function yr(e,t,n,r){if(!t.length)return n;var i,o=mr(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?(0,ne.Z)(e):Oe({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=yr(i[a],s,n,r),i}function br(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!dr(e,t.slice(0,-1))?e:yr(e,t,n,r)}function xr(e){return Rn(e)}function wr(e,t){return dr(e,t)}function _r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=br(e,t,n,r);return i}function Sr(e,t){var n={};return t.forEach((function(t){var r=wr(e,t);n=_r(n,t,r)})),n}function Er(e,t){return e&&e.some((function(e){return Ir(e,t)}))}function Cr(e){return"object"===(0,je.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function kr(e,t){var n=Array.isArray(e)?(0,ne.Z)(e):Oe({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=Cr(r)&&Cr(i);n[e]=o?kr(r,i||{}):i})),n):n}function Mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return kr(e,t)}),e)}function Ir(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Tr(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,je.Z)(t.target)&&e in t.target?t.target[e]:t}function Ar(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat((0,ne.Z)(e.slice(0,n)),[i],(0,ne.Z)(e.slice(n,t)),(0,ne.Z)(e.slice(t+1,r))):o<0?[].concat((0,ne.Z)(e.slice(0,t)),(0,ne.Z)(e.slice(t+1,n+1)),[i],(0,ne.Z)(e.slice(n+1,r))):e}var Nr=lr;function Dr(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function Pr(e,t,n,r,i){return Or.apply(this,arguments)}function Or(){return Or=(0,Fn.Z)(zn().mark((function e(t,n,r,i,o){var a,s,u,l,c,f,d,h;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Oe({},r)).ruleIndex,s=null,a&&"array"===a.type&&a.defaultField&&(s=a.defaultField,delete a.defaultField),u=new Nr((0,re.Z)({},t,[a])),l=Mr({},fr,i.validateMessages),u.messages(l),c=[],e.prev=8,e.next=11,Promise.resolve(u.validate((0,re.Z)({},t,n),Oe({},i)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),e.t0.errors?c=e.t0.errors.map((function(e,t){var n=e.message;return b.isValidElement(n)?b.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),c=[l.default]);case 16:if(c.length||!s){e.next=21;break}return e.next=19,Promise.all(n.map((function(e,n){return Pr("".concat(t,".").concat(n),e,s,i,o)})));case 19:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat((0,ne.Z)(e),(0,ne.Z)(t))}),[]));case 21:return d=Oe(Oe({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),h=c.map((function(e){return"string"===typeof e?Dr(e,d):e})),e.abrupt("return",h);case 24:case"end":return e.stop()}}),e,null,[[8,13]])}))),Or.apply(this,arguments)}function Lr(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=Oe(Oe({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){_t(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,_t(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=(0,Fn.Z)(zn().mark((function e(n,i){var a,l,c;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return l=u[a],e.next=5,Pr(s,t,l,r,o);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:l}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=u.map((function(e){return Pr(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return Br.apply(this,arguments)}(l):function(e){return Rr.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function Rr(){return(Rr=(0,Fn.Z)(zn().mark((function e(t){return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,ne.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Br(){return Br=(0,Fn.Z)(zn().mark((function e(t){var n;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}var zr=["name"],Fr=[];function jr(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var Gr=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;((0,K.Z)(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=Fr,r.warnings=Fr,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,xr(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName,i=void 0===n?[]:n;return void 0!==t?[].concat((0,ne.Z)(i),(0,ne.Z)(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t(Oe(Oe({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,l=n.store,c=r.getNamePath(),f=r.getValue(e),d=r.getValue(l),h=t&&Er(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Fr,r.warnings=Fr,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=Fr,r.warnings=Fr,r.triggerMetaEvent(),null===u||void 0===u||u(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Fr),"warnings"in p&&(r.warnings=p.warnings||Fr),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!c.length&&jr(o,e,l,f,d,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(xr).some((function(e){return Er(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||c.length||o)&&jr(o,e,l,f,d,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,l=(e||{}).triggerName,c=r.getRules();l&&(c=c.filter((function(e){var t=e.validateTrigger;return!t||Rn(t).includes(l)})));var f=Lr(t,n,c,e,s,u);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;if(r.validatePromise===i){r.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,o=void 0===i?Fr:i;r?n.push.apply(n,(0,ne.Z)(o)):t.push.apply(t,(0,ne.Z)(o))})),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),f}));return r.validatePromise=i,r.dirty=!0,r.errors=Fr,r.warnings=Fr,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Pn).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return Oe(Oe({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Dn(e);return 1===n.length&&b.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return wr(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,l=t.fieldContext,c=void 0!==i?i:l.validateTrigger,f=r.getNamePath(),d=l.getInternalHooks,h=l.getFieldsValue,p=d(Pn),g=p.dispatch,v=r.getValue(),m=u||function(e){return(0,re.Z)({},s,e)},y=e[n],b=Oe(Oe({},e),m(v));b[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):Tr.apply(void 0,[s].concat(n)),a&&(e=a(e,v,h(!0))),g({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)};var x=Rn(c||[]);return x.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Pn).initEntityValue)((0,An.Z)(r));return r}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Pn).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:b.isValidElement(i)?e=b.cloneElement(i,this.getControlled(i.props)):(_t(!i,"`children` of Field is not validate ReactElement."),e=i),b.createElement(b.Fragment,{key:t},e)}}]),n}(b.Component);Gr.contextType=Ln,Gr.defaultProps={trigger:"onChange",valuePropName:"value"};var Vr=function(e){var t=e.name,n=ze(e,zr),r=b.useContext(Ln),i=void 0!==t?xr(t):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),b.createElement(Gr,x({key:o,name:i},n,{fieldContext:r}))},Ur=b.createContext(null),Wr=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,a=b.useContext(Ln),s=b.useRef({keys:[],id:0}).current,u=b.useMemo((function(){var e=xr(a.prefixName)||[];return[].concat((0,ne.Z)(e),(0,ne.Z)(xr(t)))}),[a.prefixName,t]),l=b.useMemo((function(){return Oe(Oe({},a),{},{prefixName:u})}),[a,u]),c=b.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof r)return _t(!1,"Form.List only accepts function as children."),null;return b.createElement(Ur.Provider,{value:c},b.createElement(Ln.Provider,{value:l},b.createElement(Vr,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,l=a.getFieldValue,c=function(){return l(u||[])||[]},f={add:function(e,t){var n=c();t>=0&&t<=n.length?(s.keys=[].concat((0,ne.Z)(s.keys.slice(0,t)),[s.id],(0,ne.Z)(s.keys.slice(t))),o([].concat((0,ne.Z)(n.slice(0,t)),[e],(0,ne.Z)(n.slice(t))))):(s.keys=[].concat((0,ne.Z)(s.keys),[s.id]),o([].concat((0,ne.Z)(n),[e]))),s.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(s.keys=Ar(s.keys,e,t),o(Ar(n,e,t)))}}},d=i||[];return Array.isArray(d)||(d=[]),r(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var Zr="__@field_split__";function Hr(e){return e.map((function(e){return"".concat((0,je.Z)(e),":").concat(e)})).join(Zr)}var Yr=function(){function e(){(0,K.Z)(this,e),this.kvs=new Map}return(0,q.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(Hr(e),t)}},{key:"get",value:function(e){return this.kvs.get(Hr(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Hr(e))}},{key:"map",value:function(e){return(0,ne.Z)(this.kvs.entries()).map((function(t){var n=(0,y.Z)(t,2),r=n[0],i=n[1],o=r.split(Zr);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,y.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Xr=Yr,Kr=["name","errors"],qr=(0,q.Z)((function e(t){var n=this;(0,K.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===Pn?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(_t(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=Mr({},e,n.store))},this.getInitialValue=function(e){return wr(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Xr;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=xr(e);return t.get(n)||{INVALIDATE_NAME_PATH:xr(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),Sr(n.store,i.map(xr))},this.getFieldValue=function(e){n.warningUnhooked();var t=xr(e);return wr(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:xr(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=xr(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=xr(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(xr),s=!1):(i=null,s=o):(i=o.map(xr),s=a);var u=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?u.every(l):u.some(l);var c=new Xr;i.forEach((function(e){c.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat((0,ne.Z)(t),[e])}))}))}));var f=function(e){return e.some(l)},d=c.map((function(e){return e.value}));return s?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(xr);return t.some((function(e){var t=e.getNamePath();return Er(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Xr,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))_t(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)_t(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||(n.store=_r(n.store,i,(0,ne.Z)(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,ne.Z)((0,ne.Z)(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=Mr({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(xr);r.forEach((function(e){var t=n.getInitialValue(e);n.store=_r(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,ze(e,Kr)),o=xr(r);"value"in i&&(n.store=_r(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Oe(Oe({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===wr(n.store,r)&&(n.store=_r(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:wr(n.initialValues,a);if(a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!Ir(e.getNamePath(),a)}))){var u=n.store;n.store=_r(u,a,s,!0),n.notifyObservers(u,[a],{type:"remove"}),n.triggerDependenciesUpdate(u,a)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Oe(Oe({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,ne.Z)(r))}),r},this.updateValue=function(e,t){var r=xr(e),i=n.store;n.store=_r(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(Sr(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,ne.Z)(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=Mr(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Xr;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=xr(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new Xr;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Er(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(xr):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||Er(i,u)){var l=a.validateRules(Oe({validateMessages:Oe(Oe({},fr),n.validateMessages)},t));o.push(l.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,(0,ne.Z)(i)):t.push.apply(t,(0,ne.Z)(i))})),t.length?Promise.reject({name:u,errors:t,warnings:n}):{name:u,errors:t,warnings:n}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var $r=function(e){var t=b.useRef(),n=b.useState({}),r=(0,y.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new qr((function(){r({})}));t.current=i.getForm()}return[t.current]},Qr=b.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Jr=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,o=b.useContext(Qr),a=b.useRef({});return b.createElement(Qr.Provider,{value:Oe(Oe({},o),{},{validateMessages:Oe(Oe({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=Oe(Oe({},a.current),{},(0,re.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Oe({},a.current);delete t[e],a.current=t,o.unregisterForm(e)}})},i)},ei=Qr,ti=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ni=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,o=e.form,a=e.preserve,s=e.children,u=e.component,l=void 0===u?"form":u,c=e.validateMessages,f=e.validateTrigger,d=void 0===f?"onChange":f,h=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,v=e.onFinishFailed,m=ze(e,ti),w=b.useContext(ei),_=$r(o),S=(0,y.Z)(_,1)[0],E=S.getInternalHooks(Pn),C=E.useSubscribe,k=E.setInitialValues,M=E.setCallbacks,I=E.setValidateMessages,T=E.setPreserve;b.useImperativeHandle(t,(function(){return S})),b.useEffect((function(){return w.registerForm(n,S),function(){w.unregisterForm(n)}}),[w,S,n]),I(Oe(Oe({},w.validateMessages),c)),M({onValuesChange:h,onFieldsChange:function(e){if(w.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:v}),T(a);var A=b.useRef(null);k(r,!A.current),A.current||(A.current=!0);var N=s,D="function"===typeof s;D&&(N=s(S.getFieldsValue(!0),S));C(!D);var P=b.useRef();b.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,je.Z)(e)||"object"!==(0,je.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,ne.Z)(n),(0,ne.Z)(r)));return(0,ne.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(P.current||[],i||[])||S.setFields(i||[]),P.current=i}),[i,S]);var O=b.useMemo((function(){return Oe(Oe({},S),{},{validateTrigger:d})}),[S,d]),L=b.createElement(Ln.Provider,{value:O},N);return!1===l?L:b.createElement(l,x({},m,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),S.submit()},onReset:function(e){var t;e.preventDefault(),S.resetFields(),null===(t=m.onReset)||void 0===t||t.call(m,e)}}),L)},ri=b.forwardRef(ni);ri.FormProvider=Jr,ri.Field=Vr,ri.List=Wr,ri.useForm=$r;var ii=ri,oi=b.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),ai=b.createContext(null),si=b.createContext({prefixCls:""});function ui(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function li(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function ci(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return li(n.overflowY,t)||li(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function fi(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function di(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!ui(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,c=[],f=e;ui(f)&&u(f);){if((f=f.parentElement)===l){c.push(f);break}null!=f&&f===document.body&&ci(f)&&!ci(document.documentElement)||null!=f&&ci(f,s)&&c.push(f)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),m=v.height,y=v.width,b=v.top,x=v.right,w=v.bottom,_=v.left,S="start"===i||"nearest"===i?b:"end"===i?w:b+m/2,E="center"===o?_+y/2:"end"===o?x:_,C=[],k=0;k<c.length;k++){var M=c[k],I=M.getBoundingClientRect(),T=I.height,A=I.width,N=I.top,D=I.right,P=I.bottom,O=I.left;if("if-needed"===r&&b>=0&&_>=0&&w<=h&&x<=d&&b>=N&&w<=P&&_>=O&&x<=D)return C;var L=getComputedStyle(M),R=parseInt(L.borderLeftWidth,10),B=parseInt(L.borderTopWidth,10),z=parseInt(L.borderRightWidth,10),F=parseInt(L.borderBottomWidth,10),j=0,G=0,V="offsetWidth"in M?M.offsetWidth-M.clientWidth-R-z:0,U="offsetHeight"in M?M.offsetHeight-M.clientHeight-B-F:0;if(l===M)j="start"===i?S:"end"===i?S-h:"nearest"===i?fi(g,g+h,h,B,F,g+S,g+S+m,m):S-h/2,G="start"===o?E:"center"===o?E-d/2:"end"===o?E-d:fi(p,p+d,d,R,z,p+E,p+E+y,y),j=Math.max(0,j+g),G=Math.max(0,G+p);else{j="start"===i?S-N-B:"end"===i?S-P+F+U:"nearest"===i?fi(N,P,T,B,F+U,S,S+m,m):S-(N+T/2)+U/2,G="start"===o?E-O-R:"center"===o?E-(O+A/2)+V/2:"end"===o?E-D+z+V:fi(O,D,A,R,z+V,E,E+y,y);var W=M.scrollLeft,Z=M.scrollTop;S+=Z-(j=Math.max(0,Math.min(Z+j,M.scrollHeight-T+U))),E+=W-(G=Math.max(0,Math.min(W+G,M.scrollWidth-A+V)))}C.push({el:M,top:j,left:G})}return C}function hi(e){return e===Object(e)&&0!==Object.keys(e).length}var pi=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(hi(t)&&"function"===typeof t.behavior)return t.behavior(n?di(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:hi(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(di(e,r),r.behavior)}},gi=["parentNode"];function vi(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function mi(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):gi.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function yi(e){return vi(e).join("_")}function bi(e){var t=$r(),n=(0,y.Z)(t,1)[0],r=b.useRef({}),i=b.useMemo((function(){return null!==e&&void 0!==e?e:x(x({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=yi(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=vi(e),r=mi(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&pi(o,x({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=yi(e);return r.current[t]}})}),[e,n]);return[i]}var xi=b.createContext(void 0),wi=function(e){var t=e.children,n=e.size;return b.createElement(xi.Consumer,null,(function(e){return b.createElement(xi.Provider,{value:n||e},t)}))},_i=xi,Si=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ei=function(e,t){var n,r=b.useContext(_i),i=b.useContext(_e),o=i.getPrefixCls,a=i.direction,s=i.form,u=e.prefixCls,l=e.className,c=void 0===l?"":l,f=e.size,d=void 0===f?r:f,h=e.form,p=e.colon,g=e.labelAlign,v=e.labelWrap,m=e.labelCol,w=e.wrapperCol,_=e.hideRequiredMark,S=e.layout,E=void 0===S?"horizontal":S,C=e.scrollToFirstError,k=e.requiredMark,M=e.onFinishFailed,I=e.name,T=Si(e,["prefixCls","className","size","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),A=(0,b.useMemo)((function(){return void 0!==k?k:s&&void 0!==s.requiredMark?s.requiredMark:!_}),[_,k,s]),N=null!==p&&void 0!==p?p:null===s||void 0===s?void 0:s.colon,D=o("form",u),P=oe()(D,(n={},(0,re.Z)(n,"".concat(D,"-").concat(E),!0),(0,re.Z)(n,"".concat(D,"-hide-required-mark"),!1===A),(0,re.Z)(n,"".concat(D,"-rtl"),"rtl"===a),(0,re.Z)(n,"".concat(D,"-").concat(d),d),n),c),O=bi(h),L=(0,y.Z)(O,1)[0],R=L.__INTERNAL__;R.name=I;var B=(0,b.useMemo)((function(){return{name:I,labelAlign:g,labelCol:m,labelWrap:v,wrapperCol:w,vertical:"vertical"===E,colon:N,requiredMark:A,itemRef:R.itemRef}}),[I,g,m,w,E,N,A]);b.useImperativeHandle(t,(function(){return L}));return b.createElement(wi,{size:d},b.createElement(oi.Provider,{value:B},b.createElement(ii,x({id:I},T,{name:I,onFinishFailed:function(e){null===M||void 0===M||M(e);var t={block:"nearest"};C&&e.errorFields.length&&("object"===(0,je.Z)(C)&&(t=C),L.scrollToField(e.errorFields[0].name,t))},form:L,className:P}))))},Ci=b.forwardRef(Ei);function ki(e,t,n){var r=b.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}function Mi(e,t){"function"===typeof e?e(t):"object"===(0,je.Z)(e)&&e&&"current"in e&&(e.current=t)}function Ii(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Mi(t,e)}))}}function Ti(e){var t,n,r=(0,Nn.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var Ai=function(e,t,n){_t(e,"[antd: ".concat(t,"] ").concat(n))},Ni={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Di=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Ni}))};Di.displayName="QuestionCircleOutlined";var Pi=b.forwardRef(Di),Oi=function(e){return+setTimeout(e,16)},Li=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Oi=function(e){return window.requestAnimationFrame(e)},Li=function(e){return window.cancelAnimationFrame(e)});var Ri=0,Bi=new Map;function zi(e){Bi.delete(e)}function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Ri+=1;function r(t){if(0===t)zi(n),e();else{var i=Oi((function(){r(t-1)}));Bi.set(n,i)}}return r(t),n}function ji(e,t){return!!e&&e.contains(t)}function Gi(e){return e instanceof HTMLElement?e:m.findDOMNode(e)}function Vi(e,t,n,r){var i=m.unstable_batchedUpdates?function(e){m.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}Fi.cancel=function(e){var t=Bi.get(e);return zi(t),Li(t)};var Ui=(0,b.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,o=(0,b.useRef)();(0,b.useImperativeHandle)(t,(function(){return{}}));var a=(0,b.useRef)(!1);return!a.current&&St()&&(o.current=r(),a.current=!0),(0,b.useEffect)((function(){null===n||void 0===n||n(e)})),(0,b.useEffect)((function(){return function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?m.createPortal(i,o.current):null})),Wi=Ui;function Zi(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var Hi=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function Yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Xi=function(e,t){var n={animationend:Yi("Animation","AnimationEnd"),transitionend:Yi("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(St(),"undefined"!==typeof window?window:{}),Ki={};if(St()){var qi=document.createElement("div");Ki=qi.style}var $i={};function Qi(e){if($i[e])return $i[e];var t=Xi[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Ki)return $i[e]=t[o],$i[e]}return""}var Ji=Qi("animationend"),eo=Qi("transitionend"),to=!(!Ji||!eo),no=Ji||"animationend",ro=eo||"transitionend";function io(e,t){if(!e)return null;if("object"===(0,je.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var oo="none",ao="appear",so="enter",uo="leave",lo="none",co="prepare",fo="start",ho="active",po="end";function go(e){var t=(0,b.useRef)(!1),n=(0,b.useState)(e),r=(0,y.Z)(n,2),i=r[0],o=r[1];return(0,b.useEffect)((function(){return function(){t.current=!0}}),[]),[i,function(e){t.current||o(e)}]}var vo=St()?b.useLayoutEffect:b.useEffect,mo=[co,fo,ho,po];function yo(e){return e===ho||e===po}var bo=function(e,t){var n=go(lo),r=(0,y.Z)(n,2),i=r[0],o=r[1],a=function(){var e=b.useRef(null);function t(){Fi.cancel(e.current)}return b.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Fi((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=(0,y.Z)(a,2),u=s[0],l=s[1];return vo((function(){if(i!==lo&&i!==po){var e=mo.indexOf(i),n=mo[e+1],r=t(i);false===r?o(n):u((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),b.useEffect((function(){return function(){l()}}),[]),[function(){o(co)},i]};function xo(e,t,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,u=r.motionLeave,l=void 0===u||u,c=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,m=r.onLeaveStart,x=r.onAppearActive,w=r.onEnterActive,_=r.onLeaveActive,S=r.onAppearEnd,E=r.onEnterEnd,C=r.onLeaveEnd,k=r.onVisibleChanged,M=go(),I=(0,y.Z)(M,2),T=I[0],A=I[1],N=go(oo),D=(0,y.Z)(N,2),P=D[0],O=D[1],L=go(null),R=(0,y.Z)(L,2),B=R[0],z=R[1],F=(0,b.useRef)(!1),j=(0,b.useRef)(null),G=(0,b.useRef)(!1),V=(0,b.useRef)(null);function U(){return n()||V.current}var W=(0,b.useRef)(!1);function Z(e){var t,n=U();e&&!e.deadline&&e.target!==n||(P===ao&&W.current?t=null===S||void 0===S?void 0:S(n,e):P===so&&W.current?t=null===E||void 0===E?void 0:E(n,e):P===uo&&W.current&&(t=null===C||void 0===C?void 0:C(n,e)),!1===t||G.current||(O(oo),z(null)))}var H=function(e){var t=(0,b.useRef)(),n=(0,b.useRef)(e);n.current=e;var r=b.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(ro,r),e.removeEventListener(no,r))}return b.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(ro,r),e.addEventListener(no,r),t.current=e)},i]}(Z),Y=(0,y.Z)(H,1)[0],X=b.useMemo((function(){var e,t,n;switch(P){case ao:return e={},(0,re.Z)(e,co,d),(0,re.Z)(e,fo,g),(0,re.Z)(e,ho,x),e;case so:return t={},(0,re.Z)(t,co,h),(0,re.Z)(t,fo,v),(0,re.Z)(t,ho,w),t;case uo:return n={},(0,re.Z)(n,co,p),(0,re.Z)(n,fo,m),(0,re.Z)(n,ho,_),n;default:return{}}}),[P]),K=bo(P,(function(e){if(e===co){var t=X.prepare;return!!t&&t(U())}var n;Q in X&&z((null===(n=X[Q])||void 0===n?void 0:n.call(X,U(),null))||null);return Q===ho&&(Y(U()),c>0&&(clearTimeout(j.current),j.current=setTimeout((function(){Z({deadline:!0})}),c))),true})),q=(0,y.Z)(K,2),$=q[0],Q=q[1],J=yo(Q);W.current=J,vo((function(){A(t);var n,r=F.current;(F.current=!0,e)&&(!r&&t&&s&&(n=ao),r&&t&&o&&(n=so),(r&&!t&&l||!r&&f&&!t&&l)&&(n=uo),n&&(O(n),$()))}),[t]),(0,b.useEffect)((function(){(P===ao&&!s||P===so&&!o||P===uo&&!l)&&O(oo)}),[s,o,l]),(0,b.useEffect)((function(){return function(){clearTimeout(j.current),G.current=!0}}),[]),(0,b.useEffect)((function(){void 0!==T&&P===oo&&(null===k||void 0===k||k(T))}),[T,P]);var ee=B;return X.prepare&&Q===fo&&(ee=Oe({transition:"none"},ee)),[P,Q,ee,null!==T&&void 0!==T?T:t]}var wo=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(b.Component),_o=wo;var So=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,je.Z)(e)&&(t=e.transitionSupport);var r=b.forwardRef((function(e,t){var r=e.visible,i=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,s=e.forceRender,u=e.children,l=e.motionName,c=e.leavedClassName,f=e.eventProps,d=n(e),h=(0,b.useRef)(),p=(0,b.useRef)();var g=xo(d,i,(function(){try{return h.current instanceof HTMLElement?h.current:Gi(p.current)}catch(li){return null}}),e),v=(0,y.Z)(g,4),m=v[0],x=v[1],w=v[2],_=v[3],S=b.useRef(_);_&&(S.current=!0);var E,C=b.useCallback((function(e){h.current=e,Mi(t,e)}),[]),k=Oe(Oe({},f),{},{visible:i});if(u)if(m!==oo&&n(e)){var M,I;x===co?I="prepare":yo(x)?I="active":x===fo&&(I="start"),E=u(Oe(Oe({},k),{},{className:oe()(io(l,m),(M={},(0,re.Z)(M,io(l,"".concat(m,"-").concat(I)),I),(0,re.Z)(M,l,"string"===typeof l),M)),style:w}),C)}else E=_?u(Oe({},k),C):!a&&S.current?u(Oe(Oe({},k),{},{className:c}),C):s?u(Oe(Oe({},k),{},{style:{display:"none"}}),C):null;else E=null;return b.createElement(_o,{ref:p},E)}));return r.displayName="CSSMotion",r}(to),Eo="add",Co="keep",ko="remove",Mo="removed";function Io(e){var t;return Oe(Oe({},t=e&&"object"===(0,je.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function To(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Io)}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=To(e),a=To(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return Oe(Oe({},e),{},{status:Eo})}))),r=o),n.push(Oe(Oe({},s),{},{status:Co})),r+=1,t=!0;break}}t||n.push(Oe(Oe({},e),{},{status:ko}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return Oe(Oe({},e),{},{status:Eo})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==ko})),n.forEach((function(t){t.key===e&&(t.status=Co)}))})),n}var No=["component","children","onVisibleChanged"],Do=["status"],Po=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So,n=function(e){(0,$.Z)(r,e);var n=(0,Q.Z)(r);function r(){var e;(0,K.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Oe(Oe({},e),{},{status:Mo})}))}}))},e}return(0,q.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=ze(r,No),u=i||b.Fragment,l={};return Po.forEach((function(e){l[e]=s[e],delete s[e]})),delete s.keys,b.createElement(u,s,n.map((function(n){var r=n.status,i=ze(n,Do),s=r===Eo||r===Co;return b.createElement(t,x({},l,{key:i.key,visible:s,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=To(n);return{keyEntities:Ao(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Mo||e.status!==ko}))}}}]),r}(b.Component);return n.defaultProps={component:"div"},n}(to),Lo=So;function Ro(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Bo(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,s=e.maskTransitionName;if(!i)return null;var u={};return(o||s||a)&&(u=Oe({motionAppear:!0},Ro({motion:o,prefixCls:t,transitionName:s,animation:a}))),b.createElement(Lo,x({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return b.createElement("div",{style:{zIndex:r},className:oe()("".concat(t,"-mask"),n)})}))}var zo,Fo=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e){return Vo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wo={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Zo(){if(void 0!==zo)return zo;zo="";var e=document.createElement("p").style;for(var t in Wo)t+"Transform"in e&&(zo=t);return zo}function Ho(){return Zo()?"".concat(Zo(),"TransitionProperty"):"transitionProperty"}function Yo(){return Zo()?"".concat(Zo(),"Transform"):"transform"}function Xo(e,t){var n=Ho();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Ko(e,t){var n=Yo();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var qo,$o=/matrix\((.*)\)/,Qo=/matrix3d\((.*)\)/;function Jo(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ea(e,t,n){var r=n;if("object"!==Vo(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):qo(e,t);for(var i in t)t.hasOwnProperty(i)&&ea(e,i,t[i])}function ta(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function na(e){return ta(e)}function ra(e){return ta(e,!0)}function ia(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=na(r),t.top+=ra(r),t}function oa(e){return null!==e&&void 0!==e&&e==e.window}function aa(e){return oa(e)?e.document:9===e.nodeType?e:e.ownerDocument}var sa=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ua=/^(top|right|bottom|left)$/;function la(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ca(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function fa(e,t,n){"static"===ea(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=la("left",n),a=la("top",n),s=ca(o),u=ca(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l="",c=ia(e);("left"in t||"top"in t)&&(l=function(e){return e.style.transitionProperty||e.style[Ho()]}(e)||"",Xo(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),Jo(e);var f=ia(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=la(h,n),g="left"===h?r:i,v=c[h]-f[h];d[p]=p===h?g+v:g-v}ea(e,d),Jo(e),("left"in t||"top"in t)&&Xo(e,l);var m={};for(var y in t)if(t.hasOwnProperty(y)){var b=la(y,n),x=t[y]-c[y];m[b]=y===b?d[b]+x:d[b]-x}ea(e,m)}function da(e,t){var n=ia(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Yo());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Yo());if(r&&"none"!==r){var i,o=r.match($o);o?(i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,Ko(e,"matrix(".concat(i.join(","),")"))):(i=r.match(Qo)[1].split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,Ko(e,"matrix3d(".concat(i.join(","),")")))}else Ko(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function ha(e,t){for(var n=0;n<e.length;n++)t(e[n])}function pa(e){return"border-box"===qo(e,"boxSizing")}"undefined"!==typeof window&&(qo=window.getComputedStyle?function(e,t,n){var r=n,i="",o=aa(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(sa.test(n)&&!ua.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var ga=["margin","border","padding"];function va(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function ma(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(qo(e,s))||0}return a}var ya={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ba(e,t,n){var r=n;if(oa(e))return"width"===t?ya.viewportWidth(e):ya.viewportHeight(e);if(9===e.nodeType)return"width"===t?ya.docWidth(e):ya.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=pa(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=qo(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,l=o||s;return-1===r?u?l-ma(e,["border","padding"],i):s:u?1===r?l:l+(2===r?-ma(e,["border"],i):ma(e,["margin"],i)):s+ma(e,ga.slice(r),i)}ha(["Width","Height"],(function(e){ya["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],ya["viewport".concat(e)](n))},ya["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var xa={position:"absolute",visibility:"hidden",display:"block"};function wa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ba.apply(void 0,t):va(i,xa,(function(){r=ba.apply(void 0,t)})),r}function _a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}ha(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ya["outer".concat(t)]=function(t,n){return t&&wa(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ya[e]=function(t,r){var i=r;return void 0!==i?t?(pa(t)&&(i+=ma(t,["padding","border"],n)),ea(t,e,i)):void 0:t&&wa(t,e,-1)}}));var Sa={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:aa,offset:function(e,t,n){if("undefined"===typeof t)return ia(e);!function(e,t,n){if(n.ignoreShake){var r=ia(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?fa(e,t,n):n.useCssTransform&&Yo()in document.body.style?da(e,t):fa(e,t,n)}(e,t,n||{})},isWindow:oa,each:ha,css:ea,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:_a,getWindowScrollLeft:function(e){return na(e)},getWindowScrollTop:function(e){return ra(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Sa.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};_a(Sa,ya);var Ea=Sa.getParent;function Ca(e){if(Sa.isWindow(e)||9===e.nodeType)return null;var t,n=Sa.getDocument(e).body,r=Sa.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Ea(e);for(t=Ea(e);t&&t!==n&&9!==t.nodeType;t=Ea(t))if("static"!==(r=Sa.css(t,"position")))return t;return null}var ka=Sa.getParent;function Ma(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Ca(e),i=Sa.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Sa.css(r,"overflow")){if(r===a||r===s)break}else{var u=Sa.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Ca(r)}var l=null;Sa.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===Sa.css(e,"position")&&(e.style.position="fixed"));var c=Sa.getWindowScrollLeft(o),f=Sa.getWindowScrollTop(o),d=Sa.viewportWidth(o),h=Sa.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(p=o.innerWidth),"hidden"===v.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(Sa.isWindow(e)||9===e.nodeType)return!1;var t=Sa.getDocument(e),n=t.body,r=null;for(r=ka(e);r&&r!==n&&r!==t;r=ka(r))if("fixed"===Sa.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,f),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,f+h);else{var m=Math.max(p,c+d);n.right=Math.min(n.right,m);var y=Math.max(g,f+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ia(e){var t,n,r;if(Sa.isWindow(e)||9===e.nodeType){var i=Sa.getWindow(e);t={left:Sa.getWindowScrollLeft(i),top:Sa.getWindowScrollTop(i)},n=Sa.viewportWidth(i),r=Sa.viewportHeight(i)}else t=Sa.offset(e),n=Sa.outerWidth(e),r=Sa.outerHeight(e);return t.width=n,t.height=r,t}function Ta(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Aa(e,t,n,r,i){var o=Ta(t,n[1]),a=Ta(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Na(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Da(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Pa(e,t,n){var r=[];return Sa.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Oa(e,t){return e[t]=-e[t],e}function La(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Ra(e,t){e[0]=La(e[0],t.width),e[1]=La(e[1],t.height)}function Ba(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var l={},c=0,f=Ma(u,!(!(s=s||{})||!s.alwaysByViewport)),d=Ia(u);Ra(o,d),Ra(a,t);var h=Aa(d,t,i,o,a),p=Sa.merge(d,h);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Na(h,d,f)){var g=Pa(i,/[lr]/gi,{l:"r",r:"l"}),v=Oa(o,0),m=Oa(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Aa(d,t,g,v,m),d,f)||(c=1,i=g,o=v,a=m)}if(s.adjustY&&Da(h,d,f)){var y=Pa(i,/[tb]/gi,{t:"b",b:"t"}),b=Oa(o,1),x=Oa(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Aa(d,t,y,b,x),d,f)||(c=1,i=y,o=b,a=x)}c&&(h=Aa(d,t,i,o,a),Sa.mix(p,h));var w=Na(h,d,f),_=Da(h,d,f);if(w||_){var S=i;w&&(S=Pa(i,/[lr]/gi,{l:"r",r:"l"})),_&&(S=Pa(i,/[tb]/gi,{t:"b",b:"t"})),i=S,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&w,l.adjustY=s.adjustY&&_,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=Sa.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Sa.mix(i,o)}(h,d,f,l))}return p.width!==d.width&&Sa.css(u,"width",Sa.width(u)+p.width-d.width),p.height!==d.height&&Sa.css(u,"height",Sa.height(u)+p.height-d.height),Sa.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function za(e,t,n){var r=n.target||t,i=Ia(r),o=!function(e,t){var n=Ma(e,t),r=Ia(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Ba(e,i,n,o)}za.__getOffsetParent=Ca,za.__getVisibleRectForElement=Ma;var Fa=n(8111),ja=n.n(Fa),Ga=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Va="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Ua="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Wa="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Ua):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Za=["top","right","bottom","left","width","height","size","weight"],Ha="undefined"!==typeof MutationObserver,Ya=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Wa(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Va&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ha?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Va&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=Za.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Xa=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Ka=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Ua},qa=ns(0,0,0,0);function $a(e){return parseFloat(e)||0}function Qa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+$a(e["border-"+n+"-width"])}),0)}function Ja(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return qa;var r=Ka(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=$a(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=$a(r.width),u=$a(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Qa(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Qa(r,"top","bottom")+a)),!function(e){return e===Ka(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return ns(i.left,i.top,s,u)}var es="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Ka(e).SVGGraphicsElement}:function(e){return e instanceof Ka(e).SVGElement&&"function"===typeof e.getBBox};function ts(e){return Va?es(e)?function(e){var t=e.getBBox();return ns(0,0,t.width,t.height)}(e):Ja(e):qa}function ns(e,t,n,r){return{x:e,y:t,width:n,height:r}}var rs=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ns(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ts(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),is=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Xa(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Xa(this,{target:e,contentRect:n})},os=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ga,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Ka(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new rs(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Ka(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new is(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),as="undefined"!==typeof WeakMap?new WeakMap:new Ga,ss=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ya.getInstance(),r=new os(t,n,this);as.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ss.prototype[e]=function(){var t;return(t=as.get(this))[e].apply(t,arguments)}}));var us="undefined"!==typeof Ua.ResizeObserver?Ua.ResizeObserver:ss;function ls(e,t){var n=null,r=null;var i=new us((function(e){var i=(0,y.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function cs(e){return"function"!==typeof e?null:e()}function fs(e){return"object"===(0,je.Z)(e)&&e?e:null}var ds=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,l=void 0===u?0:u,c=b.useRef({}),f=b.useRef(),d=b.Children.only(n),h=b.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var p=function(e,t){var n=b.useRef(!1),r=b.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=f.current,s=cs(n),u=fs(n);c.current.element=s,c.current.point=u,c.current.align=r;var l=document.activeElement;return s&&Fo(s)?o=za(a,s,r):u&&(o=function(e,t,n){var r,i,o=Sa.getDocument(e),a=o.defaultView||o.parentWindow,s=Sa.getWindowScrollLeft(a),u=Sa.getWindowScrollTop(a),l=Sa.viewportWidth(a),c=Sa.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},d=r>=0&&r<=s+l&&i>=0&&i<=u+c,h=[n.points[0],"cc"];return Ba(e,f,Go(Go({},n),{},{points:h}),d)}(a,u,r)),function(e,t){e!==document.activeElement&&ji(t,e)&&"function"===typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),l),g=(0,y.Z)(p,2),v=g[0],m=g[1],x=b.useRef({cancel:function(){}}),w=b.useRef({cancel:function(){}});b.useEffect((function(){var e,t,n=cs(i),r=fs(i);f.current!==w.current.element&&(w.current.cancel(),w.current.element=f.current,w.current.cancel=ls(f.current,v)),c.current.element===n&&((e=c.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ja()(c.current.align,o)||(v(),x.current.element!==n&&(x.current.cancel(),x.current.element=n,x.current.cancel=ls(n,v)))})),b.useEffect((function(){r?m():v()}),[r]);var _=b.useRef(null);return b.useEffect((function(){s?_.current||(_.current=Vi(window,"resize",v)):_.current&&(_.current.remove(),_.current=null)}),[s]),b.useEffect((function(){return function(){x.current.cancel(),w.current.cancel(),_.current&&_.current.remove(),m()}}),[]),b.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),b.isValidElement(d)&&(d=b.cloneElement(d,{ref:Ii(d.ref,f)})),d},hs=b.forwardRef(ds);hs.displayName="Align";var ps=hs,gs=["measure","align",null,"motion"],vs=b.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.zIndex,u=e.stretch,l=e.destroyPopupOnHide,c=e.forceRender,f=e.align,d=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,m=e.onMouseLeave,w=e.onMouseDown,_=e.onTouchStart,S=(0,b.useRef)(),E=(0,b.useRef)(),C=(0,b.useState)(),k=(0,y.Z)(C,2),M=k[0],I=k[1],T=function(e){var t=b.useState({width:0,height:0}),n=(0,y.Z)(t,2),r=n[0],i=n[1];return[b.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(u),A=(0,y.Z)(T,2),N=A[0],D=A[1];var P=function(e,t){var n=(0,b.useState)(null),r=(0,y.Z)(n,2),i=r[0],o=r[1],a=(0,b.useRef)(),s=(0,b.useRef)(!1);function u(e){s.current||o(e)}function l(){Fi.cancel(a.current)}return(0,b.useEffect)((function(){u("measure")}),[e]),(0,b.useEffect)((function(){"measure"===i&&t(),i&&(a.current=Fi((0,Fn.Z)(zn().mark((function e(){var t,n;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=gs.indexOf(i),(n=gs[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,b.useEffect)((function(){return function(){s.current=!0,l()}}),[]),[i,function(e){l(),a.current=Fi((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){u&&D(h())})),O=(0,y.Z)(P,2),L=O[0],R=O[1],B=(0,b.useRef)();function z(){var e;null===(e=S.current)||void 0===e||e.forceAlign()}function F(e,t){var n=p(t);M!==n&&I(n),"align"===L&&(M!==n?Promise.resolve().then((function(){z()})):R((function(){var e;null===(e=B.current)||void 0===e||e.call(B)})),null===g||void 0===g||g(e,t))}var j=Oe({},Ro(e));function G(){return new Promise((function(e){B.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=j[e];j[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),b.useEffect((function(){j.motionName||"motion"!==L||R()}),[j.motionName,L]),b.useImperativeHandle(t,(function(){return{forceAlign:z,getElement:function(){return E.current}}}));var V=Oe(Oe({},N),{},{zIndex:s,opacity:"motion"!==L&&"stable"!==L&&n?0:void 0,pointerEvents:"stable"===L?void 0:"none"},o),U=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==L&&"stable"!==L||(U=!1);var W=a;return b.Children.count(a)>1&&(W=b.createElement("div",{className:"".concat(r,"-content")},a)),b.createElement(Lo,x({visible:n,ref:E,leavedClassName:"".concat(r,"-hidden")},j,{onAppearPrepare:G,onEnterPrepare:G,removeOnLeave:l,forceRender:c}),(function(e,t){var n=e.className,o=e.style,a=oe()(r,i,M,n);return b.createElement(ps,{target:d||h,key:"popup",ref:S,monitorWindowResize:!0,disabled:U,align:f,onAlign:F},b.createElement("div",{ref:t,className:a,onMouseEnter:v,onMouseLeave:m,onMouseDownCapture:w,onTouchStartCapture:_,style:Oe(Oe({},o),V)},W))}))}));vs.displayName="PopupInner";var ms=vs,ys=b.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.children,a=e.mobile,s=(a=void 0===a?{}:a).popupClassName,u=a.popupStyle,l=a.popupMotion,c=void 0===l?{}:l,f=a.popupRender,d=b.useRef();b.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var h=Oe({zIndex:i},u),p=o;return b.Children.count(o)>1&&(p=b.createElement("div",{className:"".concat(n,"-content")},o)),f&&(p=f(p)),b.createElement(Lo,x({visible:r,ref:d,removeOnLeave:!0},c),(function(e,t){var r=e.className,i=e.style,o=oe()(n,s,r);return b.createElement("div",{ref:t,className:o,style:Oe(Oe({},i),h)},p)}))}));ys.displayName="MobilePopupInner";var bs=ys,xs=["visible","mobile"],ws=b.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=ze(e,xs),o=(0,b.useState)(n),a=(0,y.Z)(o,2),s=a[0],u=a[1],l=(0,b.useState)(!1),c=(0,y.Z)(l,2),f=c[0],d=c[1],h=Oe(Oe({},i),{},{visible:s});(0,b.useEffect)((function(){u(n),n&&r&&d(Hi())}),[n,r]);var p=f?b.createElement(bs,x({},h,{mobile:r,ref:t})):b.createElement(ms,x({},h,{ref:t}));return b.createElement("div",null,b.createElement(Bo,h),p)}));ws.displayName="Popup";var _s=ws,Ss=b.createContext(null);function Es(){}function Cs(){return""}function ks(e){return e?e.ownerDocument:window.document}var Ms=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Is=function(e){var t=function(t){(0,$.Z)(r,t);var n=(0,Q.Z)(r);function r(e){var t,i;return(0,K.Z)(this,r),(t=n.call(this,e)).popupRef=b.createRef(),t.triggerRef=b.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&ji(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();ji(r,n)&&!t.isContextMenuOnly()||ji(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Gi(t.triggerRef.current);if(n)return n}catch(r){}return m.findDOMNode((0,An.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(Zi(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,i=e.popupClassName,o=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,u=e.popupTransitionName,l=e.popupStyle,c=e.mask,f=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,p=e.zIndex,g=e.popup,v=e.stretch,m=e.alignPoint,y=e.mobile,w=e.forceRender,_=t.state,S=_.popupVisible,E=_.point,C=t.getPopupAlign(),k={};return t.isMouseEnterToShow()&&(k.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(k.onMouseLeave=t.onPopupMouseLeave),k.onMouseDown=t.onPopupMouseDown,k.onTouchStart=t.onPopupMouseDown,b.createElement(_s,x({prefixCls:n,destroyPopupOnHide:r,visible:S,point:m&&E,className:i,align:C,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:t.getRootDomNode,style:l,mask:c,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:d,maskMotion:h,ref:t.popupRef,motion:a,mobile:y,forceRender:w}),"function"===typeof g?g():g)},t.attachParent=function(e){Fi.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Fi((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:i,popupVisible:i},Ms.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,q.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Vi(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Vi(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Vi(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Vi(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Fi.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Oe(Oe({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,u=b.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=oe()(u&&u.props&&u.props.className,a);c&&(l.className=c);var f=Oe({},l);Ti(u)&&(f.ref=Ii(this.triggerRef,u.ref));var d,h=b.cloneElement(u,f);return(t||this.popupRef.current||i)&&(d=b.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),b.createElement(Ss.Provider,{value:this.triggerContextValue},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(b.Component);return t.contextType=Ss,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Cs,getDocument:ks,onPopupVisibleChange:Es,afterPopupVisibleChange:Es,onPopupAlign:Es,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(Wi),Ts={adjustX:1,adjustY:1},As=[0,0],Ns={left:{points:["cr","cl"],overflow:Ts,offset:[-4,0],targetOffset:As},right:{points:["cl","cr"],overflow:Ts,offset:[4,0],targetOffset:As},top:{points:["bc","tc"],overflow:Ts,offset:[0,-4],targetOffset:As},bottom:{points:["tc","bc"],overflow:Ts,offset:[0,4],targetOffset:As},topLeft:{points:["bl","tl"],overflow:Ts,offset:[0,-4],targetOffset:As},leftTop:{points:["tr","tl"],overflow:Ts,offset:[-4,0],targetOffset:As},topRight:{points:["br","tr"],overflow:Ts,offset:[0,-4],targetOffset:As},rightTop:{points:["tl","tr"],overflow:Ts,offset:[4,0],targetOffset:As},bottomRight:{points:["tr","br"],overflow:Ts,offset:[0,4],targetOffset:As},rightBottom:{points:["bl","br"],overflow:Ts,offset:[4,0],targetOffset:As},bottomLeft:{points:["tl","bl"],overflow:Ts,offset:[0,4],targetOffset:As},leftBottom:{points:["br","bl"],overflow:Ts,offset:[-4,0],targetOffset:As}},Ds=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return b.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof t?t():t)},Ps=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,a=void 0===o?0:o,s=e.mouseLeaveDelay,u=void 0===s?.1:s,l=e.overlayStyle,c=e.prefixCls,f=void 0===c?"rc-tooltip":c,d=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,v=e.animation,m=e.motion,y=e.placement,w=void 0===y?"right":y,_=e.align,S=void 0===_?{}:_,E=e.destroyTooltipOnHide,C=void 0!==E&&E,k=e.defaultVisible,M=e.getTooltipContainer,I=e.overlayInnerStyle,T=ze(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),A=(0,b.useRef)(null);(0,b.useImperativeHandle)(t,(function(){return A.current}));var N=Oe({},T);"visible"in e&&(N.popupVisible=e.visible);var D=!1,P=!1;if("boolean"===typeof C)D=C;else if(C&&"object"===(0,je.Z)(C)){var O=C.keepParent;D=!0===O,P=!1===O}return b.createElement(Is,x({popupClassName:n,prefixCls:f,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,i=e.id;return[b.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),b.createElement(Ds,{key:"content",prefixCls:f,id:i,overlay:r,overlayInnerStyle:I})]},action:i,builtinPlacements:Ns,popupPlacement:w,ref:A,popupAlign:S,getPopupContainer:M,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:v,popupMotion:m,defaultPopupVisible:k,destroyPopupOnHide:D,autoDestroy:P,mouseLeaveDelay:u,popupStyle:l,mouseEnterDelay:a},N),d)},Os=(0,b.forwardRef)(Ps);function Ls(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=b.useState((function(){return void 0!==i?i:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=void 0!==i?i:l;a&&(f=a(f));var d=b.useRef(o);d.current=o;var h=b.useCallback((function(e){c(e),f!==e&&d.current&&d.current(e,f)}),[f,d]),p=b.useRef(!0);return b.useEffect((function(){p.current?p.current=!1:void 0===i&&c(i)}),[i]),[f,h]}var Rs={adjustX:1,adjustY:1},Bs={adjustX:0,adjustY:0},zs=[0,0];function Fs(e){return"boolean"===typeof e?e?Rs:Bs:x(x({},Bs),e)}var js=b.isValidElement;function Gs(e,t){return function(e,t,n){return js(e)?b.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Vs=fn("success","processing","error","default","warning"),Us=fn("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Ws=function(){return{height:0,opacity:0}},Zs=function(e){return{height:e.scrollHeight,opacity:1}},Hs=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Ys={motionName:"ant-motion-collapse",onAppearStart:Ws,onEnterStart:Ws,onAppearActive:Zs,onEnterActive:Zs,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Ws,onAppearEnd:Hs,onEnterEnd:Hs,onLeaveEnd:Hs,motionDeadline:500},Xs=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Ks=Ys,qs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$s=new RegExp("^(".concat(Us.join("|"),")(-inverse)?$"));function Qs(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var r=function(e,t){var n={},r=x({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=x(x({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Gs(e,{style:x(x({},o),{pointerEvents:"none"}),className:null});return b.createElement("span",{style:a,className:oe()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var Js=b.forwardRef((function(e,t){var n,r=b.useContext(_e),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=Ls(!1,{value:e.visible,defaultValue:e.defaultVisible}),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(u).forEach((function(t){u[t]=e.arrowPointAtCenter?x(x({},u[t]),{overflow:Fs(s),targetOffset:zs}):x(x({},Ns[t]),{overflow:Fs(s)}),u[t].ignoreShake=!0})),u}({arrowPointAtCenter:n,autoAdjustOverflow:r})},h=e.getPopupContainer,p=qs(e,["getPopupContainer"]),g=e.prefixCls,v=e.openClassName,m=e.getTooltipContainer,w=e.overlayClassName,_=e.color,S=e.overlayInnerStyle,E=e.children,C=o("tooltip",g),k=o(),M=l;!("visible"in e)&&f()&&(M=!1);var I,T=Qs(js(E)?E:b.createElement("span",null,E),C),A=T.props,N=oe()(A.className,(0,re.Z)({},v||"".concat(C,"-open"),!0)),D=oe()(w,(n={},(0,re.Z)(n,"".concat(C,"-rtl"),"rtl"===a),(0,re.Z)(n,"".concat(C,"-").concat(_),_&&$s.test(_)),n)),P=S;return _&&!$s.test(_)&&(P=x(x({},S),{background:_}),I={background:_}),b.createElement(Os,x({},p,{prefixCls:C,overlayClassName:D,getTooltipContainer:h||m||i,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:M,onVisibleChange:function(t){var n;c(!f()&&t),f()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:P,arrowContent:b.createElement("span",{className:"".concat(C,"-arrow-content"),style:I}),motion:{motionName:Xs(k,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),M?Gs(T,{className:N}):T)}));Js.displayName="Tooltip",Js.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var eu=Js,tu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var nu=function(e){var t=e.prefixCls,n=e.label,r=e.htmlFor,i=e.labelCol,o=e.labelAlign,a=e.colon,s=e.required,u=e.requiredMark,l=e.tooltip,c=function(e,t){var n=b.useContext(de),r=b.useMemo((function(){var r=t||fe[e||"global"],i=e&&n?n[e]:{};return x(x({},"function"===typeof r?r():r),i||{})}),[e,t,n]);return[r]}("Form"),f=(0,y.Z)(c,1)[0];return n?b.createElement(oi.Consumer,{key:"label"},(function(e){var c,d,h=e.vertical,p=e.labelAlign,g=e.labelCol,v=e.labelWrap,m=e.colon,y=i||g||{},w=o||p,_="".concat(t,"-item-label"),S=oe()(_,"left"===w&&"".concat(_,"-left"),y.className,(0,re.Z)({},"".concat(_,"-wrap"),!!v)),E=n,C=!0===a||!1!==m&&!1!==a;C&&!h&&"string"===typeof n&&""!==n.trim()&&(E=n.replace(/[:|\uff1a]\s*$/,""));var k=function(e){return e?"object"!==(0,je.Z)(e)||b.isValidElement(e)?{title:e}:e:null}(l);if(k){var M=k.icon,I=void 0===M?b.createElement(Pi,null):M,T=tu(k,["icon"]),A=b.createElement(eu,T,b.cloneElement(I,{className:"".concat(t,"-item-tooltip"),title:""}));E=b.createElement(b.Fragment,null,E,A)}"optional"!==u||s||(E=b.createElement(b.Fragment,null,E,b.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===f||void 0===f?void 0:f.optional)||(null===(d=ce.Form)||void 0===d?void 0:d.optional))));var N=oe()((c={},(0,re.Z)(c,"".concat(t,"-item-required"),s),(0,re.Z)(c,"".concat(t,"-item-required-mark-optional"),"optional"===u),(0,re.Z)(c,"".concat(t,"-item-no-colon"),!C),c));return b.createElement(In,x({},y,{className:S}),b.createElement("label",{htmlFor:r,className:N,title:"string"===typeof n?n:""},E))})):null},ru={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},iu=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:ru}))};iu.displayName="LoadingOutlined";var ou=b.forwardRef(iu),au={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},su=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:au}))};su.displayName="CloseCircleFilled";var uu=b.forwardRef(su),lu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},cu=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:lu}))};cu.displayName="CheckCircleFilled";var fu=b.forwardRef(cu),du={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},hu=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:du}))};hu.displayName="ExclamationCircleFilled";var pu=b.forwardRef(hu),gu=[];function vu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function mu(e){var t=e.help,n=e.helpStatus,r=e.errors,i=void 0===r?gu:r,o=e.warnings,a=void 0===o?gu:o,s=e.className,u=b.useContext(si).prefixCls,l=b.useContext(_e).getPrefixCls,c="".concat(u,"-item-explain"),f=l(),d=b.useMemo((function(){return void 0!==t&&null!==t?[vu(t,n,"help")]:[].concat((0,ne.Z)(i.map((function(e,t){return vu(e,"error","error",t)}))),(0,ne.Z)(a.map((function(e,t){return vu(e,"warning","warning",t)}))))}),[t,n,i,a]);return b.createElement(Lo,x({},Ks,{motionName:"".concat(f,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!d.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var t=e.className,n=e.style;return b.createElement("div",{className:oe()(c,t,s),style:n},b.createElement(Oo,x({keys:d},Ks,{motionName:"".concat(f,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,r=e.errorStatus,i=e.className,o=e.style;return b.createElement("div",{key:t,role:"alert",className:oe()(i,(0,re.Z)({},"".concat(c,"-").concat(r),r)),style:o},n)})))}))}var yu={success:fu,warning:pu,error:uu,validating:ou},bu=function(e){var t=e.prefixCls,n=e.status,r=e.wrapperCol,i=e.children,o=e.errors,a=e.warnings,s=e.hasFeedback,u=e._internalItemRender,l=e.validateStatus,c=e.extra,f=e.help,d="".concat(t,"-item"),h=b.useContext(oi),p=r||h.wrapperCol||{},g=oe()("".concat(d,"-control"),p.className),v=l&&yu[l],m=s&&v?b.createElement("span",{className:"".concat(d,"-children-icon")},b.createElement(v,null)):null,y=b.useMemo((function(){return x({},h)}),[h]);delete y.labelCol,delete y.wrapperCol;var w=b.createElement("div",{className:"".concat(d,"-control-input")},b.createElement("div",{className:"".concat(d,"-control-input-content")},i),m),_=b.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),S=b.createElement(si.Provider,{value:_},b.createElement(mu,{errors:o,warnings:a,help:f,helpStatus:n,className:"".concat(d,"-explain-connected")})),E=c?b.createElement("div",{className:"".concat(d,"-extra")},c):null,C=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:w,errorList:S,extra:E}):b.createElement(b.Fragment,null,w,S,E);return b.createElement(oi.Provider,{value:y},b.createElement(In,x({},p,{className:g}),C))};function xu(e){var t=b.useState(e),n=(0,y.Z)(t,2),r=n[0],i=n[1];return b.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var wu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_u=(fn("success","warning","error","validating",""),b.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var Su=function(e){var t=e.name,n=e.noStyle,r=e.dependencies,i=e.prefixCls,o=e.style,a=e.className,s=e.shouldUpdate,u=e.hasFeedback,l=e.help,c=e.rules,f=e.validateStatus,d=e.children,h=e.required,p=e.label,g=e.messageVariables,v=e.trigger,m=void 0===v?"onChange":v,w=e.validateTrigger,_=e.hidden,S=wu(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),E=(0,b.useContext)(_e).getPrefixCls,C=(0,b.useContext)(oi),k=C.name,M=C.requiredMark,I="function"===typeof d,T=(0,b.useContext)(ai),A=(0,b.useContext)(Ln).validateTrigger,N=void 0!==w?w:A,D=function(e){return null===e&&Ai(!1,"Form.Item","`null` is passed as `name` property"),!(void 0===e||null===e)}(t),P=E("form",i),O=b.useContext(Ur),L=b.useRef(),R=function(e){var t=b.useState(e),n=(0,y.Z)(t,2),r=n[0],i=n[1],o=(0,b.useRef)(null),a=(0,b.useRef)([]),s=(0,b.useRef)(!1);return b.useEffect((function(){return function(){s.current=!0,Fi.cancel(o.current)}}),[]),[r,function(e){s.current||(null===o.current&&(a.current=[],o.current=Fi((function(){o.current=null,i((function(e){var t=e;return a.current.forEach((function(e){t=e(t)})),t}))}))),a.current.push(e))}]}({}),B=(0,y.Z)(R,2),z=B[0],F=B[1],j=b.useState((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),G=(0,y.Z)(j,2),V=G[0],U=G[1],W=function(e,t){F((function(n){var r=x({},n),i=[].concat((0,ne.Z)(e.name.slice(0,-1)),(0,ne.Z)(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},Z=b.useMemo((function(){var e=(0,ne.Z)(V.errors),t=(0,ne.Z)(V.warnings);return Object.values(z).forEach((function(n){e.push.apply(e,(0,ne.Z)(n.errors||[])),t.push.apply(t,(0,ne.Z)(n.warnings||[]))})),[e,t]}),[z,V.errors,V.warnings]),H=(0,y.Z)(Z,2),Y=H[0],X=H[1],K=xu(Y),q=xu(X),$=function(){var e=b.useContext(oi).itemRef,t=b.useRef({});return function(n,r){var i=r&&"object"===(0,je.Z)(r)&&r.ref,o=n.join("_");return t.current.name===o&&t.current.originRef===i||(t.current.name=o,t.current.originRef=i,t.current.ref=Ii(e(n),i)),t.current.ref}}();function Q(t,r,i){var s;if(n&&!_)return t;var c="";void 0!==f?c=f:(null===V||void 0===V?void 0:V.validating)?c="validating":K.length?c="error":q.length?c="warning":(null===V||void 0===V?void 0:V.touched)&&(c="success");var d=(s={},(0,re.Z)(s,"".concat(P,"-item"),!0),(0,re.Z)(s,"".concat(P,"-item-with-help"),void 0!==l&&null!==l||K.length||q.length),(0,re.Z)(s,"".concat(a),!!a),(0,re.Z)(s,"".concat(P,"-item-has-feedback"),c&&u),(0,re.Z)(s,"".concat(P,"-item-has-success"),"success"===c),(0,re.Z)(s,"".concat(P,"-item-has-warning"),"warning"===c),(0,re.Z)(s,"".concat(P,"-item-has-error"),"error"===c),(0,re.Z)(s,"".concat(P,"-item-is-validating"),"validating"===c),(0,re.Z)(s,"".concat(P,"-item-hidden"),_),s);return b.createElement(Sn,x({className:oe()(d),style:o,key:"row"},Le(S,["colon","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),b.createElement(nu,x({htmlFor:r,required:i,requiredMark:M},e,{prefixCls:P})),b.createElement(bu,x({},e,V,{errors:K,warnings:q,prefixCls:P,status:c,validateStatus:c,help:l}),b.createElement(ai.Provider,{value:W},t)))}if(!D&&!I&&!r)return Q(d);var J={};return"string"===typeof p?J.label=p:t&&(J.label=String(t)),g&&(J=x(x({},J),g)),b.createElement(Vr,x({},e,{messageVariables:J,trigger:m,validateTrigger:N,onMetaChange:function(e){var t=null===O||void 0===O?void 0:O.getKey(e.name);if(U(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e),n&&T){var r=e.name;if(e.destroy)r=L.current||r;else if(void 0!==t){var i=(0,y.Z)(t,2),o=i[0],a=i[1];r=[o].concat((0,ne.Z)(a)),L.current=r}T(e,r)}}}),(function(n,i,o){var a=vi(t).length&&i?i.name:[],u=mi(a,k),l=void 0!==h?h:!(!c||!c.some((function(e){if(e&&"object"===(0,je.Z)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),f=x({},n),p=null;if(Ai(!(s&&r),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(d)&&D)Ai(!1,"Form.Item","`children` is array of render props cannot have `name`."),p=d;else if(I&&(!s&&!r||D))Ai(!(!s&&!r),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),Ai(!D,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(!r||I||D)if(js(d)){Ai(void 0===d.props.defaultValue,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var g=x(x({},d.props),f);g.id||(g.id=u),Ti(d)&&(g.ref=$(a,d)),new Set([].concat((0,ne.Z)(vi(m)),(0,ne.Z)(vi(N)))).forEach((function(e){g[e]=function(){for(var t,n,r,i,o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(s)),null===(o=(i=d.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(s))}})),p=b.createElement(_u,{value:f[e.valuePropName||"value"],update:d},Gs(d,g))}else I&&(s||r)&&!D?p=d(o):(Ai(!a.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),p=d);else Ai(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");return Q(p,u,l)}))},Eu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Cu=function(e){var t=e.prefixCls,n=e.children,r=Eu(e,["prefixCls","children"]);Ai(!!r.name,"Form.List","Miss `name` prop.");var i=(0,b.useContext(_e).getPrefixCls)("form",t),o=b.useMemo((function(){return{prefixCls:i,status:"error"}}),[i]);return b.createElement(Wr,r,(function(e,t,r){return b.createElement(si.Provider,{value:o},n(e.map((function(e){return x(x({},e),{fieldKey:e.key})})),t,{errors:r.errors,warnings:r.warnings}))}))},ku=Ci;ku.Item=Su,ku.List=Cu,ku.ErrorList=mu,ku.useForm=bi,ku.Provider=function(e){var t=Le(e,["prefixCls"]);return b.createElement(Jr,t)},ku.create=function(){Ai(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var Mu=ku;function Iu(e,t,n,r,i){var o;return oe()(e,(o={},(0,re.Z)(o,"".concat(e,"-sm"),"small"===n),(0,re.Z)(o,"".concat(e,"-lg"),"large"===n),(0,re.Z)(o,"".concat(e,"-disabled"),r),(0,re.Z)(o,"".concat(e,"-rtl"),"rtl"===i),(0,re.Z)(o,"".concat(e,"-borderless"),!t),o))}function Tu(e){return!!(e.prefix||e.suffix||e.allowClear)}var Au=fn("text","input");function Nu(e){return!(!e.addonBefore&&!e.addonAfter)}var Du=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.apply(this,arguments)).containerRef=b.createRef(),e.onInputMouseUp=function(t){var n;if(null===(n=e.containerRef.current)||void 0===n?void 0:n.contains(t.target)){var r=e.props.triggerFocus;null===r||void 0===r||r()}},e}return(0,q.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,r=n.allowClear,i=n.value,o=n.disabled,a=n.readOnly,s=n.handleReset,u=n.suffix;if(!r)return null;var l=!o&&!a&&i,c="".concat(e,"-clear-icon");return b.createElement(uu,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:oe()((t={},(0,re.Z)(t,"".concat(c,"-hidden"),!l),(0,re.Z)(t,"".concat(c,"-has-suffix"),!!u),t),c),role:"button"})}},{key:"renderSuffix",value:function(e){var t=this.props,n=t.suffix,r=t.allowClear;return n||r?b.createElement("span",{className:"".concat(e,"-suffix")},this.renderClearIcon(e),n):null}},{key:"renderLabeledIcon",value:function(e,t){var n,r=this.props,i=r.focused,o=r.value,a=r.prefix,s=r.className,u=r.size,l=r.suffix,c=r.disabled,f=r.allowClear,d=r.direction,h=r.style,p=r.readOnly,g=r.bordered,v=r.hidden;if(!Tu(this.props))return Gs(t,{value:o});var m=this.renderSuffix(e),y=a?b.createElement("span",{className:"".concat(e,"-prefix")},a):null,x=oe()("".concat(e,"-affix-wrapper"),(n={},(0,re.Z)(n,"".concat(e,"-affix-wrapper-focused"),i),(0,re.Z)(n,"".concat(e,"-affix-wrapper-disabled"),c),(0,re.Z)(n,"".concat(e,"-affix-wrapper-sm"),"small"===u),(0,re.Z)(n,"".concat(e,"-affix-wrapper-lg"),"large"===u),(0,re.Z)(n,"".concat(e,"-affix-wrapper-input-with-clear-btn"),l&&f&&o),(0,re.Z)(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===d),(0,re.Z)(n,"".concat(e,"-affix-wrapper-readonly"),p),(0,re.Z)(n,"".concat(e,"-affix-wrapper-borderless"),!g),(0,re.Z)(n,"".concat(s),!Nu(this.props)&&s),n));return b.createElement("span",{ref:this.containerRef,className:x,style:h,onMouseUp:this.onInputMouseUp,hidden:v},y,Gs(t,{style:null,value:o,className:Iu(e,g,u,c)}),m)}},{key:"renderInputWithLabel",value:function(e,t){var n,r=this.props,i=r.addonBefore,o=r.addonAfter,a=r.style,s=r.size,u=r.className,l=r.direction,c=r.hidden;if(!Nu(this.props))return t;var f="".concat(e,"-group"),d="".concat(f,"-addon"),h=i?b.createElement("span",{className:d},i):null,p=o?b.createElement("span",{className:d},o):null,g=oe()("".concat(e,"-wrapper"),f,(0,re.Z)({},"".concat(f,"-rtl"),"rtl"===l)),v=oe()("".concat(e,"-group-wrapper"),(n={},(0,re.Z)(n,"".concat(e,"-group-wrapper-sm"),"small"===s),(0,re.Z)(n,"".concat(e,"-group-wrapper-lg"),"large"===s),(0,re.Z)(n,"".concat(e,"-group-wrapper-rtl"),"rtl"===l),n),u);return b.createElement("span",{className:v,style:a,hidden:c},b.createElement("span",{className:g},h,Gs(t,{style:null}),p))}},{key:"renderTextAreaWithClearIcon",value:function(e,t){var n,r=this.props,i=r.value,o=r.allowClear,a=r.className,s=r.style,u=r.direction,l=r.bordered,c=r.hidden;if(!o)return Gs(t,{value:i});var f=oe()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),(n={},(0,re.Z)(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===u),(0,re.Z)(n,"".concat(e,"-affix-wrapper-borderless"),!l),(0,re.Z)(n,"".concat(a),!Nu(this.props)&&a),n));return b.createElement("span",{className:f,style:s,hidden:c},Gs(t,{style:null,value:i}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.inputType,r=e.element;return n===Au[0]?this.renderTextAreaWithClearIcon(t,r):this.renderInputWithLabel(t,this.renderLabeledIcon(t,r))}}]),n}(b.Component),Pu=Du;function Ou(e){return"undefined"===typeof e||null===e?"":String(e)}function Lu(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function Ru(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var Bu=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this,e)).direction="ltr",r.focus=function(e){Ru(r.input,e)},r.saveClearableInput=function(e){r.clearableInput=e},r.saveInput=function(e){r.input=e},r.onFocus=function(e){var t=r.props.onFocus;r.setState({focused:!0},r.clearPasswordValueAttribute),null===t||void 0===t||t(e)},r.onBlur=function(e){var t=r.props.onBlur;r.setState({focused:!1},r.clearPasswordValueAttribute),null===t||void 0===t||t(e)},r.handleReset=function(e){r.setValue("",(function(){r.focus()})),Lu(r.input,e,r.props.onChange)},r.renderInput=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.props,a=o.className,s=o.addonBefore,u=o.addonAfter,l=o.size,c=o.disabled,f=o.htmlSize,d=Le(r.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered","htmlSize","showCount"]);return b.createElement("input",x({autoComplete:i.autoComplete},d,{onChange:r.handleChange,onFocus:r.onFocus,onBlur:r.onBlur,onKeyDown:r.handleKeyDown,className:oe()(Iu(e,n,l||t,c,r.direction),(0,re.Z)({},a,a&&!s&&!u)),ref:r.saveInput,size:f}))},r.clearPasswordValueAttribute=function(){r.removePasswordTimeout=setTimeout((function(){r.input&&"password"===r.input.getAttribute("type")&&r.input.hasAttribute("value")&&r.input.removeAttribute("value")}))},r.handleChange=function(e){r.setValue(e.target.value,r.clearPasswordValueAttribute),Lu(r.input,e,r.props.onChange)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;n&&13===e.keyCode&&n(e),null===i||void 0===i||i(e)},r.renderShowCountSuffix=function(e){var t=r.state.value,n=r.props,i=n.maxLength,o=n.suffix,a=n.showCount,s=Number(i)>0;if(o||a){var u=(0,ne.Z)(Ou(t)).length,l=null;return l="object"===(0,je.Z)(a)?a.formatter({count:u,maxLength:i}):"".concat(u).concat(s?" / ".concat(i):""),b.createElement(b.Fragment,null,!!a&&b.createElement("span",{className:oe()("".concat(e,"-show-count-suffix"),(0,re.Z)({},"".concat(e,"-show-count-has-suffix"),!!o))},l),o)}return null},r.renderComponent=function(e){var t=e.getPrefixCls,n=e.direction,i=e.input,o=r.state,a=o.value,s=o.focused,u=r.props,l=u.prefixCls,c=u.bordered,f=void 0===c||c,d=t("input",l);r.direction=n;var h=r.renderShowCountSuffix(d);return b.createElement(_i.Consumer,null,(function(e){return b.createElement(Pu,x({size:e},r.props,{prefixCls:d,inputType:"input",value:Ou(a),element:r.renderInput(d,e,f,i),handleReset:r.handleReset,ref:r.saveClearableInput,direction:n,focused:s,triggerFocus:r.focus,bordered:f,suffix:h}))}))};var i="undefined"===typeof e.value?e.defaultValue:e.value;return r.state={value:i,focused:!1,prevValue:e.value},r}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){return Tu(e)!==Tu(this.props)&&Ai(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(e,t,n){this.input.setSelectionRange(e,t,n)}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(e,t){void 0===this.props.value?this.setState({value:e},t):null===t||void 0===t||t()}},{key:"render",value:function(){return b.createElement(Se,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevValue,r={prevValue:e.value};return void 0===e.value&&n===e.value||(r.value=e.value),e.disabled&&(r.focused=!1),r}}]),n}(b.Component);Bu.defaultProps={type:"text"};var zu=Bu,Fu=function(e){return b.createElement(Se,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=r("input-group",o),l=oe()(u,(n={},(0,re.Z)(n,"".concat(u,"-lg"),"large"===e.size),(0,re.Z)(n,"".concat(u,"-sm"),"small"===e.size),(0,re.Z)(n,"".concat(u,"-compact"),e.compact),(0,re.Z)(n,"".concat(u,"-rtl"),"rtl"===i),n),s);return b.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},ju={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Gu=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:ju}))};Gu.displayName="SearchOutlined";var Vu,Uu=b.forwardRef(Gu),Wu=(0,q.Z)((function e(t){(0,K.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),Zu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Hu=function(e){return b.createElement(Se,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.size,s=e.className,u=Zu(e,["prefixCls","size","className"]),l=r("btn-group",o),c="";switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:console.warn(new Wu(a).error)}var f=oe()(l,(n={},(0,re.Z)(n,"".concat(l,"-").concat(c),c),(0,re.Z)(n,"".concat(l,"-rtl"),"rtl"===i),n),s);return b.createElement("div",x({},u,{className:f}))}))},Yu=0,Xu={};function Ku(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Yu++,r=t;function i(){(r-=1)<=0?(e(),delete Xu[n]):Xu[n]=Fi(i)}return Xu[n]=Fi(i),n}function qu(e){return!e||null===e.offsetParent||e.hidden}function $u(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Ku.cancel=function(e){void 0!==e&&(Fi.cancel(Xu[e]),delete Xu[e])},Ku.ids=Xu;var Qu=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.apply(this,arguments)).containerRef=b.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||qu(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,An.Z)(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var l=e.getAttributeName();if(t.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&$u(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;Vu=At("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!qu(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Ku.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Ku((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!b.isValidElement(r))return r;var i=e.containerRef;return Ti(r)&&(i=Ii(r.ref,e.containerRef)),Gs(r,{ref:i})},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Vu&&(Vu.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return b.createElement(Se,null,this.renderWave)}}]),n}(b.Component);Qu.contextType=_e;var Ju=function(){return{width:0,opacity:0,transform:"scale(0)"}},el=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},tl=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?b.createElement("span",{className:"".concat(t,"-loading-icon")},b.createElement(ou,null)):b.createElement(Lo,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Ju,onAppearActive:el,onEnterStart:Ju,onEnterActive:el,onLeaveStart:el,onLeaveActive:Ju},(function(e,n){var r=e.className,i=e.style;return b.createElement("span",{className:"".concat(t,"-loading-icon"),style:i,ref:n},b.createElement(ou,{className:r}))}))},nl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rl=/^[\u4e00-\u9fa5]{2}$/,il=rl.test.bind(rl);function ol(e){return"text"===e||"link"===e}function al(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&function(e){return"string"===typeof e}(e.type)&&il(e.props.children)?Gs(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?il(e)?b.createElement("span",null,e.split("").join(n)):b.createElement("span",null,e):function(e){return b.isValidElement(e)&&e.type===b.Fragment}(e)?b.createElement("span",null,e):e}}fn("default","primary","ghost","dashed","link","text"),fn("default","circle","round"),fn("submit","button","reset");function sl(e){return"danger"===e?{danger:!0}:{type:e}}var ul=function(e,t){var n,r=e.loading,i=void 0!==r&&r,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.danger,l=e.shape,c=void 0===l?"default":l,f=e.size,d=e.className,h=e.children,p=e.icon,g=e.ghost,v=void 0!==g&&g,m=e.block,w=void 0!==m&&m,_=e.htmlType,S=void 0===_?"button":_,E=nl(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),C=b.useContext(_i),k=b.useState(!!i),M=(0,y.Z)(k,2),I=M[0],T=M[1],A=b.useState(!1),N=(0,y.Z)(A,2),D=N[0],P=N[1],O=b.useContext(_e),L=O.getPrefixCls,R=O.autoInsertSpaceInButton,B=O.direction,z=t||b.createRef(),F=function(){return 1===b.Children.count(h)&&!p&&!ol(s)},j="object"===(0,je.Z)(i)&&i.delay?i.delay||!0:!!i;b.useEffect((function(){var e=null;return"number"===typeof j?e=window.setTimeout((function(){e=null,T(j)}),j):T(j),function(){e&&(window.clearTimeout(e),e=null)}}),[j]),b.useEffect((function(){if(z&&z.current&&!1!==R){var e=z.current.textContent;F()&&il(e)?D||P(!0):D&&P(!1)}}),[z]);var G=function(t){var n,r=e.onClick,i=e.disabled;I||i?t.preventDefault():null===(n=r)||void 0===n||n(t)};Ai(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),Ai(!(v&&ol(s)),"Button","`link` or `text` button can't be a `ghost` button.");var V=L("btn",o),U=!1!==R,W=f||C,Z=W&&{large:"lg",small:"sm",middle:void 0}[W]||"",H=I?"loading":p,Y=oe()(V,(n={},(0,re.Z)(n,"".concat(V,"-").concat(c),"default"!==c&&c),(0,re.Z)(n,"".concat(V,"-").concat(s),s),(0,re.Z)(n,"".concat(V,"-").concat(Z),Z),(0,re.Z)(n,"".concat(V,"-icon-only"),!h&&0!==h&&!!H),(0,re.Z)(n,"".concat(V,"-background-ghost"),v&&!ol(s)),(0,re.Z)(n,"".concat(V,"-loading"),I),(0,re.Z)(n,"".concat(V,"-two-chinese-chars"),D&&U),(0,re.Z)(n,"".concat(V,"-block"),w),(0,re.Z)(n,"".concat(V,"-dangerous"),!!u),(0,re.Z)(n,"".concat(V,"-rtl"),"rtl"===B),n),d),X=p&&!I?p:b.createElement(tl,{existIcon:!!p,prefixCls:V,loading:!!I}),K=h||0===h?function(e,t){var n=!1,r=[];return b.Children.forEach(e,(function(e){var t=(0,je.Z)(e),i="string"===t||"number"===t;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(e)}else r.push(e);n=i})),b.Children.map(r,(function(e){return al(e,t)}))}(h,F()&&U):null,q=Le(E,["navigate"]);if(void 0!==q.href)return b.createElement("a",x({},q,{className:Y,onClick:G,ref:z}),X,K);var $=b.createElement("button",x({},E,{type:S,className:Y,onClick:G,ref:z}),X,K);return ol(s)?$:b.createElement(Qu,{disabled:!!I},$)},ll=b.forwardRef(ul);ll.displayName="Button",ll.Group=Hu,ll.__ANT_BUTTON=!0;var cl=ll,fl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dl=b.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=e.inputPrefixCls,a=e.className,s=e.size,u=e.suffix,l=e.enterButton,c=void 0!==l&&l,f=e.addonAfter,d=e.loading,h=e.disabled,p=e.onSearch,g=e.onChange,v=fl(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),m=b.useContext(_e),y=m.getPrefixCls,w=m.direction,_=b.useContext(_i),S=s||_,E=b.useRef(null),C=function(e){var t;document.activeElement===(null===(t=E.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=function(e){var t;p&&p(null===(t=E.current)||void 0===t?void 0:t.input.value,e)},M=y("input-search",i),I=y("input",o),T="boolean"===typeof c?b.createElement(Uu,null):null,A="".concat(M,"-button"),N=c||{},D=N.type&&!0===N.type.__ANT_BUTTON;r=D||"button"===N.type?Gs(N,x({onMouseDown:C,onClick:function(e){var t,n;null===(n=null===(t=null===N||void 0===N?void 0:N.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},D?{className:A,size:S}:{})):b.createElement(cl,{className:A,type:c?"primary":void 0,size:S,disabled:h,key:"enterButton",onMouseDown:C,onClick:k,loading:d,icon:T},c),f&&(r=[r,Gs(f,{key:"addonAfter"})]);var P=oe()(M,(n={},(0,re.Z)(n,"".concat(M,"-rtl"),"rtl"===w),(0,re.Z)(n,"".concat(M,"-").concat(S),!!S),(0,re.Z)(n,"".concat(M,"-with-button"),!!c),n),a);return b.createElement(zu,x({ref:Ii(E,t),onPressEnter:k},v,{size:S,prefixCls:I,addonAfter:r,suffix:u,onChange:function(e){e&&e.target&&"click"===e.type&&p&&p(e.target.value,e),g&&g(e)},className:P,disabled:h}))}));dl.displayName="Search";var hl=dl,pl=new Map;var gl=new us((function(e){e.forEach((function(e){var t,n=e.target;null===(t=pl.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var vl=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(b.Component),ml=b.createContext(null);function yl(e){var t=e.children,n=e.disabled,r=b.useRef(null),i=b.useRef(null),o=b.useContext(ml),a="function"===typeof t,s=a?t(r):t,u=b.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!a&&b.isValidElement(s)&&Ti(s),c=l?s.ref:null,f=b.useMemo((function(){return Ii(c,r)}),[c,r]),d=b.useRef(e);d.current=e;var h=b.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,f=Math.floor(a),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:f,height:h,offsetWidth:l,offsetHeight:c};u.current=p;var g=l===Math.round(a)?a:l,v=c===Math.round(s)?s:c,m=Oe(Oe({},p),{},{offsetWidth:g,offsetHeight:v});null===o||void 0===o||o(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return b.useEffect((function(){var e,t,o=Gi(r.current)||Gi(i.current);return o&&!n&&(e=o,t=h,pl.has(e)||(pl.set(e,new Set),gl.observe(e)),pl.get(e).add(t)),function(){return function(e,t){pl.has(e)&&(pl.get(e).delete(t),pl.get(e).size||(gl.unobserve(e),pl.delete(e)))}(o,h)}}),[r.current,n]),b.createElement(vl,{ref:i},l?b.cloneElement(s,{ref:f}):s)}function bl(e){var t=e.children;return("function"===typeof t?[t]:Dn(t)).map((function(t,n){var r=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return b.createElement(yl,x({},e,{key:r}),t)}))}bl.Collection=function(e){var t=e.children,n=e.onBatchResize,r=b.useRef(0),i=b.useRef([]),o=b.useContext(ml),a=b.useCallback((function(e,t,a){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(e,t,a)}),[n,o]);return b.createElement(ml.Provider,{value:a},t)};var xl,wl=bl,_l="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Sl=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],El={};function Cl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&El[n])return El[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Sl.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(El[n]=u),u}var kl,Ml=n(9613),Il=n.n(Ml);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(kl||(kl={}));var Tl=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(e){r.textArea=e},r.handleResize=function(e){var t=r.state.resizeStatus,n=r.props,i=n.autoSize,o=n.onResize;t===kl.NONE&&("function"===typeof o&&o(e),i&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var e=r.props.autoSize;if(e&&r.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xl||((xl=document.createElement("textarea")).setAttribute("tab-index","-1"),xl.setAttribute("aria-hidden","true"),document.body.appendChild(xl)),e.getAttribute("wrap")?xl.setAttribute("wrap",e.getAttribute("wrap")):xl.removeAttribute("wrap");var i=Cl(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;xl.setAttribute("style","".concat(u,";").concat(_l)),xl.value=e.value||e.placeholder||"";var l,c=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=xl.scrollHeight;if("border-box"===s?d+=a:"content-box"===s&&(d-=o),null!==n||null!==r){xl.value=" ";var h=xl.scrollHeight-o;null!==n&&(c=h*n,"border-box"===s&&(c=c+o+a),d=Math.max(c,d)),null!==r&&(f=h*r,"border-box"===s&&(f=f+o+a),l=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:c,maxHeight:f,overflowY:l,resize:"none"}}(r.textArea,!1,t,n);r.setState({textareaStyles:i,resizeStatus:kl.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:kl.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:kl.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var e=r.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,i=e.autoSize,o=e.onResize,a=e.className,s=e.disabled,u=r.state,l=u.textareaStyles,c=u.resizeStatus,f=Le(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=oe()(n,a,(0,re.Z)({},"".concat(n,"-disabled"),s));"value"in f&&(f.value=f.value||"");var h=Oe(Oe(Oe({},r.props.style),l),c===kl.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return b.createElement(wl,{onResize:r.handleResize,disabled:!(i||o)},b.createElement("textarea",x({},f,{className:d,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:kl.NONE},r}return(0,q.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&Il()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(li){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(b.Component),Al=Tl,Nl=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,q.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return b.createElement(Al,x({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(b.Component),Dl=Nl,Pl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ol(e,t){return(0,ne.Z)(e||"").slice(0,t).join("")}function Ll(e,t,n,r){var i=n;return e?i=Ol(n,r):(0,ne.Z)(t||"").length<n.length&&(0,ne.Z)(n||"").length>r&&(i=t),i}var Rl=b.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.bordered,o=void 0===i||i,a=e.showCount,s=void 0!==a&&a,u=e.maxLength,l=e.className,c=e.style,f=e.size,d=e.onCompositionStart,h=e.onCompositionEnd,p=e.onChange,g=Pl(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange"]),v=b.useContext(_e),m=v.getPrefixCls,w=v.direction,_=b.useContext(_i),S=b.useRef(null),E=b.useRef(null),C=b.useState(!1),k=(0,y.Z)(C,2),M=k[0],I=k[1],T=b.useRef(),A=b.useRef(0),N=Ls(g.defaultValue,{value:g.value}),D=(0,y.Z)(N,2),P=D[0],O=D[1],L=g.hidden,R=function(e,t){void 0===g.value&&(O(e),null===t||void 0===t||t())},B=Number(u)>0,z=m("input",r);b.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=S.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;Ru(null===(n=null===(t=S.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=S.current)||void 0===e?void 0:e.blur()}}}));var F=b.createElement(Dl,x({},Le(g,["allowClear"]),{className:oe()((n={},(0,re.Z)(n,"".concat(z,"-borderless"),!o),(0,re.Z)(n,l,l&&!s),(0,re.Z)(n,"".concat(z,"-sm"),"small"===_||"small"===f),(0,re.Z)(n,"".concat(z,"-lg"),"large"===_||"large"===f),n)),style:s?void 0:c,prefixCls:z,onCompositionStart:function(e){I(!0),T.current=P,A.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onChange:function(e){var t=e.target.value;!M&&B&&(t=Ll(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,P,t,u));R(t),Lu(e.currentTarget,e,p,t)},onCompositionEnd:function(e){var t;I(!1);var n=e.currentTarget.value;B&&(n=Ll(A.current>=u+1||A.current===(null===(t=T.current)||void 0===t?void 0:t.length),T.current,n,u));n!==P&&(R(n),Lu(e.currentTarget,e,p,n)),null===h||void 0===h||h(e)},ref:S})),j=Ou(P);M||!B||null!==g.value&&void 0!==g.value||(j=Ol(j,u));var G=b.createElement(Pu,x({},g,{prefixCls:z,direction:w,inputType:"text",value:j,element:F,handleReset:function(e){var t,n;R("",(function(){var e;null===(e=S.current)||void 0===e||e.focus()})),Lu(null===(n=null===(t=S.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,p)},ref:E,bordered:o,style:s?void 0:c}));if(s){var V=(0,ne.Z)(j).length,U="";return U="object"===(0,je.Z)(s)?s.formatter({count:V,maxLength:u}):"".concat(V).concat(B?" / ".concat(u):""),b.createElement("div",{hidden:L,className:oe()("".concat(z,"-textarea"),(0,re.Z)({},"".concat(z,"-textarea-rtl"),"rtl"===w),"".concat(z,"-textarea-show-count"),l),style:c,"data-count":U},G)}return G})),Bl=Rl,zl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Fl=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:zl}))};Fl.displayName="EyeOutlined";var jl=b.forwardRef(Fl),Gl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Vl=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Gl}))};Vl.displayName="EyeInvisibleOutlined";var Ul=b.forwardRef(Vl),Wl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zl={click:"onClick",hover:"onMouseOver"},Hl=b.forwardRef((function(e,t){var n=(0,b.useState)(!1),r=(0,y.Z)(n,2),i=r[0],o=r[1],a=function(){e.disabled||o(!i)},s=function(n){var r=n.getPrefixCls,o=e.className,s=e.prefixCls,u=e.inputPrefixCls,l=e.size,c=e.visibilityToggle,f=Wl(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=r("input",u),h=r("input-password",s),p=c&&function(t){var n,r=e.action,o=e.iconRender,s=Zl[r]||"",u=(void 0===o?function(){return null}:o)(i),l=(n={},(0,re.Z)(n,s,a),(0,re.Z)(n,"className","".concat(t,"-icon")),(0,re.Z)(n,"key","passwordIcon"),(0,re.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,re.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return b.cloneElement(b.isValidElement(u)?u:b.createElement("span",null,u),l)}(h),g=oe()(h,o,(0,re.Z)({},"".concat(h,"-").concat(l),!!l)),v=x(x({},Le(f,["suffix","iconRender"])),{type:i?"text":"password",className:g,prefixCls:d,suffix:p});return l&&(v.size=l),b.createElement(zu,x({ref:t},v))};return b.createElement(Se,null,s)}));Hl.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?b.createElement(jl,null):b.createElement(Ul,null)}},Hl.displayName="Password";var Yl=Hl;zu.Group=Fu,zu.Search=hl,zu.TextArea=Bl,zu.Password=Yl;var Xl=zu,Kl=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:Oe(Oe({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,q.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.name,a=t.id,s=t.type,u=t.disabled,l=t.readOnly,c=t.tabIndex,f=t.onClick,d=t.onFocus,h=t.onBlur,p=t.onKeyDown,g=t.onKeyPress,v=t.onKeyUp,m=t.autoFocus,y=t.value,w=t.required,_=ze(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),S=Object.keys(_).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=_[t]),e}),{}),E=this.state.checked,C=oe()(n,r,(e={},(0,re.Z)(e,"".concat(n,"-checked"),E),(0,re.Z)(e,"".concat(n,"-disabled"),u),e));return b.createElement("span",{className:C,style:i},b.createElement("input",x({name:o,id:a,type:s,required:w,readOnly:l,disabled:u,tabIndex:c,className:"".concat(n,"-input"),checked:!!E,onClick:f,onFocus:d,onBlur:h,onKeyUp:v,onKeyDown:p,onKeyPress:g,onChange:this.handleChange,autoFocus:m,ref:this.saveInput,value:y},S)),b.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Oe(Oe({},t),{},{checked:e.checked}):null}}]),n}(b.Component);Kl.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var ql=Kl,$l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ql=b.createContext(null),Jl=function(e,t){var n=e.defaultValue,r=e.children,i=e.options,o=void 0===i?[]:i,a=e.prefixCls,s=e.className,u=e.style,l=e.onChange,c=$l(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=b.useContext(_e),d=f.getPrefixCls,h=f.direction,p=b.useState(c.value||n||[]),g=(0,y.Z)(p,2),v=g[0],m=g[1],w=b.useState([]),_=(0,y.Z)(w,2),S=_[0],E=_[1];b.useEffect((function(){"value"in c&&m(c.value||[])}),[c.value]);var C=function(){return o.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},k=d("checkbox",a),M="".concat(k,"-group"),I=Le(c,["value","disabled"]);o&&o.length>0&&(r=C().map((function(e){return b.createElement(oc,{prefixCls:k,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:-1!==v.indexOf(e.value),onChange:e.onChange,className:"".concat(M,"-item"),style:e.style},e.label)})));var T={toggleOption:function(e){var t=v.indexOf(e.value),n=(0,ne.Z)(v);-1===t?n.push(e.value):n.splice(t,1),"value"in c||m(n);var r=C();null===l||void 0===l||l(n.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:v,disabled:c.disabled,name:c.name,registerValue:function(e){E((function(t){return[].concat((0,ne.Z)(t),[e])}))},cancelValue:function(e){E((function(t){return t.filter((function(t){return t!==e}))}))}},A=oe()(M,(0,re.Z)({},"".concat(M,"-rtl"),"rtl"===h),s);return b.createElement("div",x({className:A,style:u},I,{ref:t}),b.createElement(Ql.Provider,{value:T},r))},ec=b.forwardRef(Jl),tc=b.memo(ec),nc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rc=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.children,a=e.indeterminate,s=void 0!==a&&a,u=e.style,l=e.onMouseEnter,c=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,h=nc(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=b.useContext(_e),g=p.getPrefixCls,v=p.direction,m=b.useContext(Ql),y=b.useRef(h.value);b.useEffect((function(){null===m||void 0===m||m.registerValue(h.value),Ai("checked"in h||!!m||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),b.useEffect((function(){if(!d)return h.value!==y.current&&(null===m||void 0===m||m.cancelValue(y.current),null===m||void 0===m||m.registerValue(h.value),y.current=h.value),function(){return null===m||void 0===m?void 0:m.cancelValue(h.value)}}),[h.value]);var w=g("checkbox",r),_=x({},h);m&&!d&&(_.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),m.toggleOption&&m.toggleOption({label:o,value:h.value})},_.name=m.name,_.checked=-1!==m.value.indexOf(h.value),_.disabled=h.disabled||m.disabled);var S=oe()((n={},(0,re.Z)(n,"".concat(w,"-wrapper"),!0),(0,re.Z)(n,"".concat(w,"-rtl"),"rtl"===v),(0,re.Z)(n,"".concat(w,"-wrapper-checked"),_.checked),(0,re.Z)(n,"".concat(w,"-wrapper-disabled"),_.disabled),n),i),E=oe()((0,re.Z)({},"".concat(w,"-indeterminate"),s));return b.createElement("label",{className:S,style:u,onMouseEnter:l,onMouseLeave:c},b.createElement(ql,x({},_,{prefixCls:w,className:E,ref:t})),void 0!==o&&b.createElement("span",null,o))},ic=b.forwardRef(rc);ic.displayName="Checkbox";var oc=ic,ac=oc;ac.Group=tc,ac.__ANT_CHECKBOX=!0;var sc=ac,uc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},lc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:uc}))};lc.displayName="UserOutlined";var cc=b.forwardRef(lc),fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},dc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:fc}))};dc.displayName="LockOutlined";var hc=b.forwardRef(dc),pc=n(4569),gc=n.n(pc),vc=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.closable,o=t.closeIcon,a=t.style,s=t.onClick,u=t.children,l=t.holder,c="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),d=b.createElement("div",x({className:oe()(c,r,(0,re.Z)({},"".concat(c,"-closable"),i)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:s},f),b.createElement("div",{className:"".concat(c,"-content")},u),i?b.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(c,"-close")},o||b.createElement("span",{className:"".concat(c,"-close-x")})):null);return l?m.createPortal(d,l):d}}]),n}(b.Component);function mc(e){var t=b.useRef({}),n=b.useState([]),r=(0,y.Z)(n,2),i=r[0],o=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var i=n.key;if(e&&(!t.current[i]||r)){var a=b.createElement(vc,x({},n,{holder:e}));t.current[i]=a,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,ne.Z)(e),[a]);var r=(0,ne.Z)(e);return r[t]=a,r}))}r=!1}))},b.createElement(b.Fragment,null,i)]}vc.defaultProps={onClose:function(){},duration:1.5};var yc=0,bc=Date.now();function xc(){var e=yc;return yc+=1,"rcNotification_".concat(bc,"_").concat(e)}var wc=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||xc(),i=Oe(Oe({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=xc(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,q.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,o=n.closeIcon,a=n.style,s=[];return t.forEach((function(n,i){var a=n.notice,u=n.holderCallback,l=i===t.length-1?a.updateMark:void 0,c=a.key,f=a.userPassKey,d=Oe(Oe(Oe({prefixCls:r,closeIcon:o},a),a.props),{},{key:c,noticeKey:f||c,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(c),e.noticePropsMap[c]={props:d,holderCallback:u}})),b.createElement("div",{className:oe()(r,i),style:a},b.createElement(Oo,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,i=t.className,o=t.style,a=t.visible,s=e.noticePropsMap[n],u=s.props,l=s.holderCallback;return l?b.createElement("div",{key:n,className:oe()(i,"".concat(r,"-hook-holder")),style:Oe({},o),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),l(t,u)):e.hookRefs.delete(n))}}):b.createElement(vc,x({},u,{className:oe()(i,null===u||void 0===u?void 0:u.className),style:Oe(Oe({},o),null===u||void 0===u?void 0:u.style),visible:a}))})))}}]),n}(b.Component);wc.newInstance=void 0,wc.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},wc.newInstance=function(e,t){var n=e||{},r=n.getContainer,i=ze(n,["getContainer"]),o=document.createElement("div");r?r().appendChild(o):document.body.appendChild(o);var a=!1;m.render(b.createElement(wc,x({},i,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){m.unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return mc(e)}}))}})),o)};var _c=wc,Sc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Ec=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Sc}))};Ec.displayName="InfoCircleFilled";var Cc=b.forwardRef(Ec);var kc=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Mc(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||kc(r)&&kc(i)))return!1;var r,i;return!0}function Ic(e,t){void 0===t&&(t=Mc);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}var Tc=x({},ce.Modal);function Ac(e){Tc=e?x(x({},Tc),e):x({},ce.Modal)}function Nc(){return Tc}var Dc="internalMark",Pc=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=Ic((function(e){return x(x({},e),{exist:!0})})),Ac(e.locale&&e.locale.Modal),Ai(e._ANT_MARK__===Dc,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){Ac(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Ac(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Ac()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return b.createElement(de.Provider,{value:r},n)}}]),n}(b.Component);Pc.defaultProps={locale:{}};var Oc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Lc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Oc}))};Lc.displayName="CloseOutlined";var Rc=b.forwardRef(Lc),Bc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},zc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Bc}))};zc.displayName="CheckCircleOutlined";var Fc=b.forwardRef(zc),jc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},Gc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:jc}))};Gc.displayName="CloseCircleOutlined";var Vc=b.forwardRef(Gc),Uc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},Wc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Uc}))};Wc.displayName="ExclamationCircleOutlined";var Zc=b.forwardRef(Wc),Hc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Yc=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Hc}))};Yc.displayName="InfoCircleOutlined";var Xc=b.forwardRef(Yc);var Kc,qc,$c,Qc={},Jc=4.5,ef=24,tf=24,nf="",rf="topRight",of=!1;function af(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ef,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tf;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function sf(e,t){var n=e.placement,r=void 0===n?rf:n,i=e.top,o=e.bottom,a=e.getContainer,s=void 0===a?Kc:a,u=e.prefixCls,l=bf(),c=l.getPrefixCls,f=l.getIconPrefixCls,d=c("notification",u||nf),h=f(),p="".concat(d,"-").concat(r),g=Qc[p];if(g)Promise.resolve(g).then((function(e){t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:e})}));else{var v=oe()("".concat(d,"-").concat(r),(0,re.Z)({},"".concat(d,"-rtl"),!0===of));Qc[p]=new Promise((function(e){_c.newInstance({prefixCls:d,className:v,style:af(r,i,o),getContainer:s,maxCount:$c},(function(n){e(n),t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var uf={success:Fc,info:Xc,error:Vc,warning:Zc};function lf(e,t,n){var r=e.duration,i=e.icon,o=e.type,a=e.description,s=e.message,u=e.btn,l=e.onClose,c=e.onClick,f=e.key,d=e.style,h=e.className,p=e.closeIcon,g=void 0===p?qc:p,v=void 0===r?Jc:r,m=null;i?m=b.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(m=b.createElement(uf[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var y=b.createElement("span",{className:"".concat(t,"-close-x")},g||b.createElement(Rc,{className:"".concat(t,"-close-icon")})),x=!a&&m?b.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:b.createElement(kf,{iconPrefixCls:n},b.createElement("div",{className:m?"".concat(t,"-with-icon"):"",role:"alert"},m,b.createElement("div",{className:"".concat(t,"-message")},x,s),b.createElement("div",{className:"".concat(t,"-description")},a),u?b.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:v,closable:!0,closeIcon:y,onClose:l,onClick:c,key:f,style:d||{},className:oe()(h,(0,re.Z)({},"".concat(t,"-").concat(o),!!o))}}var cf={open:function(e){sf(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(lf(e,n,r))}))},close:function(e){Object.keys(Qc).forEach((function(t){return Promise.resolve(Qc[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(nf=s),void 0!==t&&(Jc=t),void 0!==n?rf=n:e.rtl&&(rf="topLeft"),void 0!==r&&(tf=r),void 0!==i&&(ef=i),void 0!==o&&(Kc=o),void 0!==a&&(qc=a),void 0!==e.rtl&&(of=e.rtl),void 0!==e.maxCount&&($c=e.maxCount)},destroy:function(){Object.keys(Qc).forEach((function(e){Promise.resolve(Qc[e]).then((function(e){e.destroy()})),delete Qc[e]}))}};["success","info","warning","error"].forEach((function(e){cf[e]=function(t){return cf.open(x(x({},t),{type:e}))}})),cf.warn=cf.warning,cf.useNotification=function(e,t){return function(){var n,r=null,i=mc({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),o=(0,y.Z)(i,2),a=o[0],s=o[1];var u=b.useRef({});return u.current.open=function(i){var o=i.prefixCls,s=n("notification",o);e(x(x({},i),{prefixCls:s}),(function(e){var n=e.prefixCls,o=e.instance;r=o,a(t(i,n))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(x(x({},t),{type:e}))}})),[u.current,b.createElement(Se,{key:"holder"},(function(e){return n=e.getPrefixCls,s}))]}}(sf,lf);var ff=cf,df=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=et(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Ue(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Xe(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Xe(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=He(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=He(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Ke(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[Ze(Math.round(e).toString(16)),Ze(Math.round(t).toString(16)),Ze(Math.round(n).toString(16)),Ze(qe(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*Ge(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Ge(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Ke(this.r,this.g,this.b,!1),t=0,n=Object.entries(Je);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Ve(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Ve(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Ve(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Ve(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var hf="-ant-".concat(Date.now(),"-").concat(Math.random());var pf,gf,vf=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function mf(){return pf||"ant"}function yf(){return gf||"anticon"}var bf=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(mf(),"-").concat(e):mf())},getIconPrefixCls:yf,getRootPrefixCls:function(e,t){return e||(pf||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):mf()))}}},xf=function(e){var t,n,r=e.children,i=e.csp,o=e.autoInsertSpaceInButton,a=e.form,s=e.locale,u=e.componentSize,l=e.direction,c=e.space,f=e.virtual,d=e.dropdownMatchSelectWidth,h=e.legacyLocale,p=e.parentContext,g=e.iconPrefixCls,v=b.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||p.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[p.getPrefixCls,e.prefixCls]),m=x(x({},p),{csp:i,autoInsertSpaceInButton:o,locale:s||h,direction:l,space:c,virtual:f,dropdownMatchSelectWidth:d,getPrefixCls:v});vf.forEach((function(t){var n=e[t];n&&(m[t]=n)}));var y=ki((function(){return m}),m,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=b.useMemo((function(){return{prefixCls:g,csp:i}}),[g]),_=r,S={};return s&&(S=(null===(t=s.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=ce.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),a&&a.validateMessages&&(S=x(x({},S),a.validateMessages)),Object.keys(S).length>0&&(_=b.createElement(Jr,{validateMessages:S},r)),s&&(_=b.createElement(Pc,{locale:s,_ANT_MARK__:Dc},_)),g&&(_=b.createElement(Fe.Provider,{value:w},_)),u&&(_=b.createElement(wi,{size:u},_)),b.createElement(_e.Provider,{value:y},_)},wf=function(e){return b.useEffect((function(){e.direction&&(Ff.config({rtl:"rtl"===e.direction}),ff.config({rtl:"rtl"===e.direction}))}),[e.direction]),b.createElement(he,null,(function(t,n,r){return b.createElement(Se,null,(function(t){return b.createElement(xf,x({parentContext:t,legacyLocale:r},e))}))}))};wf.ConfigContext=_e,wf.SizeContext=_i,wf.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(pf=t),void 0!==n&&(gf=n),r&&function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new df(e),o=ht(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[1],n["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new df(t.primaryColor),a=ht(o.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new df(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var u=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));St()?At("\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  "),"".concat(hf,"-dynamic-theme")):Ai(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}(mf(),r)};var _f,Sf,Ef,Cf,kf=wf,Mf=3,If=1,Tf="",Af="move-up",Nf=!1,Df=!1;function Pf(){return If++}function Of(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=bf(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,u=o("message",n||Tf),l=a(e.rootPrefixCls,u),c=s();if(_f)t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:_f});else{var f={prefixCls:u,transitionName:Nf?Af:"".concat(l,"-").concat(Af),style:{top:Sf},getContainer:Ef||r,maxCount:Cf};_c.newInstance(f,(function(e){_f?t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:_f}):(_f=e,t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:e}))}))}}var Lf={info:Cc,success:fu,error:uu,warning:pu,loading:ou};function Rf(e,t,n){var r,i=void 0!==e.duration?e.duration:Mf,o=Lf[e.type],a=oe()("".concat(t,"-custom-content"),(r={},(0,re.Z)(r,"".concat(t,"-").concat(e.type),e.type),(0,re.Z)(r,"".concat(t,"-rtl"),!0===Df),r));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:b.createElement(kf,{iconPrefixCls:n},b.createElement("div",{className:a},e.icon||o&&b.createElement(o,null),b.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var Bf={open:function(e){var t=e.key||Pf(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};Of(e,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(Rf(x(x({},e),{key:t,onClose:r}),i,o))}))})),r=function(){_f&&_f.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(Sf=e.top,_f=null),void 0!==e.duration&&(Mf=e.duration),void 0!==e.prefixCls&&(Tf=e.prefixCls),void 0!==e.getContainer&&(Ef=e.getContainer,_f=null),void 0!==e.transitionName&&(Af=e.transitionName,_f=null,Nf=!0),void 0!==e.maxCount&&(Cf=e.maxCount,_f=null),void 0!==e.rtl&&(Df=e.rtl)},destroy:function(e){if(_f)if(e){(0,_f.removeNotice)(e)}else{var t=_f.destroy;t(),_f=null}}};function zf(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(x(x({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}["success","info","warning","error","loading"].forEach((function(e){return zf(Bf,e)})),Bf.warn=Bf.warning,Bf.useMessage=function(e,t){return function(){var n,r,i=null,o=mc({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),a=(0,y.Z)(o,2),s=a[0],u=a[1];var l=b.useRef({});return l.current.open=function(o){var a=o.prefixCls,u=n("message",a),l=n(),c=o.key||Pf(),f=new Promise((function(n){var a=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};e(x(x({},o),{prefixCls:u,rootPrefixCls:l,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;i=r,s(t(x(x({},o),{key:c,onClose:a}),n))}))})),d=function(){i&&i.removeNotice(c)};return d.then=function(e,t){return f.then(e,t)},d.promise=f,d},["success","info","warning","error","loading"].forEach((function(e){return zf(l.current,e)})),[l.current,b.createElement(Se,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,u}))]}}(Of,Rf);var Ff=Bf;var jf={baseURL:"http://124.222.27.83:8081/api"},Gf=gc().create({timeout:6e4,responseType:"json",baseURL:jf.baseURL,headers:{"Content-Type":"application/json;charset=UTF-8"}});Gf.interceptors.request.use((function(e){var t=window.sessionStorage.getItem("token");return e.headers={Authorization:t},e}),(function(e){return Promise.reject(e)})),Gf.interceptors.response.use((function(e){var t;if("401"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.statusCode))Ff.error("\u8bf7\u5148\u767b\u5f55\uff01"),window.location.href="/";return e}),(function(e){var t=e.response,n=t.data;switch(null===t||void 0===t?void 0:t.status){case 400:Ff.error(n.message);break;case 401:Ff.error("\u8bf7\u5148\u767b\u5f55\uff01"),window.location.href="/"}return Promise.reject(t||{message:e.message})}));var Vf=Gf,Uf=function(){function e(){(0,K.Z)(this,e)}return(0,q.Z)(e,[{key:"Login",value:function(e){return Vf.post("/Login/Login",e)}},{key:"LogOut",value:function(){return Vf.delete("/Login/LogOut")}}]),e}(),Wf=new Uf,Zf=n(9704),Hf=n.n(Zf);function Yf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TOKENKEY",n=Hf().enc.Utf8.parse(t),r=Hf().enc.Utf8.parse(t),i=Hf().DES.encrypt(e,n,{iv:r,mode:Hf().mode.CBC,padding:Hf().pad.Pkcs7});return i.ciphertext.toString().toLocaleUpperCase()}var Xf=ln.Footer,Kf=ln.Content,qf=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"onFinish",value:function(e){e.password=Yf(e.password),Wf.Login(e).then((function(e){var t=e.data;200===t.statusCode&&(window.sessionStorage.setItem("token",t.data.token),window.sessionStorage.setItem("user",JSON.stringify(t.data.userInfo)),window.location.href="/admin")}))}},{key:"render",value:function(){return(0,J.jsx)("div",{className:"Login_div",children:(0,J.jsxs)(ln,{children:[(0,J.jsx)(Kf,{children:(0,J.jsxs)(En,{children:[(0,J.jsx)(Tn,{xs:2,sm:4,md:6,lg:8,xl:10}),(0,J.jsx)(Tn,{xs:20,sm:16,md:12,lg:8,xl:4,children:(0,J.jsxs)("div",{className:"Login ContentLogin",children:[(0,J.jsx)("div",{className:"Title",children:"Token\u7ba1\u7406\u7cfb\u7edf"}),(0,J.jsxs)(Mu,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[(0,J.jsx)(Mu.Item,{name:"accountNumber",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7"}],children:(0,J.jsx)(Xl,{prefix:(0,J.jsx)(cc,{className:"site-form-item-icon"}),placeholder:"Username"})}),(0,J.jsx)(Mu.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}],children:(0,J.jsx)(Xl,{prefix:(0,J.jsx)(hc,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,J.jsx)(Mu.Item,{children:(0,J.jsx)(Mu.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,J.jsx)(sc,{children:"\u8bb0\u4f4f\u5bc6\u7801"})})}),(0,J.jsx)(Mu.Item,{children:(0,J.jsx)(cl,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b\u5f55"})})]})]})}),(0,J.jsx)(Tn,{xs:2,sm:4,md:6,lg:8,xl:10})]})}),(0,J.jsx)(Xf,{})]})})}}]),n}(b.Component),$f=qf;function Qf(e){var t=(0,b.useRef)(),n=(0,b.useRef)(!1);return(0,b.useEffect)((function(){return function(){n.current=!0,Fi.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.current||(Fi.cancel(t.current),t.current=Fi((function(){e.apply(void 0,i)})))}}var Jf={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Jf.F1&&t<=Jf.F12)return!1;switch(t){case Jf.ALT:case Jf.CAPS_LOCK:case Jf.CONTEXT_MENU:case Jf.CTRL:case Jf.DOWN:case Jf.END:case Jf.ESC:case Jf.HOME:case Jf.INSERT:case Jf.LEFT:case Jf.MAC_FF_META:case Jf.META:case Jf.NUMLOCK:case Jf.NUM_CENTER:case Jf.PAGE_DOWN:case Jf.PAGE_UP:case Jf.PAUSE:case Jf.PRINT_SCREEN:case Jf.RIGHT:case Jf.SHIFT:case Jf.UP:case Jf.WIN_KEY:case Jf.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Jf.ZERO&&e<=Jf.NINE)return!0;if(e>=Jf.NUM_ZERO&&e<=Jf.NUM_MULTIPLY)return!0;if(e>=Jf.A&&e<=Jf.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Jf.SPACE:case Jf.QUESTION_MARK:case Jf.NUM_PLUS:case Jf.NUM_MINUS:case Jf.NUM_PERIOD:case Jf.NUM_DIVISION:case Jf.SEMICOLON:case Jf.DASH:case Jf.EQUALS:case Jf.COMMA:case Jf.PERIOD:case Jf.SLASH:case Jf.APOSTROPHE:case Jf.SINGLE_QUOTE:case Jf.OPEN_SQUARE_BRACKET:case Jf.BACKSLASH:case Jf.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ed=Jf;function td(e,t){var n,r=e.prefixCls,i=e.id,o=e.active,a=e.tab,s=a.key,u=a.tab,l=a.disabled,c=a.closeIcon,f=e.closable,d=e.renderWrapper,h=e.removeAriaLabel,p=e.editable,g=e.onClick,v=e.onRemove,m=e.onFocus,y=e.style,x="".concat(r,"-tab");b.useEffect((function(){return v}),[]);var w=p&&!1!==f&&!l;function _(e){l||g(e)}var S=b.createElement("div",{key:s,ref:t,className:oe()(x,(n={},(0,re.Z)(n,"".concat(x,"-with-remove"),w),(0,re.Z)(n,"".concat(x,"-active"),o),(0,re.Z)(n,"".concat(x,"-disabled"),l),n)),style:y,onClick:_},b.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(x,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(e){e.stopPropagation(),_(e)},onKeyDown:function(e){[ed.SPACE,ed.ENTER].includes(e.which)&&(e.preventDefault(),_(e))},onFocus:m},u),w&&b.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(x,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),p.onEdit("remove",{key:s,event:t})}},c||p.removeIcon||"\xd7"));return d?d(S):S}var nd=b.forwardRef(td),rd={width:0,height:0,left:0,top:0};var id={width:0,height:0,left:0,top:0,right:0};var od=St()?b.useLayoutEffect:b.useEffect,ad=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],sd=void 0;function ud(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,o=e.renderItem,a=e.responsive,s=e.registerSize,u=e.itemKey,l=e.className,c=e.style,f=e.children,d=e.display,h=e.order,p=e.component,g=void 0===p?"div":p,v=ze(e,ad),m=a&&!d;function y(e){s(u,e)}b.useEffect((function(){return function(){y(null)}}),[]);var w,_=o&&i!==sd?o(i):f;r||(w={opacity:m?0:1,height:m?0:sd,overflowY:m?"hidden":sd,order:a?h:sd,pointerEvents:m?"none":sd,position:m?"absolute":sd});var S={};m&&(S["aria-hidden"]=!0);var E=b.createElement(g,x({className:oe()(!r&&n,l),style:Oe(Oe({},w),c)},S,v,{ref:t}),_);return a&&(E=b.createElement(wl,{onResize:function(e){y(e.offsetWidth)}},E)),E}var ld=b.forwardRef(ud);ld.displayName="Item";var cd=ld;var fd=["component"],dd=["className"],hd=["className"],pd=function(e,t){var n=b.useContext(yd);if(!n){var r=e.component,i=void 0===r?"div":r,o=ze(e,fd);return b.createElement(i,x({},o,{ref:t}))}var a=n.className,s=ze(n,dd),u=e.className,l=ze(e,hd);return b.createElement(yd.Provider,{value:null},b.createElement(cd,x({ref:t,className:oe()(a,u)},s,l)))},gd=b.forwardRef(pd);gd.displayName="RawItem";var vd=gd,md=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],yd=b.createContext(null),bd="responsive",xd="invalidate";function wd(e){return"+ ".concat(e.length," ...")}function _d(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,o=void 0===i?[]:i,a=e.renderItem,s=e.renderRawItem,u=e.itemKey,l=e.itemWidth,c=void 0===l?10:l,f=e.ssr,d=e.style,h=e.className,p=e.maxCount,g=e.renderRest,v=e.renderRawRest,m=e.suffix,w=e.component,_=void 0===w?"div":w,S=e.itemComponent,E=e.onVisibleChange,C=ze(e,md),k=function(){var e=(0,b.useState)({}),t=(0,y.Z)(e,2)[1],n=(0,b.useRef)([]),r=(0,b.useRef)(!1),i=0,o=0;return(0,b.useEffect)((function(){return function(){r.current=!0}}),[]),function(e){var a=i;return i+=1,n.current.length<a+1&&(n.current[a]=e),[n.current[a],function(e){n.current[a]="function"===typeof e?e(n.current[a]):e,Fi.cancel(o),o=Fi((function(){r.current||t({})}))}]}}(),M="full"===f,I=k(null),T=(0,y.Z)(I,2),A=T[0],N=T[1],D=A||0,P=k(new Map),O=(0,y.Z)(P,2),L=O[0],R=O[1],B=k(0),z=(0,y.Z)(B,2),F=z[0],j=z[1],G=k(0),V=(0,y.Z)(G,2),U=V[0],W=V[1],Z=k(0),H=(0,y.Z)(Z,2),Y=H[0],X=H[1],K=(0,b.useState)(null),q=(0,y.Z)(K,2),$=q[0],Q=q[1],J=(0,b.useState)(null),ee=(0,y.Z)(J,2),te=ee[0],ne=ee[1],re=b.useMemo((function(){return null===te&&M?Number.MAX_SAFE_INTEGER:te||0}),[te,A]),ie=(0,b.useState)(!1),ae=(0,y.Z)(ie,2),se=ae[0],ue=ae[1],le="".concat(r,"-item"),ce=Math.max(F,U),fe=o.length&&p===bd,de=p===xd,he=fe||"number"===typeof p&&o.length>p,pe=(0,b.useMemo)((function(){var e=o;return fe?e=null===A&&M?o:o.slice(0,Math.min(o.length,D/c)):"number"===typeof p&&(e=o.slice(0,p)),e}),[o,c,A,p,fe]),ge=(0,b.useMemo)((function(){return fe?o.slice(re+1):o.slice(pe.length)}),[o,pe,fe,re]),ve=(0,b.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),me=(0,b.useCallback)(a||function(e){return e},[a]);function ye(e,t){ne(e),t||(ue(e<o.length-1),null===E||void 0===E||E(e))}function be(e,t){R((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function xe(e){return L.get(ve(pe[e],e))}od((function(){if(D&&ce&&pe){var e=Y,t=pe.length,n=t-1;if(!t)return ye(0),void Q(null);for(var r=0;r<t;r+=1){var i=xe(r);if(void 0===i){ye(r-1,!0);break}if(e+=i,0===n&&e<=D||r===n-1&&e+xe(n)<=D){ye(n),Q(null);break}if(e+ce>D){ye(r-1),Q(e-i-Y+U);break}}m&&xe(0)+Y>D&&Q(null)}}),[D,L,U,Y,ve,pe]);var we=se&&!!ge.length,_e={};null!==$&&fe&&(_e={position:"absolute",left:$,top:0});var Se,Ee={prefixCls:le,responsive:fe,component:S,invalidate:de},Ce=s?function(e,t){var n=ve(e,t);return b.createElement(yd.Provider,{key:n,value:Oe(Oe({},Ee),{},{order:t,item:e,itemKey:n,registerSize:be,display:t<=re})},s(e,t))}:function(e,t){var n=ve(e,t);return b.createElement(cd,x({},Ee,{order:t,key:n,item:e,renderItem:me,itemKey:n,registerSize:be,display:t<=re}))},ke={order:we?re:Number.MAX_SAFE_INTEGER,className:"".concat(le,"-rest"),registerSize:function(e,t){W(t),j(U)},display:we};if(v)v&&(Se=b.createElement(yd.Provider,{value:Oe(Oe({},Ee),ke)},v(ge)));else{var Me=g||wd;Se=b.createElement(cd,x({},Ee,ke),"function"===typeof Me?Me(ge):Me)}var Ie=b.createElement(_,x({className:oe()(!de&&r,h),style:d,ref:t},C),pe.map(Ce),he?Se:null,m&&b.createElement(cd,x({},Ee,{order:re,className:"".concat(le,"-suffix"),registerSize:function(e,t){X(t)},display:!0,style:_e}),m));return fe&&(Ie=b.createElement(wl,{onResize:function(e,t){N(t.clientWidth)}},Ie)),Ie}var Sd=b.forwardRef(_d);Sd.displayName="Overflow",Sd.Item=vd,Sd.RESPONSIVE=bd,Sd.INVALIDATE=xd;var Ed=Sd,Cd=["children","locked"],kd=b.createContext(null);function Md(e){var t=e.children,n=e.locked,r=ze(e,Cd),i=b.useContext(kd),o=ki((function(){return function(e,t){var n=Oe({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!Il()(e[1],t[1]))}));return b.createElement(kd.Provider,{value:o},t)}function Id(e,t,n,r){var i=b.useContext(kd),o=i.activeKey,a=i.onActive,s=i.onInactive,u={active:o===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var Td=["item"];function Ad(e){var t=e.item,n=ze(e,Td);return Object.defineProperty(n,"item",{get:function(){return _t(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Nd(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?b.createElement(t,Oe({},n)):t)||r||null}function Dd(e){var t=b.useContext(kd),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var Pd=[],Od=b.createContext(null);function Ld(){return b.useContext(Od)}var Rd=b.createContext(Pd);function Bd(e){var t=b.useContext(Rd);return b.useMemo((function(){return void 0!==e?[].concat((0,ne.Z)(t),[e]):t}),[t,e])}var zd=b.createContext(null),Fd=b.createContext(null);function jd(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Gd(e){return jd(b.useContext(Fd),e)}var Vd=b.createContext({}),Ud=["title","attribute","elementRef"],Wd=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Zd=["active"],Hd=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=Le(ze(e,Ud),["eventKey"]);return _t(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),b.createElement(Ed.Item,x({},n,{title:"string"===typeof t?t:void 0},i,{ref:r}))}}]),n}(b.Component),Yd=function(e){var t,n=e.style,r=e.className,i=e.eventKey,o=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,l=e.onMouseEnter,c=e.onMouseLeave,f=e.onClick,d=e.onKeyDown,h=e.onFocus,p=ze(e,Wd),g=Gd(i),v=b.useContext(kd),m=v.prefixCls,y=v.onItemClick,w=v.disabled,_=v.overflowDisabled,S=v.itemIcon,E=v.selectedKeys,C=v.onActive,k=b.useContext(Vd)._internalRenderMenuItem,M="".concat(m,"-item"),I=b.useRef(),T=b.useRef(),A=w||o,N=Bd(i);var D=function(e){return{key:i,keyPath:(0,ne.Z)(N).reverse(),item:I.current,domEvent:e}},P=a||S,O=Id(i,A,l,c),L=O.active,R=ze(O,Zd),B=E.includes(i),z=Dd(N.length),F={};"option"===e.role&&(F["aria-selected"]=B);var j=b.createElement(Hd,x({ref:I,elementRef:T,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":_&&g?null:g},p,R,F,{component:"li","aria-disabled":o,style:Oe(Oe({},z),n),className:oe()(M,(t={},(0,re.Z)(t,"".concat(M,"-active"),L),(0,re.Z)(t,"".concat(M,"-selected"),B),(0,re.Z)(t,"".concat(M,"-disabled"),A),t),r),onClick:function(e){if(!A){var t=D(e);null===f||void 0===f||f(Ad(t)),y(t)}},onKeyDown:function(e){if(null===d||void 0===d||d(e),e.which===ed.ENTER){var t=D(e);null===f||void 0===f||f(Ad(t)),y(t)}},onFocus:function(e){C(i),null===h||void 0===h||h(e)}}),s,b.createElement(Nd,{props:Oe(Oe({},e),{},{isSelected:B}),icon:P}));return k&&(j=k(j,e)),j};var Xd=function(e){var t=e.eventKey,n=Ld(),r=Bd(t);return b.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:b.createElement(Yd,e)};function Kd(e,t){return Dn(e).map((function(e,n){if(b.isValidElement(e)){var r,i,o=e.key,a=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat((0,ne.Z)(t),[n]).join("-")));var s={key:a,eventKey:a};return b.cloneElement(e,s)}return e}))}function qd(e){var t=b.useRef(e);t.current=e;var n=b.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var $d=["className","children"],Qd=function(e,t){var n=e.className,r=e.children,i=ze(e,$d),o=b.useContext(kd),a=o.prefixCls,s=o.mode,u=o.rtl;return b.createElement("ul",x({className:oe()(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===s?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:t}),r)},Jd=b.forwardRef(Qd);Jd.displayName="SubMenuList";var eh=Jd,th={adjustX:1,adjustY:1},nh={topLeft:{points:["bl","tl"],overflow:th,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:th,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:th,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:th,offset:[4,0]}},rh={topLeft:{points:["bl","tl"],overflow:th,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:th,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:th,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:th,offset:[4,0]}};function ih(e,t,n){return t||(n?n[e]||n.other:void 0)}var oh={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ah(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,o=e.popupClassName,a=e.popupOffset,s=e.disabled,u=e.mode,l=e.onVisibleChange,c=b.useContext(kd),f=c.getPopupContainer,d=c.rtl,h=c.subMenuOpenDelay,p=c.subMenuCloseDelay,g=c.builtinPlacements,v=c.triggerSubMenuAction,m=c.forceSubMenuRender,x=c.motion,w=c.defaultMotions,_=b.useState(!1),S=(0,y.Z)(_,2),E=S[0],C=S[1],k=Oe(Oe({},d?rh:nh),g),M=oh[u],I=Oe(Oe({},ih(u,x,w)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),T=b.useRef();return b.useEffect((function(){return T.current=Fi((function(){C(n)})),function(){Fi.cancel(T.current)}}),[n]),b.createElement(Is,{prefixCls:t,popupClassName:oe()("".concat(t,"-popup"),(0,re.Z)({},"".concat(t,"-rtl"),d),o),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:k,popupPlacement:M,popupVisible:E,popup:i,popupAlign:a&&{offset:a},action:s?[]:[v],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:l,forceRender:m,popupMotion:I},r)}function sh(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,o="inline",a=b.useContext(kd),s=a.prefixCls,u=a.forceSubMenuRender,l=a.motion,c=a.defaultMotions,f=a.mode,d=b.useRef(!1);d.current=f===o;var h=b.useState(!d.current),p=(0,y.Z)(h,2),g=p[0],v=p[1],m=!!d.current&&n;b.useEffect((function(){d.current&&v(!1)}),[f]);var w=Oe({},ih(o,l,c));r.length>1&&(w.motionAppear=!1);var _=w.onVisibleChanged;return w.onVisibleChanged=function(e){return d.current||e||v(!0),null===_||void 0===_?void 0:_(e)},g?null:b.createElement(Md,{mode:o,locked:!d.current},b.createElement(Lo,x({visible:m},w,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return b.createElement(eh,{id:t,className:n,style:r},i)})))}var uh=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],lh=["active"],ch=function(e){var t,n=e.style,r=e.className,i=e.title,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,l=e.itemIcon,c=e.expandIcon,f=e.popupClassName,d=e.popupOffset,h=e.onClick,p=e.onMouseEnter,g=e.onMouseLeave,v=e.onTitleClick,m=e.onTitleMouseEnter,w=e.onTitleMouseLeave,_=ze(e,uh),S=Gd(o),E=b.useContext(kd),C=E.prefixCls,k=E.mode,M=E.openKeys,I=E.disabled,T=E.overflowDisabled,A=E.activeKey,N=E.selectedKeys,D=E.itemIcon,P=E.expandIcon,O=E.onItemClick,L=E.onOpenChange,R=E.onActive,B=b.useContext(Vd)._internalRenderSubMenuItem,z=b.useContext(zd).isSubPathKey,F=Bd(),j="".concat(C,"-submenu"),G=I||a,V=b.useRef(),U=b.useRef();var W=l||D,Z=c||P,H=M.includes(o),Y=!T&&H,X=z(N,o),K=Id(o,G,m,w),q=K.active,$=ze(K,lh),Q=b.useState(!1),J=(0,y.Z)(Q,2),ee=J[0],te=J[1],ne=function(e){G||te(e)},ie=b.useMemo((function(){return q||"inline"!==k&&(ee||z([A],o))}),[k,q,A,ee,o,z]),ae=Dd(F.length),se=qd((function(e){null===h||void 0===h||h(Ad(e)),O(e)})),ue=S&&"".concat(S,"-popup"),le=b.createElement("div",x({role:"menuitem",style:ae,className:"".concat(j,"-title"),tabIndex:G?null:-1,ref:V,title:"string"===typeof i?i:null,"data-menu-id":T&&S?null:S,"aria-expanded":Y,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":G,onClick:function(e){G||(null===v||void 0===v||v({key:o,domEvent:e}),"inline"===k&&L(o,!H))},onFocus:function(){R(o)}},$),i,b.createElement(Nd,{icon:"horizontal"!==k?Z:null,props:Oe(Oe({},e),{},{isOpen:Y,isSubMenu:!0})},b.createElement("i",{className:"".concat(j,"-arrow")}))),ce=b.useRef(k);if("inline"!==k&&(ce.current=F.length>1?"vertical":k),!T){var fe=ce.current;le=b.createElement(ah,{mode:fe,prefixCls:j,visible:!s&&Y&&"inline"!==k,popupClassName:f,popupOffset:d,popup:b.createElement(Md,{mode:"horizontal"===fe?"vertical":fe},b.createElement(eh,{id:ue,ref:U},u)),disabled:G,onVisibleChange:function(e){"inline"!==k&&L(o,e)}},le)}var de=b.createElement(Ed.Item,x({role:"none"},_,{component:"li",style:n,className:oe()(j,"".concat(j,"-").concat(k),r,(t={},(0,re.Z)(t,"".concat(j,"-open"),Y),(0,re.Z)(t,"".concat(j,"-active"),ie),(0,re.Z)(t,"".concat(j,"-selected"),X),(0,re.Z)(t,"".concat(j,"-disabled"),G),t)),onMouseEnter:function(e){ne(!0),null===p||void 0===p||p({key:o,domEvent:e})},onMouseLeave:function(e){ne(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),le,!T&&b.createElement(sh,{id:ue,open:Y,keyPath:F},u));return B&&(de=B(de,e)),b.createElement(Md,{onItemClick:se,mode:"horizontal"===k?"vertical":k,itemIcon:W,expandIcon:Z},de)};function fh(e){var t,n=e.eventKey,r=e.children,i=Bd(n),o=Kd(r,i),a=Ld();return b.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?o:b.createElement(ch,e,o),b.createElement(Rd.Provider,{value:i},t)}function dh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Fo(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function hh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,ne.Z)(e.querySelectorAll("*")).filter((function(e){return dh(e,t)}));return dh(e,t)&&n.unshift(e),n}var ph=ed.LEFT,gh=ed.RIGHT,vh=ed.UP,mh=ed.DOWN,yh=ed.ENTER,bh=ed.ESC,xh=ed.HOME,wh=ed.END,_h=[vh,mh,ph,gh];function Sh(e,t){return hh(e,!0).filter((function(e){return t.has(e)}))}function Eh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Sh(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function Ch(e,t,n,r,i,o,a,s,u,l){var c=b.useRef(),f=b.useRef();f.current=t;var d=function(){Fi.cancel(c.current)};return b.useEffect((function(){return function(){d()}}),[]),function(h){var p=h.which;if([].concat(_h,[yh,bh,xh,wh]).includes(p)){var g,v,m,y=function(){return g=new Set,v=new Map,m=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(jd(r,e),"']"));t&&(g.add(t),m.set(t,e),v.set(e,t))})),g};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),g),x=m.get(b),w=function(e,t,n,r){var i,o,a,s,u="prev",l="next",c="children",f="parent";if("inline"===e&&r===yh)return{inlineTrigger:!0};var d=(i={},(0,re.Z)(i,vh,u),(0,re.Z)(i,mh,l),i),h=(o={},(0,re.Z)(o,ph,n?l:u),(0,re.Z)(o,gh,n?u:l),(0,re.Z)(o,mh,c),(0,re.Z)(o,yh,c),o),p=(a={},(0,re.Z)(a,vh,u),(0,re.Z)(a,mh,l),(0,re.Z)(a,yh,c),(0,re.Z)(a,bh,f),(0,re.Z)(a,ph,n?c:f),(0,re.Z)(a,gh,n?f:c),a);switch(null===(s={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case u:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}(e,1===a(x,!0).length,n,p);if(!w&&p!==xh&&p!==wh)return;(_h.includes(p)||[xh,wh].includes(p))&&h.preventDefault();var _=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);s(r),d(),c.current=Fi((function(){f.current===r&&t.focus()}))}};if([xh,wh].includes(p)||w.sibling||!b){var S,E,C=Sh(S=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):i.current,g);E=p===xh?C[0]:p===wh?C[C.length-1]:Eh(S,g,b,w.offset),_(E)}else if(w.inlineTrigger)u(x);else if(w.offset>0)u(x,!0),d(),c.current=Fi((function(){y();var e=b.getAttribute("aria-controls"),t=Eh(document.getElementById(e),g);_(t)}),5);else if(w.offset<0){var k=a(x,!0),M=k[k.length-2],I=v.get(M);u(M,!1),_(I)}}null===l||void 0===l||l(h)}}var kh=Math.random().toFixed(5).toString().slice(2),Mh=0;var Ih="__RC_UTIL_PATH_SPLIT__",Th=function(e){return e.join(Ih)},Ah="rc-menu-more";function Nh(){var e=b.useState({}),t=(0,y.Z)(e,2)[1],n=(0,b.useRef)(new Map),r=(0,b.useRef)(new Map),i=b.useState([]),o=(0,y.Z)(i,2),a=o[0],s=o[1],u=(0,b.useRef)(0),l=(0,b.useRef)(!1),c=(0,b.useCallback)((function(e,i){var o=Th(i);r.current.set(o,e),n.current.set(e,o),u.current+=1;var a,s=u.current;a=function(){s===u.current&&(l.current||t({}))},Promise.resolve().then(a)}),[]),f=(0,b.useCallback)((function(e,t){var i=Th(t);r.current.delete(i),n.current.delete(e)}),[]),d=(0,b.useCallback)((function(e){s(e)}),[]),h=(0,b.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Ih);return t&&a.includes(i[0])&&i.unshift(Ah),i}),[a]),p=(0,b.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),g=(0,b.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Ih),i=new Set;return(0,ne.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return b.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=(0,ne.Z)(n.current.keys());return a.length&&e.push(Ah),e},getSubPathKeys:g}}var Dh=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ph=[],Oh=function(e){var t,n,r=e.prefixCls,i=void 0===r?"rc-menu":r,o=e.style,a=e.className,s=e.tabIndex,u=void 0===s?0:s,l=e.children,c=e.direction,f=e.id,d=e.mode,h=void 0===d?"vertical":d,p=e.inlineCollapsed,g=e.disabled,v=e.disabledOverflow,m=e.subMenuOpenDelay,w=void 0===m?.1:m,_=e.subMenuCloseDelay,S=void 0===_?.1:_,E=e.forceSubMenuRender,C=e.defaultOpenKeys,k=e.openKeys,M=e.activeKey,I=e.defaultActiveFirst,T=e.selectable,A=void 0===T||T,N=e.multiple,D=void 0!==N&&N,P=e.defaultSelectedKeys,O=e.selectedKeys,L=e.onSelect,R=e.onDeselect,B=e.inlineIndent,z=void 0===B?24:B,F=e.motion,j=e.defaultMotions,G=e.triggerSubMenuAction,V=void 0===G?"hover":G,U=e.builtinPlacements,W=e.itemIcon,Z=e.expandIcon,H=e.overflowedIndicator,Y=void 0===H?"...":H,X=e.overflowedIndicatorPopupClassName,K=e.getPopupContainer,q=e.onClick,$=e.onOpenChange,Q=e.onKeyDown,J=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ee=e._internalRenderSubMenuItem,te=ze(e,Dh),ie=Kd(l,Ph),ae=b.useState(!1),se=(0,y.Z)(ae,2),ue=se[0],le=se[1],ce=b.useRef(),fe=function(e){var t=Ls(e,{value:e}),n=(0,y.Z)(t,2),r=n[0],i=n[1];return b.useEffect((function(){Mh+=1;var e="".concat(kh,"-").concat(Mh);i("rc-menu-uuid-".concat(e))}),[]),r}(f),de="rtl"===c;var he=b.useMemo((function(){return"inline"!==h&&"vertical"!==h||!p?[h,!1]:["vertical",p]}),[h,p]),pe=(0,y.Z)(he,2),ge=pe[0],ve=pe[1],me=b.useState(0),ye=(0,y.Z)(me,2),be=ye[0],xe=ye[1],we=be>=ie.length-1||"horizontal"!==ge||v,_e=Ls(C,{value:k,postState:function(e){return e||Ph}}),Se=(0,y.Z)(_e,2),Ee=Se[0],Ce=Se[1],ke=function(e){Ce(e),null===$||void 0===$||$(e)},Me=b.useState(Ee),Ie=(0,y.Z)(Me,2),Te=Ie[0],Ae=Ie[1],Ne="inline"===ge,De=b.useRef(!1);b.useEffect((function(){Ne&&Ae(Ee)}),[Ee]),b.useEffect((function(){De.current?Ne?Ce(Te):ke(Ph):De.current=!0}),[Ne]);var Pe=Nh(),Le=Pe.registerPath,Re=Pe.unregisterPath,Be=Pe.refreshOverflowKeys,Fe=Pe.isSubPathKey,je=Pe.getKeyPath,Ge=Pe.getKeys,Ve=Pe.getSubPathKeys,Ue=b.useMemo((function(){return{registerPath:Le,unregisterPath:Re}}),[Le,Re]),We=b.useMemo((function(){return{isSubPathKey:Fe}}),[Fe]);b.useEffect((function(){Be(we?Ph:ie.slice(be+1).map((function(e){return e.key})))}),[be,we]);var Ze=Ls(M||I&&(null===(t=ie[0])||void 0===t?void 0:t.key),{value:M}),He=(0,y.Z)(Ze,2),Ye=He[0],Xe=He[1],Ke=qd((function(e){Xe(e)})),qe=qd((function(){Xe(void 0)})),$e=Ls(P||[],{value:O,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Ph:[e]}}),Qe=(0,y.Z)($e,2),Je=Qe[0],et=Qe[1],tt=qd((function(e){null===q||void 0===q||q(Ad(e)),function(e){if(A){var t,n=e.key,r=Je.includes(n);t=D?r?Je.filter((function(e){return e!==n})):[].concat((0,ne.Z)(Je),[n]):[n],et(t);var i=Oe(Oe({},e),{},{selectedKeys:t});r?null===R||void 0===R||R(i):null===L||void 0===L||L(i)}!D&&Ee.length&&"inline"!==ge&&ke(Ph)}(e)})),nt=qd((function(e,t){var n=Ee.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ge){var r=Ve(e);n=n.filter((function(e){return!r.has(e)}))}Il()(Ee,n)||ke(n)})),rt=qd(K),it=Ch(ge,Ye,de,fe,ce,Ge,je,Xe,(function(e,t){var n=null!==t&&void 0!==t?t:!Ee.includes(e);nt(e,n)}),Q);b.useEffect((function(){le(!0)}),[]);var ot=b.useMemo((function(){return{_internalRenderMenuItem:J,_internalRenderSubMenuItem:ee}}),[J,ee]),at="horizontal"!==ge||v?ie:ie.map((function(e,t){return b.createElement(Md,{key:e.key,overflowDisabled:t>be},e)})),st=b.createElement(Ed,x({id:f,ref:ce,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:Xd,className:oe()(i,"".concat(i,"-root"),"".concat(i,"-").concat(ge),a,(n={},(0,re.Z)(n,"".concat(i,"-inline-collapsed"),ve),(0,re.Z)(n,"".concat(i,"-rtl"),de),n)),dir:c,style:o,role:"menu",tabIndex:u,data:at,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ie.slice(-t):null;return b.createElement(fh,{eventKey:Ah,title:Y,disabled:we,internalPopupClose:0===t,popupClassName:X},n)},maxCount:"horizontal"!==ge||v?Ed.INVALIDATE:Ed.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){xe(e)},onKeyDown:it},te));return b.createElement(Vd.Provider,{value:ot},b.createElement(Fd.Provider,{value:fe},b.createElement(Md,{prefixCls:i,mode:ge,openKeys:Ee,rtl:de,disabled:g,motion:ue?F:null,defaultMotions:ue?j:null,activeKey:Ye,onActive:Ke,onInactive:qe,selectedKeys:Je,inlineIndent:z,subMenuOpenDelay:w,subMenuCloseDelay:S,forceSubMenuRender:E,builtinPlacements:U,triggerSubMenuAction:V,getPopupContainer:rt,itemIcon:W,expandIcon:Z,onItemClick:tt,onOpenChange:nt},b.createElement(zd.Provider,{value:We},st),b.createElement("div",{style:{display:"none"},"aria-hidden":!0},b.createElement(Od.Provider,{value:Ue},ie)))))},Lh=["className","title","eventKey","children"],Rh=["children"],Bh=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),i=ze(e,Lh),o=b.useContext(kd).prefixCls,a="".concat(o,"-item-group");return b.createElement("li",x({},i,{onClick:function(e){return e.stopPropagation()},className:oe()(a,t)}),b.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),b.createElement("ul",{className:"".concat(a,"-list")},r))};function zh(e){var t=e.children,n=ze(e,Rh),r=Kd(t,Bd(n.eventKey));return Ld()?r:b.createElement(Bh,Le(n,["warnKey"]),r)}function Fh(e){var t=e.className,n=e.style,r=b.useContext(kd).prefixCls;return Ld()?null:b.createElement("li",{className:oe()("".concat(r,"-item-divider"),t),style:n})}var jh=Bd,Gh=Oh;Gh.Item=Xd,Gh.SubMenu=fh,Gh.ItemGroup=zh,Gh.Divider=Fh;var Vh=Gh,Uh={adjustX:1,adjustY:1},Wh=[0,0],Zh={topLeft:{points:["bl","tl"],overflow:Uh,offset:[0,-4],targetOffset:Wh},topCenter:{points:["bc","tc"],overflow:Uh,offset:[0,-4],targetOffset:Wh},topRight:{points:["br","tr"],overflow:Uh,offset:[0,-4],targetOffset:Wh},bottomLeft:{points:["tl","bl"],overflow:Uh,offset:[0,4],targetOffset:Wh},bottomCenter:{points:["tc","bc"],overflow:Uh,offset:[0,4],targetOffset:Wh},bottomRight:{points:["tr","br"],overflow:Uh,offset:[0,4],targetOffset:Wh}},Hh=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Yh(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,o=void 0===i?"rc-dropdown":i,a=e.transitionName,s=e.animation,u=e.align,l=e.placement,c=void 0===l?"bottomLeft":l,f=e.placements,d=void 0===f?Zh:f,h=e.getPopupContainer,p=e.showAction,g=e.hideAction,v=e.overlayClassName,m=e.overlayStyle,x=e.visible,w=e.trigger,_=void 0===w?["hover"]:w,S=ze(e,Hh),E=b.useState(),C=(0,y.Z)(E,2),k=C[0],M=C[1],I="visible"in e?x:k,T=b.useRef(null);b.useImperativeHandle(t,(function(){return T.current}));var A=function(){var t=e.overlay;return"function"===typeof t?t():t},N=function(t){var n=e.onOverlayClick,r=A().props;M(!1),n&&n(t),r.onClick&&r.onClick(t)},D=function(){var e=A(),t={prefixCls:"".concat(o,"-menu"),onClick:N};return"string"===typeof e.type&&delete t.prefixCls,b.createElement(b.Fragment,null,r&&b.createElement("div",{className:"".concat(o,"-arrow")}),b.cloneElement(e,t))},P=g;return P||-1===_.indexOf("contextMenu")||(P=["click"]),b.createElement(Is,Oe(Oe({builtinPlacements:d},S),{},{prefixCls:o,ref:T,popupClassName:oe()(v,(0,re.Z)({},"".concat(o,"-show-arrow"),r)),popupStyle:m,action:_,showAction:p,hideAction:P||[],popupPlacement:c,popupAlign:u,popupTransitionName:a,popupAnimation:s,popupVisible:I,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?D:D(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;M(t),"function"===typeof n&&n(t)},getPopupContainer:h}),function(){var t=e.children,n=t.props?t.props:{},r=oe()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return I&&t?b.cloneElement(t,{className:r}):t}())}var Xh=b.forwardRef(Yh);function Kh(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,o=e.style;return r&&!1!==r.showAdd?b.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===i||void 0===i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var qh=b.forwardRef(Kh);function $h(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,o=e.locale,a=e.mobile,s=e.moreIcon,u=void 0===s?"More":s,l=e.moreTransitionName,c=e.style,f=e.className,d=e.editable,h=e.tabBarGutter,p=e.rtl,g=e.removeAriaLabel,v=e.onTabClick,m=(0,b.useState)(!1),x=(0,y.Z)(m,2),w=x[0],_=x[1],S=(0,b.useState)(null),E=(0,y.Z)(S,2),C=E[0],k=E[1],M="".concat(r,"-more-popup"),I="".concat(n,"-dropdown"),T=null!==C?"".concat(M,"-").concat(C):null,A=null===o||void 0===o?void 0:o.dropdownAriaLabel;var N=b.createElement(Vh,{onClick:function(e){var t=e.key,n=e.domEvent;v(t,n),_(!1)},id:M,tabIndex:-1,role:"listbox","aria-activedescendant":T,selectedKeys:[C],"aria-label":void 0!==A?A:"expanded dropdown"},i.map((function(e){var t=d&&!1!==e.closable&&!e.disabled;return b.createElement(Xd,{key:e.key,id:"".concat(M,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},b.createElement("span",null,e.tab),t&&b.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(I,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),d.onEdit("remove",{key:t,event:e})}(t,e.key)}},e.closeIcon||d.removeIcon||"\xd7"))})));function D(e){for(var t=i.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===C}))||0,r=t.length,o=0;o<r;o+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void k(a.key)}}(0,b.useEffect)((function(){var e=document.getElementById(T);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[C]),(0,b.useEffect)((function(){w||k(null)}),[w]);var P=(0,re.Z)({},p?"marginRight":"marginLeft",h);i.length||(P.visibility="hidden",P.order=1);var O=oe()((0,re.Z)({},"".concat(I,"-rtl"),p)),L=a?null:b.createElement(Xh,{prefixCls:I,overlay:N,trigger:["hover"],visible:w,transitionName:l,onVisibleChange:_,overlayClassName:O,mouseEnterDelay:.1,mouseLeaveDelay:.1},b.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:P,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":M,id:"".concat(r,"-more"),"aria-expanded":w,onKeyDown:function(e){var t=e.which;if(w)switch(t){case ed.UP:D(-1),e.preventDefault();break;case ed.DOWN:D(1),e.preventDefault();break;case ed.ESC:_(!1);break;case ed.SPACE:case ed.ENTER:null!==C&&v(C,e)}else[ed.DOWN,ed.SPACE,ed.ENTER].includes(t)&&(_(!0),e.preventDefault())}},u));return b.createElement("div",{className:oe()("".concat(n,"-nav-operations"),f),style:c,ref:t},L,b.createElement(qh,{prefixCls:n,locale:o,editable:d}))}var Qh=b.memo(b.forwardRef($h),(function(e,t){return t.tabMoving})),Jh=(0,b.createContext)(null),ep=Math.pow(.995,20);function tp(e,t){var n=b.useRef(e),r=b.useState({}),i=(0,y.Z)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var np=function(e){var t,n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var o={};return i&&"object"===(0,je.Z)(i)&&!b.isValidElement(i)?o=i:o.right=i,"right"===n&&(t=o.right),"left"===n&&(t=o.left),t?b.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function rp(e,t){var n,r=b.useContext(Jh),i=r.prefixCls,o=r.tabs,a=e.className,s=e.style,u=e.id,l=e.animated,c=e.activeKey,f=e.rtl,d=e.extra,h=e.editable,p=e.locale,g=e.tabPosition,v=e.tabBarGutter,m=e.children,w=e.onTabClick,_=e.onTabScroll,S=(0,b.useRef)(),E=(0,b.useRef)(),C=(0,b.useRef)(),k=(0,b.useRef)(),M=function(){var e=(0,b.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,b.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),I=(0,y.Z)(M,2),T=I[0],A=I[1],N="top"===g||"bottom"===g,D=tp(0,(function(e,t){N&&_&&_({direction:e>t?"left":"right"})})),P=(0,y.Z)(D,2),O=P[0],L=P[1],R=tp(0,(function(e,t){!N&&_&&_({direction:e>t?"top":"bottom"})})),B=(0,y.Z)(R,2),z=B[0],F=B[1],j=(0,b.useState)(0),G=(0,y.Z)(j,2),V=G[0],U=G[1],W=(0,b.useState)(0),Z=(0,y.Z)(W,2),H=Z[0],Y=Z[1],X=(0,b.useState)(0),K=(0,y.Z)(X,2),q=K[0],$=K[1],Q=(0,b.useState)(0),J=(0,y.Z)(Q,2),ee=J[0],te=J[1],ie=(0,b.useState)(null),ae=(0,y.Z)(ie,2),se=ae[0],ue=ae[1],le=(0,b.useState)(null),ce=(0,y.Z)(le,2),fe=ce[0],de=ce[1],he=(0,b.useState)(0),pe=(0,y.Z)(he,2),ge=pe[0],ve=pe[1],me=(0,b.useState)(0),ye=(0,y.Z)(me,2),be=ye[0],xe=ye[1],we=function(e){var t=(0,b.useRef)([]),n=(0,b.useState)({}),r=(0,y.Z)(n,2)[1],i=(0,b.useRef)("function"===typeof e?e():e),o=Qf((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,r({})}));return[i.current,function(e){t.current.push(e),o()}]}(new Map),_e=(0,y.Z)(we,2),Se=_e[0],Ee=_e[1],Ce=function(e,t,n){return(0,b.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||rd,o=i.left+i.width,a=0;a<e.length;a+=1){var s,u=e[a].key,l=t.get(u);l||(l=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||rd);var c=r.get(u)||Oe({},l);c.right=o-c.left-c.width,r.set(u,c)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(o,Se,V),ke="".concat(i,"-nav-operations-hidden"),Me=0,Ie=0;function Te(e){return e<Me?Me:e>Ie?Ie:e}N?f?(Me=0,Ie=Math.max(0,V-se)):(Me=Math.min(0,se-V),Ie=0):(Me=Math.min(0,fe-H),Ie=0);var Ae=(0,b.useRef)(),Ne=(0,b.useState)(),De=(0,y.Z)(Ne,2),Pe=De[0],Le=De[1];function Re(){Le(Date.now())}function Be(){window.clearTimeout(Ae.current)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=Ce.get(e)||{width:0,height:0,left:0,right:0,top:0};if(N){var n=O;f?t.right<O?n=t.right:t.right+t.width>O+se&&(n=t.right+t.width-se):t.left<-O?n=-t.left:t.left+t.width>-O+se&&(n=-(t.left+t.width-se)),F(0),L(Te(n))}else{var r=z;t.top<-z?r=-t.top:t.top+t.height>-z+fe&&(r=-(t.top+t.height-fe)),L(0),F(Te(r))}}!function(e,t){var n=(0,b.useState)(),r=(0,y.Z)(n,2),i=r[0],o=r[1],a=(0,b.useState)(0),s=(0,y.Z)(a,2),u=s[0],l=s[1],c=(0,b.useState)(0),f=(0,y.Z)(c,2),d=f[0],h=f[1],p=(0,b.useState)(),g=(0,y.Z)(p,2),v=g[0],m=g[1],x=(0,b.useRef)(),w=(0,b.useRef)(),_=(0,b.useRef)(null);_.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(x.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,a=n.screenY;o({x:r,y:a});var s=r-i.x,c=a-i.y;t(s,c);var f=Date.now();l(f),h(f-u),m({x:s,y:c})}},onTouchEnd:function(){if(i&&(o(null),m(null),v)){var e=v.x/d,n=v.y/d,r=Math.abs(e),a=Math.abs(n);if(Math.max(r,a)<.1)return;var s=e,u=n;x.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(u)<.01?window.clearInterval(x.current):t(20*(s*=ep),20*(u*=ep))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,o=Math.abs(n),a=Math.abs(r);o===a?i="x"===w.current?n:r:o>a?(i=n,w.current="x"):(i=r,w.current="y"),t(-i,-i)&&e.preventDefault()}},b.useEffect((function(){function t(e){_.current.onTouchMove(e)}function n(e){_.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){_.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){_.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(S,(function(e,t){function n(e,t){e((function(e){return Te(e+t)}))}if(N){if(se>=V)return!1;n(L,e)}else{if(fe>=H)return!1;n(F,t)}return Be(),Re(),!0})),(0,b.useEffect)((function(){return Be(),Pe&&(Ae.current=window.setTimeout((function(){Le(0)}),100)),Be}),[Pe]);var Fe=function(e,t,n,r,i){var o,a,s,u=i.tabs,l=i.tabPosition,c=i.rtl;["top","bottom"].includes(l)?(o="width",a=c?"right":"left",s=Math.abs(t.left)):(o="height",a="top",s=-t.top);var f=t[o],d=n[o],h=r[o],p=f;return d+h>f&&(p=f-h),(0,b.useMemo)((function(){if(!u.length)return[0,0];for(var t=u.length,n=t,r=0;r<t;r+=1){var i=e.get(u[r].key)||id;if(i[a]+i[o]>s+p){n=r-1;break}}for(var l=0,c=t-1;c>=0;c-=1)if((e.get(u[c].key)||id)[a]<s){l=c+1;break}return[l,n]}),[e,s,p,l,u.map((function(e){return e.key})).join("_"),c])}(Ce,{width:se,height:fe,left:O,top:z},{width:q,height:ee},{width:ge,height:be},Oe(Oe({},e),{},{tabs:o})),je=(0,y.Z)(Fe,2),Ge=je[0],Ve=je[1],Ue={};"top"===g||"bottom"===g?Ue[f?"marginRight":"marginLeft"]=v:Ue.marginTop=v;var We=o.map((function(e,t){var n=e.key;return b.createElement(nd,{id:u,prefixCls:i,key:n,tab:e,style:0===t?void 0:Ue,closable:e.closable,editable:h,active:n===c,renderWrapper:m,removeAriaLabel:null===p||void 0===p?void 0:p.removeAriaLabel,ref:T(n),onClick:function(e){w(n,e)},onRemove:function(){A(n)},onFocus:function(){ze(n),Re(),S.current&&(f||(S.current.scrollLeft=0),S.current.scrollTop=0)}})})),Ze=Qf((function(){var e,t,n,r,i,a,s,u,l,c=(null===(e=S.current)||void 0===e?void 0:e.offsetWidth)||0,f=(null===(t=S.current)||void 0===t?void 0:t.offsetHeight)||0,d=(null===(n=k.current)||void 0===n?void 0:n.offsetWidth)||0,h=(null===(r=k.current)||void 0===r?void 0:r.offsetHeight)||0,p=(null===(i=C.current)||void 0===i?void 0:i.offsetWidth)||0,g=(null===(a=C.current)||void 0===a?void 0:a.offsetHeight)||0;ue(c),de(f),ve(d),xe(h);var v=((null===(s=E.current)||void 0===s?void 0:s.offsetWidth)||0)-d,m=((null===(u=E.current)||void 0===u?void 0:u.offsetHeight)||0)-h;U(v),Y(m);var y=null===(l=C.current)||void 0===l?void 0:l.className.includes(ke);$(v-(y?0:p)),te(m-(y?0:g)),Ee((function(){var e=new Map;return o.forEach((function(t){var n=t.key,r=T(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),He=o.slice(0,Ge),Ye=o.slice(Ve+1),Xe=[].concat((0,ne.Z)(He),(0,ne.Z)(Ye)),Ke=(0,b.useState)(),qe=(0,y.Z)(Ke,2),$e=qe[0],Qe=qe[1],Je=Ce.get(c),et=(0,b.useRef)();function tt(){Fi.cancel(et.current)}(0,b.useEffect)((function(){var e={};return Je&&(N?(f?e.right=Je.right:e.left=Je.left,e.width=Je.width):(e.top=Je.top,e.height=Je.height)),tt(),et.current=Fi((function(){Qe(e)})),tt}),[Je,N,f]),(0,b.useEffect)((function(){ze()}),[c,Je,Ce,N]),(0,b.useEffect)((function(){Ze()}),[f,v,c,o.map((function(e){return e.key})).join("_")]);var nt,rt,it,ot,at=!!Xe.length,st="".concat(i,"-nav-wrap");return N?f?(rt=O>0,nt=O+se<V):(nt=O<0,rt=-O+se<V):(it=z<0,ot=-z+fe<H),b.createElement("div",{ref:t,role:"tablist",className:oe()("".concat(i,"-nav"),a),style:s,onKeyDown:function(){Re()}},b.createElement(np,{position:"left",extra:d,prefixCls:i}),b.createElement(wl,{onResize:Ze},b.createElement("div",{className:oe()(st,(n={},(0,re.Z)(n,"".concat(st,"-ping-left"),nt),(0,re.Z)(n,"".concat(st,"-ping-right"),rt),(0,re.Z)(n,"".concat(st,"-ping-top"),it),(0,re.Z)(n,"".concat(st,"-ping-bottom"),ot),n)),ref:S},b.createElement(wl,{onResize:Ze},b.createElement("div",{ref:E,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(O,"px, ").concat(z,"px)"),transition:Pe?"none":void 0}},We,b.createElement(qh,{ref:k,prefixCls:i,locale:p,editable:h,style:Oe(Oe({},0===We.length?void 0:Ue),{},{visibility:at?"hidden":null})}),b.createElement("div",{className:oe()("".concat(i,"-ink-bar"),(0,re.Z)({},"".concat(i,"-ink-bar-animated"),l.inkBar)),style:$e}))))),b.createElement(Qh,x({},e,{removeAriaLabel:null===p||void 0===p?void 0:p.removeAriaLabel,ref:C,prefixCls:i,tabs:Xe,className:!at&&ke,tabMoving:!!Pe})),b.createElement(np,{position:"right",extra:d,prefixCls:i}))}var ip=b.forwardRef(rp);function op(e){var t=e.id,n=e.activeKey,r=e.animated,i=e.tabPosition,o=e.rtl,a=e.destroyInactiveTabPane,s=b.useContext(Jh),u=s.prefixCls,l=s.tabs,c=r.tabPane,f=l.findIndex((function(e){return e.key===n}));return b.createElement("div",{className:oe()("".concat(u,"-content-holder"))},b.createElement("div",{className:oe()("".concat(u,"-content"),"".concat(u,"-content-").concat(i),(0,re.Z)({},"".concat(u,"-content-animated"),c)),style:f&&c?(0,re.Z)({},o?"marginRight":"marginLeft","-".concat(f,"00%")):null},l.map((function(e){return b.cloneElement(e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:c,active:e.key===n,destroyInactiveTabPane:a})}))))}function ap(e){var t=e.prefixCls,n=e.forceRender,r=e.className,i=e.style,o=e.id,a=e.active,s=e.animated,u=e.destroyInactiveTabPane,l=e.tabKey,c=e.children,f=b.useState(n),d=(0,y.Z)(f,2),h=d[0],p=d[1];b.useEffect((function(){a?p(!0):u&&p(!1)}),[a,u]);var g={};return a||(s?(g.visibility="hidden",g.height=0,g.overflowY="hidden"):g.display="none"),b.createElement("div",{id:o&&"".concat(o,"-panel-").concat(l),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(l),"aria-hidden":!a,style:Oe(Oe({},g),i),className:oe()("".concat(t,"-tabpane"),a&&"".concat(t,"-tabpane-active"),r)},(a||h||n)&&c)}var sp=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],up=0;function lp(e,t){var n,r,i=e.id,o=e.prefixCls,a=void 0===o?"rc-tabs":o,s=e.className,u=e.children,l=e.direction,c=e.activeKey,f=e.defaultActiveKey,d=e.editable,h=e.animated,p=void 0===h?{inkBar:!0,tabPane:!1}:h,g=e.tabPosition,v=void 0===g?"top":g,m=e.tabBarGutter,w=e.tabBarStyle,_=e.tabBarExtraContent,S=e.locale,E=e.moreIcon,C=e.moreTransitionName,k=e.destroyInactiveTabPane,M=e.renderTabBar,I=e.onChange,T=e.onTabClick,A=e.onTabScroll,N=ze(e,sp),D=function(e){return Dn(e).map((function(e){return b.isValidElement(e)?Oe(Oe({key:void 0!==e.key?String(e.key):void 0},e.props),{},{node:e}):null})).filter((function(e){return e}))}(u),P="rtl"===l;r=!1===p?{inkBar:!1,tabPane:!1}:!0===p?{inkBar:!0,tabPane:!0}:Oe({inkBar:!0,tabPane:!1},"object"===(0,je.Z)(p)?p:{});var O=(0,b.useState)(!1),L=(0,y.Z)(O,2),R=L[0],B=L[1];(0,b.useEffect)((function(){B(Hi())}),[]);var z=Ls((function(){var e;return null===(e=D[0])||void 0===e?void 0:e.key}),{value:c,defaultValue:f}),F=(0,y.Z)(z,2),j=F[0],G=F[1],V=(0,b.useState)((function(){return D.findIndex((function(e){return e.key===j}))})),U=(0,y.Z)(V,2),W=U[0],Z=U[1];(0,b.useEffect)((function(){var e,t=D.findIndex((function(e){return e.key===j}));-1===t&&(t=Math.max(0,Math.min(W,D.length-1)),G(null===(e=D[t])||void 0===e?void 0:e.key));Z(t)}),[D.map((function(e){return e.key})).join("_"),j,W]);var H=Ls(null,{value:i}),Y=(0,y.Z)(H,2),X=Y[0],K=Y[1],q=v;R&&!["left","right"].includes(v)&&(q="top"),(0,b.useEffect)((function(){i||(K("rc-tabs-".concat(up)),up+=1)}),[]);var $,Q={id:X,activeKey:j,animated:r,tabPosition:q,rtl:P,mobile:R},J=Oe(Oe({},Q),{},{editable:d,locale:S,moreIcon:E,moreTransitionName:C,tabBarGutter:m,onTabClick:function(e,t){null===T||void 0===T||T(e,t);var n=e!==j;G(e),n&&(null===I||void 0===I||I(e))},onTabScroll:A,extra:_,style:w,panes:u});return $=M?M(J,ip):b.createElement(ip,J),b.createElement(Jh.Provider,{value:{tabs:D,prefixCls:a}},b.createElement("div",x({ref:t,id:i,className:oe()(a,"".concat(a,"-").concat(q),(n={},(0,re.Z)(n,"".concat(a,"-mobile"),R),(0,re.Z)(n,"".concat(a,"-editable"),d),(0,re.Z)(n,"".concat(a,"-rtl"),P),n),s)},N),$,b.createElement(op,x({destroyInactiveTabPane:k},Q,{animated:r}))))}var cp=b.forwardRef(lp);cp.TabPane=ap;var fp=cp,dp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},hp=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:dp}))};hp.displayName="EllipsisOutlined";var pp=b.forwardRef(hp),gp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},vp=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:gp}))};vp.displayName="PlusOutlined";var mp=b.forwardRef(vp),yp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bp(e){var t,n=e.type,r=e.className,i=e.size,o=e.onEdit,a=e.hideAdd,s=e.centered,u=e.addIcon,l=yp(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),c=l.prefixCls,f=l.moreIcon,d=void 0===f?b.createElement(pp,null):f,h=b.useContext(_e),p=h.getPrefixCls,g=h.direction,v=p("tabs",c);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===o||void 0===o||o("add"===e?r:n,e)},removeIcon:b.createElement(Rc,null),addIcon:u||b.createElement(mp,null),showAdd:!0!==a});var m=p();return Ai(!("onPrevClick"in l)&&!("onNextClick"in l),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),b.createElement(_i.Consumer,null,(function(e){var o,a=void 0!==i?i:e;return b.createElement(fp,x({direction:g,moreTransitionName:"".concat(m,"-slide-up")},l,{className:oe()((o={},(0,re.Z)(o,"".concat(v,"-").concat(a),a),(0,re.Z)(o,"".concat(v,"-card"),["card","editable-card"].includes(n)),(0,re.Z)(o,"".concat(v,"-editable-card"),"editable-card"===n),(0,re.Z)(o,"".concat(v,"-centered"),s),o),r),editable:t,moreIcon:d,prefixCls:v}))}))}bp.TabPane=ap;var xp=bp,wp=(0,b.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var _p=function(e){var t,n,r=e.popupClassName,i=e.icon,o=e.title,a=b.useContext(wp),s=a.prefixCls,u=a.inlineCollapsed,l=a.antdMenuTheme,c=jh();if(i){var f=js(o)&&"span"===o.type;n=b.createElement(b.Fragment,null,Gs(i,{className:oe()(js(i)?null===(t=i.props)||void 0===t?void 0:t.className:"","".concat(s,"-item-icon"))}),f?o:b.createElement("span",{className:"".concat(s,"-title-content")},o))}else n=u&&!c.length&&o&&"string"===typeof o?b.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},o.charAt(0)):b.createElement("span",{className:"".concat(s,"-title-content")},o);var d=b.useMemo((function(){return x(x({},a),{firstLevel:!1})}),[a]);return b.createElement(wp.Provider,{value:d},b.createElement(fh,x({},Le(e,["icon"]),{title:n,popupClassName:oe()(s,"".concat(s,"-").concat(l),r)})))},Sp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ep=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,i=t.siderCollapsed,o=e.context,a=o.prefixCls,s=o.firstLevel,u=o.inlineCollapsed,l=o.direction,c=o.disableMenuItemTitleTooltip,f=e.props,d=f.className,h=f.children,p=e.props,g=p.title,v=p.icon,m=p.danger,y=Sp(p,["title","icon","danger"]),w=g;"undefined"===typeof g?w=s?h:"":!1===g&&(w="");var _={title:w};i||u||(_.title=null,_.visible=!1);var S=Dn(h).length,E=b.createElement(Xd,x({},y,{className:oe()((n={},(0,re.Z)(n,"".concat(a,"-item-danger"),m),(0,re.Z)(n,"".concat(a,"-item-only-child"),1===(v?S+1:S)),n),d),title:"string"===typeof g?g:void 0}),Gs(v,{className:oe()(js(v)?null===(r=v.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),e.renderItemChildren(u));return c||(E=b.createElement(eu,x({},_,{placement:"rtl"===l?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),E)),E},e}return(0,q.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,i=this.props,o=i.icon,a=i.children,s=b.createElement("span",{className:"".concat(n,"-title-content")},a);return(!o||js(a)&&"span"===a.type)&&a&&e&&r&&"string"===typeof a?b.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):s}},{key:"render",value:function(){return b.createElement(nn.Consumer,null,this.renderItem)}}]),n}(b.Component);Ep.contextType=wp;var Cp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kp=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,i=Cp(e,["prefixCls","className","dashed"]),o=(0,b.useContext(_e).getPrefixCls)("menu",t),a=oe()((0,re.Z)({},"".concat(o,"-item-divider-dashed"),!!r),n);return b.createElement(Fh,x({className:a},i))},Mp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ip=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=Ic((function(e,t,n,r,i){return{prefixCls:e,inlineCollapsed:t||!1,antdMenuTheme:n,direction:r,firstLevel:!0,disableMenuItemTitleTooltip:i}})),r.renderMenu=function(e){var t=e.getPopupContainer,n=e.getPrefixCls,i=e.direction,o=n(),a=r.props,s=a.prefixCls,u=a.className,l=a.theme,c=a.expandIcon,f=a._internalDisableMenuItemTitleTooltip,d=Le(Mp(a,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip"]),["siderCollapsed","collapsedWidth"]),h=r.getInlineCollapsed(),p={horizontal:{motionName:"".concat(o,"-slide-up")},inline:Ks,other:{motionName:"".concat(o,"-zoom-big")}},g=n("menu",s),v=oe()("".concat(g,"-").concat(l),u),m=r.getMemoizedContextValue(g,h,l,i,f);return b.createElement(wp.Provider,{value:m},b.createElement(Vh,x({getPopupContainer:t,overflowedIndicator:b.createElement(pp,null),overflowedIndicatorPopupClassName:"".concat(g,"-").concat(l)},d,{inlineCollapsed:h,className:v,prefixCls:g,direction:i,defaultMotions:p,expandIcon:Gs(c,{className:"".concat(g,"-submenu-expand-icon")})})))},Ai(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Ai(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),r}return(0,q.Z)(n,[{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"render",value:function(){return b.createElement(Se,null,this.renderMenu)}}]),n}(b.Component);Ip.defaultProps={theme:"light"};var Tp=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){var e=this;return b.createElement(nn.Consumer,null,(function(t){return b.createElement(Ip,x({},e.props,t))}))}}]),n}(b.Component);Tp.Divider=kp,Tp.Item=Ep,Tp.SubMenu=_p,Tp.ItemGroup=zh;var Ap=Tp,Np=function(e){return e?"function"===typeof e?e():e:null},Dp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Pp=b.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,i=e.content,o=Dp(e,["prefixCls","title","content"]),a=b.useContext(_e).getPrefixCls,s=a("popover",n),u=a();return b.createElement(eu,x({},o,{prefixCls:s,ref:t,overlay:function(e){if(r||i)return b.createElement(b.Fragment,null,r&&b.createElement("div",{className:"".concat(e,"-title")},Np(r)),b.createElement("div",{className:"".concat(e,"-inner-content")},Np(i)))}(s),transitionName:Xs(u,"zoom-big",o.transitionName)}))}));Pp.displayName="Popover",Pp.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var Op=Pp;function Lp(){var e=b.useReducer((function(e){return e+1}),0);return(0,y.Z)(e,2)[1]}var Rp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,b.useRef)({}),n=Lp();return(0,b.useEffect)((function(){var r=yn.subscribe((function(r){t.current=r,e&&n()}));return function(){return yn.unsubscribe(r)}}),[]),t.current},Bp=b.createContext("default"),zp=function(e){var t=e.children,n=e.size;return b.createElement(Bp.Consumer,null,(function(e){return b.createElement(Bp.Provider,{value:n||e},t)}))},Fp=Bp,jp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gp=function(e,t){var n,r,i=b.useContext(Fp),o=b.useState(1),a=(0,y.Z)(o,2),s=a[0],u=a[1],l=b.useState(!1),c=(0,y.Z)(l,2),f=c[0],d=c[1],h=b.useState(!0),p=(0,y.Z)(h,2),g=p[0],v=p[1],m=b.useRef(),w=b.useRef(),_=Ii(t,m),S=b.useContext(_e).getPrefixCls,E=function(){if(w.current&&m.current){var t=w.current.offsetWidth,n=m.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,i=void 0===r?4:r;2*i<n&&u(n-2*i<t?(n-2*i)/t:1)}}};b.useEffect((function(){d(!0)}),[]),b.useEffect((function(){v(!0),u(1)}),[e.src]),b.useEffect((function(){E()}),[e.gap]);var C=e.prefixCls,k=e.shape,M=e.size,I=e.src,T=e.srcSet,A=e.icon,N=e.className,D=e.alt,P=e.draggable,O=e.children,L=e.crossOrigin,R=jp(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),B="default"===M?i:M,z=Object.keys("object"===(0,je.Z)(B)&&B||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),F=Rp(z),j=b.useMemo((function(){if("object"!==(0,je.Z)(B))return{};var e=dn.find((function(e){return F[e]})),t=B[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:A?t/2:18}:{}}),[F,B]);Ai(!("string"===typeof A&&A.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(A,"` at https://ant.design/components/icon"));var G,V=S("avatar",C),U=oe()((n={},(0,re.Z)(n,"".concat(V,"-lg"),"large"===B),(0,re.Z)(n,"".concat(V,"-sm"),"small"===B),n)),W=b.isValidElement(I),Z=oe()(V,U,(r={},(0,re.Z)(r,"".concat(V,"-").concat(k),!!k),(0,re.Z)(r,"".concat(V,"-image"),W||I&&g),(0,re.Z)(r,"".concat(V,"-icon"),!!A),r),N),H="number"===typeof B?{width:B,height:B,lineHeight:"".concat(B,"px"),fontSize:A?B/2:18}:{};if("string"===typeof I&&g)G=b.createElement("img",{src:I,draggable:P,srcSet:T,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&v(!1)},alt:D,crossOrigin:L});else if(W)G=I;else if(A)G=A;else if(f||1!==s){var Y="scale(".concat(s,") translateX(-50%)"),X={msTransform:Y,WebkitTransform:Y,transform:Y},K="number"===typeof B?{lineHeight:"".concat(B,"px")}:{};G=b.createElement(wl,{onResize:E},b.createElement("span",{className:"".concat(V,"-string"),ref:function(e){w.current=e},style:x(x({},K),X)},O))}else G=b.createElement("span",{className:"".concat(V,"-string"),style:{opacity:0},ref:function(e){w.current=e}},O);return delete R.onError,delete R.gap,b.createElement("span",x({},R,{style:x(x(x({},H),j),R.style),className:Z,ref:_}),G)},Vp=b.forwardRef(Gp);Vp.displayName="Avatar",Vp.defaultProps={shape:"circle",size:"default"};var Up=Vp,Wp=function(e){var t=b.useContext(_e),n=t.getPrefixCls,r=t.direction,i=e.prefixCls,o=e.className,a=void 0===o?"":o,s=e.maxCount,u=e.maxStyle,l=e.size,c=n("avatar-group",i),f=oe()(c,(0,re.Z)({},"".concat(c,"-rtl"),"rtl"===r),a),d=e.children,h=e.maxPopoverPlacement,p=void 0===h?"top":h,g=e.maxPopoverTrigger,v=void 0===g?"hover":g,m=Dn(d).map((function(e,t){return Gs(e,{key:"avatar-key-".concat(t)})})),y=m.length;if(s&&s<y){var x=m.slice(0,s),w=m.slice(s,y);return x.push(b.createElement(Op,{key:"avatar-popover-key",content:w,trigger:v,placement:p,overlayClassName:"".concat(c,"-popover")},b.createElement(Up,{style:u},"+".concat(y-s)))),b.createElement(zp,{size:l},b.createElement("div",{className:f,style:e.style},x))}return b.createElement(zp,{size:l},b.createElement("div",{className:f,style:e.style},m))},Zp=Up;Zp.Group=Wp;var Hp=Zp,Yp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Xp=function(e){var t=e.prefixCls,n=e.className,r=e.hoverable,i=void 0===r||r,o=Yp(e,["prefixCls","className","hoverable"]);return b.createElement(Se,null,(function(e){var r=(0,e.getPrefixCls)("card",t),a=oe()("".concat(r,"-grid"),n,(0,re.Z)({},"".concat(r,"-grid-hoverable"),i));return b.createElement("div",x({},o,{className:a}))}))},Kp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qp=function(e){return b.createElement(Se,null,(function(t){var n=t.getPrefixCls,r=e.prefixCls,i=e.className,o=e.avatar,a=e.title,s=e.description,u=Kp(e,["prefixCls","className","avatar","title","description"]),l=n("card",r),c=oe()("".concat(l,"-meta"),i),f=o?b.createElement("div",{className:"".concat(l,"-meta-avatar")},o):null,d=a?b.createElement("div",{className:"".concat(l,"-meta-title")},a):null,h=s?b.createElement("div",{className:"".concat(l,"-meta-description")},s):null,p=d||h?b.createElement("div",{className:"".concat(l,"-meta-detail")},d,h):null;return b.createElement("div",x({},u,{className:c}),f,p)}))},$p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Qp=b.forwardRef((function(e,t){var n,r,i,o=b.useContext(_e),a=o.getPrefixCls,s=o.direction,u=b.useContext(_i),l=e.prefixCls,c=e.className,f=e.extra,d=e.headStyle,h=void 0===d?{}:d,p=e.bodyStyle,g=void 0===p?{}:p,v=e.title,m=e.loading,y=e.bordered,w=void 0===y||y,_=e.size,S=e.type,E=e.cover,C=e.actions,k=e.tabList,M=e.children,I=e.activeTabKey,T=e.defaultActiveTabKey,A=e.tabBarExtraContent,N=e.hoverable,D=e.tabProps,P=void 0===D?{}:D,O=$p(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),L=a("card",l),R=0===g.padding||"0px"===g.padding?{padding:24}:void 0,B=b.createElement("div",{className:"".concat(L,"-loading-block")}),z=b.createElement("div",{className:"".concat(L,"-loading-content"),style:R},b.createElement(En,{gutter:8},b.createElement(Tn,{span:22},B)),b.createElement(En,{gutter:8},b.createElement(Tn,{span:8},B),b.createElement(Tn,{span:15},B)),b.createElement(En,{gutter:8},b.createElement(Tn,{span:6},B),b.createElement(Tn,{span:18},B)),b.createElement(En,{gutter:8},b.createElement(Tn,{span:13},B),b.createElement(Tn,{span:9},B)),b.createElement(En,{gutter:8},b.createElement(Tn,{span:4},B),b.createElement(Tn,{span:3},B),b.createElement(Tn,{span:16},B))),F=void 0!==I,j=x(x({},P),(n={},(0,re.Z)(n,F?"activeKey":"defaultActiveKey",F?I:T),(0,re.Z)(n,"tabBarExtraContent",A),n)),G=k&&k.length?b.createElement(xp,x({size:"large"},j,{className:"".concat(L,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),k.map((function(e){return b.createElement(xp.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(v||f||G)&&(i=b.createElement("div",{className:"".concat(L,"-head"),style:h},b.createElement("div",{className:"".concat(L,"-head-wrapper")},v&&b.createElement("div",{className:"".concat(L,"-head-title")},v),f&&b.createElement("div",{className:"".concat(L,"-extra")},f)),G));var V=E?b.createElement("div",{className:"".concat(L,"-cover")},E):null,U=b.createElement("div",{className:"".concat(L,"-body"),style:g},m?z:M),W=C&&C.length?b.createElement("ul",{className:"".concat(L,"-actions")},function(e){var t=e.map((function(t,n){return b.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},b.createElement("span",null,t))}));return t}(C)):null,Z=Le(O,["onTabChange"]),H=_||u,Y=oe()(L,(r={},(0,re.Z)(r,"".concat(L,"-loading"),m),(0,re.Z)(r,"".concat(L,"-bordered"),w),(0,re.Z)(r,"".concat(L,"-hoverable"),N),(0,re.Z)(r,"".concat(L,"-contain-grid"),function(){var t;return b.Children.forEach(e.children,(function(e){e&&e.type&&e.type===Xp&&(t=!0)})),t}()),(0,re.Z)(r,"".concat(L,"-contain-tabs"),k&&k.length),(0,re.Z)(r,"".concat(L,"-").concat(H),H),(0,re.Z)(r,"".concat(L,"-type-").concat(S),!!S),(0,re.Z)(r,"".concat(L,"-rtl"),"rtl"===s),r),c);return b.createElement("div",x({ref:t},Z,{className:Y}),i,V,U,W)}));Qp.Grid=Xp,Qp.Meta=qp;var Jp=Qp,eg=(0,q.Z)((function e(){(0,K.Z)(this,e),this.key=void 0,this.id=void 0,this.name=void 0,this.accountNumber=void 0,this.password=void 0,this.wXOpenId=void 0,this.headPortraits=void 0,this.sex=void 0,this.sexName=void 0,this.mobileNumber=void 0,this.eMail=void 0,this.departmen=void 0})),tg=new(function(){function e(){(0,K.Z)(this,e)}return(0,q.Z)(e,[{key:"GetUserMenuList",value:function(){return Vf.get("Menu/GetUserMenuList")}}]),e}()),ng=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"render",value:function(){return(0,J.jsx)("div",{children:"\u5de5\u4f5c\u6d41"})}}]),n}(b.Component),rg=ng,ig=function(e,t){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ig(e,t)};function og(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ig(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;var ag=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},sg=new function(){this.browser=new ag,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!==typeof window};"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(sg.wxa=!0,sg.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?sg.worker=!0:"undefined"===typeof navigator?(sg.node=!0,sg.svgSupported=!0):function(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]);i&&(n.ie=!0,n.version=i[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);t.svgSupported="undefined"!==typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!==typeof document;var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,sg);var ug=sg,lg="sans-serif",cg="12px sans-serif";var fg=function(e){var t={};if("undefined"===typeof JSON)return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),i=(e.charCodeAt(n)-20)/100;t[r]=i}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),dg={createCanvas:function(){return"undefined"!==typeof document&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var i=dg.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==r&&(t=e.font=r||cg),e.measureText(n);n=n||"";var o=/^([0-9]*?)px$/.exec(r=r||cg),a=+(o&&o[1])||12,s=0;if(r.indexOf("mono")>=0)s=a*n.length;else for(var u=0;u<n.length;u++){var l=fg[n[u]];s+=null==l?a:l*a}return{width:s}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}};var hg=Bg(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(e,t){return e["[object "+t+"]"]=!0,e}),{}),pg=Bg(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(e,t){return e["[object "+t+"Array]"]=!0,e}),{}),gg=Object.prototype.toString,vg=Array.prototype,mg=vg.forEach,yg=vg.filter,bg=vg.slice,xg=vg.map,wg=function(){}.constructor,_g=wg?wg.prototype:null,Sg="__proto__",Eg=2311;function Cg(){return Eg++}function kg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!==typeof console&&console.error.apply(console,e)}function Mg(e){if(null==e||"object"!==typeof e)return e;var t=e,n=gg.call(e);if("[object Array]"===n){if(!uv(e)){t=[];for(var r=0,i=e.length;r<i;r++)t[r]=Mg(e[r])}}else if(pg[n]){if(!uv(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(r=0,i=e.length;r<i;r++)t[r]=e[r]}}}else if(!hg[n]&&!uv(e)&&!qg(e))for(var a in t={},e)e.hasOwnProperty(a)&&a!==Sg&&(t[a]=Mg(e[a]));return t}function Ig(e,t,n){if(!Yg(t)||!Yg(e))return n?Mg(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==Sg){var i=e[r],o=t[r];!Yg(o)||!Yg(i)||Vg(o)||Vg(i)||qg(o)||qg(i)||Xg(o)||Xg(i)||uv(o)||uv(i)?!n&&r in e||(e[r]=Mg(t[r])):Ig(i,o,n)}return e}function Tg(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=Ig(n,e[r],t);return n}function Ag(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==Sg&&(e[n]=t[n]);return e}function Ng(e,t,n){for(var r=Fg(t),i=0;i<r.length;i++){var o=r[i];(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}return e}dg.createCanvas;function Dg(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function Pg(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}else Ng(e,t,n)}function Og(e){return!!e&&("string"!==typeof e&&"number"===typeof e.length)}function Lg(e,t,n){if(e&&t)if(e.forEach&&e.forEach===mg)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function Rg(e,t,n){if(!e)return[];if(!t)return nv(e);if(e.map&&e.map===xg)return e.map(t,n);for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i,e));return r}function Bg(e,t,n,r){if(e&&t){for(var i=0,o=e.length;i<o;i++)n=t.call(r,n,e[i],i,e);return n}}function zg(e,t,n){if(!e)return[];if(!t)return nv(e);if(e.filter&&e.filter===yg)return e.filter(t,n);for(var r=[],i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function Fg(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}var jg=_g&&Ug(_g.bind)?_g.call.bind(_g.bind):function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(bg.call(arguments)))}};function Gg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(bg.call(arguments)))}}function Vg(e){return Array.isArray?Array.isArray(e):"[object Array]"===gg.call(e)}function Ug(e){return"function"===typeof e}function Wg(e){return"string"===typeof e}function Zg(e){return"[object String]"===gg.call(e)}function Hg(e){return"number"===typeof e}function Yg(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function Xg(e){return!!hg[gg.call(e)]}function Kg(e){return!!pg[gg.call(e)]}function qg(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function $g(e){return null!=e.colorStops}function Qg(e){return e!==e}function Jg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(null!=e[n])return e[n]}function ev(e,t){return null!=e?e:t}function tv(e,t,n){return null!=e?e:null!=t?t:n}function nv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return bg.apply(e,t)}function rv(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function iv(e,t){if(!e)throw new Error(t)}function ov(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var av="__ec_primitive__";function sv(e){e[av]=!0}function uv(e){return e[av]}var lv=function(){function e(t){this.data={};var n=Vg(t);this.data={};var r=this;function i(e,t){n?r.set(e,t):r.set(t,e)}t instanceof e?t.each(i):t&&Lg(t,i)}return e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},e.prototype.keys=function(){return Fg(this.data)},e.prototype.removeKey=function(e){delete this.data[e]},e}();function cv(e){return new lv(e)}function fv(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function dv(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&Ag(n,t),n}function hv(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function pv(e,t){return e.hasOwnProperty(t)}function gv(){}var vv=180/Math.PI,mv=function(e,t){return mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mv(e,t)};function yv(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;function bv(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function xv(e,t){return e[0]=t[0],e[1]=t[1],e}function wv(e){return[e[0],e[1]]}function _v(e,t,n){return e[0]=t,e[1]=n,e}function Sv(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Ev(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function Cv(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function kv(e){return Math.sqrt(Mv(e))}function Mv(e){return e[0]*e[0]+e[1]*e[1]}function Iv(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Tv(e,t){var n=kv(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Av(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Nv=Av;var Dv=function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])};function Pv(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function Ov(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Lv(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Rv(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Bv=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},zv=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Bv(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,t.drift(i,o,e),this.handler.dispatchToElement(new Bv(t,e),"drag",e.event);var a=this.handler.findHover(n,r,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Bv(s,e),"dragleave",e.event),a&&a!==s&&this.handler.dispatchToElement(new Bv(a,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Bv(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Bv(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),Fv=zv,jv=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"===typeof t&&(r=n,n=t,t=null),!n||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),i[e]||(i[e]=[]);for(var a=0;a<i[e].length;a++)if(i[e][a].h===n)return this;var s={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[e].length-1,l=i[e][u];return l&&l.callAtLast?i[e].splice(u,0,s):i[e].push(s),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!==t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var o=t.length,a=r.length,s=0;s<a;s++){var u=r[s];if(!i||!i.filter||null==u.query||i.filter(e,u.query))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t)}}return i&&i.afterTrigger&&i.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var o=t.length,a=t[o-1],s=r.length,u=0;u<s;u++){var l=r[u];if(!i||!i.filter||null==l.query||i.filter(e,l.query))switch(o){case 0:l.h.call(a);break;case 1:l.h.call(a,t[0]);break;case 2:l.h.call(a,t[0],t[1]);break;default:l.h.apply(a,t.slice(1,o-1))}}return i&&i.afterTrigger&&i.afterTrigger(e),this},e}(),Gv=jv,Vv=Math.log(2);function Uv(e,t,n,r,i,o){var a=r+"-"+i,s=e.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var u=Math.round(Math.log((1<<s)-1&~i)/Vv);return e[n][u]}for(var l=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var p=1<<d;p&i||(f+=(h%2?-1:1)*e[n][d]*Uv(e,t-1,c,l,i|p,o),h++)}return o[a]=f,f}function Wv(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=Uv(n,8,0,0,0,r);if(0!==i){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Uv(n,7,0===a?1:0,1<<a,1<<s,r)/i*t[a];return function(e,t,n){var r=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/r,e[1]=(t*o[3]+n*o[4]+o[5])/r}}}var Zv=[];function Hv(e,t,n,r,i){if(t.getBoundingClientRect&&ug.domSupported&&!Yv(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,u=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[s]+":0",i[u]+":0",r[1-s]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return n}(t,o),s=function(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],o=t.srcCoords,a=[],s=[],u=!0,l=0;l<4;l++){var c=e[l].getBoundingClientRect(),f=2*l,d=c.left,h=c.top;a.push(d,h),u=u&&o&&d===o[f]&&h===o[f+1],s.push(e[l].offsetLeft,e[l].offsetTop)}return u&&i?i:(t.srcCoords=a,t[r]=n?Wv(s,a):Wv(a,s))}(a,o,i);if(s)return s(e,n,r),!0}return!1}function Yv(e){return"CANVAS"===e.nodeName.toUpperCase()}var Xv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kv=[],qv=ug.browser.firefox&&+ug.browser.version.split(".")[0]<39;function $v(e,t,n,r){return n=n||{},r?Qv(e,t,n):qv&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):Qv(e,t,n),n}function Qv(e,t,n){if(ug.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(Yv(e)){var o=e.getBoundingClientRect();return n.zrX=r-o.left,void(n.zrY=i-o.top)}if(Hv(Kv,e,r,i))return n.zrX=Kv[0],void(n.zrY=Kv[1])}n.zrX=n.zrY=0}function Jv(e){return e||window.event}function em(e,t,n){if(null!=(t=Jv(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];i&&$v(e,i,t,n)}else{$v(e,t,t,n);var o=function(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(null==n||null==r)return t;return 3*(0!==r?Math.abs(r):Math.abs(n))*(r>0?-1:r<0?1:n>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&Xv.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function tm(e,t,n,r){e.addEventListener(t,n,r)}function nm(e,t,n,r){e.removeEventListener(t,n,r)}var rm=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function im(e){return 2===e.which||3===e.which}var om=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},o=0,a=r.length;o<a;o++){var s=r[o],u=$v(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},e.prototype._recognize=function(e){for(var t in sm)if(sm.hasOwnProperty(t)){var n=sm[t](this._track,e);if(n)return n}},e}();function am(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}var sm={pinch:function(e,t){var n=e.length;if(n){var r,i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=am(i)/am(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},um="silent";function lm(){rm(this.event)}var cm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return yv(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Gv),fm=function(e,t){this.x=e,this.y=t},dm=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],hm=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o._hovered=new fm(0,0),o.storage=t,o.painter=n,o.painterRoot=i,r=r||new cm,o.proxy=null,o.setHandlerProxy(r),o._draggingMgr=new Fv(o),o}return yv(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(Lg(dm,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,r=gm(this,t,n),i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=r?new fm(t,n):this.findHover(t,n),s=a.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(a,"mousemove",e),s&&s!==o&&this.dispatchToElement(a,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new fm(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){var r=(e=e||{}).target;if(!r||!r.silent){for(var i="on"+t,o=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:lm}}(t,e,n);r&&(r[i]&&(o.cancelBubble=!!r[i].call(r,o)),r.trigger(t,o),r=r.__hostTarget?r.__hostTarget:r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"===typeof e[i]&&e[i].call(e,o),e.trigger&&e.trigger(t,o)})))}},t.prototype.findHover=function(e,t,n){for(var r=this.storage.getDisplayList(),i=new fm(e,t),o=r.length-1;o>=0;o--){var a=void 0;if(r[o]!==n&&!r[o].ignore&&(a=pm(r[o],e,t))&&(!i.topTarget&&(i.topTarget=r[o]),a!==um)){i.target=r[o];break}}return i},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new om);var n=this._gestureMgr;"start"===t&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),r){var i=r.type;e.gestureEvent=i;var o=new fm;o.target=r.target,this.dispatchToElement(o,i,r.event)}},t}(Gv);function pm(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(t,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||um}return!1}function gm(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}Lg(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){hm.prototype[e]=function(t){var n,r,i=t.zrX,o=t.zrY,a=gm(this,i,o);if("mouseup"===e&&a||(r=(n=this.findHover(i,o)).target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Nv(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var vm=hm;function mm(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;!function(e,t,n){n--;for(;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function ym(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var o,a=e[r],s=t,u=r;s<u;)i(a,e[o=s+u>>>1])<0?u=o:s=o+1;var l=r-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=a}}function bm(e,t,n,r,i,o){var a=0,s=0,u=1;if(o(e,t[n+i])>0){for(s=r-i;u<s&&o(e,t[n+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(e,t[n+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}for(a++;a<u;){var c=a+(u-a>>>1);o(e,t[n+c])>0?a=c+1:u=c}return u}function xm(e,t,n,r,i,o){var a=0,s=0,u=1;if(o(e,t[n+i])<0){for(s=i+1;u<s&&o(e,t[n+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}else{for(s=r-i;u<s&&o(e,t[n+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var c=a+(u-a>>>1);o(e,t[n+c])<0?u=c:a=c+1}return u}function wm(e,t){var n,r,i,o=7,a=0;n=e.length;var s=[];function u(n){var u=r[n],l=i[n],c=r[n+1],f=i[n+1];i[n]=l+f,n===a-3&&(r[n+1]=r[n+2],i[n+1]=i[n+2]),a--;var d=xm(e[c],e,u,l,0,t);u+=d,0!==(l-=d)&&0!==(f=bm(e[u+l-1],e,c,f,f-1,t))&&(l<=f?function(n,r,i,a){var u=0;for(u=0;u<r;u++)s[u]=e[n+u];var l=0,c=i,f=n;if(e[f++]=e[c++],0===--a){for(u=0;u<r;u++)e[f+u]=s[l+u];return}if(1===r){for(u=0;u<a;u++)e[f+u]=e[c+u];return void(e[f+a]=s[l])}var d,h,p,g=o;for(;;){d=0,h=0,p=!1;do{if(t(e[c],s[l])<0){if(e[f++]=e[c++],h++,d=0,0===--a){p=!0;break}}else if(e[f++]=s[l++],d++,h=0,1===--r){p=!0;break}}while((d|h)<g);if(p)break;do{if(0!==(d=xm(e[c],s,l,r,0,t))){for(u=0;u<d;u++)e[f+u]=s[l+u];if(f+=d,l+=d,(r-=d)<=1){p=!0;break}}if(e[f++]=e[c++],0===--a){p=!0;break}if(0!==(h=bm(s[l],e,c,a,0,t))){for(u=0;u<h;u++)e[f+u]=e[c+u];if(f+=h,c+=h,0===(a-=h)){p=!0;break}}if(e[f++]=s[l++],1===--r){p=!0;break}g--}while(d>=7||h>=7);if(p)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===r){for(u=0;u<a;u++)e[f+u]=e[c+u];e[f+a]=s[l]}else{if(0===r)throw new Error;for(u=0;u<r;u++)e[f+u]=s[l+u]}}(u,l,c,f):function(n,r,i,a){var u=0;for(u=0;u<a;u++)s[u]=e[i+u];var l=n+r-1,c=a-1,f=i+a-1,d=0,h=0;if(e[f--]=e[l--],0===--r){for(d=f-(a-1),u=0;u<a;u++)e[d+u]=s[u];return}if(1===a){for(h=(f-=r)+1,d=(l-=r)+1,u=r-1;u>=0;u--)e[h+u]=e[d+u];return void(e[f]=s[c])}var p=o;for(;;){var g=0,v=0,m=!1;do{if(t(s[c],e[l])<0){if(e[f--]=e[l--],g++,v=0,0===--r){m=!0;break}}else if(e[f--]=s[c--],v++,g=0,1===--a){m=!0;break}}while((g|v)<p);if(m)break;do{if(0!==(g=r-xm(s[c],e,n,r,r-1,t))){for(r-=g,h=(f-=g)+1,d=(l-=g)+1,u=g-1;u>=0;u--)e[h+u]=e[d+u];if(0===r){m=!0;break}}if(e[f--]=s[c--],1===--a){m=!0;break}if(0!==(v=a-bm(e[l],s,0,a,a-1,t))){for(a-=v,h=(f-=v)+1,d=(c-=v)+1,u=0;u<v;u++)e[h+u]=s[d+u];if(a<=1){m=!0;break}}if(e[f--]=e[l--],0===--r){m=!0;break}p--}while(g>=7||v>=7);if(m)break;p<0&&(p=0),p+=2}(o=p)<1&&(o=1);if(1===a){for(h=(f-=r)+1,d=(l-=r)+1,u=r-1;u>=0;u--)e[h+u]=e[d+u];e[f]=s[c]}else{if(0===a)throw new Error;for(d=f-(a-1),u=0;u<a;u++)e[d+u]=s[u]}}(u,l,c,f))}return n<120?5:n<1542?10:n<119151?19:40,r=[],i=[],{mergeRuns:function(){for(;a>1;){var e=a-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;u(e)}},forceMergeRuns:function(){for(;a>1;){var e=a-2;e>0&&i[e-1]<i[e+1]&&e--,u(e)}},pushRun:function(e,t){r[a]=e,i[a]=t,a+=1}}}function _m(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(i<2)){var o=0;if(i<32)ym(e,n,r,n+(o=mm(e,n,r,t)),t);else{var a=wm(e,t),s=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(i);do{if((o=mm(e,n,r,t))<s){var u=i;u>s&&(u=s),ym(e,n,n+u,n+o,t),o=u}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}}var Sm=!1;function Em(){Sm||(Sm=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Cm(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var km=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Cm}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,i=t.length;r<i;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,_m(n,Cm)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var i=r,o=e;i;)i.parent=o,i.updateTransform(),t.push(i),o=i,i=i.getClipPath()}if(e.childrenRef){for(var a=e.childrenRef(),s=0;s<a.length;s++){var u=a[s];e.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var l=e;t&&t.length?l.__clipPaths=t:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(Em(),l.z=0),isNaN(l.z2)&&(Em(),l.z2=0),isNaN(l.zlevel)&&(Em(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,n);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var r=Dg(this._roots,e);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),Mm=km,Im=ug.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)},Tm={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Tm.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*Tm.bounceIn(2*e):.5*Tm.bounceOut(2*e-1)+.5}},Am=Tm,Nm=Math.pow,Dm=Math.sqrt,Pm=1e-8,Om=1e-4,Lm=Dm(3),Rm=1/3,Bm=bv(),zm=bv(),Fm=bv();function jm(e){return e>-1e-8&&e<Pm}function Gm(e){return e>Pm||e<-1e-8}function Vm(e,t,n,r,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*r+3*o*n)}function Um(e,t,n,r,i){var o=1-i;return 3*(((t-e)*o+2*(n-t)*i)*o+(r-n)*i*i)}function Wm(e,t,n,r,i,o){var a=r+3*(t-n)-e,s=3*(n-2*t+e),u=3*(t-e),l=e-i,c=s*s-3*a*u,f=s*u-9*a*l,d=u*u-3*s*l,h=0;if(jm(c)&&jm(f)){if(jm(s))o[0]=0;else(E=-u/s)>=0&&E<=1&&(o[h++]=E)}else{var p=f*f-4*c*d;if(jm(p)){var g=f/c,v=-g/2;(E=-s/a+g)>=0&&E<=1&&(o[h++]=E),v>=0&&v<=1&&(o[h++]=v)}else if(p>0){var m=Dm(p),y=c*s+1.5*a*(-f+m),b=c*s+1.5*a*(-f-m);(E=(-s-((y=y<0?-Nm(-y,Rm):Nm(y,Rm))+(b=b<0?-Nm(-b,Rm):Nm(b,Rm))))/(3*a))>=0&&E<=1&&(o[h++]=E)}else{var x=(2*c*s-3*a*f)/(2*Dm(c*c*c)),w=Math.acos(x)/3,_=Dm(c),S=Math.cos(w),E=(-s-2*_*S)/(3*a),C=(v=(-s+_*(S+Lm*Math.sin(w)))/(3*a),(-s+_*(S-Lm*Math.sin(w)))/(3*a));E>=0&&E<=1&&(o[h++]=E),v>=0&&v<=1&&(o[h++]=v),C>=0&&C<=1&&(o[h++]=C)}}return h}function Zm(e,t,n,r,i){var o=6*n-12*t+6*e,a=9*t+3*r-3*e-9*n,s=3*t-3*e,u=0;if(jm(a)){if(Gm(o))(c=-s/o)>=0&&c<=1&&(i[u++]=c)}else{var l=o*o-4*a*s;if(jm(l))i[0]=-o/(2*a);else if(l>0){var c,f=Dm(l),d=(-o-f)/(2*a);(c=(-o+f)/(2*a))>=0&&c<=1&&(i[u++]=c),d>=0&&d<=1&&(i[u++]=d)}}return u}function Hm(e,t,n,r,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,u=(r-n)*i+n,l=(s-a)*i+a,c=(u-s)*i+s,f=(c-l)*i+l;o[0]=e,o[1]=a,o[2]=l,o[3]=f,o[4]=f,o[5]=c,o[6]=u,o[7]=r}function Ym(e,t,n,r,i,o,a,s,u,l,c){var f,d,h,p,g,v=.005,m=1/0;Bm[0]=u,Bm[1]=l;for(var y=0;y<1;y+=.05)zm[0]=Vm(e,n,i,a,y),zm[1]=Vm(t,r,o,s,y),(p=Dv(Bm,zm))<m&&(f=y,m=p);m=1/0;for(var b=0;b<32&&!(v<Om);b++)d=f-v,h=f+v,zm[0]=Vm(e,n,i,a,d),zm[1]=Vm(t,r,o,s,d),p=Dv(zm,Bm),d>=0&&p<m?(f=d,m=p):(Fm[0]=Vm(e,n,i,a,h),Fm[1]=Vm(t,r,o,s,h),g=Dv(Fm,Bm),h<=1&&g<m?(f=h,m=g):v*=.5);return c&&(c[0]=Vm(e,n,i,a,f),c[1]=Vm(t,r,o,s,f)),Dm(m)}function Xm(e,t,n,r,i,o,a,s,u){for(var l=e,c=t,f=0,d=1/u,h=1;h<=u;h++){var p=h*d,g=Vm(e,n,i,a,p),v=Vm(t,r,o,s,p),m=g-l,y=v-c;f+=Math.sqrt(m*m+y*y),l=g,c=v}return f}function Km(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function qm(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function $m(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function Qm(e,t,n,r,i){var o=(t-e)*r+e,a=(n-t)*r+t,s=(a-o)*r+o;i[0]=e,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function Jm(e,t,n,r,i,o,a,s,u){var l,c=.005,f=1/0;Bm[0]=a,Bm[1]=s;for(var d=0;d<1;d+=.05){zm[0]=Km(e,n,i,d),zm[1]=Km(t,r,o,d),(v=Dv(Bm,zm))<f&&(l=d,f=v)}f=1/0;for(var h=0;h<32&&!(c<Om);h++){var p=l-c,g=l+c;zm[0]=Km(e,n,i,p),zm[1]=Km(t,r,o,p);var v=Dv(zm,Bm);if(p>=0&&v<f)l=p,f=v;else{Fm[0]=Km(e,n,i,g),Fm[1]=Km(t,r,o,g);var m=Dv(Fm,Bm);g<=1&&m<f?(l=g,f=m):c*=.5}}return u&&(u[0]=Km(e,n,i,l),u[1]=Km(t,r,o,l)),Dm(f)}function ey(e,t,n,r,i,o,a){for(var s=e,u=t,l=0,c=1/a,f=1;f<=a;f++){var d=f*c,h=Km(e,n,i,d),p=Km(t,r,o,d),g=h-s,v=p-u;l+=Math.sqrt(g*g+v*v),s=h,u=p}return l}var ty=/cubic-bezier\(([0-9,\.e ]+)\)/;function ny(e){var t=e&&ty.exec(e);if(t){var n=t[1].split(","),r=+ov(n[0]),i=+ov(n[1]),o=+ov(n[2]),a=+ov(n[3]);if(isNaN(r+i+o+a))return;var s=[];return function(e){return e<=0?0:e>=1?1:Wm(0,r,o,1,e,s)&&Vm(0,i,a,1,s[0])}}}var ry=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||gv,this.ondestroy=e.ondestroy||gv,this.onrestart=e.onrestart||gv,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,r=e-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,a=o?o(i):i;if(this.onframe(a),1===i){if(!this.loop)return!0;var s=r%n;this._startTime=e-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ug(e)?e:Am[e]||ny(e)},e}(),iy=function(e){this.value=e},oy=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new iy(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),ay=function(){function e(e){this._list=new oy,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,r=this._map,i=null;if(null==r[e]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new iy(t),a.key=e,n.insertEntry(a),r[e]=a}return i},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),sy=ay,uy={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ly(e){return(e=Math.round(e))<0?0:e>255?255:e}function cy(e){return e<0?0:e>1?1:e}function fy(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?ly(parseFloat(t)/100*255):ly(parseInt(t,10))}function dy(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?cy(parseFloat(t)/100):cy(parseFloat(t))}function hy(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function py(e,t,n){return e+(t-e)*n}function gy(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function vy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var my=new sy(20),yy=null;function by(e,t){yy&&vy(yy,t),yy=my.put(e,yy||t.slice())}function xy(e,t){if(e){t=t||[];var n=my.get(e);if(n)return vy(t,n);var r=(e+="").replace(/ /g,"").toLowerCase();if(r in uy)return vy(t,uy[r]),by(e,t),t;var i,o=r.length;if("#"===r.charAt(0))return 4===o||5===o?(i=parseInt(r.slice(1,4),16))>=0&&i<=4095?(gy(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,5===o?parseInt(r.slice(4),16)/15:1),by(e,t),t):void gy(t,0,0,0,1):7===o||9===o?(i=parseInt(r.slice(1,7),16))>=0&&i<=16777215?(gy(t,(16711680&i)>>16,(65280&i)>>8,255&i,9===o?parseInt(r.slice(7),16)/255:1),by(e,t),t):void gy(t,0,0,0,1):void 0;var a=r.indexOf("("),s=r.indexOf(")");if(-1!==a&&s+1===o){var u=r.substr(0,a),l=r.substr(a+1,s-(a+1)).split(","),c=1;switch(u){case"rgba":if(4!==l.length)return 3===l.length?gy(t,+l[0],+l[1],+l[2],1):gy(t,0,0,0,1);c=dy(l.pop());case"rgb":return 3!==l.length?void gy(t,0,0,0,1):(gy(t,fy(l[0]),fy(l[1]),fy(l[2]),c),by(e,t),t);case"hsla":return 4!==l.length?void gy(t,0,0,0,1):(l[3]=dy(l[3]),wy(l,t),by(e,t),t);case"hsl":return 3!==l.length?void gy(t,0,0,0,1):(wy(l,t),by(e,t),t);default:return}}gy(t,0,0,0,1)}}function wy(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=dy(e[1]),i=dy(e[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return gy(t=t||[],ly(255*hy(a,o,n+1/3)),ly(255*hy(a,o,n)),ly(255*hy(a,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function _y(e,t){var n=xy(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return My(n,4===n.length?"rgba":"rgb")}}function Sy(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),a=t[i],s=t[o],u=r-i;return n[0]=ly(py(a[0],s[0],u)),n[1]=ly(py(a[1],s[1],u)),n[2]=ly(py(a[2],s[2],u)),n[3]=cy(py(a[3],s[3],u)),n}}function Ey(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),a=xy(t[i]),s=xy(t[o]),u=r-i,l=My([ly(py(a[0],s[0],u)),ly(py(a[1],s[1],u)),ly(py(a[2],s[2],u)),cy(py(a[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:o,value:r}:l}}function Cy(e,t,n,r){var i=xy(e);if(e)return i=function(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,l=(s+a)/2;if(0===u)t=0,n=0;else{n=l<.5?u/(s+a):u/(2-s-a);var c=((s-r)/6+u/2)/u,f=((s-i)/6+u/2)/u,d=((s-o)/6+u/2)/u;r===s?t=d-f:i===s?t=1/3+c-d:o===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,l];return null!=e[3]&&h.push(e[3]),h}}(i),null!=t&&(i[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(i[1]=dy(n)),null!=r&&(i[2]=dy(r)),My(wy(i),"rgba")}function ky(e,t){var n=xy(e);if(n&&null!=t)return n[3]=cy(t),My(n,"rgba")}function My(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function Iy(e,t){var n=xy(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var Ty=Math.round;function Ay(e){var t;if(e&&"transparent"!==e){if("string"===typeof e&&e.indexOf("rgba")>-1){var n=xy(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}}else e="none";return{color:e,opacity:null==t?1:t}}var Ny=1e-4;function Dy(e){return e<Ny&&e>-1e-4}function Py(e){return Ty(1e3*e)/1e3}function Oy(e){return Ty(1e4*e)/1e4}var Ly={left:"start",right:"end",center:"middle",middle:"middle"};function Ry(e){return e&&!!e.image}function By(e){return"linear"===e.type}function zy(e){return"radial"===e.type}function Fy(e){return"url(#"+e+")"}function jy(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Gy(e){var t=e.x||0,n=e.y||0,r=(e.rotation||0)*vv,i=ev(e.scaleX,1),o=ev(e.scaleY,1),a=e.skewX||0,s=e.skewY||0,u=[];return(t||n)&&u.push("translate("+t+"px,"+n+"px)"),r&&u.push("rotate("+r+")"),1===i&&1===o||u.push("scale("+i+","+o+")"),(a||s)&&u.push("skew("+Ty(a*vv)+"deg, "+Ty(s*vv)+"deg)"),u.join(" ")}var Vy=ug.hasGlobalWindow&&Ug(window.btoa)?function(e){return window.btoa(unescape(e))}:"undefined"!==typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},Uy=Array.prototype.slice;function Wy(e,t,n){return(t-e)*n+e}function Zy(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=Wy(t[o],n[o],r);return e}function Hy(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+n[o]*r;return e}function Yy(e,t,n,r){for(var i=t.length,o=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=t[a][s]+n[a][s]*r}return e}function Xy(e,t){for(var n=e.length,r=t.length,i=n>r?t:e,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function Ky(e,t,n){var r=e,i=t;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a)if(o>a)r.length=a;else for(var s=o;s<a;s++)r.push(1===n?i[s]:Uy.call(i[s]));var u=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=i[s]);else for(var l=0;l<u;l++)isNaN(r[s][l])&&(r[s][l]=i[s][l])}}function qy(e){if(Og(e)){var t=e.length;if(Og(e[0])){for(var n=[],r=0;r<t;r++)n.push(Uy.call(e[r]));return n}return Uy.call(e)}return e}function $y(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function Qy(e){return 4===e||5===e}function Jy(e){return 1===e||2===e}var eb=[0,0,0,0],tb=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var r=this.keyframes,i=r.length,o=!1,a=6,s=t;if(Og(t)){var u=function(e){return Og(e&&e[0])?2:1}(t);a=u,(1===u&&!Hg(t[0])||2===u&&!Hg(t[0][0]))&&(o=!0)}else if(Hg(t)&&!Qg(t))a=0;else if(Wg(t))if(isNaN(+t)){var l=xy(t);l&&(s=l,a=3)}else a=0;else if($g(t)){var c=Ag({},s);c.colorStops=Rg(t.colorStops,(function(e){return{offset:e.offset,color:xy(e.color)}})),By(t)?a=4:zy(t)&&(a=5),s=c}0===i?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var f={time:e,value:s,rawValue:t,percent:0};return n&&(f.easing=n,f.easingFunc=Ug(n)?n:Am[n]||ny(n)),r.push(f),f},e.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort((function(e,t){return e.time-t.time}));for(var r=this.valType,i=n.length,o=n[i-1],a=this.discrete,s=Jy(r),u=Qy(r),l=0;l<i;l++){var c=n[l],f=c.value,d=o.value;c.percent=c.time/e,a||(s&&l!==i-1?Ky(f,d,r):u&&Xy(f.colorStops,d.colorStops))}if(!a&&5!==r&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var h=n[0].value;for(l=0;l<i;l++)0===r?n[l].additiveValue=n[l].value-h:3===r?n[l].additiveValue=Hy([],n[l].value,h,-1):Jy(r)&&(n[l].additiveValue=1===r?Hy([],n[l].value,h,-1):Yy([],n[l].value,h,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,i,o=null!=this._additiveTrack,a=o?"additiveValue":"value",s=this.valType,u=this.keyframes,l=u.length,c=this.propName,f=3===s,d=this._lastFr,h=Math.min;if(1===l)r=i=u[0];else{if(t<0)n=0;else if(t<this._lastFrP){for(n=h(d+1,l-1);n>=0&&!(u[n].percent<=t);n--);n=h(n,l-2)}else{for(n=d;n<l&&!(u[n].percent>t);n++);n=h(n-1,l-2)}i=u[n+1],r=u[n]}if(r&&i){this._lastFr=n,this._lastFrP=t;var p=i.percent-r.percent,g=0===p?1:h((t-r.percent)/p,1);i.easingFunc&&(g=i.easingFunc(g));var v=o?this._additiveValue:f?eb:e[c];if(!Jy(s)&&!f||v||(v=this._additiveValue=[]),this.discrete)e[c]=g<1?r.rawValue:i.rawValue;else if(Jy(s))1===s?Zy(v,r[a],i[a],g):function(e,t,n,r){for(var i=t.length,o=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=Wy(t[a][s],n[a][s],r)}}(v,r[a],i[a],g);else if(Qy(s)){var m=r[a],y=i[a],b=4===s;e[c]={type:b?"linear":"radial",x:Wy(m.x,y.x,g),y:Wy(m.y,y.y,g),colorStops:Rg(m.colorStops,(function(e,t){var n=y.colorStops[t];return{offset:Wy(e.offset,n.offset,g),color:$y(Zy([],e.color,n.color,g))}})),global:y.global},b?(e[c].x2=Wy(m.x2,y.x2,g),e[c].y2=Wy(m.y2,y.y2,g)):e[c].r=Wy(m.r,y.r,g)}else if(f)Zy(v,r[a],i[a],g),o||(e[c]=$y(v));else{var x=Wy(r[a],i[a],g);o?this._additiveValue=x:e[c]=x}o&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,r=this._additiveValue;0===t?e[n]=e[n]+r:3===t?(xy(e[n],eb),Hy(eb,eb,r,1),e[n]=$y(eb)):1===t?Hy(e[n],e[n],r,1):2===t&&Yy(e[n],e[n],r,1)},e}(),nb=function(){function e(e,t,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?kg("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Fg(t),n)},e.prototype.whenWithKeys=function(e,t,n,r){for(var i=this._tracks,o=0;o<n.length;o++){var a=n[o],s=i[a];if(!s){s=i[a]=new tb(a);var u=void 0,l=this._getAdditiveTrack(a);if(l){var c=l.keyframes,f=c[c.length-1];u=f&&f.value,3===l.valType&&u&&(u=$y(u))}else u=this._target[a];if(null==u)continue;e>0&&s.addKeyframe(0,qy(u),r),this._trackKeys.push(a)}s.addKeyframe(e,qy(t[a]),r)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(e);i&&(t=i)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],a=this._tracks[o],s=this._getAdditiveTrack(o),u=a.keyframes,l=u.length;if(a.prepare(r,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var c=u[l-1];c&&(t._target[a.propName]=c.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var f=new ry({life:r,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var r=t._additiveAnimators;if(r){for(var i=!1,o=0;o<r.length;o++)if(r[o]._clip){i=!0;break}i||(t._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(t._target,e);var a=t._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return Rg(this._trackKeys,(function(t){return e._tracks[t]}))},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<e.length;i++){var o=n[e[i]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var i=t[r],o=this._tracks[i];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(e[i]=qy(s.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||Fg(e);for(var n=0;n<t.length;n++){var r=t[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var a=o.pop();i.addKeyframe(a.time,e[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}(),rb=nb;function ib(){return(new Date).getTime()}var ob=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return yv(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=ib()-this._pausedTime,n=t-this._time,r=this._head;r;){var i=r.next;r.step(t,n)?(r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,Im((function t(){e._running&&(Im(t),!e._paused&&e.update())}))},t.prototype.start=function(){this._running||(this._time=ib(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=ib(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=ib()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new rb(e,t.loop);return this.addAnimator(n),n},t}(Gv),ab=ob,sb=ug.domSupported,ub=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:Rg(e,(function(e){var n=e.replace("mouse","pointer");return t.hasOwnProperty(n)?n:e}))}}(),lb=["mousemove","mouseup"],cb=["pointermove","pointerup"],fb=!1;function db(e){var t=e.pointerType;return"pen"===t||"touch"===t}function hb(e){e&&(e.zrByTouch=!0)}function pb(e,t){for(var n=t,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var gb=function(e,t){this.stopPropagation=gv,this.stopImmediatePropagation=gv,this.preventDefault=gv,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},vb={mousedown:function(e){e=em(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=em(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=em(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){pb(this,(e=em(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){fb=!0,e=em(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){fb||(e=em(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){hb(e=em(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),vb.mousemove.call(this,e),vb.mousedown.call(this,e)},touchmove:function(e){hb(e=em(this.dom,e)),this.handler.processGesture(e,"change"),vb.mousemove.call(this,e)},touchend:function(e){hb(e=em(this.dom,e)),this.handler.processGesture(e,"end"),vb.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&vb.click.call(this,e)},pointerdown:function(e){vb.mousedown.call(this,e)},pointermove:function(e){db(e)||vb.mousemove.call(this,e)},pointerup:function(e){vb.mouseup.call(this,e)},pointerout:function(e){db(e)||vb.mouseout.call(this,e)}};Lg(["click","dblclick","contextmenu"],(function(e){vb[e]=function(t){t=em(this.dom,t),this.trigger(e,t)}}));var mb={pointermove:function(e){db(e)||mb.mousemove.call(this,e)},pointerup:function(e){mb.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function yb(e,t){var n=t.domHandlers;ug.pointerEventsSupported?Lg(ub.pointer,(function(r){xb(t,r,(function(t){n[r].call(e,t)}))})):(ug.touchEventsSupported&&Lg(ub.touch,(function(r){xb(t,r,(function(i){n[r].call(e,i),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}(t)}))})),Lg(ub.mouse,(function(r){xb(t,r,(function(i){i=Jv(i),t.touching||n[r].call(e,i)}))})))}function bb(e,t){function n(n){xb(t,n,(function(r){r=Jv(r),pb(e,r.target)||(r=function(e,t){return em(e.dom,new gb(e,t),!0)}(e,r),t.domHandlers[n].call(e,r))}),{capture:!0})}ug.pointerEventsSupported?Lg(cb,n):ug.touchEventsSupported||Lg(lb,n)}function xb(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,tm(e.domTarget,t,n,r)}function wb(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&nm(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var _b=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},Sb=function(e){function t(t,n){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new _b(t,vb),sb&&(r._globalHandlerScope=new _b(document,mb)),yb(r,r._localHandlerScope),r}return yv(t,e),t.prototype.dispose=function(){wb(this._localHandlerScope),sb&&wb(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,sb&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?bb(this,t):wb(t)}},t}(Gv),Eb=Sb,Cb=1;ug.hasGlobalWindow&&(Cb=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var kb=Cb,Mb="#333",Ib="#ccc";function Tb(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Ab(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Nb(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e}function Db(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Pb(e,t,n){var r=t[0],i=t[2],o=t[4],a=t[1],s=t[3],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*l,e[1]=-r*l+a*c,e[2]=i*c+s*l,e[3]=-i*l+c*s,e[4]=c*o+l*u,e[5]=c*u-l*o,e}function Ob(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function Lb(e,t){var n=t[0],r=t[2],i=t[4],o=t[1],a=t[3],s=t[5],u=n*a-o*r;return u?(u=1/u,e[0]=a*u,e[1]=-o*u,e[2]=-r*u,e[3]=n*u,e[4]=(r*s-a*i)*u,e[5]=(o*i-n*s)*u,e):null}var Rb=Tb,Bb=5e-5;function zb(e){return e>Bb||e<-5e-5}var Fb=[],jb=[],Gb=[1,0,0,1,0,0],Vb=Math.abs,Ub=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return zb(this.rotation)||zb(this.x)||zb(this.y)||zb(this.scaleX-1)||zb(this.scaleY-1)||zb(this.skewX)||zb(this.skewY)},e.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):Rb(n),e&&(t?Nb(n,e,n):Ab(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&Rb(n)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Fb);var n=Fb[0]<0?-1:1,r=Fb[1]<0?-1:1,i=((Fb[0]-n)*t+n)/Fb[0]||0,o=((Fb[1]-r)*t+r)/Fb[1]||0;e[0]*=i,e[1]*=i,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Lb(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),i=Math.PI/2+r-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),t=Math.sqrt(t),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Nb(jb,e.invTransform,t),t=jb);var n=this.originX,r=this.originY;(n||r)&&(Gb[4]=n,Gb[5]=r,Nb(jb,t,Gb),jb[4]-=n,jb[5]-=r,t=jb),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&Ov(n,n,r),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&Ov(n,n,r),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&Vb(e[0]-1)>1e-10&&Vb(e[3]-1)>1e-10?Math.sqrt(Vb(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){Zb(this,e)},e.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,r=e.originY||0,i=e.scaleX,o=e.scaleY,a=e.anchorX,s=e.anchorY,u=e.rotation||0,l=e.x,c=e.y,f=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(n||r||a||s){var h=n+a,p=r+s;t[4]=-h*i-f*p*o,t[5]=-p*o-d*h*i}else t[4]=t[5]=0;return t[0]=i,t[3]=o,t[1]=d*i,t[2]=f*o,u&&Pb(t,t,u),t[4]+=n+l,t[5]+=r+c,t},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Wb=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Zb(e,t){for(var n=0;n<Wb.length;n++){var r=Wb[n];e[r]=t[r]}}var Hb=Ub,Yb=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r,e.y=t.y+n.y*r},e.lerp=function(e,t,n,r){var i=1-r;e.x=i*t.x+r*n.x,e.y=i*t.y+r*n.y},e}(),Xb=Yb,Kb=Math.min,qb=Math.max,$b=new Xb,Qb=new Xb,Jb=new Xb,ex=new Xb,tx=new Xb,nx=new Xb,rx=function(){function e(e,t,n,r){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.union=function(e){var t=Kb(e.x,this.x),n=Kb(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=qb(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=qb(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,r=e.height/t.height,i=[1,0,0,1,0,0];return Db(i,i,[-t.x,-t.y]),Ob(i,i,[n,r]),Db(i,i,[e.x,e.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,u=t.x,l=t.x+t.width,c=t.y,f=t.y+t.height,d=!(o<u||l<i||s<c||f<a);if(n){var h=1/0,p=0,g=Math.abs(o-u),v=Math.abs(l-i),m=Math.abs(s-c),y=Math.abs(f-a),b=Math.min(g,v),x=Math.min(m,y);o<u||l<i?b>p&&(p=b,g<v?Xb.set(nx,-g,0):Xb.set(nx,v,0)):b<h&&(h=b,g<v?Xb.set(tx,g,0):Xb.set(tx,-v,0)),s<c||f<a?x>p&&(p=x,m<y?Xb.set(nx,0,-m):Xb.set(nx,0,y)):b<h&&(h=b,m<y?Xb.set(tx,0,m):Xb.set(tx,0,-y))}return n&&Xb.copy(n,d?tx:nx),d},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],a=r[4],s=r[5];return t.x=n.x*i+a,t.y=n.y*o+s,t.width=n.width*i,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}$b.x=Jb.x=n.x,$b.y=ex.y=n.y,Qb.x=ex.x=n.x+n.width,Qb.y=Jb.y=n.y+n.height,$b.transform(r),ex.transform(r),Qb.transform(r),Jb.transform(r),t.x=Kb($b.x,Qb.x,Jb.x,ex.x),t.y=Kb($b.y,Qb.y,Jb.y,ex.y);var u=qb($b.x,Qb.x,Jb.x,ex.x),l=qb($b.y,Qb.y,Jb.y,ex.y);t.width=u-t.x,t.height=l-t.y}else t!==n&&e.copy(t,n)},e}(),ix=rx,ox={};function ax(e,t){var n=ox[t=t||cg];n||(n=ox[t]=new sy(500));var r=n.get(e);return null==r&&(r=dg.measureText(e,t).width,n.put(e,r)),r}function sx(e,t,n,r){var i=ax(e,t),o=fx(t),a=lx(0,i,n),s=cx(0,o,r);return new ix(a,s,i,o)}function ux(e,t,n,r){var i=((e||"")+"").split("\n");if(1===i.length)return sx(i[0],t,n,r);for(var o=new ix(0,0,0,0),a=0;a<i.length;a++){var s=sx(i[a],t,n,r);0===a?o.copy(s):o.union(s)}return o}function lx(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function cx(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function fx(e){return ax("\u56fd",e)}function dx(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function hx(e,t,n){var r=t.position||"inside",i=null!=t.distance?t.distance:5,o=n.height,a=n.width,s=o/2,u=n.x,l=n.y,c="left",f="top";if(r instanceof Array)u+=dx(r[0],n.width),l+=dx(r[1],n.height),c=null,f=null;else switch(r){case"left":u-=i,l+=s,c="right",f="middle";break;case"right":u+=i+a,l+=s,f="middle";break;case"top":u+=a/2,l-=i,c="center",f="bottom";break;case"bottom":u+=a/2,l+=o+i,c="center";break;case"inside":u+=a/2,l+=s,c="center",f="middle";break;case"insideLeft":u+=i,l+=s,f="middle";break;case"insideRight":u+=a-i,l+=s,c="right",f="middle";break;case"insideTop":u+=a/2,l+=i,c="center";break;case"insideBottom":u+=a/2,l+=o-i,c="center",f="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=a-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=o-i,f="bottom";break;case"insideBottomRight":u+=a-i,l+=o-i,c="right",f="bottom"}return(e=e||{}).x=u,e.y=l,e.align=c,e.verticalAlign=f,e}var px="__zr_normal__",gx=Wb.concat(["ignore"]),vx=Bg(Wb,(function(e,t){return e[t]=!0,e}),{ignore:!1}),mx={},yx=new ix(0,0,0,0),bx=function(){function e(e){this.id=Cg(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=t.innerTransformable,o=void 0,a=void 0,s=!1;i.parent=r?this:null;var u=!1;if(i.copyTransform(t),null!=n.position){var l=yx;n.layoutRect?l.copy(n.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(mx,n,l):hx(mx,n,l),i.x=mx.x,i.y=mx.y,o=mx.align,a=mx.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var f=void 0,d=void 0;"center"===c?(f=.5*l.width,d=.5*l.height):(f=dx(c[0],l.width),d=dx(c[1],l.height)),u=!0,i.originX=-i.x+f+(r?0:l.x),i.originY=-i.y+d+(r?0:l.y)}}null!=n.rotation&&(i.rotation=n.rotation);var h=n.offset;h&&(i.x+=h[0],i.y+=h[1],u||(i.originX=-h[0],i.originY=-h[1]));var p=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,m=void 0,y=void 0;p&&this.canBeInsideText()?(v=n.insideFill,m=n.insideStroke,null!=v&&"auto"!==v||(v=this.getInsideTextFill()),null!=m&&"auto"!==m||(m=this.getInsideTextStroke(v),y=!0)):(v=n.outsideFill,m=n.outsideStroke,null!=v&&"auto"!==v||(v=this.getOutsideFill()),null!=m&&"auto"!==m||(m=this.getOutsideStroke(v),y=!0)),(v=v||"#000")===g.fill&&m===g.stroke&&y===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=v,g.stroke=m,g.autoStroke=y,g.align=o,g.verticalAlign=a,t.setDefaultTextStyle(g)),t.__dirty|=1,s&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Ib:Mb},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof t&&xy(t);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,My(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},Ag(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(Yg(e))for(var n=Fg(e),r=0;r<n.length;r++){var i=n[r];this.attrKV(i,e[i])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&i!==px)){var o=r.targetName,a=o?t[o]:t;r.saveTo(a)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,gx)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null==e[i]||i in t||(t[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(px,!1,e)},e.prototype.useState=function(e,t,n,r){var i=e===px;if(this.hasState()||!i){var o=this.currentStates,a=this.stateTransition;if(!(Dg(o,e)>=0)||!t&&1!==o.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||i){i||this.saveCurrentToNormalState(s);var u=!!(s&&s.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,t,!n&&!this.__inHover&&a&&a.duration>0,a);var l=this._textContent,c=this._textGuide;return l&&l.useState(e,t,n,u),c&&c.useState(e,t,n,u),i?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}kg("State "+e+" not exists.")}}},e.prototype.useStates=function(e,t,n){if(e.length){var r=[],i=this.currentStates,o=e.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(e[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var u=e[s],l=void 0;this.stateProxy&&(l=this.stateProxy(u,e)),l||(l=this.states[u]),l&&r.push(l)}var c=r[o-1],f=!!(c&&c.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),h=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&h&&h.duration>0,h);var p=this._textContent,g=this._textGuide;p&&p.useStates(e,t,f),g&&g.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=Dg(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice(),i=Dg(r,e),o=Dg(r,t)>=0;i>=0?o?r.splice(i,1):r[i]=t:n&&!o&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r];Ag(n,i),i.textConfig&&Ag(t=t||{},i.textConfig)}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,r,i,o){var a=!(t&&r);t&&t.textConfig?(this.textConfig=Ag({},r?this.textConfig:n.textConfig),Ag(this.textConfig,t.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},u=!1,l=0;l<gx.length;l++){var c=gx[l],f=i&&vx[c];t&&null!=t[c]?f?(u=!0,s[c]=t[c]):this[c]=t[c]:a&&null!=n[c]&&(f?(u=!0,s[c]=n[c]):this[c]=n[c])}if(!i)for(l=0;l<this.animators.length;l++){var d=this.animators[l],h=d.targetName;d.getLoop()||d.__changeFinalValue(h?(t||n)[h]:t||n)}u&&this._transitionState(e,s,o)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Hb,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ag(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,n){var r=e?this[e]:this;var i=new rb(r,t,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},e.prototype.addAnimator=function(e,t){var n=this.__zr,r=this;e.during((function(){r.updateDuringAnimation(t)})).done((function(){var t=r.animators,n=Dg(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var a=n[o];e&&e!==a.scope?i.push(a):a.stop(t)}return this.animators=i,this},e.prototype.animateTo=function(e,t,n){xx(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){xx(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,r){for(var i=xx(this,t,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1;function n(e,n,r,i){function o(e,t){Object.defineProperty(t,0,{get:function(){return e[r]},set:function(t){e[r]=t}}),Object.defineProperty(t,1,{get:function(){return e[i]},set:function(t){e[i]=t}})}Object.defineProperty(t,e,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(e){this[r]=e[0],this[i]=e[1],this[n]=e,o(this,e)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();function xx(e,t,n,r,i){var o=[];Ex(e,"",e,t,n=n||{},r,o,i);var a=o.length,s=!1,u=n.done,l=n.aborted,c=function(){s=!0,--a<=0&&(s?u&&u():l&&l())},f=function(){--a<=0&&(s?u&&u():l&&l())};a||u&&u(),o.length>0&&n.during&&o[0].during((function(e,t){n.during(t)}));for(var d=0;d<o.length;d++){var h=o[d];c&&h.done(c),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return o}function _x(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function Sx(e,t,n){if(Og(t[n]))if(Og(e[n])||(e[n]=[]),Kg(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),_x(e[n],t[n],r))}else{var i=t[n],o=e[n],a=i.length;if(function(e){return Og(e[0])}(i))for(var s=i[0].length,u=0;u<a;u++)o[u]?_x(o[u],i[u],s):o[u]=Array.prototype.slice.call(i[u]);else _x(o,i,a);o.length=i.length}else e[n]=t[n]}function Ex(e,t,n,r,i,o,a,s){for(var u=Fg(r),l=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!Yg(o),p=e.animators,g=[],v=0;v<u.length;v++){var m=u[v],y=r[m];if(null!=y&&null!=n[m]&&(h||o[m]))if(!Yg(y)||Og(y)||$g(y))g.push(m);else{if(t){s||(n[m]=y,e.updateDuringAnimation(t));continue}Ex(e,m,n[m],y,i,o&&o[m],a,s)}else s||(n[m]=y,e.updateDuringAnimation(t),g.push(m))}var b=g.length;if(!f&&b)for(var x=0;x<p.length;x++){if((_=p[x]).targetName===t)if(_.stopTracks(g)){var w=Dg(p,_);p.splice(w,1)}}if(i.force||(g=zg(g,(function(e){return t=r[e],i=n[e],!(t===i||Og(t)&&Og(i)&&function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(t,i));var t,i})),b=g.length),b>0||i.force&&!a.length){var _,S=void 0,E=void 0,C=void 0;if(s){E={},d&&(S={});for(x=0;x<b;x++){E[m=g[x]]=n[m],d?S[m]=r[m]:n[m]=r[m]}}else if(d){C={};for(x=0;x<b;x++){C[m=g[x]]=qy(n[m]),Sx(n,r,m)}}(_=new rb(n,!1,!1,f?zg(p,(function(e){return e.targetName===t})):null)).targetName=t,i.scope&&(_.scope=i.scope),d&&S&&_.whenWithKeys(0,S,g),C&&_.whenWithKeys(0,C,g),_.whenWithKeys(null==l?500:l,s?E:r,g).delay(c||0),e.addAnimator(_,t),a.push(_)}}Pg(bx,Gv),Pg(bx,Hb);var Cx=bx,kx=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return yv(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=Dg(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var n=this._children,r=n[t];if(e&&e!==this&&e.parent!==this&&e!==r){n[t]=e,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,r=Dg(n,e);return r<0||(n.splice(r,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var r=e[n];t&&r.removeSelfFromZr(t),r.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=e.call(t,r);r.isGroup&&!i&&r.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new ix(0,0,0,0),n=e||this._children,r=[],i=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(r);u?(ix.applyTransform(t,s,u),(i=i||t.clone()).union(t)):(i=i||s.clone()).union(s)}}return i||t},t}(Cx);kx.prototype.type="group";var Mx=kx,Ix={},Tx={};var Ax=function(){function e(e,t,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var i=new Mm,o=n.renderer||"canvas";Ix[o]||(o=Fg(Ix)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new Ix[o](t,i,n,e),s=n.ssr||a.ssrOnly;this.storage=i,this.painter=a;var u=ug.node||ug.worker||s?null:new Eb(a.getViewportRoot(),a.root);this.handler=new vm(i,a,u,a.root),this.animation=new ab({stage:{update:s?null:function(){return r._flush(!0)}}}),s||this.animation.start()}return e.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"===typeof e)return Iy(e,1)<.4;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=Iy(t[i].color,1);return(n/=r)<.4}return!1}(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n=ib();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=ib();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Mx&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Tx[e]}(this.id)},e}();function Nx(e,t){var n=new Ax(Cg(),e,t);return Tx[n.id]=n,n}var Dx=1e-4;function Px(e,t,n,r){var i=t[0],o=t[1],a=n[0],s=n[1],u=o-i,l=s-a;if(0===u)return 0===l?a:(a+s)/2;if(r)if(u>0){if(e<=i)return a;if(e>=o)return s}else{if(e>=i)return a;if(e<=o)return s}else{if(e===i)return a;if(e===o)return s}return(e-i)/u*l+a}function Ox(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return Wg(e)?function(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function Lx(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function Rx(e){return e.sort((function(e,t){return e-t})),e}function Bx(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return function(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,o=t.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}(e)}function zx(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),o=Math.round(n(Math.abs(t[1]-t[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function Fx(e,t){var n=Math.max(Bx(e),Bx(t)),r=e+t;return n>20?r:Lx(r,n)}var jx=9007199254740991;function Gx(e){var t=2*Math.PI;return(e%t+t)%t}function Vx(e){return e>-1e-4&&e<Dx}var Ux=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Wx(e){if(e instanceof Date)return e;if(Wg(e)){var t=Ux.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function Zx(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Hx(e,t){var n=Zx(e),r=Math.pow(10,n),i=e/r;return e=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+e.toFixed(n<0?-n:0):e}function Yx(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i}function Xx(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,o=e[r].close,a=0;a<2;a++)i[a]<=t&&(i[a]=t,o[a]=a?1:1-n),t=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function Kx(e){var t=parseFloat(e);return t==e&&(0!==t||!Wg(e)||e.indexOf("x")<=0)?t:NaN}function qx(e){return!isNaN(Kx(e))}function $x(){return Math.round(9*Math.random())}function Qx(e,t){return 0===t?e:Qx(t,e%t)}function Jx(e,t){return null==e?t:null==t?e:e*t/Qx(e,t)}function ew(e,t,n){return(t-e)*n+e}var tw="series\0",nw="\0_ec_\0";function rw(e){return e instanceof Array?e:null==e?[]:[e]}function iw(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var ow=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function aw(e){return!Yg(e)||Vg(e)||e instanceof Date?e:e.value}function sw(e){return Yg(e)&&!(e instanceof Array)}function uw(e,t,n){var r="normalMerge"===n,i="replaceMerge"===n,o="replaceAll"===n;e=e||[],t=(t||[]).slice();var a=cv();Lg(t,(function(e,n){Yg(e)||(t[n]=null)}));var s=function(e,t,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<e.length;i++){var o=e[i];o&&null!=o.id&&t.set(o.id,i),r.push({existing:"replaceMerge"===n||hw(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(e,a,n);return(r||i)&&function(e,t,n,r){Lg(r,(function(i,o){if(i&&null!=i.id){var a=cw(i.id),s=n.get(a);if(null!=s){var u=e[s];iv(!u.newOption,'Duplicated option on id "'+a+'".'),u.newOption=i,u.existing=t[s],r[o]=null}}}))}(s,e,a,t),r&&function(e,t){Lg(t,(function(n,r){if(n&&null!=n.name)for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(null==o.id||null==n.id)&&!hw(n)&&!hw(o)&&lw("name",o,n))return e[i].newOption=n,void(t[r]=null)}}))}(s,t),r||i?function(e,t,n){Lg(t,(function(t){if(t){for(var r,i=0;(r=e[i])&&(r.newOption||hw(r.existing)||r.existing&&null!=t.id&&!lw("id",t,r.existing));)i++;r?(r.newOption=t,r.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),i++}}))}(s,t,i):o&&function(e,t){Lg(t,(function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}(s,t),function(e){var t=cv();Lg(e,(function(e){var n=e.existing;n&&t.set(n.id,e)})),Lg(e,(function(e){var n=e.newOption;iv(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})})),Lg(e,(function(e,n){var r=e.existing,i=e.newOption,o=e.keyInfo;if(Yg(i)){if(o.name=null!=i.name?cw(i.name):r?r.name:tw+n,r)o.id=cw(r.id);else if(null!=i.id)o.id=cw(i.id);else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(t.get(o.id))}t.set(o.id,e)}}))}(s),s}function lw(e,t,n){var r=fw(t[e],null),i=fw(n[e],null);return null!=r&&null!=i&&r===i}function cw(e){return fw(e,"")}function fw(e,t){return null==e?t:Wg(e)?e:Hg(e)||Zg(e)?e+"":t}function dw(e){var t=e.name;return!(!t||!t.indexOf(tw))}function hw(e){return e&&null!=e.id&&0===cw(e.id).indexOf(nw)}function pw(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Vg(t.dataIndex)?Rg(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?Vg(t.name)?Rg(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function gw(){var e="__ec_inner_"+vw++;return function(t){return t[e]||(t[e]={})}}var vw=$x();function mw(e,t,n){var r=yw(t,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=n?n.defaultMainType:null;return!i&&s&&o.set(s,{}),o.each((function(t,r){var i=ww(e,r,t,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+"Models"]=i.models,a[r+"Model"]=i.models[0]})),a}function yw(e,t){var n;if(Wg(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var i=cv(),o={},a=!1;return Lg(n,(function(e,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var r=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=r[1],u=(r[2]||"").toLowerCase();if(s&&u&&!(t&&t.includeMainTypes&&Dg(t.includeMainTypes,s)<0))a=a||!!s,(i.get(s)||i.set(s,{}))[u]=e}else o[n]=e})),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var bw={useDefault:!0,enableAll:!1,enableNone:!1},xw={useDefault:!1,enableAll:!0,enableNone:!0};function ww(e,t,n,r){r=r||bw;var i=n.index,o=n.id,a=n.name,s={models:null,specified:null!=i||null!=o||null!=a};if(!s.specified){var u=void 0;return s.models=r.useDefault&&(u=e.getComponent(t))?[u]:[],s}return"none"===i||!1===i?(iv(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(iv(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=e.queryComponents({mainType:t,index:i,id:o,name:a}),s)}function _w(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function Sw(e,t){var n=cv(),r=[];return Lg(e,(function(e){var i=t(e);(n.get(i)||(r.push(i),n.set(i,[]))).push(e)})),{keys:r,buckets:n}}function Ew(e,t,n,r,i){var o=null==t||"auto"===t;if(null==r)return r;if(Hg(r))return Lx(p=ew(n||0,r,i),o?Math.max(Bx(n||0),Bx(r)):t);if(Wg(r))return i<1?n:r;for(var a=[],s=n,u=r,l=Math.max(s?s.length:0,u.length),c=0;c<l;++c){var f=e.getDimensionInfo(c);if(f&&"ordinal"===f.type)a[c]=(i<1&&s?s:u)[c];else{var d=s&&s[c]?s[c]:0,h=u[c],p=ew(d,h,i);a[c]=Lx(p,o?Math.max(Bx(d),Bx(h)):t)}}return a}var Cw="___EC__COMPONENT__CONTAINER___",kw="___EC__EXTENDED_CLASS___";function Mw(e){var t={main:"",sub:""};if(e){var n=e.split(".");t.main=n[0]||"",t.sub=n[1]||""}return t}function Iw(e,t){e.$constructor=e,e.extend=function(e){var t,n,r=this;return Ug(n=r)&&/^class\s/.test(Function.prototype.toString.call(n))?t=function(e){function t(){return e.apply(this,arguments)||this}return og(t,e),t}(r):(t=function(){(e.$constructor||r).apply(this,arguments)},function(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}(t,this)),Ag(t.prototype,e),t[kw]=!0,t.extend=this.extend,t.superCall=Nw,t.superApply=Dw,t.superClass=r,t}}function Tw(e,t){e.extend=t.extend}var Aw=Math.round(10*Math.random());function Nw(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function Dw(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Pw(e){var t={};e.registerClass=function(e){var n,r=e.type||e.prototype.type;if(r){iv(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=r),'componentType "'+n+'" illegal'),e.prototype.type=r;var i=Mw(r);if(i.sub){if(i.sub!==Cw){var o=function(e){var n=t[e.main];n&&n[Cw]||((n=t[e.main]={})[Cw]=!0);return n}(i);o[i.sub]=e}}else t[i.main]=e}return e},e.getClass=function(e,n,r){var i=t[e];if(i&&i[Cw]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){var n=Mw(e),r=[],i=t[n.main];return i&&i[Cw]?Lg(i,(function(e,t){t!==Cw&&r.push(e)})):r.push(i),r},e.hasClass=function(e){var n=Mw(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return Lg(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){var n=Mw(e),r=t[n.main];return r&&r[Cw]}}function Ow(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,r,i){for(var o={},a=0;a<e.length;a++){var s=e[a][1];if(!(r&&Dg(r,s)>=0||i&&Dg(i,s)<0)){var u=n.getShallow(s,t);null!=u&&(o[e[a][0]]=u)}}return o}}var Lw=Ow([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Rw=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return Lw(this,e,t)},e}(),Bw=new sy(50);function zw(e){if("string"===typeof e){var t=Bw.get(e);return t&&t.image}return e}function Fw(e,t,n,r,i){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=Bw.get(e),a={hostEl:n,cb:r,cbPayload:i};if(o)!Gw(t=o.image)&&o.pending.push(a);else{var s=dg.loadImage(e,jw,jw);s.__zrImageSrc=e,Bw.put(e,s.__cachedImgObj={image:s,pending:[a]})}return t}return e}return t}function jw(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Gw(e){return e&&e.width&&e.height}var Vw=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Uw(e,t,n,r,i){if(!t)return"";var o=(e+"").split("\n");i=Ww(t,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=Zw(o[a],i);return o.join("\n")}function Ww(e,t,n,r){var i=Ag({},r=r||{});i.font=t,n=ev(n,"..."),i.maxIterations=ev(r.maxIterations,2);var o=i.minChar=ev(r.minChar,0);i.cnCharWidth=ax("\u56fd",t);var a=i.ascCharWidth=ax("a",t);i.placeholder=ev(r.placeholder,"");for(var s=e=Math.max(0,e-1),u=0;u<o&&s>=a;u++)s-=a;var l=ax(n,t);return l>s&&(n="",l=0),s=e-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=e,i}function Zw(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var o=ax(e,r);if(o<=n)return e;for(var a=0;;a++){if(o<=i||a>=t.maxIterations){e+=t.ellipsis;break}var s=0===a?Hw(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;o=ax(e=e.substr(0,s),r)}return""===e&&(e=t.placeholder),e}function Hw(e,t,n,r){for(var i=0,o=0,a=e.length;o<a&&i<t;o++){var s=e.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}var Yw=function(){},Xw=function(e){this.tokens=[],e&&(this.tokens=e)},Kw=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function qw(e,t,n,r,i){var o,a,s=""===t,u=i&&n.rich[i]||{},l=e.lines,c=u.font||n.font,f=!1;if(r){var d=u.padding,h=d?d[1]+d[3]:0;if(null!=u.width&&"auto"!==u.width){var p=dx(u.width,r.width)+h;l.length>0&&p+r.accumWidth>r.width&&(o=t.split("\n"),f=!0),r.accumWidth=p}else{var g=Jw(t,c,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+h,a=g.linesWidths,o=g.lines}}else o=t.split("\n");for(var v=0;v<o.length;v++){var m=o[v],y=new Yw;if(y.styleName=i,y.text=m,y.isLineHolder=!m&&!s,"number"===typeof u.width?y.width=u.width:y.width=a?a[v]:ax(m,c),v||f)l.push(new Xw([y]));else{var b=(l[l.length-1]||(l[0]=new Xw)).tokens,x=b.length;1===x&&b[0].isLineHolder?b[0]=y:(m||!x||s)&&b.push(y)}}}var $w=Bg(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function Qw(e){return!function(e){var t=e.charCodeAt(0);return t>=33&&t<=383}(e)||!!$w[e]}function Jw(e,t,n,r,i){for(var o=[],a=[],s="",u="",l=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if("\n"!==d){var h=ax(d,t),p=!r&&!Qw(d);(o.length?c+h>n:i+c+h>n)?c?(s||u)&&(p?(s||(s=u,u="",c=l=0),o.push(s),a.push(c-l),u+=d,s="",c=l+=h):(u&&(s+=u,u="",l=0),o.push(s),a.push(c),s=d,c=h)):p?(o.push(u),a.push(l),u=d,l=h):(o.push(d),a.push(h)):(c+=h,p?(u+=d,l+=h):(u&&(s+=u,u="",l=0),s+=d))}else u&&(s+=u,c+=l),o.push(s),a.push(c),s="",u="",l=0,c=0}return o.length||s||(s=e,u="",l=0),u&&(s+=u),s&&(o.push(s),a.push(c)),1===o.length&&(c+=i),{accumWidth:c,lines:o,linesWidths:a}}var e_="__zr_style_"+Math.round(10*Math.random()),t_={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},n_={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};t_[e_]=!0;var r_=["z","z2","invisible"],i_=["invisible"],o_=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype._init=function(t){for(var n=Fg(t),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(t[i]):e.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(e,t,n){a_.copy(e.getBoundingRect()),e.transform&&a_.applyTransform(e.transform);return s_.width=t,s_.height=n,!a_.intersect(s_)}(this,e,t)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(r&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,o=r.shadowOffsetX||0,a=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new ix(0,0,0,0)),t?ix.applyTransform(e,n,t):e.copy(n),(i||o||a)&&(e.width+=2*i+Math.abs(o),e.height+=2*i+Math.abs(a),e.x=Math.min(e.x,e.x+o-i),e.y=Math.min(e.y,e.y+a-i));var s=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-s),e.y=Math.floor(e.y-s),e.width=Math.ceil(e.width+1+2*s),e.height=Math.ceil(e.height+1+2*s))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new ix(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"===typeof e?this.style[e]=t:Ag(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return dv(t_,e)},t.prototype.useStyle=function(e){e[e_]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[e_]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,r_)},t.prototype._applyStateObj=function(t,n,r,i,o,a){e.prototype._applyStateObj.call(this,t,n,r,i,o,a);var s,u=!(n&&i);if(n&&n.style?o?i?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(s,n.style)):u&&(s=r.style),s)if(o){var l=this.style;if(this.style=this.createStyle(u?{}:l),u)for(var c=Fg(l),f=0;f<c.length;f++){(h=c[f])in s&&(s[h]=s[h],this.style[h]=l[h])}var d=Fg(s);for(f=0;f<d.length;f++){var h=d[f];this.style[h]=this.style[h]}this._transitionState(t,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var p=this.__inHover?i_:r_;for(f=0;f<p.length;f++){h=p[f];n&&null!=n[h]?this[h]=n[h]:u&&null!=r[h]&&(this[h]=r[h])}},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var o=t[i];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(r.style=n),r},t.prototype._mergeStyle=function(e,t){return Ag(e,t),e},t.prototype.getAnimationStyleProps=function(){return n_},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=3}(),t}(Cx),a_=new ix(0,0,0,0),s_=new ix(0,0,0,0);var u_=o_,l_=Math.min,c_=Math.max,f_=Math.sin,d_=Math.cos,h_=2*Math.PI,p_=bv(),g_=bv(),v_=bv();function m_(e,t,n){if(0!==e.length){for(var r=e[0],i=r[0],o=r[0],a=r[1],s=r[1],u=1;u<e.length;u++)r=e[u],i=l_(i,r[0]),o=c_(o,r[0]),a=l_(a,r[1]),s=c_(s,r[1]);t[0]=i,t[1]=a,n[0]=o,n[1]=s}}function y_(e,t,n,r,i,o){i[0]=l_(e,n),i[1]=l_(t,r),o[0]=c_(e,n),o[1]=c_(t,r)}var b_=[],x_=[];function w_(e,t,n,r,i,o,a,s,u,l){var c=Zm,f=Vm,d=c(e,n,i,a,b_);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var h=0;h<d;h++){var p=f(e,n,i,a,b_[h]);u[0]=l_(p,u[0]),l[0]=c_(p,l[0])}d=c(t,r,o,s,x_);for(h=0;h<d;h++){var g=f(t,r,o,s,x_[h]);u[1]=l_(g,u[1]),l[1]=c_(g,l[1])}u[0]=l_(e,u[0]),l[0]=c_(e,l[0]),u[0]=l_(a,u[0]),l[0]=c_(a,l[0]),u[1]=l_(t,u[1]),l[1]=c_(t,l[1]),u[1]=l_(s,u[1]),l[1]=c_(s,l[1])}function __(e,t,n,r,i,o,a,s){var u=$m,l=Km,c=c_(l_(u(e,n,i),1),0),f=c_(l_(u(t,r,o),1),0),d=l(e,n,i,c),h=l(t,r,o,f);a[0]=l_(e,i,d),a[1]=l_(t,o,h),s[0]=c_(e,i,d),s[1]=c_(t,o,h)}function S_(e,t,n,r,i,o,a,s,u){var l=Lv,c=Rv,f=Math.abs(i-o);if(f%h_<1e-4&&f>1e-4)return s[0]=e-n,s[1]=t-r,u[0]=e+n,void(u[1]=t+r);if(p_[0]=d_(i)*n+e,p_[1]=f_(i)*r+t,g_[0]=d_(o)*n+e,g_[1]=f_(o)*r+t,l(s,p_,g_),c(u,p_,g_),(i%=h_)<0&&(i+=h_),(o%=h_)<0&&(o+=h_),i>o&&!a?o+=h_:i<o&&a&&(i+=h_),a){var d=o;o=i,i=d}for(var h=0;h<o;h+=Math.PI/2)h>i&&(v_[0]=d_(h)*n+e,v_[1]=f_(h)*r+t,l(s,v_,s),c(u,v_,u))}var E_={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},C_=[],k_=[],M_=[],I_=[],T_=[],A_=[],N_=Math.min,D_=Math.max,P_=Math.cos,O_=Math.sin,L_=Math.abs,R_=Math.PI,B_=2*R_,z_="undefined"!==typeof Float32Array,F_=[];function j_(e){return Math.round(e/R_*1e8)/1e8%2*R_}var G_=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){(n=n||0)>0&&(this._ux=L_(n/kb/e)||0,this._uy=L_(n/kb/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(E_.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=L_(e-this._xi),r=L_(t-this._yi),i=n>this._ux||r>this._uy;if(this.addData(E_.L,e,t),this._ctx&&i&&this._ctx.lineTo(e,t),i)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._drawPendingPt(),this.addData(E_.C,e,t,n,r,i,o),this._ctx&&this._ctx.bezierCurveTo(e,t,n,r,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(e,t,n,r){return this._drawPendingPt(),this.addData(E_.Q,e,t,n,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,r),this._xi=n,this._yi=r,this},e.prototype.arc=function(e,t,n,r,i,o){this._drawPendingPt(),F_[0]=r,F_[1]=i,function(e,t){var n=j_(e[0]);n<0&&(n+=B_);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=B_?i=n+B_:t&&n-i>=B_?i=n-B_:!t&&n>i?i=n+(B_-j_(n-i)):t&&n<i&&(i=n-(B_-j_(i-n))),e[0]=n,e[1]=i}(F_,o),r=F_[0];var a=(i=F_[1])-r;return this.addData(E_.A,e,t,n,n,r,a,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,o),this._xi=P_(i)*n+e,this._yi=O_(i)*n+t,this},e.prototype.arcTo=function(e,t,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},e.prototype.rect=function(e,t,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,r),this.addData(E_.R,e,t,n,r),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(E_.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!z_||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;i<t;i++)n+=e[i].len();z_&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<t;i++)for(var o=e[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},e.prototype.addData=function(e,t,n,r,i,o,a,s,u){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,z_&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){M_[0]=M_[1]=T_[0]=T_[1]=Number.MAX_VALUE,I_[0]=I_[1]=A_[0]=A_[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,r=0,i=0,o=0;for(e=0;e<this._len;){var a=t[e++],s=1===e;switch(s&&(i=n=t[e],o=r=t[e+1]),a){case E_.M:n=i=t[e++],r=o=t[e++],T_[0]=i,T_[1]=o,A_[0]=i,A_[1]=o;break;case E_.L:y_(n,r,t[e],t[e+1],T_,A_),n=t[e++],r=t[e++];break;case E_.C:w_(n,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],T_,A_),n=t[e++],r=t[e++];break;case E_.Q:__(n,r,t[e++],t[e++],t[e],t[e+1],T_,A_),n=t[e++],r=t[e++];break;case E_.A:var u=t[e++],l=t[e++],c=t[e++],f=t[e++],d=t[e++],h=t[e++]+d;e+=1;var p=!t[e++];s&&(i=P_(d)*c+u,o=O_(d)*f+l),S_(u,l,c,f,d,h,p,T_,A_),n=P_(h)*c+u,r=O_(h)*f+l;break;case E_.R:y_(i=n=t[e++],o=r=t[e++],i+t[e++],o+t[e++],T_,A_);break;case E_.Z:n=i,r=o}Lv(M_,M_,T_),Rv(I_,I_,A_)}return 0===e&&(M_[0]=M_[1]=I_[0]=I_[1]=0),new ix(M_[0],M_[1],I_[0]-M_[0],I_[1]-M_[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,r=this._uy,i=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,l=0,c=0,f=0;f<t;){var d=e[f++],h=1===f;h&&(a=i=e[f],s=o=e[f+1]);var p=-1;switch(d){case E_.M:i=a=e[f++],o=s=e[f++];break;case E_.L:var g=e[f++],v=(b=e[f++])-o;(L_(T=g-i)>n||L_(v)>r||f===t-1)&&(p=Math.sqrt(T*T+v*v),i=g,o=b);break;case E_.C:var m=e[f++],y=e[f++],b=(g=e[f++],e[f++]),x=e[f++],w=e[f++];p=Xm(i,o,m,y,g,b,x,w,10),i=x,o=w;break;case E_.Q:p=ey(i,o,m=e[f++],y=e[f++],g=e[f++],b=e[f++],10),i=g,o=b;break;case E_.A:var _=e[f++],S=e[f++],E=e[f++],C=e[f++],k=e[f++],M=e[f++],I=M+k;f+=1;e[f++];h&&(a=P_(k)*E+_,s=O_(k)*C+S),p=D_(E,C)*N_(B_,Math.abs(M)),i=P_(I)*E+_,o=O_(I)*C+S;break;case E_.R:a=i=e[f++],s=o=e[f++],p=2*e[f++]+2*e[f++];break;case E_.Z:var T=a-i;v=s-o;p=Math.sqrt(T*T+v*v),i=a,o=s}p>=0&&(u[c++]=p,l+=p)}return this._pathLen=l,l},e.prototype.rebuildPath=function(e,t){var n,r,i,o,a,s,u,l,c,f,d=this.data,h=this._ux,p=this._uy,g=this._len,v=t<1,m=0,y=0,b=0;if(!v||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,l=t*this._pathLen))e:for(var x=0;x<g;){var w=d[x++],_=1===x;switch(_&&(n=i=d[x],r=o=d[x+1]),w!==E_.L&&b>0&&(e.lineTo(c,f),b=0),w){case E_.M:n=i=d[x++],r=o=d[x++],e.moveTo(i,o);break;case E_.L:a=d[x++],s=d[x++];var S=L_(a-i),E=L_(s-o);if(S>h||E>p){if(v){if(m+(X=u[y++])>l){var C=(l-m)/X;e.lineTo(i*(1-C)+a*C,o*(1-C)+s*C);break e}m+=X}e.lineTo(a,s),i=a,o=s,b=0}else{var k=S*S+E*E;k>b&&(c=a,f=s,b=k)}break;case E_.C:var M=d[x++],I=d[x++],T=d[x++],A=d[x++],N=d[x++],D=d[x++];if(v){if(m+(X=u[y++])>l){Hm(i,M,T,N,C=(l-m)/X,C_),Hm(o,I,A,D,C,k_),e.bezierCurveTo(C_[1],k_[1],C_[2],k_[2],C_[3],k_[3]);break e}m+=X}e.bezierCurveTo(M,I,T,A,N,D),i=N,o=D;break;case E_.Q:M=d[x++],I=d[x++],T=d[x++],A=d[x++];if(v){if(m+(X=u[y++])>l){Qm(i,M,T,C=(l-m)/X,C_),Qm(o,I,A,C,k_),e.quadraticCurveTo(C_[1],k_[1],C_[2],k_[2]);break e}m+=X}e.quadraticCurveTo(M,I,T,A),i=T,o=A;break;case E_.A:var P=d[x++],O=d[x++],L=d[x++],R=d[x++],B=d[x++],z=d[x++],F=d[x++],j=!d[x++],G=L>R?L:R,V=L_(L-R)>.001,U=B+z,W=!1;if(v)m+(X=u[y++])>l&&(U=B+z*(l-m)/X,W=!0),m+=X;if(V&&e.ellipse?e.ellipse(P,O,L,R,F,B,U,j):e.arc(P,O,G,B,U,j),W)break e;_&&(n=P_(B)*L+P,r=O_(B)*R+O),i=P_(U)*L+P,o=O_(U)*R+O;break;case E_.R:n=i=d[x],r=o=d[x+1],a=d[x++],s=d[x++];var Z=d[x++],H=d[x++];if(v){if(m+(X=u[y++])>l){var Y=l-m;e.moveTo(a,s),e.lineTo(a+N_(Y,Z),s),(Y-=Z)>0&&e.lineTo(a+Z,s+N_(Y,H)),(Y-=H)>0&&e.lineTo(a+D_(Z-Y,0),s+H),(Y-=Z)>0&&e.lineTo(a,s+D_(H-Y,0));break e}m+=X}e.rect(a,s,Z,H);break;case E_.Z:if(v){var X;if(m+(X=u[y++])>l){C=(l-m)/X;e.lineTo(i*(1-C)+n*C,o*(1-C)+r*C);break e}m+=X}e.closePath(),i=n,o=r}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=E_,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}(),V_=G_;function U_(e,t,n,r,i,o,a){if(0===i)return!1;var s=i,u=0;if(a>t+s&&a>r+s||a<t-s&&a<r-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;var l=(u=(t-r)/(e-n))*o-a+(e*r-n*t)/(e-n);return l*l/(u*u+1)<=s/2*s/2}function W_(e,t,n,r,i,o,a,s,u,l,c){if(0===u)return!1;var f=u;return!(c>t+f&&c>r+f&&c>o+f&&c>s+f||c<t-f&&c<r-f&&c<o-f&&c<s-f||l>e+f&&l>n+f&&l>i+f&&l>a+f||l<e-f&&l<n-f&&l<i-f&&l<a-f)&&Ym(e,t,n,r,i,o,a,s,l,c,null)<=f/2}function Z_(e,t,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;return!(u>t+l&&u>r+l&&u>o+l||u<t-l&&u<r-l&&u<o-l||s>e+l&&s>n+l&&s>i+l||s<e-l&&s<n-l&&s<i-l)&&Jm(e,t,n,r,i,o,s,u,null)<=l/2}var H_=2*Math.PI;function Y_(e){return(e%=H_)<0&&(e+=H_),e}var X_=2*Math.PI;function K_(e,t,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;s-=e,u-=t;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%X_<1e-4)return!0;if(o){var f=r;r=Y_(i),i=Y_(f)}else r=Y_(r),i=Y_(i);r>i&&(i+=X_);var d=Math.atan2(u,s);return d<0&&(d+=X_),d>=r&&d<=i||d+X_>=r&&d+X_<=i}function q_(e,t,n,r,i,o){if(o>t&&o>r||o<t&&o<r)return 0;if(r===t)return 0;var a=(o-t)/(r-t),s=r<t?1:-1;1!==a&&0!==a||(s=r<t?.5:-.5);var u=a*(n-e)+e;return u===i?1/0:u>i?s:0}var $_=V_.CMD,Q_=2*Math.PI;var J_=[-1,-1,-1],eS=[-1,-1];function tS(){var e=eS[0];eS[0]=eS[1],eS[1]=e}function nS(e,t,n,r,i,o,a,s,u,l){if(l>t&&l>r&&l>o&&l>s||l<t&&l<r&&l<o&&l<s)return 0;var c=Wm(t,r,o,s,l,J_);if(0===c)return 0;for(var f=0,d=-1,h=void 0,p=void 0,g=0;g<c;g++){var v=J_[g],m=0===v||1===v?.5:1;Vm(e,n,i,a,v)<u||(d<0&&(d=Zm(t,r,o,s,eS),eS[1]<eS[0]&&d>1&&tS(),h=Vm(t,r,o,s,eS[0]),d>1&&(p=Vm(t,r,o,s,eS[1]))),2===d?v<eS[0]?f+=h<t?m:-m:v<eS[1]?f+=p<h?m:-m:f+=s<p?m:-m:v<eS[0]?f+=h<t?m:-m:f+=s<h?m:-m)}return f}function rS(e,t,n,r,i,o,a,s){if(s>t&&s>r&&s>o||s<t&&s<r&&s<o)return 0;var u=function(e,t,n,r,i){var o=e-2*t+n,a=2*(t-e),s=e-r,u=0;if(jm(o))Gm(a)&&(c=-s/a)>=0&&c<=1&&(i[u++]=c);else{var l=a*a-4*o*s;if(jm(l))(c=-a/(2*o))>=0&&c<=1&&(i[u++]=c);else if(l>0){var c,f=Dm(l),d=(-a-f)/(2*o);(c=(-a+f)/(2*o))>=0&&c<=1&&(i[u++]=c),d>=0&&d<=1&&(i[u++]=d)}}return u}(t,r,o,s,J_);if(0===u)return 0;var l=$m(t,r,o);if(l>=0&&l<=1){for(var c=0,f=Km(t,r,o,l),d=0;d<u;d++){var h=0===J_[d]||1===J_[d]?.5:1;Km(e,n,i,J_[d])<a||(J_[d]<l?c+=f<t?h:-h:c+=o<f?h:-h)}return c}h=0===J_[0]||1===J_[0]?.5:1;return Km(e,n,i,J_[0])<a?0:o<t?h:-h}function iS(e,t,n,r,i,o,a,s){if((s-=t)>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);J_[0]=-u,J_[1]=u;var l=Math.abs(r-i);if(l<1e-4)return 0;if(l>=Q_-1e-4){r=0,i=Q_;var c=o?1:-1;return a>=J_[0]+e&&a<=J_[1]+e?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=Q_,i+=Q_);for(var d=0,h=0;h<2;h++){var p=J_[h];if(p+e>a){var g=Math.atan2(s,p);c=o?1:-1;g<0&&(g=Q_+g),(g>=r&&g<=i||g+Q_>=r&&g+Q_<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),d+=c)}}return d}function oS(e,t,n,r,i){for(var o,a,s,u,l=e.data,c=e.len(),f=0,d=0,h=0,p=0,g=0,v=0;v<c;){var m=l[v++],y=1===v;switch(m===$_.M&&v>1&&(n||(f+=q_(d,h,p,g,r,i))),y&&(p=d=l[v],g=h=l[v+1]),m){case $_.M:d=p=l[v++],h=g=l[v++];break;case $_.L:if(n){if(U_(d,h,l[v],l[v+1],t,r,i))return!0}else f+=q_(d,h,l[v],l[v+1],r,i)||0;d=l[v++],h=l[v++];break;case $_.C:if(n){if(W_(d,h,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],t,r,i))return!0}else f+=nS(d,h,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],r,i)||0;d=l[v++],h=l[v++];break;case $_.Q:if(n){if(Z_(d,h,l[v++],l[v++],l[v],l[v+1],t,r,i))return!0}else f+=rS(d,h,l[v++],l[v++],l[v],l[v+1],r,i)||0;d=l[v++],h=l[v++];break;case $_.A:var b=l[v++],x=l[v++],w=l[v++],_=l[v++],S=l[v++],E=l[v++];v+=1;var C=!!(1-l[v++]);o=Math.cos(S)*w+b,a=Math.sin(S)*_+x,y?(p=o,g=a):f+=q_(d,h,o,a,r,i);var k=(r-b)*_/w+b;if(n){if(K_(b,x,_,S,S+E,C,t,k,i))return!0}else f+=iS(b,x,_,S,S+E,C,k,i);d=Math.cos(S+E)*w+b,h=Math.sin(S+E)*_+x;break;case $_.R:if(p=d=l[v++],g=h=l[v++],o=p+l[v++],a=g+l[v++],n){if(U_(p,g,o,g,t,r,i)||U_(o,g,o,a,t,r,i)||U_(o,a,p,a,t,r,i)||U_(p,a,p,g,t,r,i))return!0}else f+=q_(o,g,o,a,r,i),f+=q_(p,a,p,g,r,i);break;case $_.Z:if(n){if(U_(d,h,p,g,t,r,i))return!0}else f+=q_(d,h,p,g,r,i);d=p,h=g}}return n||(s=h,u=g,Math.abs(s-u)<1e-4)||(f+=q_(d,h,p,g,r,i)||0),0!==f}var aS=Ng({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},t_),sS={style:Ng({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},n_.style)},uS=Wb.concat(["invisible","culling","z","z2","zlevel","parent"]),lS=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(e){n.buildPath(e,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<uS.length;++s)i[uS[s]]=this[uS[s]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=Fg(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],a=t[o];"style"===o?this.style?Ag(this.style,a):this.useStyle(a):"shape"===o?Ag(this.shape,a):e.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(Wg(e)){var t=Iy(e,0);return t>.5?Mb:t>.2?"#eee":Ib}if(e)return Ib}return Mb},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(Wg(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())===Iy(e,0)<.4)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new V_(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,n=!e;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||4&this.__dirty)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),e=i.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.strokeNoScale?this.getLineScale():1,s=t.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,null==u?4:u)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(e,t,n,r){return oS(e,t,!0,n,r)}(o,a/s,e,t)))return!0}if(this.hasFill())return function(e,t,n){return oS(e,0,!1,t,n)}(o,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"===typeof e?n[e]=t:Ag(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(e){return dv(aS,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=Ag({},this.shape))},t.prototype._applyStateObj=function(t,n,r,i,o,a){e.prototype._applyStateObj.call(this,t,n,r,i,o,a);var s,u=!(n&&i);if(n&&n.shape?o?i?s=n.shape:(s=Ag({},r.shape),Ag(s,n.shape)):(s=Ag({},i?this.shape:r.shape),Ag(s,n.shape)):u&&(s=r.shape),s)if(o){this.shape=Ag({},this.shape);for(var l={},c=Fg(s),f=0;f<c.length;f++){var d=c[f];"object"===typeof s[d]?this.shape[d]=s[d]:l[d]=s[d]}this._transitionState(t,{shape:l},a)}else this.shape=s,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var o=t[i];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(r.shape=n),r},t.prototype.getAnimationStyleProps=function(){return sS},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var r=t.call(this,n)||this;return e.init&&e.init.call(r,n),r}return yv(n,t),n.prototype.getDefaultStyle=function(){return Mg(e.style)},n.prototype.getDefaultShape=function(){return Mg(e.shape)},n}(t);for(var r in e)"function"===typeof e[r]&&(n.prototype[r]=e[r]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=7}(),t}(u_),cS=lS,fS=Ng({strokeFirst:!0,font:cg,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},aS),dS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yv(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return dv(fS,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=ux(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var r=e.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(u_);dS.prototype.type="tspan";var hS=dS,pS=Ng({x:0,y:0},t_),gS={style:Ng({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},n_.style)};var vS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yv(t,e),t.prototype.createStyle=function(e){return dv(pS,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var r,i=(r=t.image)&&"string"!==typeof r&&r.width&&r.height?t.image:this.__image;if(!i)return 0;var o="width"===e?"height":"width",a=t[o];return null==a?i[e]:i[e]/i[o]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return gS},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ix(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(u_);vS.prototype.type="image";var mS=vS;var yS=Math.round;function bS(e,t,n){if(t){var r=t.x1,i=t.x2,o=t.y1,a=t.y2;e.x1=r,e.x2=i,e.y1=o,e.y2=a;var s=n&&n.lineWidth;return s?(yS(2*r)===yS(2*i)&&(e.x1=e.x2=wS(r,s,!0)),yS(2*o)===yS(2*a)&&(e.y1=e.y2=wS(o,s,!0)),e):e}}function xS(e,t,n){if(t){var r=t.x,i=t.y,o=t.width,a=t.height;e.x=r,e.y=i,e.width=o,e.height=a;var s=n&&n.lineWidth;return s?(e.x=wS(r,s,!0),e.y=wS(i,s,!0),e.width=Math.max(wS(r+o,s,!1)-e.x,0===o?0:1),e.height=Math.max(wS(i+a,s,!1)-e.y,0===a?0:1),e):e}}function wS(e,t,n){if(!t)return e;var r=yS(2*e);return(r+yS(t))%2===0?r/2:(r+(n?1:-1))/2}var _S=function(){this.x=0,this.y=0,this.width=0,this.height=0},SS={},ES=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new _S},t.prototype.buildPath=function(e,t){var n,r,i,o;if(this.subPixelOptimize){var a=xS(SS,t,this.style);n=a.x,r=a.y,i=a.width,o=a.height,a.r=t.r,t=a}else n=t.x,r=t.y,i=t.width,o=t.height;t.r?function(e,t){var n,r,i,o,a,s=t.x,u=t.y,l=t.width,c=t.height,f=t.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"===typeof f?n=r=i=o=f:f instanceof Array?1===f.length?n=r=i=o=f[0]:2===f.length?(n=i=f[0],r=o=f[1]):3===f.length?(n=f[0],r=o=f[1],i=f[2]):(n=f[0],r=f[1],i=f[2],o=f[3]):n=r=i=o=0,n+r>l&&(n*=l/(a=n+r),r*=l/a),i+o>l&&(i*=l/(a=i+o),o*=l/a),r+i>c&&(r*=c/(a=r+i),i*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),e.moveTo(s+n,u),e.lineTo(s+l-r,u),0!==r&&e.arc(s+l-r,u+r,r,-Math.PI/2,0),e.lineTo(s+l,u+c-i),0!==i&&e.arc(s+l-i,u+c-i,i,0,Math.PI/2),e.lineTo(s+o,u+c),0!==o&&e.arc(s+o,u+c-o,o,Math.PI/2,Math.PI),e.lineTo(s,u+n),0!==n&&e.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}(e,t):e.rect(n,r,i,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(cS);ES.prototype.type="rect";var CS=ES,kS={fill:"#000"},MS={style:Ng({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},n_.style)},IS=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=kS,n.attr(t),n}return yv(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function(e){LS(e),Lg(e.rich,LS)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ix(0,0,0,0),t=this._children,n=[],r=null,i=0;i<t.length;i++){var o=t[i],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(e.copy(a),e.applyTransform(s),(r=r||e.clone()).union(e)):(r=r||a.clone()).union(a)}this._rect=r||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||kS},t.prototype.setTextContent=function(e){0},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,r=e.rich||n&&{};return Ag(e,t),n&&r?(this._mergeRich(r,n),e.rich=r):r&&(e.rich=r),e},t.prototype._mergeRich=function(e,t){for(var n=Fg(t),r=0;r<n.length;r++){var i=n[r];e[i]=e[i]||{},Ag(e[i],t[i])}},t.prototype.getAnimationStyleProps=function(){return MS},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||cg,n=e.padding,r=function(e,t){null!=e&&(e+="");var n,r=t.overflow,i=t.padding,o=t.font,a="truncate"===r,s=fx(o),u=ev(t.lineHeight,s),l=!!t.backgroundColor,c="truncate"===t.lineOverflow,f=t.width,d=(n=null==f||"break"!==r&&"breakAll"!==r?e?e.split("\n"):[]:e?Jw(e,t.font,f,"breakAll"===r,0).lines:[]).length*u,h=ev(t.height,d);if(d>h&&c){var p=Math.floor(h/u);n=n.slice(0,p)}if(e&&a&&null!=f)for(var g=Ww(f,o,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),v=0;v<n.length;v++)n[v]=Zw(n[v],g);var m=h,y=0;for(v=0;v<n.length;v++)y=Math.max(ax(n[v],o),y);null==f&&(f=y);var b=y;return i&&(m+=i[0]+i[2],b+=i[1]+i[3],f+=i[1]+i[3]),l&&(b=f),{lines:n,height:h,outerWidth:b,outerHeight:m,lineHeight:u,calculatedLineHeight:s,contentWidth:y,contentHeight:d,width:f}}(FS(e),e),i=jS(e),o=!!e.backgroundColor,a=r.outerHeight,s=r.outerWidth,u=r.contentWidth,l=r.lines,c=r.lineHeight,f=this._defaultStyle,d=e.x||0,h=e.y||0,p=e.align||f.align||"left",g=e.verticalAlign||f.verticalAlign||"top",v=d,m=cx(h,r.contentHeight,g);if(i||n){var y=lx(d,s,p),b=cx(h,a,g);i&&this._renderBackground(e,e,y,b,s,a)}m+=c/2,n&&(v=zS(d,p,n),"top"===g?m+=n[0]:"bottom"===g&&(m-=n[2]));for(var x=0,w=!1,_=(BS("fill"in e?e.fill:(w=!0,f.fill))),S=(RS("stroke"in e?e.stroke:o||f.autoStroke&&!w?null:(x=2,f.stroke))),E=e.textShadowBlur>0,C=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),k=r.calculatedLineHeight,M=0;M<l.length;M++){var I=this._getOrCreateChild(hS),T=I.createStyle();I.useStyle(T),T.text=l[M],T.x=v,T.y=m,p&&(T.textAlign=p),T.textBaseline="middle",T.opacity=e.opacity,T.strokeFirst=!0,E&&(T.shadowBlur=e.textShadowBlur||0,T.shadowColor=e.textShadowColor||"transparent",T.shadowOffsetX=e.textShadowOffsetX||0,T.shadowOffsetY=e.textShadowOffsetY||0),T.stroke=S,T.fill=_,S&&(T.lineWidth=e.lineWidth||x,T.lineDash=e.lineDash,T.lineDashOffset=e.lineDashOffset||0),T.font=t,PS(T,e),m+=c,C&&I.setBoundingRect(new ix(lx(T.x,e.width,T.textAlign),cx(T.y,k,T.textBaseline),u,k))}},t.prototype._updateRichTexts=function(){var e=this.style,t=function(e,t){var n=new Kw;if(null!=e&&(e+=""),!e)return n;for(var r,i=t.width,o=t.height,a=t.overflow,s="break"!==a&&"breakAll"!==a||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===a},u=Vw.lastIndex=0;null!=(r=Vw.exec(e));){var l=r.index;l>u&&qw(n,e.substring(u,l),t,s),qw(n,r[2],t,s,r[1]),u=Vw.lastIndex}u<e.length&&qw(n,e.substring(u,e.length),t,s);var c=[],f=0,d=0,h=t.padding,p="truncate"===a,g="truncate"===t.lineOverflow;function v(e,t,n){e.width=t,e.lineHeight=n,f+=n,d=Math.max(d,t)}e:for(var m=0;m<n.lines.length;m++){for(var y=n.lines[m],b=0,x=0,w=0;w<y.tokens.length;w++){var _=(D=y.tokens[w]).styleName&&t.rich[D.styleName]||{},S=D.textPadding=_.padding,E=S?S[1]+S[3]:0,C=D.font=_.font||t.font;D.contentHeight=fx(C);var k=ev(_.height,D.contentHeight);if(D.innerHeight=k,S&&(k+=S[0]+S[2]),D.height=k,D.lineHeight=tv(_.lineHeight,t.lineHeight,k),D.align=_&&_.align||t.align,D.verticalAlign=_&&_.verticalAlign||"middle",g&&null!=o&&f+D.lineHeight>o){w>0?(y.tokens=y.tokens.slice(0,w),v(y,x,b),n.lines=n.lines.slice(0,m+1)):n.lines=n.lines.slice(0,m);break e}var M=_.width,I=null==M||"auto"===M;if("string"===typeof M&&"%"===M.charAt(M.length-1))D.percentWidth=M,c.push(D),D.contentWidth=ax(D.text,C);else{if(I){var T=_.backgroundColor,A=T&&T.image;A&&Gw(A=zw(A))&&(D.width=Math.max(D.width,A.width*k/A.height))}var N=p&&null!=i?i-x:null;null!=N&&N<D.width?!I||N<E?(D.text="",D.width=D.contentWidth=0):(D.text=Uw(D.text,N-E,C,t.ellipsis,{minChar:t.truncateMinChar}),D.width=D.contentWidth=ax(D.text,C)):D.contentWidth=ax(D.text,C)}D.width+=E,x+=D.width,_&&(b=Math.max(b,D.lineHeight))}v(y,x,b)}for(n.outerWidth=n.width=ev(i,d),n.outerHeight=n.height=ev(o,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]),m=0;m<c.length;m++){var D,P=(D=c[m]).percentWidth;D.width=parseInt(P,10)/100*n.width}return n}(FS(e),e),n=t.width,r=t.outerWidth,i=t.outerHeight,o=e.padding,a=e.x||0,s=e.y||0,u=this._defaultStyle,l=e.align||u.align,c=e.verticalAlign||u.verticalAlign,f=lx(a,r,l),d=cx(s,i,c),h=f,p=d;o&&(h+=o[3],p+=o[0]);var g=h+n;jS(e)&&this._renderBackground(e,e,f,d,r,i);for(var v=!!e.backgroundColor,m=0;m<t.lines.length;m++){for(var y=t.lines[m],b=y.tokens,x=b.length,w=y.lineHeight,_=y.width,S=0,E=h,C=g,k=x-1,M=void 0;S<x&&(!(M=b[S]).align||"left"===M.align);)this._placeToken(M,e,w,p,E,"left",v),_-=M.width,E+=M.width,S++;for(;k>=0&&"right"===(M=b[k]).align;)this._placeToken(M,e,w,p,C,"right",v),_-=M.width,C-=M.width,k--;for(E+=(n-(E-h)-(g-C)-_)/2;S<=k;)M=b[S],this._placeToken(M,e,w,p,E+M.width/2,"center",v),E+=M.width,S++;p+=w}},t.prototype._placeToken=function(e,t,n,r,i,o,a){var s=t.rich[e.styleName]||{};s.text=e.text;var u=e.verticalAlign,l=r+n/2;"top"===u?l=r+e.height/2:"bottom"===u&&(l=r+n-e.height/2),!e.isLineHolder&&jS(s)&&this._renderBackground(s,t,"right"===o?i-e.width:"center"===o?i-e.width/2:i,l-e.height/2,e.width,e.height);var c=!!s.backgroundColor,f=e.textPadding;f&&(i=zS(i,o,f),l-=e.height/2-f[0]-e.innerHeight/2);var d=this._getOrCreateChild(hS),h=d.createStyle();d.useStyle(h);var p=this._defaultStyle,g=!1,v=0,m=BS("fill"in s?s.fill:"fill"in t?t.fill:(g=!0,p.fill)),y=RS("stroke"in s?s.stroke:"stroke"in t?t.stroke:c||a||p.autoStroke&&!g?null:(v=2,p.stroke)),b=s.textShadowBlur>0||t.textShadowBlur>0;h.text=e.text,h.x=i,h.y=l,b&&(h.shadowBlur=s.textShadowBlur||t.textShadowBlur||0,h.shadowColor=s.textShadowColor||t.textShadowColor||"transparent",h.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0,h.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0),h.textAlign=o,h.textBaseline="middle",h.font=e.font||cg,h.opacity=tv(s.opacity,t.opacity,1),PS(h,s),y&&(h.lineWidth=tv(s.lineWidth,t.lineWidth,v),h.lineDash=ev(s.lineDash,t.lineDash),h.lineDashOffset=t.lineDashOffset||0,h.stroke=y),m&&(h.fill=m);var x=e.contentWidth,w=e.contentHeight;d.setBoundingRect(new ix(lx(h.x,x,h.textAlign),cx(h.y,w,h.textBaseline),x,w))},t.prototype._renderBackground=function(e,t,n,r,i,o){var a,s,u,l=e.backgroundColor,c=e.borderWidth,f=e.borderColor,d=l&&l.image,h=l&&!d,p=e.borderRadius,g=this;if(h||e.lineHeight||c&&f){(a=this._getOrCreateChild(CS)).useStyle(a.createStyle()),a.style.fill=null;var v=a.shape;v.x=n,v.y=r,v.width=i,v.height=o,v.r=p,a.dirtyShape()}if(h)(u=a.style).fill=l||null,u.fillOpacity=ev(e.fillOpacity,1);else if(d){(s=this._getOrCreateChild(mS)).onload=function(){g.dirtyStyle()};var m=s.style;m.image=l.image,m.x=n,m.y=r,m.width=i,m.height=o}c&&f&&((u=a.style).lineWidth=c,u.stroke=f,u.strokeOpacity=ev(e.strokeOpacity,1),u.lineDash=e.borderDash,u.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(u.strokeFirst=!0,u.lineWidth*=2));var y=(a||s).style;y.shadowBlur=e.shadowBlur||0,y.shadowColor=e.shadowColor||"transparent",y.shadowOffsetX=e.shadowOffsetX||0,y.shadowOffsetY=e.shadowOffsetY||0,y.opacity=tv(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return OS(e)&&(t=[e.fontStyle,e.fontWeight,DS(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&ov(t)||e.textFont||e.font},t}(u_),TS={left:!0,right:1,center:1},AS={top:1,bottom:1,middle:1},NS=["fontStyle","fontWeight","fontSize","fontFamily"];function DS(e){return"string"!==typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?"12px":e+"px":e}function PS(e,t){for(var n=0;n<NS.length;n++){var r=NS[n],i=t[r];null!=i&&(e[r]=i)}}function OS(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function LS(e){if(e){e.font=IS.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||TS[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||AS[n]?n:"top",e.padding&&(e.padding=rv(e.padding))}}function RS(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function BS(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function zS(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function FS(e){var t=e.text;return null!=t&&(t+=""),t}function jS(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var GS=IS,VS=gw(),US=function(e,t,n,r){if(r){var i=VS(r);i.dataIndex=n,i.dataType=t,i.seriesIndex=e,"group"===r.type&&r.traverse((function(r){var i=VS(r);i.seriesIndex=e,i.dataIndex=n,i.dataType=t}))}},WS=1,ZS={},HS=gw(),YS=gw(),XS=["emphasis","blur","select"],KS=["normal","emphasis","blur","select"],qS=10,$S="highlight",QS="downplay",JS="select",eE="unselect",tE="toggleSelect";function nE(e){return null!=e&&"none"!==e}var rE=new sy(100);function iE(e){if(Wg(e)){var t=rE.get(e);return t||(t=_y(e,-.1),rE.put(e,t)),t}if($g(e)){var n=Ag({},e);return n.colorStops=Rg(e.colorStops,(function(e){return{offset:e.offset,color:_y(e.color,-.1)}})),n}return e}function oE(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function aE(e){oE(e,"emphasis",2)}function sE(e){2===e.hoverState&&oE(e,"normal",0)}function uE(e){oE(e,"blur",1)}function lE(e){1===e.hoverState&&oE(e,"normal",0)}function cE(e){e.selected=!0}function fE(e){e.selected=!1}function dE(e,t,n){t(e,n)}function hE(e,t,n){dE(e,t,n),e.isGroup&&e.traverse((function(e){dE(e,t,n)}))}function pE(e,t){switch(t){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function gE(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return function(e,t,n,r){var i=n&&Dg(n,"select")>=0,o=!1;if(e instanceof cS){var a=HS(e),s=i&&a.selectFill||a.normalFill,u=i&&a.selectStroke||a.normalStroke;if(nE(s)||nE(u)){var l=(r=r||{}).style||{};"inherit"===l.fill?(o=!0,r=Ag({},r),(l=Ag({},l)).fill=s):!nE(l.fill)&&nE(s)?(o=!0,r=Ag({},r),(l=Ag({},l)).fill=iE(s)):!nE(l.stroke)&&nE(u)&&(o||(r=Ag({},r),l=Ag({},l)),l.stroke=iE(u)),r.style=l}}if(r&&null==r.z2){o||(r=Ag({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(null!=c?c:qS)}return r}(this,0,t,n);if("blur"===e)return function(e,t,n){var r=Dg(e.currentStates,t)>=0,i=e.style.opacity,o=r?null:function(e,t,n,r){for(var i=e.style,o={},a=0;a<t.length;a++){var s=t[a],u=i[s];o[s]=null==u?r&&r[s]:u}for(a=0;a<e.animators.length;a++){var l=e.animators[a];l.__fromStateTransition&&l.__fromStateTransition.indexOf(n)<0&&"style"===l.targetName&&l.saveTo(o,t)}return o}(e,["opacity"],t,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=Ag({},n),a=Ag({opacity:r?i:.1*o.opacity},a),n.style=a),n}(this,e,n);if("select"===e)return function(e,t,n){if(n&&null==n.z2){n=Ag({},n);var r=e.z2SelectLift;n.z2=e.z2+(null!=r?r:9)}return n}(this,0,n)}return n}function vE(e){e.stateProxy=gE;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=gE),n&&(n.stateProxy=gE)}function mE(e,t){!CE(e,t)&&!e.__highByOuter&&hE(e,aE)}function yE(e,t){!CE(e,t)&&!e.__highByOuter&&hE(e,sE)}function bE(e,t){e.__highByOuter|=1<<(t||0),hE(e,aE)}function xE(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&hE(e,sE)}function wE(e){hE(e,uE)}function _E(e){hE(e,lE)}function SE(e){hE(e,cE)}function EE(e){hE(e,fE)}function CE(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function kE(e){e.getModel().eachComponent((function(t,n){var r=YS(n);r.isBlured&&("series"===t?e.getViewOfSeriesModel(n):e.getViewOfComponentModel(n)).group.traverse((function(e){lE(e)}));r.isBlured=!1}))}function ME(e,t,n,r){var i=r.getModel();function o(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&_E(r)}}if(n=n||"coordinateSystem",null!=e&&t&&"none"!==t){var a=i.getSeriesByIndex(e),s=a.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries((function(e){var i=a===e,l=e.coordinateSystem;if(l&&l.master&&(l=l.master),!("series"===n&&!i||"coordinateSystem"===n&&!(l&&s?l===s:i)||"series"===t&&i)){if(r.getViewOfSeriesModel(e).group.traverse((function(e){uE(e)})),Og(t))o(e.getData(),t);else if(Yg(t))for(var c=Fg(t),f=0;f<c.length;f++)o(e.getData(c[f]),t[c[f]]);u.push(e),YS(e).isBlured=!0}})),i.eachComponent((function(e,t){if("series"!==e){var n=r.getViewOfComponentModel(t);n&&n.blurSeries&&n.blurSeries(u,i)}}))}}function IE(e,t,n){if(null!=e&&null!=t){var r=n.getModel().getComponent(e,t);if(r){YS(r).isBlured=!0;var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse((function(e){uE(e)}))}}}function TE(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return i;var o=r.getModel().getComponent(e,t);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s,u=a.findHighDownDispatchers(n),l=0;l<u.length;l++)if("self"===VS(u[l]).focus){s=!0;break}return{focusSelf:s,dispatchers:u}}function AE(e){Lg(e.getAllData(),(function(t){var n=t.data,r=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,r)?SE(t):EE(t)}))}))}function NE(e){var t=[];return e.eachSeries((function(e){Lg(e.getAllData(),(function(n){n.data;var r=n.type,i=e.getSelectedDataIndices();if(i.length>0){var o={dataIndex:i,seriesIndex:e.seriesIndex};null!=r&&(o.dataType=r),t.push(o)}}))})),t}function DE(e,t,n){zE(e,!0),hE(e,vE),OE(e,t,n)}function PE(e,t,n,r){r?function(e){zE(e,!1)}(e):DE(e,t,n)}function OE(e,t,n){var r=VS(e);null!=t?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var LE=["emphasis","blur","select"],RE={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function BE(e,t,n,r){n=n||"itemStyle";for(var i=0;i<LE.length;i++){var o=LE[i],a=t.getModel([o,n]);e.ensureState(o).style=r?r(a):a[RE[n]]()}}function zE(e,t){var n=!1===t,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function FE(e){return!(!e||!e.__highDownDispatcher)}function jE(e){var t=e.type;return t===JS||t===eE||t===tE}function GE(e){var t=e.type;return t===$S||t===QS}var VE=gw();function UE(e,t,n,r,i){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===e;if(t&&t.isAnimationEnabled()){var u=void 0,l=void 0,c=void 0;return r?(u=ev(r.duration,200),l=ev(r.easing,"cubicOut"),c=0):(u=t.getShallow(s?"animationDurationUpdate":"animationDuration"),l=t.getShallow(s?"animationEasingUpdate":"animationEasing"),c=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(u=o.duration),null!=o.easing&&(l=o.easing),null!=o.delay&&(c=o.delay)),Ug(c)&&(c=c(n,i)),Ug(u)&&(u=u(n)),{duration:u||0,delay:c,easing:l}}return null}function WE(e,t,n,r,i,o,a){var s,u=!1;Ug(i)?(a=o,o=i,i=null):Yg(i)&&(o=i.cb,a=i.during,u=i.isFrom,s=i.removeOpt,i=i.dataIndex);var l="leave"===e;l||t.stopAnimation("leave");var c=UE(e,r,i,l?s||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var f={duration:c.duration,delay:c.delay||0,easing:c.easing,done:o,force:!!o||!!a,setToFinal:!l,scope:e,during:a};u?t.animateFrom(n,f):t.animateTo(n,f)}else t.stopAnimation(),!u&&t.attr(n),a&&a(1),o&&o()}function ZE(e,t,n,r,i,o){WE("update",e,t,n,r,i,o)}function HE(e,t,n,r,i,o){WE("enter",e,t,n,r,i,o)}function YE(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}function XE(e,t,n,r,i,o){YE(e)||WE("leave",e,t,n,r,i,o)}function KE(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),XE(e,{style:{opacity:0}},t,n,r)}function qE(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||KE(e,t,n,r)})):KE(e,t,n,r)}function $E(e){VE(e).oldStyle=e.style}var QE={};function JE(e,t){for(var n=0;n<XS.length;n++){var r=XS[n],i=t[r],o=e.ensureState(r);o.style=o.style||{},o.style.text=i}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function eC(e,t,n){var r,i=e.labelFetcher,o=e.labelDataIndex,a=e.labelDimIndex,s=t.normal;i&&(r=i.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Ug(e.defaultText)?e.defaultText(o,e,n):e.defaultText);for(var u={normal:r},l=0;l<XS.length;l++){var c=XS[l],f=t[c];u[c]=ev(i?i.getFormattedLabel(o,c,null,a,f&&f.get("formatter")):null,r)}return u}function tC(e,t,n,r){n=n||QE;for(var i=e instanceof GS,o=!1,a=0;a<KS.length;a++){if((d=t[KS[a]])&&d.getShallow("show")){o=!0;break}}var s=i?e:e.getTextContent();if(o){i||(s||(s=new GS,e.setTextContent(s)),e.stateProxy&&(s.stateProxy=e.stateProxy));var u=eC(n,t),l=t.normal,c=!!l.getShallow("show"),f=rC(l,r&&r.normal,n,!1,!i);f.text=u.normal,i||e.setTextConfig(iC(l,n,!1));for(a=0;a<XS.length;a++){var d,h=XS[a];if(d=t[h]){var p=s.ensureState(h),g=!!ev(d.getShallow("show"),c);if(g!==c&&(p.ignore=!g),p.style=rC(d,r&&r[h],n,!0,!i),p.style.text=u[h],!i)e.ensureState(h).textConfig=iC(d,n,!0)}}s.silent=!!l.getShallow("silent"),null!=s.style.x&&(f.x=s.style.x),null!=s.style.y&&(f.y=s.style.y),s.ignore=!c,s.useStyle(f),s.dirty(),n.enableTextSetter&&(cC(s).setLabelText=function(e){var r=eC(n,t,e);JE(s,r)})}else s&&(s.ignore=!0);e.dirty()}function nC(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<XS.length;r++){var i=XS[r];n[i]=e.getModel([i,t])}return n}function rC(e,t,n,r,i){var o={};return function(e,t,n,r,i){n=n||QE;var o,a=t.ecModel,s=a&&a.option.textStyle,u=function(e){var t;for(;e&&e!==e.ecModel;){var n=(e.option||QE).rich;if(n){t=t||{};for(var r=Fg(n),i=0;i<r.length;i++){t[r[i]]=1}}e=e.parentModel}return t}(t);if(u)for(var l in o={},u)if(u.hasOwnProperty(l)){var c=t.getModel(["rich",l]);uC(o[l]={},c,s,n,r,i,!1,!0)}o&&(e.rich=o);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");null!=d&&(e.margin=d);uC(e,t,s,n,r,i,!0,!1)}(o,e,n,r,i),t&&Ag(o,t),o}function iC(e,t,n){t=t||{};var r,i={},o=e.getShallow("rotate"),a=ev(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return"outside"===(r=e.getShallow("position")||(n?null:"inside"))&&(r=t.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",i}var oC=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],aC=["align","lineHeight","width","height","tag","verticalAlign"],sC=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function uC(e,t,n,r,i,o,a,s){n=!i&&n||QE;var u=r&&r.inheritColor,l=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=ev(t.getShallow("opacity"),n.opacity);"inherit"!==l&&"auto"!==l||(l=u||null),"inherit"!==c&&"auto"!==c||(c=u||null),o||(l=l||n.color,c=c||n.textBorderColor),null!=l&&(e.fill=l),null!=c&&(e.stroke=c);var d=ev(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=d&&(e.lineWidth=d);var h=ev(t.getShallow("textBorderType"),n.textBorderType);null!=h&&(e.lineDash=h);var p=ev(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(e.lineDashOffset=p),i||null!=f||s||(f=r&&r.defaultOpacity),null!=f&&(e.opacity=f),i||o||null==e.fill&&r.inheritColor&&(e.fill=r.inheritColor);for(var g=0;g<oC.length;g++){var v=oC[g];null!=(y=ev(t.getShallow(v),n[v]))&&(e[v]=y)}for(g=0;g<aC.length;g++){v=aC[g];null!=(y=t.getShallow(v))&&(e[v]=y)}if(null==e.verticalAlign){var m=t.getShallow("baseline");null!=m&&(e.verticalAlign=m)}if(!a||!r.disableBox){for(g=0;g<sC.length;g++){var y;v=sC[g];null!=(y=t.getShallow(v))&&(e[v]=y)}var b=t.getShallow("borderType");null!=b&&(e.borderDash=b),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!u||(e.backgroundColor=u),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!u||(e.borderColor=u)}}function lC(e,t){var n=t&&t.getModel("textStyle");return ov([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var cC=gw();function fC(e,t,n,r){if(e){var i=cC(e);i.prevValue=i.value,i.value=n;var o=t.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function dC(e,t,n,r,i){var o=cC(e);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=ev(o.interpolatedValue,o.prevValue),u=o.value;e.percent=0,(null==o.prevValue?HE:ZE)(e,{percent:1},r,t,null,(function(r){var l=Ew(n,o.precision,s,u,r);o.interpolatedValue=1===r?null:l;var c=eC({labelDataIndex:t,labelFetcher:i,defaultText:a?a(l):l+""},o.statesModels,l);JE(e,c)}))}}var hC=["textStyle","color"],pC=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],gC=new GS,vC=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(hC):null)},e.prototype.getFont=function(){return lC({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<pC.length;n++)t[pC[n]]=this.getShallow(pC[n]);return gC.useStyle(t),gC.update(),gC.getBoundingRect()},e}(),mC=vC,yC=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],bC=Ow(yC),xC=function(){function e(){}return e.prototype.getLineStyle=function(e){return bC(this,e)},e}(),wC=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],_C=Ow(wC),SC=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return _C(this,e,t)},e}(),EC=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},e.prototype.mergeOption=function(e,t){Ig(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,r=null==n?n:n[e];if(null==r&&!t){var i=this.parentModel;i&&(r=i.getShallow(e))}return r},e.prototype.getModel=function(t,n){var r=null!=t,i=r?this.parsePath(t):null;return new e(r?this._doGet(i):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(Mg(this.option))},e.prototype.parsePath=function(e){return"string"===typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!ug.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length&&(!e[r]||null!=(n=n&&"object"===typeof n?n[e[r]]:null));r++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();Iw(EC),function(e){var t=["__\0is_clz",Aw++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}(EC),Pg(EC,xC),Pg(EC,SC),Pg(EC,Rw),Pg(EC,mC);var CC=EC,kC=Math.round(10*Math.random());function MC(e){return[e||"",kC++].join("_")}function IC(e,t){return Ig(Ig({},e,!0),t,!0)}var TC="ZH",AC="EN",NC=AC,DC={},PC={},OC=ug.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(TC)>-1?TC:NC;function LC(e,t){e=e.toUpperCase(),PC[e]=new CC(t),DC[e]=t}function RC(e){return PC[e]}LC(AC,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),LC(TC,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var BC=1e3,zC=6e4,FC=36e5,jC=864e5,GC=31536e6,VC={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},UC="{yyyy}-{MM}-{dd}",WC={year:"{yyyy}",month:"{yyyy}-{MM}",day:UC,hour:"{yyyy}-{MM}-{dd} "+VC.hour,minute:"{yyyy}-{MM}-{dd} "+VC.minute,second:"{yyyy}-{MM}-{dd} "+VC.second,millisecond:VC.none},ZC=["year","month","day","hour","minute","second","millisecond"],HC=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function YC(e,t){return"0000".substr(0,t-(e+="").length)+e}function XC(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function KC(e){return e===XC(e)}function qC(e,t,n,r){var i=Wx(e),o=i[JC(n)](),a=i[ek(n)]()+1,s=Math.floor((a-1)/4)+1,u=i[tk(n)](),l=i["get"+(n?"UTC":"")+"Day"](),c=i[nk(n)](),f=(c-1)%12+1,d=i[rk(n)](),h=i[ik(n)](),p=i[ok(n)](),g=(r instanceof CC?r:RC(r||OC)||PC.EN).getModel("time"),v=g.get("month"),m=g.get("monthAbbr"),y=g.get("dayOfWeek"),b=g.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,m[a-1]).replace(/{MM}/g,YC(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,YC(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,y[l]).replace(/{ee}/g,b[l]).replace(/{e}/g,l+"").replace(/{HH}/g,YC(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,YC(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,YC(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,YC(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,YC(p,3)).replace(/{S}/g,p+"")}function $C(e,t){var n=Wx(e),r=n[ek(t)]()+1,i=n[tk(t)](),o=n[nk(t)](),a=n[rk(t)](),s=n[ik(t)](),u=0===n[ok(t)](),l=u&&0===s,c=l&&0===a,f=c&&0===o,d=f&&1===i;return d&&1===r?"year":d?"month":f?"day":c?"hour":l?"minute":u?"second":"millisecond"}function QC(e,t,n){var r=Hg(e)?Wx(e):e;switch(t=t||$C(e,n)){case"year":return r[JC(n)]();case"half-year":return r[ek(n)]()>=6?1:0;case"quarter":return Math.floor((r[ek(n)]()+1)/4);case"month":return r[ek(n)]();case"day":return r[tk(n)]();case"half-day":return r[nk(n)]()/24;case"hour":return r[nk(n)]();case"minute":return r[rk(n)]();case"second":return r[ik(n)]();case"millisecond":return r[ok(n)]()}}function JC(e){return e?"getUTCFullYear":"getFullYear"}function ek(e){return e?"getUTCMonth":"getMonth"}function tk(e){return e?"getUTCDate":"getDate"}function nk(e){return e?"getUTCHours":"getHours"}function rk(e){return e?"getUTCMinutes":"getMinutes"}function ik(e){return e?"getUTCSeconds":"getSeconds"}function ok(e){return e?"getUTCMilliseconds":"getMilliseconds"}function ak(e){return e?"setUTCFullYear":"setFullYear"}function sk(e){return e?"setUTCMonth":"setMonth"}function uk(e){return e?"setUTCDate":"setDate"}function lk(e){return e?"setUTCHours":"setHours"}function ck(e){return e?"setUTCMinutes":"setMinutes"}function fk(e){return e?"setUTCSeconds":"setSeconds"}function dk(e){return e?"setUTCMilliseconds":"setMilliseconds"}function hk(e){if(!qx(e))return Wg(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function pk(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var gk=rv,vk=/([&<>"'])/g,mk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yk(e){return null==e?"":(e+"").replace(vk,(function(e,t){return mk[t]}))}function bk(e,t,n){function r(e){return e&&ov(e)?e:"-"}function i(e){return!(null==e||isNaN(e)||!isFinite(e))}var o="time"===t,a=e instanceof Date;if(o||a){var s=o?Wx(e):e;if(!isNaN(+s))return qC(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(a)return"-"}if("ordinal"===t)return Zg(e)?r(e):Hg(e)&&i(e)?e+"":"-";var u=Kx(e);return i(u)?hk(u):Zg(e)?r(e):"boolean"===typeof e?e+"":"-"}var xk=["a","b","c","d","e","f","g"],wk=function(e,t){return"{"+e+(null==t?"":t)+"}"};function _k(e,t,n){Vg(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var a=xk[o];e=e.replace(wk(a),wk(a,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var l=t[s][i[u]];e=e.replace(wk(xk[u],s),n?yk(l):l)}return e}function Sk(e,t){return t=t||"transparent",Wg(e)?e:Yg(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function Ek(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var Ck=Lg,kk=["left","right","top","bottom","width","height"],Mk=[["width","left","right"],["height","top","bottom"]];function Ik(e,t,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(u,l){var c,f,d=u.getBoundingRect(),h=t.childAt(l+1),p=h&&h.getBoundingRect();if("horizontal"===e){var g=d.width+(p?-p.x+d.x:0);(c=o+g)>r||u.newline?(o=0,c=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(p?-p.y+d.y:0);(f=a+v)>i||u.newline?(o+=s+n,a=0,f=v,s=d.width):s=Math.max(s,d.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),"horizontal"===e?o=c+n:a=f+n)}))}var Tk=Ik;Gg(Ik,"vertical"),Gg(Ik,"horizontal");function Ak(e,t,n){n=gk(n||0);var r=t.width,i=t.height,o=Ox(e.left,r),a=Ox(e.top,i),s=Ox(e.right,r),u=Ox(e.bottom,i),l=Ox(e.width,r),c=Ox(e.height,i),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(l)&&(l=r-s-d-o),isNaN(c)&&(c=i-u-f-a),null!=h&&(isNaN(l)&&isNaN(c)&&(h>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=h*c),isNaN(c)&&(c=l/h)),isNaN(o)&&(o=r-s-l-d),isNaN(a)&&(a=i-u-c-f),e.left||e.right){case"center":o=r/2-l/2-n[3];break;case"right":o=r-l-d}switch(e.top||e.bottom){case"middle":case"center":a=i/2-c/2-n[0];break;case"bottom":a=i-c-f}o=o||0,a=a||0,isNaN(l)&&(l=r-d-o-(s||0)),isNaN(c)&&(c=i-f-a-(u||0));var p=new ix(o+n[3],a+n[0],l,c);return p.margin=n,p}function Nk(e,t,n,r,i,o){var a,s=!i||!i.hv||i.hv[0],u=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if((o=o||e).x=e.x,o.y=e.y,!s&&!u)return!1;if("raw"===l)a="group"===e.type?new ix(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(a=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(a=a.clone()).applyTransform(c)}var f=Ak(Ng({width:a.width,height:a.height},t),n,r),d=s?f.x-a.x:0,h=u?f.y-a.y:0;return"raw"===l?(o.x=d,o.y=h):(o.x+=d,o.y+=h),o===e&&e.markRedraw(),!0}function Dk(e){var t=e.layoutMode||e.constructor.layoutMode;return Yg(t)?t:t?{type:t}:null}function Pk(e,t,n){var r=n&&n.ignoreSize;!Vg(r)&&(r=[r,r]);var i=a(Mk[0],0),o=a(Mk[1],1);function a(n,i){var o={},a=0,l={},c=0;if(Ck(n,(function(t){l[t]=e[t]})),Ck(n,(function(e){s(t,e)&&(o[e]=l[e]=t[e]),u(o,e)&&a++,u(l,e)&&c++})),r[i])return u(t,n[1])?l[n[2]]=null:u(t,n[2])&&(l[n[1]]=null),l;if(2!==c&&a){if(a>=2)return o;for(var f=0;f<n.length;f++){var d=n[f];if(!s(o,d)&&s(e,d)){o[d]=e[d];break}}return o}return l}function s(e,t){return e.hasOwnProperty(t)}function u(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){Ck(e,(function(e){t[e]=n[e]}))}l(Mk[0],e,i),l(Mk[1],e,o)}function Ok(e){return Lk({},e)}function Lk(e,t){return t&&e&&Ck(kk,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Rk=gw(),Bk=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.uid=MC("ec_cpt_model"),i}return og(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Dk(this),r=n?Ok(e):{};Ig(e,t.getTheme().get(this.mainType)),Ig(e,this.getDefaultOption()),n&&Pk(e,r,n)},t.prototype.mergeOption=function(e,t){Ig(this.option,e,!0);var n=Dk(this);n&&Pk(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function(e){return!(!e||!e[kw])}(e))return e.defaultOption;var t=Rk(this);if(!t.defaultOption){for(var n=[],r=e;r;){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var o={},a=n.length-1;a>=0;a--)o=Ig(o,n[a],!0);t.defaultOption=o}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",r=e+"Id";return ww(this.ecModel,e,{index:this.get(n,!0),id:this.get(r,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(CC);Tw(Bk,CC),Pw(Bk),function(e){var t={};e.registerSubTypeDefaulter=function(e,n){var r=Mw(e);t[r.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var o=Mw(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](r))}return i}}(Bk),function(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,r,i,o){if(e.length){var a=function(e){var r={},i=[];return Lg(e,(function(o){var a=n(r,o),s=function(e,t){var n=[];return Lg(e,(function(e){Dg(t,e)>=0&&n.push(e)})),n}(a.originalDeps=t(o),e);a.entryCount=s.length,0===a.entryCount&&i.push(o),Lg(s,(function(e){Dg(a.predecessor,e)<0&&a.predecessor.push(e);var t=n(r,e);Dg(t.successor,e)<0&&t.successor.push(o)}))})),{graph:r,noEntryList:i}}(r),s=a.graph,u=a.noEntryList,l={};for(Lg(e,(function(e){l[e]=!0}));u.length;){var c=u.pop(),f=s[c],d=!!l[c];d&&(i.call(o,c,f.originalDeps.slice()),delete l[c]),Lg(f.successor,d?p:h)}Lg(l,(function(){throw new Error("")}))}function h(e){s[e].entryCount--,0===s[e].entryCount&&u.push(e)}function p(e){l[e]=!0,h(e)}}}(Bk,(function(e){var t=[];Lg(Bk.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=Rg(t,(function(e){return Mw(e).main})),"dataset"!==e&&Dg(t,"dataset")<=0&&t.unshift("dataset");return t}));var zk=Bk,Fk="";"undefined"!==typeof navigator&&(Fk=navigator.platform||"");var jk="rgba(0, 0, 0, 0.2)",Gk={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:jk,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:jk,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:jk,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:jk,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:jk,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:jk,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Fk.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Vk=cv(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Uk="original",Wk="arrayRows",Zk="objectRows",Hk="keyedColumns",Yk="typedArray",Xk="unknown",Kk="column",qk="row",$k=1,Qk=2,Jk=3,eM=gw();function tM(e,t,n){var r={},i=rM(t);if(!i||!e)return r;var o,a,s=[],u=[],l=t.ecModel,c=eM(l).datasetMap,f=i.uid+"_"+n.seriesLayoutBy;Lg(e=e.slice(),(function(t,n){var i=Yg(t)?t:e[n]={name:t};"ordinal"===i.type&&null==o&&(o=n,a=p(i)),r[i.name]=[]}));var d=c.get(f)||c.set(f,{categoryWayDim:a,valueWayDim:0});function h(e,t,n){for(var r=0;r<n;r++)e.push(t+r)}function p(e){var t=e.dimsDef;return t?t.length:1}return Lg(e,(function(e,t){var n=e.name,i=p(e);if(null==o){var a=d.valueWayDim;h(r[n],a,i),h(u,a,i),d.valueWayDim+=i}else if(o===t)h(r[n],0,i),h(s,0,i);else{a=d.categoryWayDim;h(r[n],a,i),h(u,a,i),d.categoryWayDim+=i}})),s.length&&(r.itemName=s),u.length&&(r.seriesName=u),r}function nM(e,t,n){var r={};if(!rM(e))return r;var i,o=t.sourceFormat,a=t.dimensionsDefine;o!==Zk&&o!==Hk||Lg(a,(function(e,t){"name"===(Yg(e)?e.name:e)&&(i=t)}));var s=function(){for(var e={},r={},s=[],u=0,l=Math.min(5,n);u<l;u++){var c=oM(t.data,o,t.seriesLayoutBy,a,t.startIndex,u);s.push(c);var f=c===Jk;if(f&&null==e.v&&u!==i&&(e.v=u),(null==e.n||e.n===e.v||!f&&s[e.n]===Jk)&&(e.n=u),d(e)&&s[e.n]!==Jk)return e;f||(c===Qk&&null==r.v&&u!==i&&(r.v=u),null!=r.n&&r.n!==r.v||(r.n=u))}function d(e){return null!=e.v&&null!=e.n}return d(e)?e:d(r)?r:null}();if(s){r.value=[s.v];var u=null!=i?i:s.n;r.itemName=[u],r.seriesName=[u]}return r}function rM(e){if(!e.get("data",!0))return ww(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},bw).models[0]}function iM(e,t){return oM(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function oM(e,t,n,r,i,o){var a,s,u;if(Kg(e))return Jk;if(r){var l=r[o];Yg(l)?(s=l.name,u=l.type):Wg(l)&&(s=l)}if(null!=u)return"ordinal"===u?$k:Jk;if(t===Wk){var c=e;if(n===qk){for(var f=c[o],d=0;d<(f||[]).length&&d<5;d++)if(null!=(a=y(f[i+d])))return a}else for(d=0;d<c.length&&d<5;d++){var h=c[i+d];if(h&&null!=(a=y(h[o])))return a}}else if(t===Zk){var p=e;if(!s)return Jk;for(d=0;d<p.length&&d<5;d++){if((v=p[d])&&null!=(a=y(v[s])))return a}}else if(t===Hk){if(!s)return Jk;if(!(f=e[s])||Kg(f))return Jk;for(d=0;d<f.length&&d<5;d++)if(null!=(a=y(f[d])))return a}else if(t===Uk){var g=e;for(d=0;d<g.length&&d<5;d++){var v,m=aw(v=g[d]);if(!Vg(m))return Jk;if(null!=(a=y(m[o])))return a}}function y(e){var t=Wg(e);return null!=e&&isFinite(e)&&""!==e?t?Qk:Jk:t&&"-"!==e?$k:void 0}return Jk}var aM=cv();var sM,uM,lM,cM=gw(),fM=gw(),dM=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var r=rw(this.get("color",!0)),i=this.get("colorLayer",!0);return pM(this,cM,r,i,e,t,n)},e.prototype.clearColorPalette=function(){!function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}(this,cM)},e}();function hM(e,t,n,r){var i=rw(e.get(["aria","decal","decals"]));return pM(e,fM,i,null,t,n,r)}function pM(e,t,n,r,i,o,a){var s=t(o=o||e),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=null!=a&&r?function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}(r,a):n;if((c=c||n)&&c.length){var f=c[u];return i&&(l[i]=f),s.paletteIdx=(u+1)%c.length,f}}var gM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.init=function(e,t,n,r,i,o){r=r||{},this.option=null,this._theme=new CC(r),this._locale=new CC(i),this._optionManager=o},t.prototype.setOption=function(e,t,n){var r=yM(t);this._optionManager.setOption(e,n,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,yM(t))},t.prototype._resetOption=function(e,t){var n=!1,r=this._optionManager;if(!e||"recreate"===e){var i=r.mountOption("recreate"===e);0,this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(i,t)):lM(this,i),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=r.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,t))}if(!e||"recreate"===e||"media"===e){var a=r.getMediaOption(this);a.length&&Lg(a,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,r=this._componentsMap,i=this._componentsCount,o=[],a=cv(),s=t&&t.replaceMergeMainTypeMap;eM(this).datasetMap=cv(),Lg(e,(function(e,t){null!=e&&(zk.hasClass(t)?t&&(o.push(t),a.set(t,!0)):n[t]=null==n[t]?Mg(e):Ig(n[t],e,!0))})),s&&s.each((function(e,t){zk.hasClass(t)&&!a.get(t)&&(o.push(t),a.set(t,!0))})),zk.topologicalTravel(o,zk.getAllClassMainTypes(),(function(t){var o=function(e,t,n){var r=aM.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}(this,t,rw(e[t])),a=r.get(t),u=a?s&&s.get(t)?"replaceMerge":"normalMerge":"replaceAll",l=uw(a,o,u);(function(e,t,n){Lg(e,(function(e){var r=e.newOption;Yg(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=function(e,t,n,r){return t.type?t.type:n?n.subType:r.determineSubType(e,t)}(t,r,e.existing,n))}))})(l,t,zk),n[t]=null,r.set(t,null),i.set(t,0);var c,f=[],d=[],h=0;Lg(l,(function(e,n){var r=e.existing,i=e.newOption;if(i){var o="series"===t,a=zk.getClass(t,e.keyInfo.subType,!o);if(!a)return;if("tooltip"===t){if(c)return void 0;c=!0}if(r&&r.constructor===a)r.name=e.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var s=Ag({componentIndex:n},e.keyInfo);Ag(r=new a(i,this,this,s),s),e.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(f.push(r.option),d.push(r),h++):(f.push(void 0),d.push(void 0))}),this),n[t]=f,r.set(t,d),i.set(t,h),"series"===t&&sM(this)}),this),this._seriesIndices||sM(this)},t.prototype.getOption=function(){var e=Mg(this.option);return Lg(e,(function(t,n){if(zk.hasClass(n)){for(var r=rw(t),i=r.length,o=!1,a=i-1;a>=0;a--)r[a]&&!hw(r[a])?o=!0:(r[a]=null,!o&&i--);r.length=i,e[n]=r}})),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r)return r;if(null==t)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,r=e.index,i=e.id,o=e.name,a=this._componentsMap.get(t);return a&&a.length?(null!=r?(n=[],Lg(rw(r),(function(e){a[e]&&n.push(a[e])}))):n=null!=i?vM("id",i,a):null!=o?vM("name",o,a):zg(a,(function(e){return!!e})),mM(n,e)):[]},t.prototype.findComponents=function(e){var t,n=e.query,r=e.mainType,i=function(e){var t=r+"Index",n=r+"Id",i=r+"Name";return!e||null==e[t]&&null==e[n]&&null==e[i]?null:{mainType:r,index:e[t],id:e[n],name:e[i]}}(n),o=i?this.queryComponents(i):zg(this._componentsMap.get(r),(function(e){return!!e}));return t=mM(o,e),e.filter?zg(t,e.filter):t},t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if(Ug(e)){var i=t,o=e;r.each((function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&o.call(i,t,r,r.componentIndex)}}))}else for(var a=Wg(e)?r.get(e):Yg(e)?this.findComponents(e):null,s=0;a&&s<a.length;s++){var u=a[s];u&&t.call(n,u,u.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=fw(e,null);return zg(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return zg(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},t.prototype.getSeries=function(){return zg(this._componentsMap.get("series"),(function(e){return!!e}))},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){uM(this),Lg(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)}),this)},t.prototype.eachRawSeries=function(e,t){Lg(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},t.prototype.eachSeriesByType=function(e,t,n){uM(this),Lg(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];i.subType===e&&t.call(n,i,r)}),this)},t.prototype.eachRawSeriesByType=function(e,t,n){return Lg(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return uM(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){uM(this);var n=[];Lg(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];e.call(t,i,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=cv(n)},t.prototype.restoreData=function(e){sM(this);var t=this._componentsMap,n=[];t.each((function(e,t){zk.hasClass(t)&&n.push(t)})),zk.topologicalTravel(n,zk.getAllClassMainTypes(),(function(n){Lg(t.get(n),(function(t){!t||"series"===n&&function(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return null!=n&&e.componentIndex!==n||null!=r&&e.id!==r||null!=i&&e.name!==i}}(t,e)||t.restoreData()}))}))},t.internalField=(sM=function(e){var t=e._seriesIndices=[];Lg(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=cv(t)},uM=function(e){},void(lM=function(e,t){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=cv({series:[]}),e._componentsCount=cv();var n=t.aria;Yg(n)&&null==n.enabled&&(n.enabled=!0),function(e,t){var n=e.color&&!e.colorLayer;Lg(t,(function(t,r){"colorLayer"===r&&n||zk.hasClass(r)||("object"===typeof t?e[r]=e[r]?Ig(e[r],t,!1):Mg(t):null==e[r]&&(e[r]=t))}))}(t,e._theme.option),Ig(t,Gk,!1),e._mergeOption(t,null)})),t}(CC);function vM(e,t,n){if(Vg(t)){var r=cv();return Lg(t,(function(e){null!=e&&(null!=fw(e,null)&&r.set(e,!0))})),zg(n,(function(t){return t&&r.get(t[e])}))}var i=fw(t,null);return zg(n,(function(t){return t&&null!=i&&t[e]===i}))}function mM(e,t){return t.hasOwnProperty("subType")?zg(e,(function(e){return e&&e.subType===t.subType})):e}function yM(e){var t=cv();return e&&Lg(rw(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}Pg(gM,dM);var bM=gM,xM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],wM=function(e){Lg(xM,(function(t){this[t]=jg(e[t],e)}),this)},_M={},SM=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];Lg(_M,(function(r,i){var o=r.create(e,t);n=n.concat(o||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){Lg(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){_M[e]=t},e.get=function(e){return _M[e]},e}(),EM=SM,CM=/^(min|max)?(.+)$/,kM=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(Lg(rw(e.series),(function(e){e&&e.data&&Kg(e.data)&&sv(e.data)})),Lg(rw(e.dataset),(function(e){e&&e.source&&Kg(e.source)&&sv(e.source)}))),e=Mg(e);var r=this._optionBackup,i=function(e,t,n){var r,i,o=[],a=e.baseOption,s=e.timeline,u=e.options,l=e.media,c=!!e.media,f=!!(u||s||a&&a.timeline);a?(i=a).timeline||(i.timeline=s):((f||c)&&(e.options=e.media=null),i=e);c&&Vg(l)&&Lg(l,(function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))}));function d(e){Lg(t,(function(t){t(e,n)}))}return d(i),Lg(u,(function(e){return d(e)})),Lg(o,(function(e){return d(e.option)})),{baseOption:i,timelineOptions:u||[],mediaDefault:r,mediaList:o}}(e,t,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Mg(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=Mg(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t,n,r=this._api.getWidth(),i=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],u=[];if(!o.length&&!a)return u;for(var l=0,c=o.length;l<c;l++)MM(o[l].query,r,i)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&(t=s,n=this._currentMediaIndices,t.join(",")!==n.join(","))&&(u=Rg(s,(function(e){return Mg(-1===e?a.option:o[e].option)}))),this._currentMediaIndices=s,u},e}();function MM(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return Lg(e,(function(e,t){var n=t.match(CM);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(r[a],e,o)||(i=!1)}})),i}var IM=kM,TM=Lg,AM=Yg,NM=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function DM(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=NM.length;n<r;n++){var i=NM[n],o=t.normal,a=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Ig(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),a&&a[i]&&(e[i]=e[i]||{},e[i].emphasis?Ig(e[i].emphasis,a[i]):e[i].emphasis=a[i],a[i]=null)}}function PM(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,Ng(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function OM(e){PM(e,"itemStyle"),PM(e,"lineStyle"),PM(e,"areaStyle"),PM(e,"label"),PM(e,"labelLine"),PM(e,"upperLabel"),PM(e,"edgeLabel")}function LM(e,t){var n=AM(e)&&e[t],r=AM(n)&&n.textStyle;if(r){0;for(var i=0,o=ow.length;i<o;i++){var a=ow[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function RM(e){e&&(OM(e),LM(e,"label"),e.emphasis&&LM(e.emphasis,"label"))}function BM(e){return Vg(e)?e:e?[e]:[]}function zM(e){return(Vg(e)?e[0]:e)||{}}function FM(e,t){TM(BM(e.series),(function(e){AM(e)&&function(e){if(AM(e)){DM(e),OM(e),LM(e,"label"),LM(e,"upperLabel"),LM(e,"edgeLabel"),e.emphasis&&(LM(e.emphasis,"label"),LM(e.emphasis,"upperLabel"),LM(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(DM(t),RM(t));var n=e.markLine;n&&(DM(n),RM(n));var r=e.markArea;r&&RM(r);var i=e.data;if("graph"===e.type){i=i||e.nodes;var o=e.links||e.edges;if(o&&!Kg(o))for(var a=0;a<o.length;a++)RM(o[a]);Lg(e.categories,(function(e){OM(e)}))}if(i&&!Kg(i))for(a=0;a<i.length;a++)RM(i[a]);if((t=e.markPoint)&&t.data){var s=t.data;for(a=0;a<s.length;a++)RM(s[a])}if((n=e.markLine)&&n.data){var u=n.data;for(a=0;a<u.length;a++)Vg(u[a])?(RM(u[a][0]),RM(u[a][1])):RM(u[a])}"gauge"===e.type?(LM(e,"axisLabel"),LM(e,"title"),LM(e,"detail")):"treemap"===e.type?(PM(e.breadcrumb,"itemStyle"),Lg(e.levels,(function(e){OM(e)}))):"tree"===e.type&&OM(e.leaves)}}(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),TM(n,(function(t){TM(BM(e[t]),(function(e){e&&(LM(e,"axisLabel"),LM(e.axisPointer,"label"))}))})),TM(BM(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;LM(t,"axisLabel"),LM(t&&t.axisPointer,"label")})),TM(BM(e.calendar),(function(e){PM(e,"itemStyle"),LM(e,"dayLabel"),LM(e,"monthLabel"),LM(e,"yearLabel")})),TM(BM(e.radar),(function(e){LM(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),TM(BM(e.geo),(function(e){AM(e)&&(RM(e),TM(BM(e.regions),(function(e){RM(e)})))})),TM(BM(e.timeline),(function(e){RM(e),PM(e,"label"),PM(e,"itemStyle"),PM(e,"controlStyle",!0);var t=e.data;Vg(t)&&Lg(t,(function(e){Yg(e)&&(PM(e,"label"),PM(e,"itemStyle"))}))})),TM(BM(e.toolbox),(function(e){PM(e,"iconStyle"),TM(e.feature,(function(e){PM(e,"iconStyle")}))})),LM(zM(e.axisPointer),"label"),LM(zM(e.tooltip).axisPointer,"label")}function jM(e){e&&Lg(GM,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var GM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],VM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],UM=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function WM(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<UM.length;n++){var r=UM[n][1],i=UM[n][0];null!=t[r]&&(t[i]=t[r])}}function ZM(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function HM(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function YM(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&YM(e[n].children,t)}function XM(e,t){FM(e,t),e.series=rw(e.series),Lg(e.series,(function(e){if(Yg(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){if(null!=e.clockWise&&(e.clockwise=e.clockWise),ZM(e.label),(i=e.data)&&!Kg(i))for(var n=0;n<i.length;n++)ZM(i[n]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var r=function(e,t){for(var n=t.split(","),r=e,i=0;i<n.length&&null!=(r=r&&r[n[i]]);i++);return r}(e,"pointer.color");null!=r&&function(e,t,n,r){for(var i,o=t.split(","),a=e,s=0;s<o.length-1;s++)null==a[i=o[s]]&&(a[i]={}),a=a[i];(r||null==a[o[s]])&&(a[o[s]]=n)}(e,"itemStyle.color",r)}else if("bar"===t){var i;if(WM(e),WM(e.backgroundStyle),WM(e.emphasis),(i=e.data)&&!Kg(i))for(n=0;n<i.length;n++)"object"===typeof i[n]&&(WM(i[n]),WM(i[n]&&i[n].emphasis))}else if("sunburst"===t){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),HM(e),YM(e.data,HM)}else"graph"===t||"sankey"===t?function(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ng(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),jM(e)}})),e.dataRange&&(e.visualMap=e.dataRange),Lg(VM,(function(t){var n=e[t];n&&(Vg(n)||(n=[n]),Lg(n,(function(e){jM(e)})))}))}function KM(e){Lg(e,(function(t,n){var r=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex;a.modify(o,(function(o,u,l){var c,f,d=a.get(t.stackedDimension,l);if(isNaN(d))return i;s?f=a.getRawIndex(l):c=a.get(t.stackedByDimension,l);for(var h=NaN,p=n-1;p>=0;p--){var g=e[p];if(s||(f=g.data.rawIndexOf(g.stackedByDimension,c)),f>=0){var v=g.data.getByRawIndex(g.stackResultDimension,f);if(d>=0&&v>0||d<=0&&v<0){d=Fx(d,v),h=v;break}}}return r[0]=d,r[1]=h,r}))}))}var qM,$M,QM,JM,eI,tI=function(e){this.data=e.data||(e.sourceFormat===Hk?{}:[]),this.sourceFormat=e.sourceFormat||Xk,this.seriesLayoutBy=e.seriesLayoutBy||Kk,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var r=t[n];null==r.type&&iM(this,n)===$k&&(r.type="ordinal")}};function nI(e){return e instanceof tI}function rI(e,t,n){n=n||oI(e);var r=t.seriesLayoutBy,i=function(e,t,n,r,i){var o,a;if(!e)return{dimensionsDefine:aI(i),startIndex:a,dimensionsDetectedCount:o};if(t===Wk){var s=e;"auto"===r||null==r?sI((function(e){null!=e&&"-"!==e&&(Wg(e)?null==a&&(a=1):a=0)}),n,s,10):a=Hg(r)?r:r?1:0,i||1!==a||(i=[],sI((function(e,t){i[t]=null!=e?e+"":""}),n,s,1/0)),o=i?i.length:n===qk?s.length:s[0]?s[0].length:null}else if(t===Zk)i||(i=function(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););if(t){var r=[];return Lg(t,(function(e,t){r.push(t)})),r}}(e));else if(t===Hk)i||(i=[],Lg(e,(function(e,t){i.push(t)})));else if(t===Uk){var u=aw(e[0]);o=Vg(u)&&u.length||1}return{startIndex:a,dimensionsDefine:aI(i),dimensionsDetectedCount:o}}(e,n,r,t.sourceHeader,t.dimensions);return new tI({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Mg(t)})}function iI(e){return new tI({data:e,sourceFormat:Kg(e)?Yk:Uk})}function oI(e){var t=Xk;if(Kg(e))t=Yk;else if(Vg(e)){0===e.length&&(t=Wk);for(var n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){if(Vg(i)){t=Wk;break}if(Yg(i)){t=Zk;break}}}}else if(Yg(e))for(var o in e)if(pv(e,o)&&Og(e[o])){t=Hk;break}return t}function aI(e){if(e){var t=cv();return Rg(e,(function(e,n){var r={name:(e=Yg(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r}))}}function sI(e,t,n,r){if(t===qk)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else{var o=n[0]||[];for(i=0;i<o.length&&i<r;i++)e(o[i],i)}}function uI(e){var t=e.sourceFormat;return t===Zk||t===Hk}var lI=function(){function e(e,t){var n=nI(e)?e:iI(e);this._source=n;var r=this._data=n.data;n.sourceFormat===Yk&&(this._offset=0,this._dimSize=t,this._data=r),eI(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;eI=function(e,i,o){var a=o.sourceFormat,s=o.seriesLayoutBy,u=o.startIndex,l=o.dimensionsDefine;if(Ag(e,JM[bI(a,s)]),a===Yk)e.getItem=t,e.count=r,e.fillStorage=n;else{var c=dI(a,s);e.getItem=jg(c,null,i,u,l);var f=gI(a,s);e.count=jg(f,null,i,u,l)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,r=this._dimSize,i=r*e,o=0;o<r;o++)t[o]=n[i+o];return t},n=function(e,t,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=r[a],u=null==s[0]?1/0:s[0],l=null==s[1]?-1/0:s[1],c=t-e,f=n[a],d=0;d<c;d++){var h=i[d*o+a];f[e+d]=h,h<u&&(u=h),h>l&&(l=h)}s[0]=u,s[1]=l}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={}).arrayRows_column={pure:!0,appendData:i},e.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e.objectRows={pure:!0,appendData:i},e.keyedColumns={pure:!0,appendData:function(e){var t=this._data;Lg(e,(function(e,n){for(var r=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)r.push(e[i])}))}},e.original={appendData:i},e.typedArray={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},JM=e}(),e}(),cI=function(e,t,n,r){return e[r]},fI=((qM={}).arrayRows_column=function(e,t,n,r){return e[r+t]},qM.arrayRows_row=function(e,t,n,r,i){r+=t;for(var o=i||[],a=e,s=0;s<a.length;s++){var u=a[s];o[s]=u?u[r]:null}return o},qM.objectRows=cI,qM.keyedColumns=function(e,t,n,r,i){for(var o=i||[],a=0;a<n.length;a++){0;var s=e[n[a].name];o[a]=s?s[r]:null}return o},qM.original=cI,qM);function dI(e,t){return fI[bI(e,t)]}var hI=function(e,t,n){return e.length},pI=(($M={}).arrayRows_column=function(e,t,n){return Math.max(0,e.length-t)},$M.arrayRows_row=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},$M.objectRows=hI,$M.keyedColumns=function(e,t,n){var r=e[n[0].name];return r?r.length:0},$M.original=hI,$M);function gI(e,t){return pI[bI(e,t)]}var vI=function(e,t,n){return e[t]},mI=((QM={}).arrayRows=vI,QM.objectRows=function(e,t,n){return e[n]},QM.keyedColumns=vI,QM.original=function(e,t,n){var r=aw(e);return r instanceof Array?r[t]:r},QM.typedArray=vI,QM);function yI(e){return mI[e]}function bI(e,t){return e===Wk?e+"_"+t:e}function xI(e,t,n){if(e){var r=e.getRawDataItem(t);if(null!=r){var i=e.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=e.getDimensionIndex(n),s=i.getDimensionProperty(a);return yI(o)(r,a,s)}var u=r;return o===Uk&&(u=aw(r)),u}}}var wI=/\{@(.+?)\}/g,_I=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),o=n.getName(e),a=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),u=s&&s[n.getItemVisual(e,"drawType")||"fill"],l=s&&s.stroke,c=this.mainType,f="series"===c,d=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:i,data:a,dataType:t,value:r,color:u,borderColor:l,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,r,i,o){t=t||"normal";var a=this.getData(n),s=this.getDataParams(e,n);(o&&(s.value=o.interpolatedValue),null!=r&&Vg(s.value)&&(s.value=s.value[r]),i)||(i=a.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]));return Ug(i)?(s.status=t,s.dimensionIndex=r,i(s)):Wg(i)?_k(i,s).replace(wI,(function(t,n){var r=n.length,i=n;"["===i.charAt(0)&&"]"===i.charAt(r-1)&&(i=+i.slice(1,r-1));var s=xI(a,e,i);if(o&&Vg(o.interpolatedValue)){var u=a.getDimensionIndex(i);u>=0&&(s=o.interpolatedValue[u])}return null!=s?s+"":""})):void 0},e.prototype.getRawValue=function(e,t){return xI(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function SI(e){var t,n;return Yg(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function EI(e){return new CI(e)}var CI=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var o,a=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;function c(e){return!(e>=1)&&(e=1),e}a===u&&s===l||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=this._doReset(r)),this._modBy=u,this._modDataCount=l;var f=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,h=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(o||d<h)){var p=this._progress;if(Vg(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],d,h,u,l);else this._doProgress(p,d,h,u,l)}this._dueIndex=h;var v=null!=this._settedOutputEnd?this._settedOutputEnd:h;0,this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,r,i){kI.reset(t,n,r,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:kI.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),Vg(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),kI=function(){var e,t,n,r,i,o={reset:function(u,l,c,f){t=u,e=l,n=c,r=f,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return t<e?t++:null}function s(){var o=t%i*n+Math.ceil(t/i),a=t>=e?null:o<r?o:t;return t++,a}}();"undefined"!==typeof console&&console.warn&&console.log;function MI(e){0}function II(e){throw new Error(e)}function TI(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"!==n||Hg(e)||null==e||"-"===e||(e=+Wx(e)),null==e||""===e?NaN:+e)}var AI=cv({number:function(e){return parseFloat(e)},time:function(e){return+Wx(e)},trim:function(e){return Wg(e)?ov(e):e}});function NI(e){return AI.get(e)}var DI={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},PI=function(){function e(e,t){if(!Hg(t)){0,II("")}this._opFn=DI[e],this._rvalFloat=Kx(t)}return e.prototype.evaluate=function(e){return Hg(e)?this._opFn(e,this._rvalFloat):this._opFn(Kx(e),this._rvalFloat)},e}(),OI=function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=Hg(e)?e:Kx(e),r=Hg(t)?t:Kx(t),i=isNaN(n),o=isNaN(r);if(i&&(n=this._incomparable),o&&(r=this._incomparable),i&&o){var a=Wg(e),s=Wg(t);a&&(n=s?e:0),s&&(r=a?t:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},e}(),LI=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Kx(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=Kx(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();function RI(e,t){return"eq"===e||"ne"===e?new LI("eq"===e,t):pv(DI,e)?new PI(e,t):null}var BI=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return TI(e,t)},e}();function zI(e){if(!WI(e.sourceFormat)){0,II("")}return e.data}function FI(e){var t=e.sourceFormat,n=e.data;if(!WI(t)){0,II("")}if(t===Wk){for(var r=[],i=0,o=n.length;i<o;i++)r.push(n[i].slice());return r}if(t===Zk){for(r=[],i=0,o=n.length;i<o;i++)r.push(Ag({},n[i]));return r}}function jI(e,t,n){if(null!=n)return Hg(n)||!isNaN(n)&&!pv(t,n)?e[n]:pv(t,n)?t[n]:void 0}function GI(e){return Mg(e)}var VI=cv();function UI(e,t,n,r){t.length||II(""),Yg(e)||II("");var i=e.type,o=VI.get(i);o||II("");var a=Rg(t,(function(e){return function(e,t){var n=new BI,r=e.data,i=n.sourceFormat=e.sourceFormat,o=e.startIndex;e.seriesLayoutBy!==Kk&&II("");var a=[],s={},u=e.dimensionsDefine;if(u)Lg(u,(function(e,t){var n=e.name,r={index:t,name:n,displayName:e.displayName};a.push(r),null!=n&&(pv(s,n)&&II(""),s[n]=r)}));else for(var l=0;l<e.dimensionsDetectedCount;l++)a.push({index:l});var c=dI(i,Kk);t.__isBuiltIn&&(n.getRawDataItem=function(e){return c(r,o,a,e)},n.getRawData=jg(zI,null,e)),n.cloneRawData=jg(FI,null,e);var f=gI(i,Kk);n.count=jg(f,null,r,o,a);var d=yI(i);n.retrieveValue=function(e,t){var n=c(r,o,a,e);return h(n,t)};var h=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=a[t];return n?d(e,t,n.name):void 0}};return n.getDimensionInfo=jg(jI,null,a,s),n.cloneAllDimensionInfo=jg(GI,null,a),n}(e,o)}));return Rg(rw(o.transform({upstream:a[0],upstreamList:a,config:Mg(e.config)})),(function(e,n){var r;Yg(e)||II(""),e.data||II(""),WI(oI(e.data))||II("");var i=t[0];if(i&&0===n&&!e.dimensions){var o=i.startIndex;o&&(e.data=i.data.slice(0,o).concat(e.data)),r={seriesLayoutBy:Kk,sourceHeader:o,dimensions:i.metaRawOption.dimensions}}else r={seriesLayoutBy:Kk,sourceHeader:0,dimensions:e.dimensions};return rI(e.data,r,null)}))}function WI(e){return e===Wk||e===Zk}var ZI,HI="undefined",YI=typeof Uint32Array===HI?Array:Uint32Array,XI=typeof Uint16Array===HI?Array:Uint16Array,KI=typeof Int32Array===HI?Array:Int32Array,qI=typeof Float64Array===HI?Array:Float64Array,$I={float:qI,int:KI,ordinal:Array,number:Array,time:qI};function QI(e){return e>65535?YI:XI}function JI(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function eT(e,t,n,r,i){var o=$I[n||"float"];if(i){var a=e[t],s=a&&a.length;if(s!==r){for(var u=new o(r),l=0;l<s;l++)u[l]=a[l];e[t]=u}}else e[t]=new o(r)}var tT=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=cv()}return e.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),i=this.defaultDimValueGetter=ZI[r.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[];uI(r);this._dimensions=Rg(t,(function(e){return{type:e.type,property:e.property}})),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(e);if(null!=i){if(r[i].type===t)return i}else i=r.length;return r[i]={type:t},n.set(e,i),this._chunks[i]=new $I[t||"float"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],r=this._dimensions[e],i=this._rawExtent,o=r.ordinalOffset||0,a=n.length;0===o&&(i[e]=[1/0,-1/0]);for(var s=i[e],u=o;u<a;u++){var l=n[u]=t.parseAndCollect(n[u]);s[0]=Math.min(l,s[0]),s[1]=Math.max(l,s[1])}r.ordinalMeta=t,r.ordinalOffset=a,r.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,r=this._dimensions,i=r.length,o=this._rawExtent,a=this.count(),s=a+Math.max(e.length,t||0),u=0;u<i;u++){eT(n,u,(h=r[u]).type,s,!0)}for(var l=[],c=a;c<s;c++)for(var f=c-a,d=0;d<i;d++){var h=r[d],p=ZI.arrayRows.call(this,e[f]||l,h.property,f,d);n[d][c]=p;var g=o[d];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=s,{start:a,end:s}},e.prototype._initDataFromProvider=function(e,t,n){for(var r=this._provider,i=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,u=Rg(o,(function(e){return e.property})),l=0;l<a;l++){var c=o[l];s[l]||(s[l]=[1/0,-1/0]),eT(i,l,c.type,t,n)}if(r.fillStorage)r.fillStorage(e,t,i,s);else for(var f=[],d=e;d<t;d++){f=r.getItem(d,f);for(var h=0;h<a;h++){var p=i[h],g=this._dimValueGetter(f,u[h],d,h);p[d]=g;var v=s[h];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],r=[];if(null==t){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=e;i=0;for(var o=r.length;i<o;i++)n.push(this.get(r[i],t));return n},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,r=this.count();n<r;n++){var i=this.get(e,n);isNaN(i)||(t+=i)}return t},e.prototype.getMedian=function(e){var t=[];this.each([e],(function(e){isNaN(e)||t.push(e)}));var n=t.sort((function(e,t){return e-t})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(t[o]<e)r=o+1;else{if(!(t[o]>e))return o;i=o-1}}return-1},e.prototype.indicesOfNearest=function(e,t,n){var r=this._chunks[e],i=[];if(!r)return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,u=0,l=this.count();u<l;u++){var c=t-r[this.getRawIndex(u)],f=Math.abs(c);f<=n&&((f<o||f===o&&c>=0&&a<0)&&(o=f,a=c,s=0),c===a&&(i[s++]=u))}return i.length=s,i},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;i<r;i++)e[i]=t[i]}else e=new n(t.buffer,0,r)}else{e=new(n=QI(this._rawCount))(this.count());for(i=0;i<e.length;i++)e[i]=i}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(QI(n._rawCount))(r),o=[],a=e.length,s=0,u=e[0],l=n._chunks,c=0;c<r;c++){var f=void 0,d=n.getRawIndex(c);if(0===a)f=t(c);else if(1===a){f=t(l[u][d],c)}else{for(var h=0;h<a;h++)o[h]=l[e[h]][d];o[h]=c,f=t.apply(null,o)}f&&(i[s++]=d)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var r=Fg(e),i=r.length;if(!i)return this;var o=t.count(),a=new(QI(t._rawCount))(o),s=0,u=r[0],l=e[u][0],c=e[u][1],f=t._chunks,d=!1;if(!t._indices){var h=0;if(1===i){for(var p=f[r[0]],g=0;g<n;g++){((b=p[g])>=l&&b<=c||isNaN(b))&&(a[s++]=h),h++}d=!0}else if(2===i){p=f[r[0]];var v=f[r[1]],m=e[r[1]][0],y=e[r[1]][1];for(g=0;g<n;g++){var b=p[g],x=v[g];(b>=l&&b<=c||isNaN(b))&&(x>=m&&x<=y||isNaN(x))&&(a[s++]=h),h++}d=!0}}if(!d)if(1===i)for(g=0;g<o;g++){var w=t.getRawIndex(g);((b=f[r[0]][w])>=l&&b<=c||isNaN(b))&&(a[s++]=w)}else for(g=0;g<o;g++){for(var _=!0,S=(w=t.getRawIndex(g),0);S<i;S++){var E=r[S];((b=f[E][w])<e[E][0]||b>e[E][1])&&(_=!1)}_&&(a[s++]=t.getRawIndex(g))}return s<o&&(t._indices=a),t._count=s,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var r=e._chunks,i=[],o=t.length,a=e.count(),s=[],u=e._rawExtent,l=0;l<t.length;l++)u[t[l]]=[1/0,-1/0];for(var c=0;c<a;c++){for(var f=e.getRawIndex(c),d=0;d<o;d++)s[d]=r[t[d]][f];s[o]=c;var h=n&&n.apply(null,s);if(null!=h){"object"!==typeof h&&(i[0]=h,h=i);for(l=0;l<h.length;l++){var p=t[l],g=h[l],v=u[p],m=r[p];m&&(m[f]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},e.prototype.lttbDownSample=function(e,t){var n,r,i,o=this.clone([e],!0),a=o._chunks[e],s=this.count(),u=0,l=Math.floor(1/t),c=this.getRawIndex(0),f=new(QI(this._rawCount))(Math.min(2*(Math.ceil(s/l)+2),s));f[u++]=c;for(var d=1;d<s-1;d+=l){for(var h=Math.min(d+l,s-1),p=Math.min(d+2*l,s),g=(p+h)/2,v=0,m=h;m<p;m++){var y=a[C=this.getRawIndex(m)];isNaN(y)||(v+=y)}v/=p-h;var b=d,x=Math.min(d+l,s),w=d-1,_=a[c];n=-1,i=b;var S=-1,E=0;for(m=b;m<x;m++){var C;y=a[C=this.getRawIndex(m)];isNaN(y)?(E++,S<0&&(S=C)):(r=Math.abs((w-g)*(y-_)-(w-m)*(v-_)))>n&&(n=r,i=C)}E>0&&E<x-b&&(f[u++]=Math.min(S,i),i=Math.max(S,i)),f[u++]=i,c=i}return f[u++]=this.getRawIndex(s-1),o._count=u,o._indices=f,o.getRawIndex=this._getRawIdx,o},e.prototype.downSample=function(e,t,n,r){for(var i=this.clone([e],!0),o=i._chunks,a=[],s=Math.floor(1/t),u=o[e],l=this.count(),c=i._rawExtent[e]=[1/0,-1/0],f=new(QI(this._rawCount))(Math.ceil(l/s)),d=0,h=0;h<l;h+=s){s>l-h&&(s=l-h,a.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(h+p);a[p]=u[g]}var v=n(a),m=this.getRawIndex(Math.min(h+r(a,v)||0,l-1));u[m]=v,v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v),f[d++]=m}return i._count=d,i._indices=f,i._updateGetRawIdx(),i},e.prototype.each=function(e,t){if(this._count)for(var n=e.length,r=this._chunks,i=0,o=this.count();i<o;i++){var a=this.getRawIndex(i);switch(n){case 0:t(i);break;case 1:t(r[e[0]][a],i);break;case 2:t(r[e[0]][a],r[e[1]][a],i);break;default:for(var s=0,u=[];s<n;s++)u[s]=r[e[s]][a];u[s]=i,t.apply(null,u)}}},e.prototype.getDataExtent=function(e){var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;var r,i=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var o=(r=n)[0],a=r[1],s=0;s<i;s++){var u=t[this.getRawIndex(s)];u<o&&(o=u),u>a&&(a=u)}return r=[o,a],this._extent[e]=r,r},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][t]);return n},e.prototype.clone=function(t,n){var r=new e,i=this._chunks,o=t&&Bg(t,(function(e,t){return e[t]=!0,e}),{});if(o)for(var a=0;a<i.length;a++)r._chunks[a]=o[a]?JI(i[a]):i[a];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Mg(this._extent),e._rawExtent=Mg(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var r=0;r<n;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,r){return TI(e[r],this._dimensions[r])}ZI={arrayRows:e,objectRows:function(e,t,n,r){return TI(e[t],this._dimensions[r])},keyedColumns:e,original:function(e,t,n,r){var i=e&&(null==e.value?e:e.value);return TI(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(e,t,n,r){return e[r]}}}(),e}(),nT=tT,rT=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,r=this._getUpstreamSourceManagers(),i=!!r.length;if(oT(n)){var o=n,a=void 0,s=void 0,u=void 0;if(i){var l=r[0];l.prepareSource(),a=(u=l.getSource()).data,s=u.sourceFormat,t=[l._getVersionSign()]}else s=Kg(a=o.get("data",!0))?Yk:Uk,t=[];var c=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},d=ev(c.seriesLayoutBy,f.seriesLayoutBy)||null,h=ev(c.sourceHeader,f.sourceHeader),p=ev(c.dimensions,f.dimensions);e=d!==f.seriesLayoutBy||!!h!==!!f.sourceHeader||p?[rI(a,{seriesLayoutBy:d,sourceHeader:h,dimensions:p},s)]:[]}else{var g=n;if(i){var v=this._applyTransform(r);e=v.sourceList,t=v.upstreamSignList}else{e=[rI(g.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(null!=i){1!==e.length&&aT("")}var o,a=[],s=[];return Lg(e,(function(e){e.prepareSource();var t=e.getSource(i||0);null==i||t||aT(""),a.push(t),s.push(e._getVersionSign())})),r?t=function(e,t,n){var r=rw(e),i=r.length;i||II("");for(var o=0,a=i;o<a;o++)t=UI(r[o],t),o!==a-1&&(t.length=Math.max(t.length,1));return t}(r,a,n.componentIndex):null!=i&&(t=[(o=a[0],new tI({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:Mg(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:s}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var o=i[n];if(!o){var a=this._getUpstreamSourceManagers()[0];oT(this._sourceHost)&&a?o=a._innerGetDataStore(e,t,n):(o=new nT).initData(new lI(t,e.length),e),i[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(oT(e)){var t=rM(e);return t?[t.getSourceManager()]:[]}return Rg(function(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?ww(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},bw).models:[]}(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,r=this._sourceHost;if(oT(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function iT(e){e.option.transform&&sv(e.option.transform)}function oT(e){return"series"===e.mainType}function aT(e){throw new Error(e)}function sT(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",a=e.fontSize||14,s=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+yk(r+"")+"px;color:"+yk(n)+";font-weight:"+yk(i+""),valueStyle:"font-size:"+yk(a+"")+"px;color:"+yk(o)+";font-weight:"+yk(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var uT=[0,10,20,30],lT=["","\n","\n\n","\n\n\n"];function cT(e,t){return t.type=e,t}function fT(e){return"section"===e.type}function dT(e){return fT(e)?pT:gT}function hT(e){if(fT(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return Lg(e.blocks,(function(e){var n=hT(e);n>=t&&(t=n+ +(r&&(!n||fT(e)&&!e.noHeader)))})),t}return 0}function pT(e,t,n,r){var i,o=t.noHeader,a=(i=hT(t),{html:uT[i],richText:lT[i]}),s=[],u=t.blocks||[];iv(!u||Vg(u)),u=u||[];var l=e.orderMode;if(t.sortBlocks&&l){u=u.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(pv(c,l)){var f=new OI(c[l],null);u.sort((function(e,t){return f.evaluate(e.sortParam,t.sortParam)}))}else"seriesDesc"===l&&u.reverse()}Lg(u,(function(n,i){var o=t.valueFormatter,u=dT(n)(o?Ag(Ag({},e),{valueFormatter:o}):e,n,i>0?a.html:0,r);null!=u&&s.push(u)}));var d="richText"===e.renderMode?s.join(a.richText):mT(s.join(""),o?n:a.html);if(o)return d;var h=bk(t.header,"ordinal",e.useUTC),p=sT(r,e.renderMode).nameStyle;return"richText"===e.renderMode?yT(e,h,p)+a.richText+d:mT('<div style="'+p+";"+'line-height:1;">'+yk(h)+"</div>"+d,n)}function gT(e,t,n,r){var i=e.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,u=t.name,l=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(e){return Rg(e=Vg(e)?e:[e],(function(e,t){return bk(e,Vg(h)?h[t]:h,l)}))};if(!o||!a){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),d=o?"":bk(u,"ordinal",l),h=t.valueType,p=a?[]:c(t.value),g=!s||!o,v=!s&&o,m=sT(r,i),y=m.nameStyle,b=m.valueStyle;return"richText"===i?(s?"":f)+(o?"":yT(e,d,y))+(a?"":function(e,t,n,r,i){var o=[i],a=r?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Vg(t)?t.join("  "):t,o)}(e,p,g,v,b)):mT((s?"":f)+(o?"":function(e,t,n){return'<span style="'+n+";"+(t?"margin-left:2px":"")+'">'+yk(e)+"</span>"}(d,!s,y))+(a?"":function(e,t,n,r){var i=n?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=Vg(e)?e:[e],'<span style="'+o+";"+r+'">'+Rg(e,(function(e){return yk(e)})).join("&nbsp;&nbsp;")+"</span>"}(p,g,v,b)),n)}}function vT(e,t,n,r,i,o){if(e)return dT(e)({useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,o)}function mT(e,t){return'<div style="'+("margin: "+t+"px 0 0")+";"+'line-height:1;">'+e+'<div style="clear:both"></div></div>'}function yT(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function bT(e,t){return Sk(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function xT(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}var wT=function(){function e(){this.richTextStyles={},this._nextStyleNameId=$x()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var r="richText"===n?this._generateStyleName():null,i=function(e,t){var n=Wg(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var o=n.renderMode||"html";return r?"html"===o?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yk(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yk(r)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}({color:t,type:e,renderMode:n,markerId:r});return Wg(i)?i:(this.richTextStyles[r]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};Vg(t)?Lg(t,(function(e){return Ag(n,e)})):Ag(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+e+"}"},e}();function _T(e){var t,n,r,i,o=e.series,a=e.dataIndex,s=e.multipleSeries,u=o.getData(),l=u.mapDimensionsAll("defaultedTooltip"),c=l.length,f=o.getRawValue(a),d=Vg(f),h=bT(o,a);if(c>1||d&&!c){var p=function(e,t,n,r,i){var o=t.getData(),a=Bg(e,(function(e,t,n){var r=o.getDimensionInfo(n);return e||r&&!1!==r.tooltip&&null!=r.displayName}),!1),s=[],u=[],l=[];function c(e,t){var n=o.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(a?l.push(cT("nameValue",{markerType:"subItem",markerColor:i,name:n.displayName,value:e,valueType:n.type})):(s.push(e),u.push(n.type)))}return r.length?Lg(r,(function(e){c(xI(o,n,e),e)})):Lg(e,c),{inlineValues:s,inlineValueTypes:u,blocks:l}}(f,o,a,l,h);t=p.inlineValues,n=p.inlineValueTypes,r=p.blocks,i=p.inlineValues[0]}else if(c){var g=u.getDimensionInfo(l[0]);i=t=xI(u,a,l[0]),n=g.type}else i=t=d?f[0]:f;var v=dw(o),m=v&&o.name||"",y=u.getName(a),b=s?m:y;return cT("section",{header:m,noHeader:s||!v,sortParam:i,blocks:[cT("nameValue",{markerType:"item",markerColor:h,name:b,noName:!ov(b),value:t,valueType:n})].concat(r||[])})}var ST=gw();function ET(e,t){return e.getName(t)||e.getId(t)}var CT=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return og(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=EI({count:MT,reset:IT}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(ST(this).sourceManager=new rT(this)).prepareSource();var r=this.getInitialData(e,n);AT(r,this),this.dataTask.context.data=r,ST(this).dataBeforeProcessed=r,kT(this),this._initSelectedMapFromData(r)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Dk(this),r=n?Ok(e):{},i=this.subType;zk.hasClass(i)&&(i+="Series"),Ig(e,t.getTheme().get(this.subType)),Ig(e,this.getDefaultOption()),iw(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Pk(e,r,n)},t.prototype.mergeOption=function(e,t){e=Ig(this.option,e,!0),this.fillDataTextStyle(e.data);var n=Dk(this);n&&Pk(this.option,e,n);var r=ST(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(e,t);AT(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,ST(this).dataBeforeProcessed=i,kT(this),this._initSelectedMapFromData(i)},t.prototype.fillDataTextStyle=function(e){if(e&&!Kg(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&iw(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var t=DT(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return ST(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=DT(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}ST(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return cv(e)},t.prototype.getSourceManager=function(){return ST(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return ST(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t,n){return _T({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(ug.node&&(!e||!e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel,i=dM.prototype.getColorFromPalette.call(this,e,t,n);return i||(i=r.getColorFromPalette(e,t,n)),i},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(t);if("series"===r||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<e.length;o++){var a=ET(i,e[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],r=0;r<e.length;r++)n[0]=e[r],this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=Fg(e),n=[],r=0;r<t.length;r++){var i=e[t[r]];i>=0&&n.push(i)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(t);return("all"===n||n[ET(r,e)])&&!r.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var n,r,i=this.option,o=i.selectedMode,a=t.length;if(o&&a)if("series"===o)i.selectedMap="all";else if("multiple"===o){Yg(i.selectedMap)||(i.selectedMap={});for(var s=i.selectedMap,u=0;u<a;u++){var l=t[u];s[f=ET(e,l)]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(l)}}else if("single"===o||!0===o){var c=t[a-1],f=ET(e,c);i.selectedMap=((n={})[f]=!0,n),this._selectedDataIndicesMap=((r={})[f]=e.getRawIndex(c),r)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var r=e.getRawDataItem(n);r&&r.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return zk.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(zk);function kT(e){var t=e.name;dw(e)||(e.name=function(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return Lg(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)})),r.join(" ")}(e)||t)}function MT(e){return e.model.getRawData().count()}function IT(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),TT}function TT(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function AT(e,t){Lg(fv(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,Gg(NT,t))}))}function NT(e,t){var n=DT(e);return n&&n.setOutputEnd((t||this).count()),t}function DT(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}Pg(CT,_I),Pg(CT,dM),Tw(CT,zk);var PT=CT,OT=function(){function e(){this.group=new Mx,this.uid=MC("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){},e.prototype.updateLayout=function(e,t,n,r){},e.prototype.updateVisual=function(e,t,n,r){},e.prototype.blurSeries=function(e,t){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();Iw(OT),Pw(OT);var LT=OT;function RT(){var e=gw();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===a&&o===s)&&"reset"}}var BT=V_.CMD,zT=[[],[],[]],FT=Math.sqrt,jT=Math.atan2;function GT(e,t){if(t){var n,r,i,o,a,s,u=e.data,l=e.len(),c=BT.M,f=BT.C,d=BT.L,h=BT.R,p=BT.A,g=BT.Q;for(i=0,o=0;i<l;){switch(n=u[i++],o=i,r=0,n){case c:case d:r=1;break;case f:r=3;break;case g:r=2;break;case p:var v=t[4],m=t[5],y=FT(t[0]*t[0]+t[1]*t[1]),b=FT(t[2]*t[2]+t[3]*t[3]),x=jT(-t[1]/b,t[0]/y);u[i]*=y,u[i++]+=v,u[i]*=b,u[i++]+=m,u[i++]*=y,u[i++]*=b,u[i++]+=x,u[i++]+=x,o=i+=2;break;case h:s[0]=u[i++],s[1]=u[i++],Ov(s,s,t),u[o++]=s[0],u[o++]=s[1],s[0]+=u[i++],s[1]+=u[i++],Ov(s,s,t),u[o++]=s[0],u[o++]=s[1]}for(a=0;a<r;a++){var w=zT[a];w[0]=u[i++],w[1]=u[i++],Ov(w,w,t),u[o++]=w[0],u[o++]=w[1]}}e.increaseVersion()}}var VT=Math.sqrt,UT=Math.sin,WT=Math.cos,ZT=Math.PI;function HT(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function YT(e,t){return(e[0]*t[0]+e[1]*t[1])/(HT(e)*HT(t))}function XT(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(YT(e,t))}function KT(e,t,n,r,i,o,a,s,u,l,c){var f=u*(ZT/180),d=WT(f)*(e-n)/2+UT(f)*(t-r)/2,h=-1*UT(f)*(e-n)/2+WT(f)*(t-r)/2,p=d*d/(a*a)+h*h/(s*s);p>1&&(a*=VT(p),s*=VT(p));var g=(i===o?-1:1)*VT((a*a*(s*s)-a*a*(h*h)-s*s*(d*d))/(a*a*(h*h)+s*s*(d*d)))||0,v=g*a*h/s,m=g*-s*d/a,y=(e+n)/2+WT(f)*v-UT(f)*m,b=(t+r)/2+UT(f)*v+WT(f)*m,x=XT([1,0],[(d-v)/a,(h-m)/s]),w=[(d-v)/a,(h-m)/s],_=[(-1*d-v)/a,(-1*h-m)/s],S=XT(w,_);if(YT(w,_)<=-1&&(S=ZT),YT(w,_)>=1&&(S=0),S<0){var E=Math.round(S/ZT*1e6)/1e6;S=2*ZT+E%2*ZT}c.addData(l,y,b,a,s,x,S,f,o)}var qT=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,$T=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var QT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yv(t,e),t.prototype.applyTransform=function(e){},t}(cS);function JT(e){return null!=e.setData}function eA(e,t){var n=function(e){var t=new V_;if(!e)return t;var n,r=0,i=0,o=r,a=i,s=V_.CMD,u=e.match(qT);if(!u)return t;for(var l=0;l<u.length;l++){for(var c=u[l],f=c.charAt(0),d=void 0,h=c.match($T)||[],p=h.length,g=0;g<p;g++)h[g]=parseFloat(h[g]);for(var v=0;v<p;){var m=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,S=void 0,E=r,C=i,k=void 0,M=void 0;switch(f){case"l":r+=h[v++],i+=h[v++],d=s.L,t.addData(d,r,i);break;case"L":r=h[v++],i=h[v++],d=s.L,t.addData(d,r,i);break;case"m":r+=h[v++],i+=h[v++],d=s.M,t.addData(d,r,i),o=r,a=i,f="l";break;case"M":r=h[v++],i=h[v++],d=s.M,t.addData(d,r,i),o=r,a=i,f="L";break;case"h":r+=h[v++],d=s.L,t.addData(d,r,i);break;case"H":r=h[v++],d=s.L,t.addData(d,r,i);break;case"v":i+=h[v++],d=s.L,t.addData(d,r,i);break;case"V":i=h[v++],d=s.L,t.addData(d,r,i);break;case"C":d=s.C,t.addData(d,h[v++],h[v++],h[v++],h[v++],h[v++],h[v++]),r=h[v-2],i=h[v-1];break;case"c":d=s.C,t.addData(d,h[v++]+r,h[v++]+i,h[v++]+r,h[v++]+i,h[v++]+r,h[v++]+i),r+=h[v-2],i+=h[v-1];break;case"S":m=r,y=i,k=t.len(),M=t.data,n===s.C&&(m+=r-M[k-4],y+=i-M[k-3]),d=s.C,E=h[v++],C=h[v++],r=h[v++],i=h[v++],t.addData(d,m,y,E,C,r,i);break;case"s":m=r,y=i,k=t.len(),M=t.data,n===s.C&&(m+=r-M[k-4],y+=i-M[k-3]),d=s.C,E=r+h[v++],C=i+h[v++],r+=h[v++],i+=h[v++],t.addData(d,m,y,E,C,r,i);break;case"Q":E=h[v++],C=h[v++],r=h[v++],i=h[v++],d=s.Q,t.addData(d,E,C,r,i);break;case"q":E=h[v++]+r,C=h[v++]+i,r+=h[v++],i+=h[v++],d=s.Q,t.addData(d,E,C,r,i);break;case"T":m=r,y=i,k=t.len(),M=t.data,n===s.Q&&(m+=r-M[k-4],y+=i-M[k-3]),r=h[v++],i=h[v++],d=s.Q,t.addData(d,m,y,r,i);break;case"t":m=r,y=i,k=t.len(),M=t.data,n===s.Q&&(m+=r-M[k-4],y+=i-M[k-3]),r+=h[v++],i+=h[v++],d=s.Q,t.addData(d,m,y,r,i);break;case"A":b=h[v++],x=h[v++],w=h[v++],_=h[v++],S=h[v++],KT(E=r,C=i,r=h[v++],i=h[v++],_,S,b,x,w,d=s.A,t);break;case"a":b=h[v++],x=h[v++],w=h[v++],_=h[v++],S=h[v++],KT(E=r,C=i,r+=h[v++],i+=h[v++],_,S,b,x,w,d=s.A,t)}}"z"!==f&&"Z"!==f||(d=s.Z,t.addData(d),r=o,i=a),n=d}return t.toStatic(),t}(e),r=Ag({},t);return r.buildPath=function(e){if(JT(e)){e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t,1)}else{var t=e;n.rebuildPath(t,1)}},r.applyTransform=function(e){GT(n,e),this.dirtyShape()},r}function tA(e,t){return new QT(eA(e,t))}function nA(e,t){t=t||{};var n=new cS;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?GT(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var rA=function(){this.cx=0,this.cy=0,this.r=0},iA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new rA},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(cS);iA.prototype.type="circle";var oA=iA,aA=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},sA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new aA},t.prototype.buildPath=function(e,t){var n=.5522848,r=t.cx,i=t.cy,o=t.rx,a=t.ry,s=o*n,u=a*n;e.moveTo(r-o,i),e.bezierCurveTo(r-o,i-u,r-s,i-a,r,i-a),e.bezierCurveTo(r+s,i-a,r+o,i-u,r+o,i),e.bezierCurveTo(r+o,i+u,r+s,i+a,r,i+a),e.bezierCurveTo(r-s,i+a,r-o,i+u,r-o,i),e.closePath()},t}(cS);sA.prototype.type="ellipse";var uA=sA,lA=Math.PI,cA=2*lA,fA=Math.sin,dA=Math.cos,hA=Math.acos,pA=Math.atan2,gA=Math.abs,vA=Math.sqrt,mA=Math.max,yA=Math.min,bA=1e-4;function xA(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/vA(s*s+u*u),c=l*u,f=-l*s,d=e+c,h=t+f,p=n+c,g=r+f,v=(d+p)/2,m=(h+g)/2,y=p-d,b=g-h,x=y*y+b*b,w=i-o,_=d*g-p*h,S=(b<0?-1:1)*vA(mA(0,w*w*x-_*_)),E=(_*b-y*S)/x,C=(-_*y-b*S)/x,k=(_*b+y*S)/x,M=(-_*y+b*S)/x,I=E-v,T=C-m,A=k-v,N=M-m;return I*I+T*T>A*A+N*N&&(E=k,C=M),{cx:E,cy:C,x0:-c,y0:-f,x1:E*(i/w-1),y1:C*(i/w-1)}}function wA(e,t){var n,r=mA(t.r,0),i=mA(t.r0||0,0),o=r>0;if(o||i>0){if(o||(r=i,i=0),i>r){var a=r;r=i,i=a}var s=t.startAngle,u=t.endAngle;if(!isNaN(s)&&!isNaN(u)){var l=t.cx,c=t.cy,f=!!t.clockwise,d=gA(u-s),h=d>cA&&d%cA;if(h>bA&&(d=h),r>bA)if(d>cA-bA)e.moveTo(l+r*dA(s),c+r*fA(s)),e.arc(l,c,r,s,u,!f),i>bA&&(e.moveTo(l+i*dA(u),c+i*fA(u)),e.arc(l,c,i,u,s,f));else{var p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,S=void 0,E=void 0,C=void 0,k=void 0,M=void 0,I=void 0,T=void 0,A=r*dA(s),N=r*fA(s),D=i*dA(u),P=i*fA(u),O=d>bA;if(O){var L=t.cornerRadius;L&&(n=function(e){var t;if(Vg(e)){var n=e.length;if(!n)return e;t=1===n?[e[0],e[0],0,0]:2===n?[e[0],e[0],e[1],e[1]]:3===n?e.concat(e[2]):e}else t=[e,e,e,e];return t}(L),p=n[0],g=n[1],v=n[2],m=n[3]);var R=gA(r-i)/2;if(y=yA(R,v),b=yA(R,m),x=yA(R,p),w=yA(R,g),E=_=mA(y,b),C=S=mA(x,w),(_>bA||S>bA)&&(k=r*dA(u),M=r*fA(u),I=i*dA(s),T=i*fA(s),d<lA)){var B=function(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,d=f*u-c*l;if(!(d*d<bA))return[e+(d=(c*(t-o)-f*(e-i))/d)*u,t+d*l]}(A,N,I,T,k,M,D,P);if(B){var z=A-B[0],F=N-B[1],j=k-B[0],G=M-B[1],V=1/fA(hA((z*j+F*G)/(vA(z*z+F*F)*vA(j*j+G*G)))/2),U=vA(B[0]*B[0]+B[1]*B[1]);E=yA(_,(r-U)/(V+1)),C=yA(S,(i-U)/(V-1))}}}if(O)if(E>bA){var W=yA(v,E),Z=yA(m,E),H=xA(I,T,A,N,r,W,f),Y=xA(k,M,D,P,r,Z,f);e.moveTo(l+H.cx+H.x0,c+H.cy+H.y0),E<_&&W===Z?e.arc(l+H.cx,c+H.cy,E,pA(H.y0,H.x0),pA(Y.y0,Y.x0),!f):(W>0&&e.arc(l+H.cx,c+H.cy,W,pA(H.y0,H.x0),pA(H.y1,H.x1),!f),e.arc(l,c,r,pA(H.cy+H.y1,H.cx+H.x1),pA(Y.cy+Y.y1,Y.cx+Y.x1),!f),Z>0&&e.arc(l+Y.cx,c+Y.cy,Z,pA(Y.y1,Y.x1),pA(Y.y0,Y.x0),!f))}else e.moveTo(l+A,c+N),e.arc(l,c,r,s,u,!f);else e.moveTo(l+A,c+N);if(i>bA&&O)if(C>bA){W=yA(p,C),H=xA(D,P,k,M,i,-(Z=yA(g,C)),f),Y=xA(A,N,I,T,i,-W,f);e.lineTo(l+H.cx+H.x0,c+H.cy+H.y0),C<S&&W===Z?e.arc(l+H.cx,c+H.cy,C,pA(H.y0,H.x0),pA(Y.y0,Y.x0),!f):(Z>0&&e.arc(l+H.cx,c+H.cy,Z,pA(H.y0,H.x0),pA(H.y1,H.x1),!f),e.arc(l,c,i,pA(H.cy+H.y1,H.cx+H.x1),pA(Y.cy+Y.y1,Y.cx+Y.x1),f),W>0&&e.arc(l+Y.cx,c+Y.cy,W,pA(Y.y1,Y.x1),pA(Y.y0,Y.x0),!f))}else e.lineTo(l+D,c+P),e.arc(l,c,i,u,s,f);else e.lineTo(l+D,c+P)}else e.moveTo(l,c);e.closePath()}}}var _A=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},SA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new _A},t.prototype.buildPath=function(e,t){wA(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(cS);SA.prototype.type="sector";var EA=SA,CA=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},kA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new CA},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)},t}(cS);kA.prototype.type="ring";var MA=kA;function IA(e,t,n){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var o=function(e,t,n,r){var i,o,a,s,u=[],l=[],c=[],f=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)Lv(a,a,e[d]),Rv(s,s,e[d]);Lv(a,a,r[0]),Rv(s,s,r[1])}for(d=0,h=e.length;d<h;d++){var p=e[d];if(n)i=e[d?d-1:h-1],o=e[(d+1)%h];else{if(0===d||d===h-1){u.push(wv(e[d]));continue}i=e[d-1],o=e[d+1]}Cv(l,o,i),Iv(l,l,t);var g=Av(p,i),v=Av(p,o),m=g+v;0!==m&&(g/=m,v/=m),Iv(c,l,-g),Iv(f,l,v);var y=Sv([],p,c),b=Sv([],p,f);r&&(Rv(y,y,a),Lv(y,y,s),Rv(b,b,a),Lv(b,b,s)),u.push(y),u.push(b)}return n&&u.push(u.shift()),u}(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],l=o[2*s+1],c=i[(s+1)%a];e.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{e.moveTo(i[0][0],i[0][1]);s=1;for(var f=i.length;s<f;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}var TA=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},AA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultShape=function(){return new TA},t.prototype.buildPath=function(e,t){IA(e,t,!0)},t}(cS);AA.prototype.type="polygon";var NA=AA,DA=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},PA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new DA},t.prototype.buildPath=function(e,t){IA(e,t,!1)},t}(cS);PA.prototype.type="polyline";var OA=PA,LA={},RA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},BA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new RA},t.prototype.buildPath=function(e,t){var n,r,i,o;if(this.subPixelOptimize){var a=bS(LA,t,this.style);n=a.x1,r=a.y1,i=a.x2,o=a.y2}else n=t.x1,r=t.y1,i=t.x2,o=t.y2;var s=t.percent;0!==s&&(e.moveTo(n,r),s<1&&(i=n*(1-s)+i*s,o=r*(1-s)+o*s),e.lineTo(i,o))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(cS);BA.prototype.type="line";var zA=BA,FA=[],jA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function GA(e,t,n){var r=e.cpx2,i=e.cpy2;return null!=r||null!=i?[(n?Um:Vm)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?Um:Vm)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?qm:Km)(e.x1,e.cpx1,e.x2,t),(n?qm:Km)(e.y1,e.cpy1,e.y2,t)]}var VA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new jA},t.prototype.buildPath=function(e,t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,u=t.cpx2,l=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,r),null==u||null==l?(c<1&&(Qm(n,a,i,c,FA),a=FA[1],i=FA[2],Qm(r,s,o,c,FA),s=FA[1],o=FA[2]),e.quadraticCurveTo(a,s,i,o)):(c<1&&(Hm(n,a,u,i,c,FA),a=FA[1],u=FA[2],i=FA[3],Hm(r,s,l,o,c,FA),s=FA[1],l=FA[2],o=FA[3]),e.bezierCurveTo(a,s,u,l,i,o)))},t.prototype.pointAt=function(e){return GA(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=GA(this.shape,e,!0);return Tv(t,t)},t}(cS);VA.prototype.type="bezier-curve";var UA=VA,WA=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},ZA=function(e){function t(t){return e.call(this,t)||this}return yv(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new WA},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,u=Math.cos(o),l=Math.sin(o);e.moveTo(u*i+n,l*i+r),e.arc(n,r,i,o,a,!s)},t}(cS);ZA.prototype.type="arc";var HA=ZA,YA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return yv(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),cS.prototype.getBoundingRect.call(this)},t}(cS),XA=YA,KA=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),qA=KA,$A=function(e){function t(t,n,r,i,o,a){var s=e.call(this,o)||this;return s.x=null==t?0:t,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=a||!1,s}return yv(t,e),t}(qA),QA=function(e){function t(t,n,r,i,o){var a=e.call(this,i)||this;return a.x=null==t?.5:t,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=o||!1,a}return yv(t,e),t}(qA),JA=QA,eN=[0,0],tN=[0,0],nN=new Xb,rN=new Xb,iN=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Xb;for(n=0;n<2;n++)this._axes[n]=new Xb;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,r=this._axes,i=e.x,o=e.y,a=i+e.width,s=o+e.height;if(n[0].set(i,o),n[1].set(a,o),n[2].set(a,s),n[3].set(i,s),t)for(var u=0;u<4;u++)n[u].transform(t);Xb.sub(r[0],n[1],n[0]),Xb.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,r=!t;return nN.set(1/0,1/0),rN.set(0,0),!this._intersectCheckOneSide(this,e,nN,rN,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(e,this,nN,rN,r,-1)&&(n=!1,r)||r||Xb.copy(t,n?nN:rN),n},e.prototype._intersectCheckOneSide=function(e,t,n,r,i,o){for(var a=!0,s=0;s<2;s++){var u=this._axes[s];if(this._getProjMinMaxOnAxis(s,e._corners,eN),this._getProjMinMaxOnAxis(s,t._corners,tN),eN[1]<tN[0]||eN[0]>tN[1]){if(a=!1,i)return a;var l=Math.abs(tN[0]-eN[1]),c=Math.abs(eN[0]-tN[1]);Math.min(l,c)>r.len()&&(l<c?Xb.scale(r,u,-l*o):Xb.scale(r,u,c*o))}else if(n){l=Math.abs(tN[0]-eN[1]),c=Math.abs(eN[0]-tN[1]);Math.min(l,c)<n.len()&&(l<c?Xb.scale(n,u,l*o):Xb.scale(n,u,-c*o))}}return a},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var r=this._axes[e],i=this._origin,o=t[0].dot(r)+i[e],a=o,s=o,u=1;u<t.length;u++){var l=t[u].dot(r)+i[e];a=Math.min(l,a),s=Math.max(l,s)}n[0]=a,n[1]=s},e}(),oN=iN,aN=[],sN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return yv(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ix(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(aN)),e.union(r)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(e,t))return!0}return!1},t}(u_),uN=sN,lN=Math.max,cN=Math.min,fN={};function dN(e){return cS.extend(e)}var hN=function(e,t){var n=eA(e,t);return function(e){function t(t){var r=e.call(this,t)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return yv(t,e),t}(QT)};function pN(e,t){return hN(e,t)}function gN(e,t){fN[e]=t}function vN(e){if(fN.hasOwnProperty(e))return fN[e]}function mN(e,t,n,r){var i=tA(e,t);return n&&("center"===r&&(n=bN(n,i.getBoundingRect())),wN(i,n)),i}function yN(e,t,n){var r=new mS({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var i={width:e.width,height:e.height};r.setStyle(bN(t,i))}}});return r}function bN(e,t){var n,r=t.width/t.height,i=e.height*r;return n=i<=e.width?e.height:(i=e.width)/r,{x:e.x+e.width/2-i/2,y:e.y+e.height/2-n/2,width:i,height:n}}var xN=function(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var o=e[i];n.push(o.getUpdatedPathProxy(!0))}var a=new cS(t);return a.createPathProxy(),a.buildPath=function(e){if(JT(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},a};function wN(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function _N(e){return bS(e.shape,e.shape,e.style),e}function SN(e){return xS(e.shape,e.shape,e.style),e}var EN=wS;function CN(e,t){for(var n=Tb([]);e&&e!==t;)Nb(n,e.getLocalTransform(),n),e=e.parent;return n}function kN(e,t,n){return t&&!Og(t)&&(t=Hb.getLocalTransform(t)),n&&(t=Lb([],t)),Ov([],e,t)}function MN(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return o=kN(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function IN(e){return!e.isGroup}function TN(e,t,n){if(e&&t){var r=function(e){var t={};return e.traverse((function(e){IN(e)&&e.anid&&(t[e.anid]=e)})),t}(e);t.traverse((function(e){if(IN(e)&&e.anid){var t=r[e.anid];if(t){var o=i(e);e.attr(i(t)),ZE(e,o,n,VS(e).dataIndex)}}}))}function i(e){var t={x:e.x,y:e.y,rotation:e.rotation};return function(e){return null!=e.shape}(e)&&(t.shape=Ag({},e.shape)),t}}function AN(e,t){return Rg(e,(function(e){var n=e[0];n=lN(n,t.x),n=cN(n,t.x+t.width);var r=e[1];return r=lN(r,t.y),[n,r=cN(r,t.y+t.height)]}))}function NN(e,t){var n=lN(e.x,t.x),r=cN(e.x+e.width,t.x+t.width),i=lN(e.y,t.y),o=cN(e.y+e.height,t.y+t.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function DN(e,t,n){var r=Ag({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),Ng(i,n),new mS(r)):mN(e.replace("path://",""),r,n,"center")}function PN(e,t,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(ON(e,t,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function ON(e,t,n,r,i,o,a,s){var u,l=n-e,c=r-t,f=a-i,d=s-o,h=LN(f,d,l,c);if((u=h)<=1e-6&&u>=-1e-6)return!1;var p=e-i,g=t-o,v=LN(p,g,l,c)/h;if(v<0||v>1)return!1;var m=LN(p,g,f,d)/h;return!(m<0||m>1)}function LN(e,t,n,r){return e*r-n*t}function RN(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=Wg(t)?{formatter:t}:t,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var u=e.formatterParamsExtra;u&&Lg(Fg(u),(function(e){pv(s,e)||(s[e]=u[e],s.$vars.push(e))}));var l=VS(e.el);l.componentMainType=o,l.componentIndex=a,l.tooltipConfig={name:r,option:Ng({content:r,formatterParams:s},i)}}function BN(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function zN(e,t){if(e)if(Vg(e))for(var n=0;n<e.length;n++)BN(e[n],t);else BN(e,t)}gN("circle",oA),gN("ellipse",uA),gN("sector",EA),gN("ring",MA),gN("polygon",NA),gN("polyline",OA),gN("rect",CS),gN("line",zA),gN("bezierCurve",UA),gN("arc",HA);var FN=gw(),jN=RT(),GN=function(){function e(){this.group=new Mx,this.uid=MC("viewChart"),this.renderTask=EI({plan:WN,reset:ZN}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){0},e.prototype.highlight=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&UN(i,r,"emphasis")},e.prototype.downplay=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&UN(i,r,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.eachRendered=function(e){zN(this.group,e)},e.markUpdateMethod=function(e,t){FN(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function VN(e,t,n){e&&FE(e)&&("emphasis"===t?bE:xE)(e,n)}function UN(e,t,n){var r=pw(e,t),i=t&&null!=t.highlightKey?function(e){var t=ZS[e];return null==t&&WS<=32&&(t=ZS[e]=WS++),t}(t.highlightKey):null;null!=r?Lg(rw(r),(function(t){VN(e.getItemGraphicEl(t),n,i)})):e.eachItemGraphicEl((function(e){VN(e,n,i)}))}function WN(e){return jN(e.model)}function ZN(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,a=e.view,s=i&&FN(i).updateMethod,u=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==u&&a[u](t,n,r,i),HN[u]}Iw(GN),Pw(GN);var HN={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},YN=GN,XN="\0__throttleOriginMethod",KN="\0__throttleRate",qN="\0__throttleType";function $N(e,t,n){var r,i,o,a,s,u=0,l=0,c=null;function f(){l=(new Date).getTime(),c=null,e.apply(o,a||[])}t=t||0;var d=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];r=(new Date).getTime(),o=this,a=e;var h=s||t,p=s||n;s=null,i=r-(p?u:l)-h,clearTimeout(c),p?c=setTimeout(f,h):i>=0?f():c=setTimeout(f,-i),u=r};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(e){s=e},d}function QN(e,t,n,r){var i=e[t];if(i){var o=i[XN]||i,a=i[qN];if(i[KN]!==n||a!==r){if(null==n||!r)return e[t]=o;(i=e[t]=$N(o,n,"debounce"===r))[XN]=o,i[qN]=r,i[KN]=n}return i}}function JN(e,t){var n=e[t];n&&n[XN]&&(n.clear&&n.clear(),e[t]=n[XN])}var eD=gw(),tD={itemStyle:Ow(wC,!0),lineStyle:Ow(yC,!0)},nD={lineStyle:"stroke",itemStyle:"fill"};function rD(e,t){var n=e.visualStyleMapper||tD[t];return n||(console.warn("Unkown style type '"+t+"'."),tD.itemStyle)}function iD(e,t){var n=e.visualDrawType||nD[t];return n||(console.warn("Unkown style type '"+t+"'."),"fill")}var oD={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),o=rD(e,r)(i),a=i.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=iD(e,r),u=o[s],l=Ug(u)?u:null,c="auto"===o.fill||"auto"===o.stroke;if(!o[s]||l||c){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[s]||(o[s]=f,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Ug(o.fill)?f:o.fill,o.stroke="auto"===o.stroke||Ug(o.stroke)?f:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",s),!t.isSeriesFiltered(e)&&l)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var r=e.getDataParams(n),i=Ag({},o);i[s]=l(r),t.setItemVisual(n,"style",i)}}}},aD=new CC,sD={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=rD(e,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[r]){aD.option=n[r];var a=i(aD);Ag(e.ensureUniqueItemVisual(t,"style"),a),aD.option.decal&&(e.setItemVisual(t,"decal",aD.option.decal),aD.option.decal.dirty=!0),o in a&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},uD={performRawSeries:!0,overallReset:function(e){var t=cv();e.eachSeries((function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+n,i=t.get(r);i||(i={},t.set(r,i)),eD(e).scope=i}})),e.eachSeries((function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),r={},i=t.getData(),o=eD(t).scope,a=t.visualStyleAccessPath||"itemStyle",s=iD(t,a);i.each((function(e){var t=i.getRawIndex(e);r[t]=e})),n.each((function(e){var a=r[e];if(i.getItemVisual(a,"colorFromPalette")){var u=i.ensureUniqueItemVisual(a,"style"),l=n.getName(e)||e+"",c=n.count();u[s]=t.getColorFromPalette(l,o,c)}}))}}))}},lD=Math.PI;var cD=function(){function e(e,t,n,r){this._stageTaskMap=cv(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData().count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&r>=n.threshold,o=e.get("large")&&r>=e.get("largeThreshold"),a="mod"===e.get("progressiveChunkMode")?r:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=cv();e.eachSeries((function(e){var r=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;Lg(this._allHandlers,(function(r){var i=e.get(r.uid)||e.set(r.uid,{});iv(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,i,t,n),r.overallReset&&this._createOverallStageTask(r,i,t,n)}),this)},e.prototype.prepareView=function(e,t,n,r){var i=e.renderTask,o=i.context;o.model=t,o.ecModel=n,o.api=r,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,r){r=r||{};var i=!1,o=this;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}Lg(e,(function(e,s){if(!r.visualType||r.visualType===e.visualType){var u=o._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var f,d=c.agentStubMap;d.each((function(e){a(r,e)&&(e.dirty(),f=!0)})),f&&c.dirty(),o.updatePayload(c,n);var h=o.getPerformArgs(c,r.block);d.each((function(e){e.perform(h)})),c.perform(h)&&(i=!0)}else l&&l.each((function(s,u){a(r,s)&&s.dirty();var l=o.getPerformArgs(s,r.block);l.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(l)&&(i=!0)}))}})),this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,r){var i=this,o=t.seriesTaskMap,a=t.seriesTaskMap=cv(),s=e.seriesType,u=e.getTargetSeries;function l(t){var s=t.uid,u=a.set(s,o&&o.get(s)||EI({plan:gD,reset:vD,count:bD}));u.context={model:t,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(t,u)}e.createOnAllSeries?n.eachRawSeries(l):s?n.eachRawSeriesByType(s,l):u&&u(n,r).each(l)},e.prototype._createOverallStageTask=function(e,t,n,r){var i=this,o=t.overallTask=t.overallTask||EI({reset:fD});o.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:i};var a=o.agentStubMap,s=o.agentStubMap=cv(),u=e.seriesType,l=e.getTargetSeries,c=!0,f=!1;function d(e){var t=e.uid,n=s.set(t,a&&a.get(t)||(f=!0,EI({reset:dD,onDirty:pD})));n.context={model:e,overallProgress:c},n.agent=o,n.__block=c,i._pipe(e,n)}iv(!e.createOnAllSeries,""),u?n.eachRawSeriesByType(u,d):l?l(n,r).each(d):(c=!1,Lg(n.getSeries(),d)),f&&o.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return Ug(e)&&(e={overallReset:e,seriesType:xD(e)}),e.uid=MC("stageHandler"),t&&(e.visualType=t),e},e}();function fD(e){e.overallReset(e.ecModel,e.api,e.payload)}function dD(e){return e.overallProgress&&hD}function hD(){this.agent.dirty(),this.getDownstream().dirty()}function pD(){this.agent&&this.agent.dirty()}function gD(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function vD(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=rw(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Rg(t,(function(e,t){return yD(t)})):mD}var mD=yD(0);function yD(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(t,r)}}function bD(e){return e.data.count()}function xD(e){wD=null;try{e(_D,SD)}catch(li){}return wD}var wD,_D={},SD={};function ED(e,t){for(var n in t.prototype)e[n]=gv}ED(_D,bM),ED(SD,wM),_D.eachSeriesByType=_D.eachRawSeriesByType=function(e){wD=e},_D.eachComponent=function(e){"series"===e.mainType&&e.subType&&(wD=e.subType)};var CD=cD,kD=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],MD={color:kD,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kD]},ID="#B9B8CE",TD="#100C2A",AD=function(){return{axisLine:{lineStyle:{color:ID}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ND=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],DD={darkMode:!0,color:ND,backgroundColor:TD,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ID}},textStyle:{color:ID},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ID}},dataZoom:{borderColor:"#71708A",textStyle:{color:ID},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ID}},timeline:{lineStyle:{color:ID},label:{color:ID},controlStyle:{color:ID,borderColor:ID}},calendar:{itemStyle:{color:TD},dayLabel:{color:ID},monthLabel:{color:ID},yearLabel:{color:ID}},timeAxis:AD(),logAxis:AD(),valueAxis:AD(),categoryAxis:AD(),line:{symbol:"circle"},graph:{color:ND},gauge:{title:{color:ID},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ID},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};DD.categoryAxis.splitLine.show=!1;var PD=DD,OD=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},r={};if(Wg(e)){var i=Mw(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Lg(e,(function(e,i){for(var s=!1,u=0;u<o.length;u++){var l=o[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var f=i.slice(0,c);"data"!==f&&(t.mainType=f,t[l.toLowerCase()]=e,s=!0)}}a.hasOwnProperty(i)&&(n[i]=e,s=!0),s||(r[i]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=t.cptQuery,u=t.dataQuery;return l(s,o,"mainType")&&l(s,o,"subType")&&l(s,o,"index","componentIndex")&&l(s,o,"name")&&l(s,o,"id")&&l(u,i,"name")&&l(u,i,"dataIndex")&&l(u,i,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,r,i));function l(e,t,n,r){return null==e[n]||t[r||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),LD=["symbol","symbolSize","symbolRotate","symbolOffset"],RD=LD.concat(["symbolKeepAspect"]),BD={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var r={},i={},o=!1,a=0;a<LD.length;a++){var s=LD[a],u=e.get(s);Ug(u)?(o=!0,i[s]=u):r[s]=u}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(Ag({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(e)){var l=Fg(i);return{dataEach:o?function(t,n){for(var r=e.getRawValue(n),o=e.getDataParams(n),a=0;a<l.length;a++){var s=l[a];t.setItemVisual(n,s,i[s](r,o))}}:null}}}}},zD={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var n=e.getItemModel(t),r=0;r<RD.length;r++){var i=RD[r],o=n.getShallow(i,!0);null!=o&&e.setItemVisual(t,i,o)}}:null}}};function FD(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function jD(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function GD(e,t,n,r){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r)}}function VD(e,t){function n(t,n){var r=[];return t.eachComponent({mainType:"series",subType:e,query:n},(function(e){r.push(e.seriesIndex)})),r}Lg([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,r,i){t=Ag({},t),i.dispatchAction(Ag(t,{type:e[1],seriesIndex:n(r,t)}))}))}))}function UD(e,t,n,r,i){var o=e+t;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,r=e.option.selectedMap,a=i.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===t){var u=e.getData(),l=pw(u,i.fromActionPayload);n.trigger(o,{type:o,seriesId:e.id,name:Vg(l)?u.getName(l[0]):u.getName(l),selected:Wg(r)?r:Ag({},r)})}}))}function WD(e,t,n){for(var r;e&&(!t(e)||(r=e,!n));)e=e.__hostTarget||e.parent;return r}var ZD=Math.round(9*Math.random()),HD="function"===typeof Object.defineProperty,YD=function(){function e(){this._id="__ec_inner_"+ZD++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return HD?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),XD=YD,KD=cS.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r+o),e.lineTo(n-i,r+o),e.closePath()}}),qD=cS.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r),e.lineTo(n,r+o),e.lineTo(n-i,r),e.closePath()}}),$D=cS.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,o=Math.max(i,t.height),a=i/2,s=a*a/(o-a),u=r-o+a+s,l=Math.asin(s/a),c=Math.cos(l)*a,f=Math.sin(l),d=Math.cos(l),h=.6*a,p=.7*a;e.moveTo(n-c,u+s),e.arc(n,u,a,Math.PI-l,2*Math.PI+l),e.bezierCurveTo(n+c-f*h,u+s+d*h,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+f*h,u+s+d*h,n-c,u+s),e.closePath()}}),QD=cS.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,o=t.y,a=r/3*2;e.moveTo(i,o),e.lineTo(i+a,o+n),e.lineTo(i,o+n/4*3),e.lineTo(i-a,o+n),e.lineTo(i,o),e.closePath()}}),JD={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var o=Math.min(n,r);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},eP={};Lg({line:zA,rect:CS,roundRect:CS,square:CS,circle:oA,diamond:qD,pin:$D,arrow:QD,triangle:KD},(function(e,t){eP[t]=new e}));var tP=cS.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=hx(e,t,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(r.y=n.y+.4*n.height),r},buildPath:function(e,t,n){var r=t.symbolType;if("none"!==r){var i=eP[r];i||(i=eP[r="rect"]),JD[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function nP(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw()}}function rP(e,t,n,r,i,o,a){var s,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(s=0===e.indexOf("image://")?yN(e.slice(8),new ix(t,n,r,i),a?"center":"cover"):0===e.indexOf("path://")?mN(e.slice(7),{},new ix(t,n,r,i),a?"center":"cover"):new tP({shape:{symbolType:e,x:t,y:n,width:r,height:i}})).__isEmptyBrush=u,s.setColor=nP,o&&s.setColor(o),s}function iP(e){return Vg(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function oP(e,t){if(null!=e)return Vg(e)||(e=[e,e]),[Ox(e[0],t[0])||0,Ox(ev(e[1],e[0]),t[1])||0]}function aP(e,t,n){for(var r="radial"===t.type?function(e,t,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(a=a*r+n.x,s=s*i+n.y,u*=o),e.createRadialGradient(a,s,0,a,s,u)}(e,t,n):function(e,t,n){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,o=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,e.createLinearGradient(r,o,i,a)}(e,t,n),i=t.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function sP(e){return parseInt(e,10)}function uP(e,t,n){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=n[r]&&"auto"!==n[r])return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(e);return(e[i]||sP(s[r])||sP(e.style[r]))-(sP(s[o])||0)-(sP(s[a])||0)|0}function lP(e){var t,n,r=e.style,i=r.lineDash&&r.lineWidth>0&&(t=r.lineDash,n=r.lineWidth,t&&"solid"!==t&&n>0?"dashed"===t?[4*n,2*n]:"dotted"===t?[n]:Hg(t)?[t]:Vg(t)?t:null:null),o=r.lineDashOffset;if(i){var a=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&1!==a&&(i=Rg(i,(function(e){return e/a})),o/=a)}return[i,o]}var cP=new V_(!0);function fP(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function dP(e){return"string"===typeof e&&"none"!==e}function hP(e){var t=e.fill;return null!=t&&"none"!==t}function pP(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function gP(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function vP(e,t,n){var r=Fw(t.image,t.__image,n);if(Gw(r)){var i=e.createPattern(r,t.repeat||"repeat");if("function"===typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*vv),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}var mP=["shadowBlur","shadowOffsetX","shadowOffsetY"],yP=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bP(e,t,n,r,i){var o=!1;if(!r&&t===(n=n||{}))return!1;if(r||t.opacity!==n.opacity){_P(e,i),o=!0;var a=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(a)?t_.opacity:a}(r||t.blend!==n.blend)&&(o||(_P(e,i),o=!0),e.globalCompositeOperation=t.blend||t_.blend);for(var s=0;s<mP.length;s++){var u=mP[s];(r||t[u]!==n[u])&&(o||(_P(e,i),o=!0),e[u]=e.dpr*(t[u]||0))}return(r||t.shadowColor!==n.shadowColor)&&(o||(_P(e,i),o=!0),e.shadowColor=t.shadowColor||t_.shadowColor),o}function xP(e,t,n,r,i){var o=SP(t,i.inHover),a=r?null:n&&SP(n,i.inHover)||{};if(o===a)return!1;var s=bP(e,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(_P(e,i),s=!0),dP(o.fill)&&(e.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(_P(e,i),s=!0),dP(o.stroke)&&(e.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(_P(e,i),s=!0),e.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(_P(e,i),s=!0),e.lineWidth=u)}for(var l=0;l<yP.length;l++){var c=yP[l],f=c[0];(r||o[f]!==a[f])&&(s||(_P(e,i),s=!0),e[f]=o[f]||c[1])}return s}function wP(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function _P(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function SP(e,t){return t&&e.__hoverStyle||e.style}function EP(e,t){CP(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function CP(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var o=t.__clipPaths,a=n.prevElClipPaths,s=!1,u=!1;if(a&&!function(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(o,a)||(a&&a.length&&(_P(e,n),e.restore(),u=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(_P(e,n),e.save(),function(e,t,n){for(var r=!1,i=0;i<e.length;i++){var o=e[i];r=r||o.isZeroArea(),wP(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=r}(o,e,n),s=!0),n.prevElClipPaths=o),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var l=n.prevEl;l||(u=s=!0);var c,f,d=t instanceof cS&&t.autoBatch&&function(e){var t=hP(e),n=fP(e);return!(e.lineDash||!(+t^+n)||t&&"string"!==typeof e.fill||n&&"string"!==typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(t.style);s||(c=i,f=l.transform,c&&f?c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||c[4]!==f[4]||c[5]!==f[5]:c||f)?(_P(e,n),wP(e,t)):d||_P(e,n);var h=SP(t,n.inHover);t instanceof cS?(1!==n.lastDrawType&&(u=!0,n.lastDrawType=1),xP(e,t,l,u,n),d&&(n.batchFill||n.batchStroke)||e.beginPath(),function(e,t,n,r){var i,o=fP(n),a=hP(n),s=n.strokePercent,u=s<1,l=!t.path;t.silent&&!u||!l||t.createPathProxy();var c=t.path||cP,f=t.__dirty;if(!r){var d=n.fill,h=n.stroke,p=a&&!!d.colorStops,g=o&&!!h.colorStops,v=a&&!!d.image,m=o&&!!h.image,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0;(p||g)&&(_=t.getBoundingRect()),p&&(y=f?aP(e,d,_):t.__canvasFillGradient,t.__canvasFillGradient=y),g&&(b=f?aP(e,h,_):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),v&&(x=f||!t.__canvasFillPattern?vP(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),m&&(w=f||!t.__canvasStrokePattern?vP(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),p?e.fillStyle=y:v&&(x?e.fillStyle=x:a=!1),g?e.strokeStyle=b:m&&(w?e.strokeStyle=w:o=!1)}var S,E,C=t.getGlobalScale();c.setScale(C[0],C[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(S=(i=lP(t))[0],E=i[1]);var k=!0;(l||4&f)&&(c.setDPR(e.dpr),u?c.setContext(null):(c.setContext(e),k=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),k&&c.rebuildPath(e,u?s:1),S&&(e.setLineDash(S),e.lineDashOffset=E),r||(n.strokeFirst?(o&&gP(e,n),a&&pP(e,n)):(a&&pP(e,n),o&&gP(e,n))),S&&e.setLineDash([])}(e,t,h,d),d&&(n.batchFill=h.fill||"",n.batchStroke=h.stroke||"")):t instanceof hS?(3!==n.lastDrawType&&(u=!0,n.lastDrawType=3),xP(e,t,l,u,n),function(e,t,n){var r,i=n.text;if(null!=i&&(i+=""),i){e.font=n.font||cg,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0,a=void 0;e.setLineDash&&n.lineDash&&(o=(r=lP(t))[0],a=r[1]),o&&(e.setLineDash(o),e.lineDashOffset=a),n.strokeFirst?(fP(n)&&e.strokeText(i,n.x,n.y),hP(n)&&e.fillText(i,n.x,n.y)):(hP(n)&&e.fillText(i,n.x,n.y),fP(n)&&e.strokeText(i,n.x,n.y)),o&&e.setLineDash([])}}(e,t,h)):t instanceof mS?(2!==n.lastDrawType&&(u=!0,n.lastDrawType=2),function(e,t,n,r,i){bP(e,SP(t,i.inHover),n&&SP(n,i.inHover),r,i)}(e,t,l,u,n),function(e,t,n){var r=t.__image=Fw(n.image,t.__image,t,t.onload);if(r&&Gw(r)){var i=n.x||0,o=n.y||0,a=t.getWidth(),s=t.getHeight(),u=r.width/r.height;if(null==a&&null!=s?a=s*u:null==s&&null!=a?s=a/u:null==a&&null==s&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var l=n.sx||0,c=n.sy||0;e.drawImage(r,l,c,n.sWidth,n.sHeight,i,o,a,s)}else if(n.sx&&n.sy){var f=a-(l=n.sx),d=s-(c=n.sy);e.drawImage(r,l,c,f,d,i,o,a,s)}else e.drawImage(r,i,o,a,s)}}(e,t,h)):t.getTemporalDisplayables&&(4!==n.lastDrawType&&(u=!0,n.lastDrawType=4),function(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=t.getCursor(),a=r.length;o<a;o++){(c=r[o]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),CP(e,c,s,o===a-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}for(var u=0,l=i.length;u<l;u++){var c;(c=i[u]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),CP(e,c,s,u===l-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}(e,t,n)),d&&r&&_P(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var kP=new XD,MP=new sy(100),IP=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function TP(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i="svg"===r.painter.type;e.dirty&&kP.delete(e);var o=kP.get(e);if(o)return o;var a=Ng(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(e){for(var t,o=[n],s=!0,u=0;u<IP.length;++u){var l=a[IP[u]];if(null!=l&&!Vg(l)&&!Wg(l)&&!Hg(l)&&"boolean"!==typeof l){s=!1;break}o.push(l)}if(s){t=o.join(",")+(i?"-svg":"");var c=MP.get(t);c&&(i?e.svgElement=c:e.image=c)}var f,d=NP(a.dashArrayX),h=function(e){if(!e||"object"===typeof e&&0===e.length)return[0,0];if(Hg(e)){var t=Math.ceil(e);return[t,t]}var n=Rg(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}(a.dashArrayY),p=AP(a.symbol),g=(x=d,Rg(x,(function(e){return DP(e)}))),v=DP(h),m=!i&&dg.createCanvas(),y=i&&{tag:"g",attrs:{},key:"dcl",children:[]},b=function(){for(var e=1,t=0,n=g.length;t<n;++t)e=Jx(e,g[t]);var r=1;for(t=0,n=p.length;t<n;++t)r=Jx(r,p[t].length);e*=r;var i=v*g.length*p.length;0;return{width:Math.max(1,Math.min(e,a.maxTileWidth)),height:Math.max(1,Math.min(i,a.maxTileHeight))}}();var x;m&&(m.width=b.width*n,m.height=b.height*n,f=m.getContext("2d"));w(),s&&MP.put(t,m||y);function w(){f&&(f.clearRect(0,0,m.width,m.height),a.backgroundColor&&(f.fillStyle=a.backgroundColor,f.fillRect(0,0,m.width,m.height)));for(var e=0,t=0;t<h.length;++t)e+=h[t];if(!(e<=0))for(var o=-v,s=0,u=0,l=0;o<b.height;){if(s%2===0){for(var c=u/2%p.length,g=0,x=0,w=0;g<2*b.width;){var _=0;for(t=0;t<d[l].length;++t)_+=d[l][t];if(_<=0)break;if(x%2===0){var S=.5*(1-a.symbolSize),E=g+d[l][x]*S,C=o+h[s]*S,k=d[l][x]*a.symbolSize,M=h[s]*a.symbolSize,I=w/2%p[c].length;T(E,C,k,M,p[c][I])}g+=d[l][x],++w,++x===d[l].length&&(x=0)}++l===d.length&&(l=0)}o+=h[s],++u,++s===h.length&&(s=0)}function T(e,t,o,s,u){var l=i?1:n,c=rP(u,e*l,t*l,o*l,s*l,a.color,a.symbolKeepAspect);if(i){var d=r.painter.renderOneToVNode(c);d&&y.children.push(d)}else EP(f,c)}}e.image=m,e.svgElement=y,e.svgWidth=b.width,e.svgHeight=b.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/n,kP.set(e,s),e.dirty=!1,s}function AP(e){if(!e||0===e.length)return[["rect"]];if(Wg(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Wg(e[n])){t=!1;break}if(t)return AP([e]);var r=[];for(n=0;n<e.length;++n)Wg(e[n])?r.push([e[n]]):r.push(e[n]);return r}function NP(e){if(!e||0===e.length)return[[0,0]];if(Hg(e))return[[i=Math.ceil(e),i]];for(var t=!0,n=0;n<e.length;++n)if(!Hg(e[n])){t=!1;break}if(t)return NP([e]);var r=[];for(n=0;n<e.length;++n)if(Hg(e[n])){var i=Math.ceil(e[n]);r.push([i,i])}else{i=Rg(e[n],(function(e){return Math.ceil(e)}));i.length%2===1?r.push(i.concat(i)):r.push(i)}return r}function DP(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?2*t:t}var PP=new Gv,OP={};var LP="undefined"!==typeof window,RP=2e3,BP=4500,zP={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:RP,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:BP,ARIA:6e3,DECAL:7e3}},FP=/^[a-zA-Z0-9_]+$/,jP="__connectUpdateStatus";function GP(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return UP(this,e,t);hO(this.id)}}function VP(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return UP(this,e,t)}}function UP(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Gv.prototype[t].apply(e,n)}var WP,ZP,HP,YP,XP,KP,qP,$P,QP,JP,eO,tO,nO,rO,iO,oO,aO,sO,uO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t}(Gv),lO=uO.prototype;lO.on=VP("on"),lO.off=VP("off");var cO=function(e){function t(t,n,r){var i=e.call(this,new OD)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r=r||{},Wg(n)&&(n=bO[n]),i._dom=t;var o=i._zr=Nx(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});i._ssr=r.ssr,i._throttledZrFlush=$N(jg(o.flush,o),17),(n=Mg(n))&&XM(n,!0),i._theme=n,i._locale=function(e){if(Wg(e)){var t=DC[e.toUpperCase()]||{};return e===TC||e===AC?Mg(t):Ig(Mg(t),Mg(DC.EN),!1)}return Ig(Mg(e),Mg(DC.EN),!1)}(r.locale||OC),i._coordSysMgr=new EM;var a=i._api=iO(i);function s(e,t){return e.__prio-t.__prio}return _m(yO,s),_m(vO,s),i._scheduler=new CD(i,a,vO,yO),i._messageCenter=new uO,i._initEvents(),i.resize=jg(i.resize,i),o.animation.on("frame",i._onframe,i),JP(o,i),eO(o,i),sv(i),i}return og(t,e),t.prototype._onframe=function(){if(!this._disposed){sO(this);var e=this._scheduler;if(this.__pendingUpdate){var t=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{WP(this),YP.update.call(this,null,this.__pendingUpdate.updateParams)}catch(li){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,li}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,$P.call(this,t),QP.call(this,t)}else if(e.unfinished){var n=1,r=this._model,i=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),KP(this,r),e.performVisualTasks(r),rO(this,this._model,i,"remain",{}),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,n){if(!this.__flagInMainProcess)if(this._disposed)hO(this.id);else{var r,i,o;if(Yg(t)&&(n=t.lazyUpdate,r=t.silent,i=t.replaceMerge,o=t.transition,t=t.notMerge),this.__flagInMainProcess=!0,!this._model||t){var a=new IM(this._api),s=this._theme,u=this._model=new bM;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,s,this._locale,a)}this._model.setOption(e,{replaceMerge:i},mO);var l={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:r,updateParams:l},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{WP(this),YP.update.call(this,null,l)}catch(li){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,li}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,$P.call(this,r),QP.call(this,r)}}},t.prototype.setTheme=function(){MI()},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||LP&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(ug.svgSupported){var e=this._zr;return Lg(e.storage.getDisplayList(),(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,r=[],i=this;Lg(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Lg(r,(function(e){e.group.ignore=!1})),o}hO(this.id)},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var t="svg"===e.type,n=this.group,r=Math.min,i=Math.max,o=1/0;if(_O[n]){var a=o,s=o,u=-1/0,l=-1/0,c=[],f=e&&e.pixelRatio||this.getDevicePixelRatio();Lg(wO,(function(o,f){if(o.group===n){var d=t?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(Mg(e)),h=o.getDom().getBoundingClientRect();a=r(h.left,a),s=r(h.top,s),u=i(h.right,u),l=i(h.bottom,l),c.push({dom:d,left:h.left,top:h.top})}}));var d=(u*=f)-(a*=f),h=(l*=f)-(s*=f),p=dg.createCanvas(),g=Nx(p,{renderer:t?"svg":"canvas"});if(g.resize({width:d,height:h}),t){var v="";return Lg(c,(function(e){var t=e.left-a,n=e.top-s;v+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=v,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return e.connectedBackgroundColor&&g.add(new CS({shape:{x:0,y:0,width:d,height:h},style:{fill:e.connectedBackgroundColor}})),Lg(c,(function(e){var t=new mS({style:{x:e.left*f-a,y:e.top*f-s,image:e.dom}});g.add(t)})),g.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}hO(this.id)},t.prototype.convertToPixel=function(e,t){return XP(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return XP(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){var n;if(!this._disposed)return Lg(mw(this._model,e),(function(e,r){r.indexOf("Models")>=0&&Lg(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(t);else if("seriesModels"===r){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(n=n||o.containPoint(t,e))}else 0}),this)}),this),!!n;hO(this.id)},t.prototype.getVisual=function(e,t){var n=mw(this._model,e,{defaultMainType:"series"});var r=n.seriesModel.getData(),i=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?r.indexOfRawIndex(n.dataIndex):null;return null!=i?FD(r,i,t):jD(r,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;Lg(dO,(function(t){var n=function(n){var r,i=e.getModel(),o=n.target;if("globalout"===t?r={}:o&&WD(o,(function(e){var t=VS(e);if(t&&null!=t.dataIndex){var n=t.dataModel||i.getSeriesByIndex(t.seriesIndex);return r=n&&n.getDataParams(t.dataIndex,t.dataType)||{},!0}if(t.eventData)return r=Ag({},t.eventData),!0}),!0),r){var a=r.componentType,s=r.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",s=r.seriesIndex);var u=a&&null!=s&&i.getComponent(a,s),l=u&&e["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,r.event=n,r.type=t,e._$eventProcessor.eventInfo={targetEl:o,packedEvent:r,model:u,view:l},e.trigger(t,r)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),Lg(gO,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),Lg(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),function(e,t,n){e.on("selectchanged",(function(e){var r=n.getModel();e.isFromClick?(UD("map","selectchanged",t,r,e),UD("pie","selectchanged",t,r,e)):"select"===e.fromAction?(UD("map","selected",t,r,e),UD("pie","selected",t,r,e)):"unselect"===e.fromAction&&(UD("map","unselected",t,r,e),UD("pie","unselected",t,r,e))}))}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?hO(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)hO(this.id);else{this._disposed=!0,this.getDom()&&_w(this.getDom(),EO,"");var e=this,t=e._api,n=e._model;Lg(e._componentsViews,(function(e){e.dispose(n,t)})),Lg(e._chartsViews,(function(e){e.dispose(n,t)})),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete wO[e.id]}},t.prototype.resize=function(e){if(!this.__flagInMainProcess)if(this._disposed)hO(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),r=e&&e.silent;this.__pendingUpdate&&(null==r&&(r=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&WP(this),YP.update.call(this,{type:"resize",animation:Ag({duration:0},e&&e.animation)})}catch(li){throw this.__flagInMainProcess=!1,li}this.__flagInMainProcess=!1,$P.call(this,r),QP.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed)hO(this.id);else if(Yg(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),xO[e]){var n=xO[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},t.prototype.hideLoading=function(){this._disposed?hO(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=Ag({},e);return t.type=gO[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)hO(this.id);else if(Yg(t)||(t={silent:!!t}),pO[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var n=t.silent;qP.call(this,e,n);var r=t.flush;r?this._zr.flush():!1!==r&&ug.browser.weChat&&this._throttledZrFlush(),$P.call(this,n),QP.call(this,n)}},t.prototype.updateLabelLayout=function(){PP.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)hO(this.id);else{var t=e.seriesIndex;0,this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function t(e){for(var t=[],n=e.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&t.push(i)}e.selected&&e.states.select&&t.push("select"),2===e.hoverState&&e.states.emphasis?t.push("emphasis"):1===e.hoverState&&e.states.blur&&t.push("blur"),e.useStates(t)}function n(e,t){if(!e.preventAutoZ){var n=e.get("z")||0,i=e.get("zlevel")||0;t.eachRendered((function(e){return r(e,n,i,-1/0),!0}))}}function r(e,t,n,i){var o=e.getTextContent(),a=e.getTextGuideLine();if(e.isGroup)for(var s=e.childrenRef(),u=0;u<s.length;u++)i=Math.max(r(s[u],t,n,i),i);else e.z=t,e.zlevel=n,i=Math.max(e.z2,i);if(o&&(o.z=t,o.zlevel=n,isFinite(i)&&(o.z2=i+2)),a){var l=e.textGuideLineConfig;a.z=t,a.zlevel=n,isFinite(i)&&(a.z2=i+(l&&l.showAbove?1:-1))}return i}function i(e,t){t.eachRendered((function(e){if(!YE(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function o(e,n){var r=e.getModel("stateAnimation"),i=e.isAnimationEnabled(),o=r.get("duration"),a=o>0?{duration:o,delay:r.get("delay"),easing:r.get("easing")}:null;n.eachRendered((function(e){if(e.states&&e.states.emphasis){if(YE(e))return;if(e instanceof cS&&function(e){var t=HS(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(i){e.stateTransition=a;var r=e.getTextContent(),o=e.getTextGuideLine();r&&(r.stateTransition=a),o&&(o.stateTransition=a)}e.__dirty&&t(e)}}))}WP=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),ZP(e,!0),ZP(e,!1),t.plan()},ZP=function(e,t){for(var n=e._model,r=e._scheduler,i=t?e._componentsViews:e._chartsViews,o=t?e._componentsMap:e._chartsMap,a=e._zr,s=e._api,u=0;u<i.length;u++)i[u].__alive=!1;function l(e){var u=e.__requireNewView;e.__requireNewView=!1;var l="_ec_"+e.id+"_"+e.type,c=!u&&o[l];if(!c){var f=Mw(e.type);0,(c=new(t?LT.getClass(f.main,f.sub):YN.getClass(f.sub))).init(n,s),o[l]=c,i.push(c),a.add(c.group)}e.__viewId=c.__id=l,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&r.prepareView(c,e,n,s)}t?n.eachComponent((function(e,t){"series"!==e&&l(t)})):n.eachSeries(l);for(u=0;u<i.length;){var c=i[u];c.__alive?u++:(!t&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),i.splice(u,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},HP=function(e,t,n,r,i){var o=e._model;if(o.setUpdatePayload(n),r){var a={};a[r+"Id"]=n[r+"Id"],a[r+"Index"]=n[r+"Index"],a[r+"Name"]=n[r+"Name"];var s={mainType:r,query:a};i&&(s.subType=i);var u,l=n.excludeSeriesId;null!=l&&(u=cv(),Lg(rw(l),(function(e){var t=fw(e,null);null!=t&&u.set(t,!0)}))),o&&o.eachComponent(s,(function(t){if(!(u&&null!==u.get(t.id)))if(GE(n))if(t instanceof PT)n.type!==$S||n.notBlur||t.get(["emphasis","disabled"])||function(e,t,n){var r=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=pw(i,t);o=(Vg(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),u=0;!a&&u<s;)a=i.getItemGraphicEl(u++);if(a){var l=VS(a);ME(r,l.focus,l.blurScope,n)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);null!=c&&ME(r,c,f,n)}}}(t,n,e._api);else{var r=TE(t.mainType,t.componentIndex,n.name,e._api),i=r.focusSelf,o=r.dispatchers;n.type===$S&&i&&!n.notBlur&&IE(t.mainType,t.componentIndex,e._api),o&&Lg(o,(function(e){n.type===$S?bE(e):xE(e)}))}else jE(n)&&t instanceof PT&&(!function(e,t,n){if(jE(t)){var r=t.dataType,i=pw(e.getData(r),t);Vg(i)||(i=[i]),e[t.type===tE?"toggleSelect":t.type===JS?"select":"unselect"](i,r)}}(t,n,e._api),AE(t),aO(e))}),e),o&&o.eachComponent(s,(function(t){u&&null!==u.get(t.id)||c(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else Lg([].concat(e._componentsViews).concat(e._chartsViews),c);function c(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,e._api,n)}},YP={prepareAndUpdate:function(e){WP(this),YP.update.call(this,e,{optionChanged:null!=e.newOption})},update:function(t,n){var r=this._model,i=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(t),s.restoreData(r,t),s.performSeriesTasks(r),a.create(r,i),s.performDataProcessorTasks(r,t),KP(this,r),a.update(r,i),e(r),s.performVisualTasks(r,t),tO(this,r,i,t,n);var u=r.get("backgroundColor")||"transparent",l=r.get("darkMode");o.setBackgroundColor(u),null!=l&&"auto"!==l&&o.setDarkMode(l),PP.trigger("afterupdate",r,i)}},updateTransform:function(t){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(t);var o=[];r.eachComponent((function(e,a){if("series"!==e){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,r,i,t);u&&u.update&&o.push(s)}else o.push(s)}}));var a=cv();r.eachSeries((function(e){var o=n._chartsMap[e.__viewId];if(o.updateTransform){var s=o.updateTransform(e,r,i,t);s&&s.update&&a.set(e.uid,1)}else a.set(e.uid,1)})),e(r),this._scheduler.performVisualTasks(r,t,{setDirty:!0,dirtyMap:a}),rO(this,r,i,t,{},a),PP.trigger("afterupdate",r,i)}},updateView:function(t){var n=this._model;n&&(n.setUpdatePayload(t),YN.markUpdateMethod(t,"updateView"),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0}),tO(this,n,this._api,t,{}),PP.trigger("afterupdate",n,this._api))},updateVisual:function(t){var n=this,r=this._model;r&&(r.setUpdatePayload(t),r.eachSeries((function(e){e.getData().clearAllVisual()})),YN.markUpdateMethod(t,"updateVisual"),e(r),this._scheduler.performVisualTasks(r,t,{visualType:"visual",setDirty:!0}),r.eachComponent((function(e,i){if("series"!==e){var o=n.getViewOfComponentModel(i);o&&o.__alive&&o.updateVisual(i,r,n._api,t)}})),r.eachSeries((function(e){n._chartsMap[e.__viewId].updateVisual(e,r,n._api,t)})),PP.trigger("afterupdate",r,this._api))},updateLayout:function(e){YP.update.call(this,e)}},XP=function(e,t,n,r){if(e._disposed)hO(e.id);else{for(var i,o=e._model,a=e._coordSysMgr.getCoordinateSystems(),s=mw(o,n),u=0;u<a.length;u++){var l=a[u];if(l[t]&&null!=(i=l[t](o,s,r)))return i}0}},KP=function(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries((function(e){r.updateStreamModes(e,n[e.__viewId])}))},qP=function(e,t){var n=this,r=this.getModel(),i=e.type,o=e.escapeConnect,a=pO[i],s=a.actionInfo,u=(s.update||"update").split(":"),l=u.pop(),c=null!=u[0]&&Mw(u[0]);this.__flagInMainProcess=!0;var f=[e],d=!1;e.batch&&(d=!0,f=Rg(e.batch,(function(t){return(t=Ng(Ag({},t),e)).batch=null,t})));var h,p=[],g=jE(e),v=GE(e);if(v&&kE(this._api),Lg(f,(function(t){if((h=(h=a.action(t,n._model,n._api))||Ag({},t)).type=s.event||h.type,p.push(h),v){var r=yw(e),i=r.queryOptionMap,o=r.mainTypeSpecified?i.keys()[0]:"series";HP(n,l,t,o),aO(n)}else g?(HP(n,l,t,"series"),aO(n)):c&&HP(n,l,t,c.main,c.sub)})),"none"!==l&&!v&&!g&&!c)try{this.__pendingUpdate?(WP(this),YP.update.call(this,e),this.__pendingUpdate=null):YP[l].call(this,e)}catch(li){throw this.__flagInMainProcess=!1,li}if(h=d?{type:s.event||i,escapeConnect:o,batch:p}:p[0],this.__flagInMainProcess=!1,!t){var m=this._messageCenter;if(m.trigger(h.type,h),g){var y={type:"selectchanged",escapeConnect:o,selected:NE(r),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};m.trigger(y.type,y)}}},$P=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();qP.call(this,n,e)}},QP=function(e){!e&&this.trigger("updated")},JP=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t.__pendingUpdate||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},eO=function(e,t){e.on("mouseover",(function(e){var n=WD(e.target,FE);n&&(!function(e,t,n){var r=VS(e),i=TE(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,a=i.focusSelf;o?(a&&IE(r.componentMainType,r.componentIndex,n),Lg(o,(function(e){return mE(e,t)}))):(ME(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&IE(r.componentMainType,r.componentIndex,n),mE(e,t))}(n,e,t._api),aO(t))})).on("mouseout",(function(e){var n=WD(e.target,FE);n&&(!function(e,t,n){kE(n);var r=VS(e),i=TE(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?Lg(i,(function(e){return yE(e,t)})):yE(e,t)}(n,e,t._api),aO(t))})).on("click",(function(e){var n=WD(e.target,(function(e){return null!=VS(e).dataIndex}),!0);if(n){var r=n.selected?"unselect":"select",i=VS(n);t._api.dispatchAction({type:r,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}}))},tO=function(e,t,n,r,i){!function(e){var t=[],n=[],r=!1;if(e.eachComponent((function(e,i){var o=i.get("zlevel")||0,a=i.get("z")||0,s=i.getZLevelKey();r=r||!!s,("series"===e?n:t).push({zlevel:o,z:a,idx:i.componentIndex,type:e,key:s})})),r){var i,o,a=t.concat(n);_m(a,(function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel})),Lg(a,(function(t){var n=e.getComponent(t.type,t.idx),r=t.zlevel,a=t.key;null!=i&&(r=Math.max(i,r)),a?(r===i&&a!==o&&r++,o=a):o&&(r===i&&r++,o=""),i=r,n.setZLevel(r)}))}}(t),nO(e,t,n,r,i),Lg(e._chartsViews,(function(e){e.__alive=!1})),rO(e,t,n,r,i),Lg(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},nO=function(e,t,r,a,s,u){Lg(u||e._componentsViews,(function(e){var s=e.__model;i(s,e),e.render(s,t,r,a),n(s,e),o(s,e)}))},rO=function(e,t,r,a,s,u){var l=e._scheduler;s=Ag(s||{},{updatedSeries:t.getSeries()}),PP.trigger("series:beforeupdate",t,r,s);var c=!1;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var r=n.renderTask;l.updatePayload(r,a),i(t,n),u&&u.get(t.uid)&&r.dirty(),r.perform(l.getPerformArgs(r))&&(c=!0),n.group.silent=!!t.get("silent"),function(e,t){var n=e.get("blendMode")||null;t.eachRendered((function(e){e.isGroup||(e.style.blend=n)}))}(t,n),AE(t)})),l.unfinished=c||l.unfinished,PP.trigger("series:layoutlabels",t,r,s),PP.trigger("series:transition",t,r,s),t.eachSeries((function(t){var r=e._chartsMap[t.__viewId];n(t,r),o(t,r)})),function(e,t){var n=e._zr.storage,r=0;n.traverse((function(e){e.isGroup||r++})),r>t.get("hoverLayerThreshold")&&!ug.node&&!ug.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}(e,t),PP.trigger("series:afterupdate",t,r,s)},aO=function(e){e.__needsUpdateStatus=!0,e.getZr().wakeUp()},sO=function(e){e.__needsUpdateStatus&&(e.getZr().storage.traverse((function(e){YE(e)||t(e)})),e.__needsUpdateStatus=!1)},iO=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return og(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){bE(t,n),aO(e)},n.prototype.leaveEmphasis=function(t,n){xE(t,n),aO(e)},n.prototype.enterBlur=function(t){wE(t),aO(e)},n.prototype.leaveBlur=function(t){_E(t),aO(e)},n.prototype.enterSelect=function(t){SE(t),aO(e)},n.prototype.leaveSelect=function(t){EE(t),aO(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(wM))(e)},oO=function(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][jP]=t}}Lg(gO,(function(n,r){e._messageCenter.on(r,(function(n){if(_O[e.group]&&0!==e[jP]){if(n&&n.escapeConnect)return;var r=e.makeActionFromEvent(n),i=[];Lg(wO,(function(t){t!==e&&t.group===e.group&&i.push(t)})),t(i,0),Lg(i,(function(e){1!==e[jP]&&e.dispatchAction(r)})),t(i,2)}}))}))}}(),t}(Gv),fO=cO.prototype;fO.on=GP("on"),fO.off=GP("off"),fO.one=function(e,t,n){var r=this;MI(),this.on.call(this,e,(function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),r.off(e,n)}),n)};var dO=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function hO(e){0}var pO={},gO={},vO=[],mO=[],yO=[],bO={},xO={},wO={},_O={},SO=+new Date-0,EO=(new Date,"_echarts_instance_");function CO(e,t,n){var r=!(n&&n.ssr);if(r){0;var i=kO(e);if(i)return i;0}var o=new cO(e,t,n);return o.id="ec_"+SO++,wO[o.id]=o,r&&_w(e,EO,o.id),oO(o),PP.trigger("afterinit",o),o}function kO(e){return wO[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,EO)]}function MO(e,t){bO[e]=t}function IO(e){Dg(mO,e)<0&&mO.push(e)}function TO(e,t){OO(vO,e,t,2e3)}function AO(e,t){PP.on(e,t)}function NO(e,t,n){Ug(t)&&(n=t,t="");var r=Yg(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,gO[t]||(iv(FP.test(r)&&FP.test(t)),pO[r]||(pO[r]={action:n,actionInfo:e}),gO[t]=r)}function DO(e,t){OO(yO,e,t,3e3,"visual")}var PO=[];function OO(e,t,n,r,i){if((Ug(t)||Yg(t))&&(n=t,t=r),!(Dg(PO,n)>=0)){PO.push(n);var o=CD.wrapStageHandler(n,i);o.__prio=t,o.__raw=n,e.push(o)}}function LO(e,t){xO[e]=t}var RO=function(e){var t=(e=Mg(e)).type;t||II("");var n=t.split(":");2!==n.length&&II("");var r=!1;"echarts"===n[0]&&(t=n[1],r=!0),e.__isBuiltIn=r,VI.set(t,e)};DO(RP,oD),DO(BP,sD),DO(BP,uD),DO(RP,BD),DO(BP,zD),DO(7e3,(function(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(e){var n=r.getItemVisual(e,"decal");n&&(r.ensureUniqueItemVisual(e,"style").decal=TP(n,t))}));var i=r.getVisual("decal");if(i)r.getVisual("style").decal=TP(i,t)}}))})),IO(XM),TO(900,(function(e){var t=cv();e.eachSeries((function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),i=e.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}})),t.each(KM)})),LO("default",(function(e,t){Ng(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Mx,r=new CS({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i,o=new GS({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new CS({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(a),t.showSpinner&&((i=new HA({shape:{startAngle:-lD/2,endAngle:-lD/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*lD/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*lD/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=o.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-2*s-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:s),l=e.getHeight()/2;t.showSpinner&&i.setShape({cx:u,cy:l}),a.setShape({x:u-s,y:l-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n})),NO({type:$S,event:$S,update:$S},gv),NO({type:QS,event:QS,update:QS},gv),NO({type:JS,event:JS,update:JS},gv),NO({type:eE,event:eE,update:eE},gv),NO({type:tE,event:tE,update:tE},gv),MO("light",MD),MO("dark",PD);var BO=[],zO={registerPreprocessor:IO,registerProcessor:TO,registerPostInit:function(e){AO("afterinit",e)},registerPostUpdate:function(e){AO("afterupdate",e)},registerUpdateLifecycle:AO,registerAction:NO,registerCoordinateSystem:function(e,t){EM.register(e,t)},registerLayout:function(e,t){OO(yO,e,t,1e3,"layout")},registerVisual:DO,registerTransform:RO,registerLoading:LO,registerMap:function(e,t,n){var r=OP["registerMap"];r&&r(e,t,n)},registerImpl:function(e,t){OP[e]=t},PRIORITY:zP,ComponentModel:zk,ComponentView:LT,SeriesModel:PT,ChartView:YN,registerComponentModel:function(e){zk.registerClass(e)},registerComponentView:function(e){LT.registerClass(e)},registerSeriesModel:function(e){PT.registerClass(e)},registerChartView:function(e){YN.registerClass(e)},registerSubTypeDefaulter:function(e,t){zk.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){var n;n=t,Ix[e]=n}};function FO(e){Vg(e)?Lg(e,(function(e){FO(e)})):Dg(BO,e)>=0||(BO.push(e),Ug(e)&&(e={install:e}),e.install(zO))}var jO=2*Math.PI,GO=V_.CMD,VO=["top","right","bottom","left"];function UO(e,t,n,r,i){var o=n.width,a=n.height;switch(e){case"top":r.set(n.x+o/2,n.y-t),i.set(0,-1);break;case"bottom":r.set(n.x+o/2,n.y+a+t),i.set(0,1);break;case"left":r.set(n.x-t,n.y+a/2),i.set(-1,0);break;case"right":r.set(n.x+o+t,n.y+a/2),i.set(1,0)}}function WO(e,t,n,r,i,o,a,s,u){a-=e,s-=t;var l=Math.sqrt(a*a+s*s),c=(a/=l)*n+e,f=(s/=l)*n+t;if(Math.abs(r-i)%jO<1e-4)return u[0]=c,u[1]=f,l-n;if(o){var d=r;r=Y_(i),i=Y_(d)}else r=Y_(r),i=Y_(i);r>i&&(i+=jO);var h=Math.atan2(s,a);if(h<0&&(h+=jO),h>=r&&h<=i||h+jO>=r&&h+jO<=i)return u[0]=c,u[1]=f,l-n;var p=n*Math.cos(r)+e,g=n*Math.sin(r)+t,v=n*Math.cos(i)+e,m=n*Math.sin(i)+t,y=(p-a)*(p-a)+(g-s)*(g-s),b=(v-a)*(v-a)+(m-s)*(m-s);return y<b?(u[0]=p,u[1]=g,Math.sqrt(y)):(u[0]=v,u[1]=m,Math.sqrt(b))}function ZO(e,t,n,r,i,o,a,s){var u=i-e,l=o-t,c=n-e,f=r-t,d=Math.sqrt(c*c+f*f),h=(u*(c/=d)+l*(f/=d))/d;s&&(h=Math.min(Math.max(h,0),1)),h*=d;var p=a[0]=e+h*c,g=a[1]=t+h*f;return Math.sqrt((p-i)*(p-i)+(g-o)*(g-o))}function HO(e,t,n,r,i,o,a){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r);var s=e+n,u=t+r,l=a[0]=Math.min(Math.max(i,e),s),c=a[1]=Math.min(Math.max(o,t),u);return Math.sqrt((l-i)*(l-i)+(c-o)*(c-o))}var YO=[];function XO(e,t,n){var r=HO(t.x,t.y,t.width,t.height,e.x,e.y,YO);return n.set(YO[0],YO[1]),r}function KO(e,t,n){for(var r,i,o=0,a=0,s=0,u=0,l=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var p=c[h++];1===h&&(s=o=c[h],u=a=c[h+1]);var g=l;switch(p){case GO.M:o=s=c[h++],a=u=c[h++];break;case GO.L:g=ZO(o,a,c[h],c[h+1],f,d,YO,!0),o=c[h++],a=c[h++];break;case GO.C:g=Ym(o,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,YO),o=c[h++],a=c[h++];break;case GO.Q:g=Jm(o,a,c[h++],c[h++],c[h],c[h+1],f,d,YO),o=c[h++],a=c[h++];break;case GO.A:var v=c[h++],m=c[h++],y=c[h++],b=c[h++],x=c[h++],w=c[h++];h+=1;var _=!!(1-c[h++]);r=Math.cos(x)*y+v,i=Math.sin(x)*b+m,h<=1&&(s=r,u=i),g=WO(v,m,b,x,x+w,_,(f-v)*b/y+v,d,YO),o=Math.cos(x+w)*y+v,a=Math.sin(x+w)*b+m;break;case GO.R:g=HO(s=o=c[h++],u=a=c[h++],c[h++],c[h++],f,d,YO);break;case GO.Z:g=ZO(o,a,s,u,f,d,YO,!0),o=s,a=u}g<l&&(l=g,n.set(YO[0],YO[1]))}return l}var qO=new Xb,$O=new Xb,QO=new Xb,JO=new Xb,eL=new Xb;function tL(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var i=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||VO,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var u=1/0,l=i.anchor,c=e.getComputedTransform(),f=c&&Lb([],c),d=t.get("length2")||0;l&&QO.copy(l);for(var h=0;h<a.length;h++){UO(a[h],0,s,qO,JO),Xb.scaleAndAdd($O,qO,JO,d),$O.transform(f);var p=e.getBoundingRect(),g=l?l.distance($O):e instanceof cS?KO($O,e.path,QO):XO($O,p,QO);g<u&&(u=g,$O.transform(c),QO.transform(c),QO.toArray(o[0]),$O.toArray(o[1]),qO.toArray(o[2]))}iL(o,t.get("minTurnAngle")),n.setShape({points:o})}}}var nL=[],rL=new Xb;function iL(e,t){if(t<=180&&t>0){t=t/180*Math.PI,qO.fromArray(e[0]),$O.fromArray(e[1]),QO.fromArray(e[2]),Xb.sub(JO,qO,$O),Xb.sub(eL,QO,$O);var n=JO.len(),r=eL.len();if(!(n<.001||r<.001)){JO.scale(1/n),eL.scale(1/r);var i=JO.dot(eL);if(Math.cos(t)<i){var o=ZO($O.x,$O.y,QO.x,QO.y,qO.x,qO.y,nL,!1);rL.fromArray(nL),rL.scaleAndAdd(eL,o/Math.tan(Math.PI-t));var a=QO.x!==$O.x?(rL.x-$O.x)/(QO.x-$O.x):(rL.y-$O.y)/(QO.y-$O.y);if(isNaN(a))return;a<0?Xb.copy(rL,$O):a>1&&Xb.copy(rL,QO),rL.toArray(e[1])}}}}function oL(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,qO.fromArray(e[0]),$O.fromArray(e[1]),QO.fromArray(e[2]),Xb.sub(JO,$O,qO),Xb.sub(eL,QO,$O);var r=JO.len(),i=eL.len();if(!(r<.001||i<.001))if(JO.scale(1/r),eL.scale(1/i),JO.dot(t)<Math.cos(n)){var o=ZO($O.x,$O.y,QO.x,QO.y,qO.x,qO.y,nL,!1);rL.fromArray(nL);var a=Math.PI/2,s=a+Math.acos(eL.dot(t))-n;if(s>=a)Xb.copy(rL,QO);else{rL.scaleAndAdd(eL,o/Math.tan(Math.PI/2-s));var u=QO.x!==$O.x?(rL.x-$O.x)/(QO.x-$O.x):(rL.y-$O.y)/(QO.y-$O.y);if(isNaN(u))return;u<0?Xb.copy(rL,$O):u>1&&Xb.copy(rL,QO)}rL.toArray(e[1])}}}function aL(e,t,n,r){var i="normal"===n,o=i?e:e.ensureState(n);o.ignore=t;var a=r.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?e.useStyle(s):o.style=s}function sL(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=Nv(r[0],r[1]),o=Nv(r[1],r[2]);if(!i||!o)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*n,s=Pv([],r[1],r[0],a/i),u=Pv([],r[1],r[2],a/o),l=Pv([],s,u,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),e.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function uL(e,t,n){var r=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var o=t.normal,a=o.get("show"),s=i.ignore,u=0;u<KS.length;u++){var l=KS[u],c=t[l],f="normal"===l;if(c){var d=c.get("show");if((f?s:ev(i.states[l]&&i.states[l].ignore,s))||!ev(d,a)){var h=f?r:r&&r.states.normal;h&&(h.ignore=!0);continue}r||(r=new OA,e.setTextGuideLine(r),f||!s&&a||aL(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),aL(r,!1,l,c)}}if(r){Ng(r.style,n),r.style.fill=null;var p=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=p||!1,r.buildPath=sL}}else r&&e.removeTextGuideLine()}function lL(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<XS.length;r++){var i=XS[r];n[i]=e.getModel([i,t])}return n}function cL(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,u=i.style.margin||0,l=a.clone();l.applyTransform(o),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new oN(a,o):null;t.push({label:i,labelLine:r.labelLine,rect:l,localRect:a,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return t}function fL(e,t,n,r,i,o){var a=e.length;if(!(a<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var s,u=0,l=!1,c=[],f=0,d=0;d<a;d++){var h=e[d],p=h.rect;(s=p[t]-u)<0&&(p[t]-=s,h.label[t]-=s,l=!0);var g=Math.max(-s,0);c.push(g),f+=g,u=p[t]+p[n]}f>0&&o&&_(-f/a,0,a);var v,m,y=e[0],b=e[a-1];return x(),v<0&&S(-v,.8),m<0&&S(m,.8),x(),w(v,m,1),w(m,v,-1),x(),v<0&&E(-v),m<0&&E(m),l}function x(){v=y.rect[t]-r,m=i-b.rect[t]-b.rect[n]}function w(e,t,n){if(e<0){var r=Math.min(t,-e);if(r>0){_(r*n,0,a);var i=r+e;i<0&&S(-i*n,1)}else S(-e*n,1)}}function _(n,r,i){0!==n&&(l=!0);for(var o=r;o<i;o++){var a=e[o];a.rect[t]+=n,a.label[t]+=n}}function S(r,i){for(var o=[],s=0,u=1;u<a;u++){var l=e[u-1].rect,c=Math.max(e[u].rect[t]-l[t]-l[n],0);o.push(c),s+=c}if(s){var f=Math.min(Math.abs(r)/s,i);if(r>0)for(u=0;u<a-1;u++){_(o[u]*f,0,u+1)}else for(u=a-1;u>0;u--){_(-(o[u-1]*f),u,a)}}}function E(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(a-1)),r=0;r<a-1;r++)if(t>0?_(n,0,r+1):_(-n,a-r-1,a),(e-=n)<=0)return}}function dL(e,t,n,r){return fL(e,"y","height",t,n,r)}function hL(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var n=new ix(0,0,0,0);function r(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],a=o.axisAligned,s=o.localRect,u=o.transform,l=o.label,c=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=o.obb,d=!1,h=0;h<t.length;h++){var p=t[h];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new oN(p.localRect,p.transform)),f||(f=new oN(s,u)),f.intersect(p.obb)){d=!0;break}}}d?(r(l),c&&r(c)):(l.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function pL(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function gL(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:pL(r&&r.shape.points)}}var vL=["align","verticalAlign","width","height","fontSize"],mL=new Hb,yL=gw(),bL=gw();function xL(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null!=t[i]&&(e[i]=t[i])}}var wL=["x","y","rotation"],_L=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,r,i){var o=r.style,a=r.__hostTarget.textConfig||{},s=r.getComputedTransform(),u=r.getBoundingRect().plain();ix.applyTransform(u,u,s),s?mL.setLocalTransform(s):(mL.x=mL.y=mL.rotation=mL.originX=mL.originY=0,mL.scaleX=mL.scaleY=1);var l,c=r.__hostTarget;if(c){l=c.getBoundingRect().plain();var f=c.getComputedTransform();ix.applyTransform(l,l,f)}var d=l&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:d,seriesModel:n,dataIndex:e,dataType:t,layoutOption:i,computedLayoutOption:null,rect:u,hostRect:l,priority:l?l.width*l.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:d&&d.ignore,x:mL.x,y:mL.y,scaleX:mL.scaleX,scaleY:mL.scaleY,rotation:mL.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:a.position,attachedRot:a.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,r=n.get("labelLayout");(Ug(r)||Fg(r).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var i=e.getTextContent(),o=VS(e);i&&!i.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,i,r)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function r(e,t){return function(){tL(e,t)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,s=a.__hostTarget,u=o.defaultAttr,l=void 0;l=(l=Ug(o.layoutOption)?o.layoutOption(gL(o,s)):o.layoutOption)||{},o.computedLayoutOption=l;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:u.attachedPos,rotation:null!=l.rotate?l.rotate*c:u.attachedRot,offset:[l.dx||0,l.dy||0]});var f=!1;if(null!=l.x?(a.x=Ox(l.x,t),a.setStyle("x",0),f=!0):(a.x=u.x,a.setStyle("x",u.style.x)),null!=l.y?(a.y=Ox(l.y,n),a.setStyle("y",0),f=!0):(a.y=u.y,a.setStyle("y",u.style.y)),l.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:l.labelLinePoints}),f=!1)}yL(a).needsUpdateLabelLine=f,a.rotation=null!=l.rotate?l.rotate*c:u.rotation,a.scaleX=u.scaleX,a.scaleY=u.scaleY;for(var h=0;h<vL.length;h++){var p=vL[h];a.setStyle(p,null!=l[p]?l[p]:u.style[p])}if(l.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",r(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=u.cursor}},e.prototype.layout=function(e){var t,n=e.getWidth(),r=e.getHeight(),i=cL(this._labelList),o=zg(i,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),a=zg(i,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));fL(o,"x","width",0,n,t),dL(a,0,r);var s=zg(i,(function(e){return e.layoutOption.hideOverlap}));hL(s)},e.prototype.processLabelsOverall=function(){var e=this;Lg(this._chartViewList,(function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,i=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!r,a=t.getTextContent();!o&&a&&(o=yL(a).needsUpdateLabelLine),o&&e._updateLabelLine(t,n),i&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),r=VS(e),i=r.dataIndex;if(n&&null!=i){var o=t.getData(r.dataType),a=o.getItemModel(i),s={},u=o.getItemVisual(i,"style"),l=o.getVisual("drawType");s.stroke=u[l];var c=a.getModel("labelLine");uL(e,lL(a),s),tL(e,c)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),r=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!YE(e))){var i=(h=yL(n)).oldLayout,o=VS(e),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},u=t.getData(o.dataType);if(i){n.attr(i);var l=e.prevStates;l&&(Dg(l,"select")>=0&&n.attr(h.oldLayoutSelect),Dg(l,"emphasis")>=0&&n.attr(h.oldLayoutEmphasis)),ZE(n,s,t,a)}else if(n.attr(s),!cC(n).valueAnimation){var c=ev(n.style.opacity,1);n.style.opacity=0,HE(n,{style:{opacity:c}},t,a)}if(h.oldLayout=s,n.states.select){var f=h.oldLayoutSelect={};xL(f,s,wL),xL(f,n.states.select,wL)}if(n.states.emphasis){var d=h.oldLayoutEmphasis={};xL(d,s,wL),xL(d,n.states.emphasis,wL)}dC(n,a,u,t,t)}if(r&&!r.ignore&&!r.invisible){i=(h=bL(r)).oldLayout;var h,p={points:r.shape.points};i?(r.attr({shape:i}),ZE(r,{shape:p},t)):(r.setShape(p),r.style.strokePercent=0,HE(r,{style:{strokePercent:1}},t)),h.oldLayout=p}},e}(),SL=_L,EL=gw();function CL(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){var r=EL(t).labelManager;r||(r=EL(t).labelManager=new SL),r.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,n){var r=EL(t).labelManager;n.updatedSeries.forEach((function(e){r.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()}))}function kL(e,t,n){var r=dg.createCanvas(),i=t.getWidth(),o=t.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=o*n,r}FO(CL);var ML=function(e){function t(t,n,r){var i,o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||kb,"string"===typeof t?i=kL(t,n,r):Yg(t)&&(t=(i=t).id),o.id=t,o.dom=i;var a=i.style;return a&&(hv(i),i.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=r,o}return yv(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=kL("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,u=new ix(0,0,0,0);function l(e){if(e.isFinite()&&!e.isZero())if(0===o.length){(t=new ix(0,0,0,0)).copy(e),o.push(t)}else{for(var t,n=!1,r=1/0,i=0,l=0;l<o.length;++l){var c=o[l];if(c.intersect(e)){var f=new ix(0,0,0,0);f.copy(c),f.union(e),o[l]=f,n=!0;break}if(s){u.copy(e),u.union(c);var d=e.width*e.height,h=c.width*c.height,p=u.width*u.height-d-h;p<r&&(r=p,i=l)}}if(s&&(o[i].union(e),n=!0),!n)(t=new ix(0,0,0,0)).copy(e),o.push(t);s||(s=o.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c){if(h=e[c]){var f=h.shouldBePainted(n,r,!0,!0);(p=h.__isRendered&&(1&h.__dirty||!f)?h.getPrevPaintRect():null)&&l(p);var d=f&&(1&h.__dirty||!h.__isRendered)?h.getPaintRect():null;d&&l(d)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var h,p;f=(h=t[c]).shouldBePainted(n,r,!0,!0);if(h&&(!f||!h.__zr)&&h.__isRendered)(p=h.getPrevPaintRect())&&l(p)}do{i=!1;for(c=0;c<o.length;)if(o[c].isZero())o.splice(c,1);else{for(var g=c+1;g<o.length;)o[c].intersect(o[g])?(i=!0,o[c].union(o[g]),o.splice(g,1)):g++;c++}}while(i);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),r.width=e*n,r.height=t*n,o&&(o.width=e*n,o.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var r=this.dom,i=this.ctx,o=r.width,a=r.height;t=t||this.clearColor;var s=this.motionBlur&&!e,u=this.lastFrameAlpha,l=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/l,a/l));var f=this.domBack;function d(e,n,r,o){if(i.clearRect(e,n,r,o),t&&"transparent"!==t){var a=void 0;$g(t)?(a=t.__canvasGradient||aP(i,t,{x:0,y:0,width:r,height:o}),t.__canvasGradient=a):function(e){return null!=e.image}(t)&&(a=vP(i,t,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),i.save(),i.fillStyle=a||t,i.fillRect(e,n,r,o),i.restore()}s&&(i.save(),i.globalAlpha=u,i.drawImage(f,e,n,r,o),i.restore())}!n||s?d(0,0,o,a):n.length&&Lg(n,(function(e){d(e.x*l,e.y*l,e.width*l,e.height*l)}))},t}(Gv),IL=ML,TL=1e5,AL=314159,NL=.01;var DL=function(){function e(e,t,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=Ag({},n||{}),this.dpr=n.devicePixelRatio||kb,this._singleCanvas=i,this.root=e,e.style&&(hv(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(i){var s=e,u=s.width,l=s.height;null!=n.width&&(u=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,s.width=u*this.dpr,s.height=l*this.dpr,this._width=u,this._height=l;var c=new IL(s,this,this.dpr);c.__builtin__=!0,c.initContext(),a[314159]=c,c.zlevel=AL,o.push(AL),this._domRoot=e}else{this._width=uP(e,0,n),this._height=uP(e,1,n);var f=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(f)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var a=e[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(TL)),r||(r=n.ctx).save(),CP(r,a,i,o===t-1))}r&&r.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(TL)},e.prototype.paintOne=function(e,t){EP(e,t)},e.prototype._paintList=function(e,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,n),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(e),o)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var s=this;Im((function(){s._paintList(e,t,n,r)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(AL).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var r=this,i=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var l=!0,c=!1,f=function(a){var s,u=i[a],f=u.ctx,h=o&&u.createRepaintRects(e,t,d._width,d._height),p=n?u.__startIndex:u.__drawIndex,g=!n&&u.incremental&&Date.now,v=g&&Date.now(),m=u.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,m,h);else if(p===u.__startIndex){var y=e[p];y.incremental&&y.notClear&&!n||u.clear(!1,m,h)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=u.__startIndex);var b=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<u.__endIndex;s++){var i=e[s];if(i.__inHover&&(c=!0),r._doPaintEl(i,u,o,t,n,s===u.__endIndex-1),g)if(Date.now()-v>15)break}n.prevElClipPaths&&f.restore()};if(h)if(0===h.length)s=u.__endIndex;else for(var x=d.dpr,w=0;w<h.length;++w){var _=h[w];f.save(),f.beginPath(),f.rect(_.x*x,_.y*x,_.width*x,_.height*x),f.clip(),b(_),f.restore()}else f.save(),b(),f.restore();u.__drawIndex=s,u.__drawIndex<u.__endIndex&&(l=!1)},d=this,h=0;h<i.length;h++)f(h);return ug.wxa&&Lg(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:l,needsRefreshHover:c}},e.prototype._doPaintEl=function(e,t,n,r,i,o){var a=t.ctx;if(n){var s=e.getPaintRect();(!r||s&&s.intersect(r))&&(CP(a,e,i,o),e.setPrevPaintRect(s))}else CP(a,e,i,o)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=AL);var n=this._layers[e];return n||((n=new IL("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Ig(n,this._layerConfig[e],!0):this._layerConfig[e-NL]&&Ig(n,this._layerConfig[e-NL],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,a=null,s=-1;if(!n[e]&&function(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}(t)){if(i>0&&e>r[0]){for(s=0;s<i-1&&!(r[s]<e&&r[s+1]>e);s++);a=n[r[s]]}if(r.splice(s+1,0,e),n[e]=t,!t.virtual)if(a){var u=a.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.__painter=this}},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];e.call(t,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&e.call(t,o,i)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||e.call(t,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var r,i,o=null,a=0;for(i=0;i<e.length;i++){var s,u=(s=e[i]).zlevel,l=void 0;r!==u&&(r=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(a>0?NL:0),this._needsManuallyCompositing),l.__builtin__||kg("ZLevel "+u+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.incremental?l.__drawIndex=-1:l.__drawIndex=i,t(i),o=l),1&s.__dirty&&!s.__inHover&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}t(i),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Lg(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?Ig(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===e||i===e+NL)Ig(this._layers[i],n[e],!0)}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(Dg(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,i=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=uP(i,0,r),t=uP(i,1,r),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(AL).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new IL("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,i=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,r,i):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,u=a.length;s<u;s++){var l=a[s];CP(n,l,o,s===u-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}(),PL=DL;var OL=Math.sin,LL=Math.cos,RL=Math.PI,BL=2*Math.PI,zL=180/RL,FL=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,r,i,o){this._add("C",e,t,n,r,i,o)},e.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)},e.prototype.arc=function(e,t,n,r,i,o){this.ellipse(e,t,n,n,0,r,i,o)},e.prototype.ellipse=function(e,t,n,r,i,o,a,s){var u=a-o,l=!s,c=Math.abs(u),f=Dy(c-BL)||(l?u>=BL:-u>=BL),d=u>0?u%BL:u%BL+BL,h=!1;h=!!f||!Dy(c)&&d>=RL===!!l;var p=e+n*LL(o),g=t+r*OL(o);this._start&&this._add("M",p,g);var v=Math.round(i*zL);if(f){var m=1/this._p,y=(l?1:-1)*(BL-m);this._add("A",n,r,v,1,+l,e+n*LL(o+y),t+r*OL(o+y)),m>.01&&this._add("A",n,r,v,0,+l,p,g)}else{var b=e+n*LL(a),x=t+r*OL(a);this._add("A",n,r,v,+h,+l,b,x)}},e.prototype.rect=function(e,t,n,r){this._add("M",e,t),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,r,i,o,a,s,u){for(var l=[],c=this._p,f=1;f<arguments.length;f++){var d=arguments[f];if(isNaN(d))return void(this._invalid=!0);l.push(Math.round(d*c)/c)}this._d.push(e+l.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),jL=FL,GL="none",VL=Math.round;var UL=["lineCap","miterLimit","lineJoin"],WL=Rg(UL,(function(e){return"stroke-"+e.toLowerCase()}));function ZL(e,t,n,r){var i=null==t.opacity?1:t.opacity;if(n instanceof mS)e("opacity",i);else{if(function(e){var t=e.fill;return null!=t&&t!==GL}(t)){var o=Ay(t.fill);e("fill",o.color);var a=null!=t.fillOpacity?t.fillOpacity*o.opacity*i:o.opacity*i;(r||a<1)&&e("fill-opacity",a)}else e("fill",GL);if(function(e){var t=e.stroke;return null!=t&&t!==GL}(t)){var s=Ay(t.stroke);e("stroke",s.color);var u=t.strokeNoScale?n.getLineScale():1,l=u?(t.lineWidth||0)/u:0,c=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*i:s.opacity*i,f=t.strokeFirst;if((r||1!==l)&&e("stroke-width",l),(r||f)&&e("paint-order",f?"stroke":"fill"),(r||c<1)&&e("stroke-opacity",c),t.lineDash){var d=lP(n),h=d[0],p=d[1];h&&(p=VL(p||0),e("stroke-dasharray",h.join(",")),(p||r)&&e("stroke-dashoffset",p))}else r&&e("stroke-dasharray",GL);for(var g=0;g<UL.length;g++){var v=UL[g];if(r||t[v]!==aS[v]){var m=t[v]||aS[v];m&&e(WL[g],m)}}}else r&&e("stroke",GL)}}var HL="http://www.w3.org/2000/svg",YL="http://www.w3.org/1999/xlink";function XL(e){return document.createElementNS(HL,e)}function KL(e,t,n,r,i){return{tag:e,attrs:n||{},children:r,text:i,key:t}}function qL(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var r=t.children,i=t.tag;return function(e,t){var n=[];if(t)for(var r in t){var i=t[r],o=r;!1!==i&&(!0!==i&&null!=i&&(o+='="'+i+'"'),n.push(o))}return"<"+e+" "+n.join(" ")+">"}(i,t.attrs)+(t.text||"")+(r?""+n+Rg(r,(function(t){return e(t)})).join(n)+n:"")+("</"+i+">")}(e)}function $L(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function QL(e,t,n,r){return KL("svg","root",{width:e,height:t,xmlns:HL,"xmlns:xlink":YL,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+e+" "+t},n)}var JL={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},eR="transform-origin";function tR(e,t,n){var r=Ag({},e.shape);Ag(r,t),e.buildPath(n,r);var i=new jL;return i.reset(jy(e)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function nR(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[eR]=n+"px "+r+"px")}var rR={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function iR(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function oR(e){return Wg(e)?JL[e]?"cubic-bezier("+JL[e]+")":ny(e)?e:"":""}function aR(e,t,n,r){var i=e.animators,o=i.length,a=[];if(e instanceof XA){var s=function(e,t,n){var r,i,o=e.shape.paths,a={};if(Lg(o,(function(e){var t=$L(n.zrId);t.animation=!0,aR(e,{},t,!0);var o=t.cssAnims,s=t.cssNodes,u=Fg(o),l=u.length;if(l){var c=o[i=u[l-1]];for(var f in c){var d=c[f];a[f]=a[f]||{d:""},a[f].d+=d.d||""}for(var h in s){var p=s[h].animation;p.indexOf(i)>=0&&(r=p)}}})),r){t.d=!1;var s=iR(a,n);return r.replace(i,s)}}(e,t,n);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var u={},l=0;l<o;l++){var c=i[l],f=[c.getMaxTime()/1e3+"s"],d=oR(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");u[p]=u[p]||[p,[]],u[p][1].push(c)}function g(i){var o,a=i[1],s=a.length,u={},l={},c={};function f(e,t,n){for(var r=e.getTracks(),i=e.getMaxTime(),o=0;o<r.length;o++){var a=r[o];if(a.needsAnimate()){var s=a.keyframes,u=a.propName;if(n&&(u=n(u)),u)for(var l=0;l<s.length;l++){var c=s[l],f=Math.round(c.time/i*100)+"%",d=oR(c.easing),h=c.rawValue;(Wg(h)||Hg(h))&&(t[f]=t[f]||{},t[f][u]=c.rawValue,d&&(t[f]["animation-timing-function"]=d))}}}}for(var d=0;d<s;d++){(_=(w=a[d]).targetName)?"shape"===_&&f(w,l):!r&&f(w,u)}for(var h in u){var p={};Zb(p,e),Ag(p,u[h]);var g=Gy(p),v=u[h]["animation-timing-function"];c[h]=g?{transform:g}:{},nR(c[h],p),v&&(c[h]["animation-timing-function"]=v)}var m=!0;for(var h in l){c[h]=c[h]||{};var y=!o;v=l[h]["animation-timing-function"];y&&(o=new V_);var b=o.len();o.reset(),c[h].d=tR(e,l[h],o);var x=o.len();if(!y&&b!==x){m=!1;break}v&&(c[h]["animation-timing-function"]=v)}if(!m)for(var h in c)delete c[h].d;if(!r)for(d=0;d<s;d++){var w,_;"style"===(_=(w=a[d]).targetName)&&f(w,c,(function(e){return rR[e]}))}var S,E=Fg(c),C=!0;for(d=1;d<E.length;d++){var k=E[d-1],M=E[d];if(c[k][eR]!==c[M][eR]){C=!1;break}S=c[k][eR]}if(C&&S){for(var h in c)c[h][eR]&&delete c[h][eR];t[eR]=S}if(zg(E,(function(e){return Fg(c[e]).length>0})).length)return iR(c,n)+" "+i[0]+" both"}for(var v in u){(s=g(u[v]))&&a.push(s)}if(a.length){var m=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+m]={animation:a.join(",")},t.class=m}}var sR=Math.round;function uR(e){return e&&Wg(e.src)}function lR(e){return e&&Ug(e.toDataURL)}function cR(e,t,n,r){ZL((function(i,o){var a="fill"===i||"stroke"===i;a&&function(e){return e&&("linear"===e.type||"radial"===e.type)}(o)?function(e,t,n,r){var i,o=e[n],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(By(o))i="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!zy(o))return void 0;i="radialGradient",a.cx=ev(o.x,.5),a.cy=ev(o.y,.5),a.r=ev(o.r,.5)}for(var s=o.colorStops,u=[],l=0,c=s.length;l<c;++l){var f=100*Oy(s[l].offset)+"%",d=Ay(s[l].color),h=d.color,p=d.opacity,g={offset:f};g["stop-color"]=h,p<1&&(g["stop-opacity"]=p),u.push(KL("stop",l+"",g))}var v=qL(KL(i,"",a,u)),m=r.gradientCache,y=m[v];y||(y=r.zrId+"-g"+r.gradientIdx++,m[v]=y,a.id=y,r.defs[y]=KL(i,y,a,u));t[n]=Fy(y)}(t,e,i,r):a&&function(e){return Ry(e)||function(e){return e&&!!e.svgElement}(e)}(o)?function(e,t,n,r){var i,o=e.style[n],a={patternUnits:"userSpaceOnUse"};if(Ry(o)){var s=o.imageWidth,u=o.imageHeight,l=void 0,c=o.image;if(Wg(c)?l=c:uR(c)?l=c.src:lR(c)&&(l=c.toDataURL()),"undefined"===typeof Image){var f="Image width/height must been given explictly in svg-ssr renderer.";iv(s,f),iv(u,f)}else if(null==s||null==u){var d=function(e,t){if(e){var n=e.elm,r=e.attrs.width=s||t.width,i=e.attrs.height=u||t.height;n&&(n.setAttribute("width",r),n.setAttribute("height",i))}},h=Fw(l,null,e,(function(e){d(p,e),d(i,e)}));h&&h.width&&h.height&&(s=s||h.width,u=u||h.height)}i=KL("image","img",{href:l,width:s,height:u}),a.width=s,a.height=u}else o.svgElement&&(i=Mg(o.svgElement),a.width=o.svgWidth,a.height=o.svgHeight);if(!i)return;a.patternTransform=Gy(o);var p=KL("pattern","",a,[i]),g=qL(p),v=r.patternCache,m=v[g];m||(m=r.zrId+"-p"+r.patternIdx++,v[g]=m,a.id=m,p=r.defs[m]=KL("pattern",m,a,[i]));t[n]=Fy(m)}(n,e,i,r):e[i]=o}),t,n,!1),function(e,t,n){var r=e.style;if(function(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(r)){var i=function(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(e),o=n.shadowCache,a=o[i];if(!a){var s=e.getGlobalScale(),u=s[0],l=s[1];if(!u||!l)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=Ay(r.shadowColor),p=h.opacity,g=h.color,v=d/2/u+" "+d/2/l;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=KL("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[KL("feDropShadow","",{dx:c/u,dy:f/l,stdDeviation:v,"flood-color":g,"flood-opacity":p})]),o[i]=a}t.filter=Fy(a)}}(n,e,r)}function fR(e){return Dy(e[0]-1)&&Dy(e[1])&&Dy(e[2])&&Dy(e[3]-1)}function dR(e,t,n){if(t&&(!function(e){return Dy(e[4])&&Dy(e[5])}(t)||!fR(t))){var r=n?10:1e4;e.transform=fR(t)?"translate("+sR(t[4]*r)/r+" "+sR(t[5]*r)/r+")":function(e){return"matrix("+Py(e[0])+","+Py(e[1])+","+Py(e[2])+","+Py(e[3])+","+Oy(e[4])+","+Oy(e[5])+")"}(t)}}function hR(e,t,n){for(var r=e.points,i=[],o=0;o<r.length;o++)i.push(sR(r[o][0]*n)/n),i.push(sR(r[o][1]*n)/n);t.points=i.join(" ")}function pR(e){return!e.smooth}var gR={circle:[function(e){var t=Rg(e,(function(e){return"string"===typeof e?[e,e]:e}));return function(e,n,r){for(var i=0;i<t.length;i++){var o=t[i],a=e[o[0]];null!=a&&(n[o[1]]=sR(a*r)/r)}}}(["cx","cy","r"])],polyline:[hR,pR],polygon:[hR,pR]};function vR(e,t){var n=e.style,r=e.shape,i=gR[e.type],o={},a=t.animation,s="path",u=e.style.strokePercent,l=t.compress&&jy(e)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||a&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return!0;return!1}(e)||u<1){e.path||e.createPathProxy();var c=e.path;e.shapeChanged()&&(c.beginPath(),e.buildPath(c,e.shape),e.pathUpdated());var f=c.getVersion(),d=e,h=d.__svgPathBuilder;d.__svgPathVersion===f&&h&&u===d.__svgPathStrokePercent||(h||(h=d.__svgPathBuilder=new jL),h.reset(l),c.rebuildPath(h,u),h.generateStr(),d.__svgPathVersion=f,d.__svgPathStrokePercent=u),o.d=h.getStr()}else{s=e.type;var p=Math.pow(10,l);i[0](r,o,p)}return dR(o,e.transform),cR(o,n,e,t),t.animation&&aR(e,o,t),KL(s,e.id+"",o)}function mR(e,t){return e instanceof cS?vR(e,t):e instanceof mS?function(e,t){var n=e.style,r=n.image;if(r&&!Wg(r)&&(uR(r)?r=r.src:lR(r)&&(r=r.toDataURL())),r){var i=n.x||0,o=n.y||0,a={href:r,width:n.width,height:n.height};return i&&(a.x=i),o&&(a.y=o),dR(a,e.transform),cR(a,n,e,t),t.animation&&aR(e,a,t),KL("image",e.id+"",a)}}(e,t):e instanceof hS?function(e,t){var n=e.style,r=n.text;if(null!=r&&(r+=""),r&&!isNaN(n.x)&&!isNaN(n.y)){var i=n.font||cg,o=n.x||0,a=function(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}(n.y||0,fx(i),n.textBaseline),s={"dominant-baseline":"central","text-anchor":Ly[n.textAlign]||n.textAlign};if(OS(n)){var u="",l=n.fontStyle,c=DS(n.fontSize);if(!parseFloat(c))return;var f=n.fontFamily||lg,d=n.fontWeight;u+="font-size:"+c+";font-family:"+f+";",l&&"normal"!==l&&(u+="font-style:"+l+";"),d&&"normal"!==d&&(u+="font-weight:"+d+";"),s.style=u}else s.style="font: "+i;return r.match(/\s/)&&(s["xml:space"]="preserve"),o&&(s.x=o),a&&(s.y=a),dR(s,e.transform),cR(s,n,e,t),t.animation&&aR(e,s,t),KL("text",e.id+"",s,void 0,r)}}(e,t):void 0}function yR(e,t,n){var r=n.clipPathCache,i=n.defs,o=r[e.id];if(!o){var a={id:o=n.zrId+"-c"+n.clipPathIdx++};r[e.id]=o,i[o]=KL("clipPath",o,a,[vR(e,n)])}t["clip-path"]=Fy(o)}function bR(e){return document.createTextNode(e)}function xR(e,t,n){e.insertBefore(t,n)}function wR(e,t){e.removeChild(t)}function _R(e,t){e.appendChild(t)}function SR(e){return e.parentNode}function ER(e){return e.nextSibling}function CR(e,t){e.textContent=t}var kR=KL("","");function MR(e){return void 0===e}function IR(e){return void 0!==e}function TR(e,t,n){for(var r={},i=t;i<=n;++i){var o=e[i].key;void 0!==o&&(r[o]=i)}return r}function AR(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function NR(e){var t,n=e.children,r=e.tag;if(IR(r)){var i=e.elm=XL(r);if(OR(kR,e),Vg(n))for(t=0;t<n.length;++t){var o=n[t];null!=o&&_R(i,NR(o))}else IR(e.text)&&!Yg(e.text)&&_R(i,bR(e.text))}else e.elm=bR(e.text);return e.elm}function DR(e,t,n,r,i){for(;r<=i;++r){var o=n[r];null!=o&&xR(e,NR(o),t)}}function PR(e,t,n,r){for(;n<=r;++n){var i=t[n];if(null!=i)if(IR(i.tag))wR(SR(i.elm),i.elm);else wR(e,i.elm)}}function OR(e,t){var n,r=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(n in o){var a=o[n];i[n]!==a&&(!0===a?r.setAttribute(n,""):!1===a?r.removeAttribute(n):120!==n.charCodeAt(0)?r.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?r.setAttributeNS("http://www.w3.org/2000/xmlns/",n,a):58===n.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,a):58===n.charCodeAt(5)?r.setAttributeNS(YL,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function LR(e,t){var n=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(OR(e,t),MR(t.text)?IR(r)&&IR(i)?r!==i&&function(e,t,n){for(var r,i,o,a=0,s=0,u=t.length-1,l=t[0],c=t[u],f=n.length-1,d=n[0],h=n[f];a<=u&&s<=f;)null==l?l=t[++a]:null==c?c=t[--u]:null==d?d=n[++s]:null==h?h=n[--f]:AR(l,d)?(LR(l,d),l=t[++a],d=n[++s]):AR(c,h)?(LR(c,h),c=t[--u],h=n[--f]):AR(l,h)?(LR(l,h),xR(e,l.elm,ER(c.elm)),l=t[++a],h=n[--f]):AR(c,d)?(LR(c,d),xR(e,c.elm,l.elm),c=t[--u],d=n[++s]):(MR(r)&&(r=TR(t,a,u)),MR(i=r[d.key])||(o=t[i]).tag!==d.tag?xR(e,NR(d),l.elm):(LR(o,d),t[i]=void 0,xR(e,o.elm,l.elm)),d=n[++s]);(a<=u||s<=f)&&(a>u?DR(e,null==n[f+1]?null:n[f+1].elm,n,s,f):PR(e,t,a,u))}(n,r,i):IR(i)?(IR(e.text)&&CR(n,""),DR(n,null,i,0,i.length-1)):IR(r)?PR(n,r,0,r.length-1):IR(e.text)&&CR(n,""):e.text!==t.text&&(IR(r)&&PR(n,r,0,r.length-1),CR(n,t.text)))}var RR=0,BR=function(){function e(e,t,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=t,this._opts=n=Ag({},n),this.root=e,this._id="zr"+RR++,this._oldVNode=QL(n.width,n.height),e&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=XL("svg");OR(null,this._oldVNode),r.appendChild(i),e.appendChild(r)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(AR(e,t))LR(e,t);else{var n=e.elm,r=SR(n);NR(t),null!==r&&(xR(r,t.elm,ER(n)),PR(r,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return mR(e,$L(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._backgroundColor,r=this._width,i=this._height,o=$L(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[];if(n&&"none"!==n){var s=Ay(n),u=s.color,l=s.opacity;this._bgVNode=KL("rect","bg",{width:r,height:i,x:"0",y:"0",id:"0",fill:u,"fill-opacity":l}),a.push(this._bgVNode)}else this._bgVNode=null;var c=e.compress?null:this._mainVNode=KL("g","main",{},[]);this._paintList(t,o,c?c.children:a),c&&a.push(c);var f=Rg(Fg(o.defs),(function(e){return o.defs[e]}));if(f.length&&a.push(KL("defs","defs",{},f)),e.animation){var d=function(e,t,n){var r=(n=n||{}).newline?"\n":"",i=" {"+r,o=r+"}",a=Rg(Fg(e),(function(t){return t+i+Rg(Fg(e[t]),(function(n){return n+":"+e[t][n]+";"})).join(r)+o})).join(r),s=Rg(Fg(t),(function(e){return"@keyframes "+e+i+Rg(Fg(t[e]),(function(n){return n+i+Rg(Fg(t[e][n]),(function(r){var i=t[e][n][r];return"d"===r&&(i='path("'+i+'")'),r+":"+i+";"})).join(r)+o})).join(r)+o})).join(r);return a||s?["<![CDATA[",a,s,"]]>"].join(r):""}(o.cssNodes,o.cssAnims,{newline:!0});if(d){var h=KL("style","stl",{},[],d);a.push(h)}}return QL(r,i,a,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},qL(this.renderToVNode({animation:ev(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:ev(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e;var t=this._bgVNode;if(t&&t.elm){var n=Ay(e),r=n.color,i=n.opacity;t.elm.setAttribute("fill",r),i<1&&t.elm.setAttribute("fill-opacity",i)}},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var r,i,o=e.length,a=[],s=0,u=0,l=0;l<o;l++){var c=e[l];if(!c.invisible){var f=c.__clipPaths,d=f&&f.length||0,h=i&&i.length||0,p=void 0;for(p=Math.max(d-1,h-1);p>=0&&(!f||!i||f[p]!==i[p]);p--);for(var g=h-1;g>p;g--)r=a[--s-1];for(var v=p+1;v<d;v++){var m={};yR(f[v],m,t);var y=KL("g","clip-g-"+u++,m,[]);(r?r.children:n).push(y),a[s++]=y,r=y}i=f;var b=mR(c,t);b&&(r?r.children:n).push(b)}}},e.prototype.resize=function(e,t){var n=this._opts,r=this.root,i=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),r&&i&&(i.style.display="none",e=uP(r,0,n),t=uP(r,1,n),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var o=i.style;o.width=e+"px",o.height=t+"px"}var a=this._svgDom;a&&(a.setAttribute("width",e),a.setAttribute("height",t))}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=encodeURIComponent(this.renderToString()),n="data:image/svg+xml;";return e?(t=Vy(t))&&n+"base64,"+t:n+"charset=UTF-8,"+t},e}();var zR=BR;function FR(e){return null==e?0:e.length||1}function jR(e){return e}var GR=function(){function e(e,t,n,r,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||jR,this._newKeyGetter=r||jR,this.context=i,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},r=new Array(e.length),i=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,n,i,"_newKeyGetter");for(var o=0;o<e.length;o++){var a=r[o],s=n[a],u=FR(s);if(u>1){var l=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(l,o)}else 1===u?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},r={},i=[],o=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var a=0;a<i.length;a++){var s=i[a],u=n[s],l=r[s],c=FR(u),f=FR(l);if(c>1&&1===f)this._updateManyToOne&&this._updateManyToOne(l,u),r[s]=null;else if(1===c&&f>1)this._updateOneToMany&&this._updateOneToMany(l,u),r[s]=null;else if(1===c&&1===f)this._update&&this._update(l,u),r[s]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(l,u),r[s]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[r],o=FR(i);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(i[a]);else 1===o&&this._add&&this._add(i);t[r]=null}},e.prototype._initIndexMap=function(e,t,n,r){for(var i=this._diffModeMultiple,o=0;o<e.length;o++){var a="_ec_"+this[r](e[o],o);if(i||(n[o]=a),t){var s=t[a],u=FR(s);0===u?(t[a]=o,i&&n.push(a)):1===u?t[a]=[s,o]:s.push(o)}}},e}(),VR=GR,UR=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function WR(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function ZR(e){return"category"===e?"ordinal":"time"===e?"time":"float"}var HR=function(e){this.otherDims={},null!=e&&Ag(this,e)},YR=gw(),XR={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},KR=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=QR(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return ev(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=uI(this.source),n=!JR(e),r="",i=[],o=0,a=0;o<e;o++){var s=void 0,u=void 0,l=void 0,c=this.dimensions[a];if(c&&c.storeDimIndex===o)s=t?c.name:null,u=c.type,l=c.ordinalMeta,a++;else{var f=this.getSourceDimension(o);f&&(s=t?f.name:null,u=f.type)}i.push({property:s,type:u,ordinalMeta:l}),!t||null==s||c&&c.isCalculationCoord||(r+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),r+="$",r+=XR[u]||"f",l&&(r+=l.uid),r+="$"}var d=this.source;return{dimensions:i,hash:[d.seriesLayoutBy,d.startIndex,r].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(t);o&&(r=o.name)}e.push(r)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function qR(e){return e instanceof KR}function $R(e){for(var t=cv(),n=0;n<(e||[]).length;n++){var r=e[n],i=Yg(r)?r.name:r;null!=i&&null==t.get(i)&&t.set(i,n)}return t}function QR(e){var t=YR(e);return t.dimNameMap||(t.dimNameMap=$R(e.dimensionsDefine))}function JR(e){return e>30}var eB,tB,nB,rB,iB,oB,aB,sB=Yg,uB=Rg,lB="undefined"===typeof Int32Array?Array:Int32Array,cB=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],fB=["_approximateExtent"],dB=function(){function e(e,t){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;qR(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n=n||["x","y"];for(var i={},o=[],a={},s=!1,u={},l=0;l<n.length;l++){var c=n[l],f=Wg(c)?new HR({name:c}):c instanceof HR?c:new HR(c),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var h=f.otherDims=f.otherDims||{};o.push(d),i[d]=f,null!=u[d]&&(s=!0),f.createInvertedIndices&&(a[d]=[]),0===h.itemName&&(this._nameDimIdx=l),0===h.itemId&&(this._idDimIdx=l),r&&(f.storeDimIndex=l)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=a,this._dimOmitted){var p=this._dimIdxToName=cv();Lg(o,(function(e){p.set(i[e].storeDimIndex,e)}))}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(null!=n)return n;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(Hg(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var r,i=this;if(e instanceof nT&&(r=e),!r){var o=this.dimensions,a=nI(e)||Og(e)?new lI(e,o.length):e;r=new nT;var s=uB(o,(function(e){return{type:i._dimInfos[e].type,property:e}}));r.initData(a,s,n)}this._store=r,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(e,t){var n={},r=n.encode={},i=cv(),o=[],a=[],s={};Lg(e.dimensions,(function(t){var n,u=e.getDimensionInfo(t),l=u.coordDim;if(l){var c=u.coordDimIndex;WR(r,l)[c]=t,u.isExtraCoord||(i.set(l,1),"ordinal"!==(n=u.type)&&"time"!==n&&(o[0]=t),WR(s,l)[c]=e.getDimensionIndex(u.name)),u.defaultTooltip&&a.push(t)}Vk.each((function(e,t){var n=WR(r,t),i=u.otherDims[t];null!=i&&!1!==i&&(n[i]=u.name)}))}));var u=[],l={};i.each((function(e,t){var n=r[t];l[t]=n[0],u=u.concat(n)})),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=Rg(u,(function(t){return e.getDimensionInfo(t).storeDimIndex})),n.encodeFirstDimNotExtra=l;var c=r.label;c&&c.length&&(o=c.slice());var f=r.tooltip;return f&&f.length?a=f.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,n.userOutput=new UR(s,t),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var a=r;a<i;a++){var s=a-r;this._nameList[a]=t[s],o&&aB(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var r=this._dimInfos[t[n]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Yk&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,i=this._idList;if(n.getSource().sourceFormat===Uk&&!n.pure)for(var o=[],a=e;a<t;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&sw(s)&&(this.hasItemOption=!0),s){var u=s.name;null==r[a]&&null!=u&&(r[a]=fw(u,null));var l=s.id;null==i[a]&&null!=l&&(i[a]=fw(l,null))}}if(this._shouldMakeIdFromName())for(a=e;a<t;a++)aB(this,a);eB(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){sB(e)?Ag(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=nB(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[n]:n},e.prototype.getId=function(e){return tB(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,r=this._store;return Vg(e)?r.getValues(uB(e,(function(e){return n._getStoreDimIndex(e)})),t):r.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},e.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},e.prototype.each=function(e,t,n){Ug(e)&&(n=t,t=e,e=[]);var r=n||this,i=uB(rB(e),this._getStoreDimIndex,this);this._store.each(i,r?jg(t,r):t)},e.prototype.filterSelf=function(e,t,n){Ug(e)&&(n=t,t=e,e=[]);var r=n||this,i=uB(rB(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?jg(t,r):t),this},e.prototype.selectRange=function(e){var t=this,n={},r=Fg(e),i=[];return Lg(r,(function(r){var o=t._getStoreDimIndex(r);n[o]=e[r],i.push(o)})),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){Ug(e)&&(n=t,t=e,e=[]),n=n||this;var r=[];return this.each(e,(function(){r.push(t&&t.apply(this,arguments))}),n),r},e.prototype.map=function(e,t,n,r){var i=n||r||this,o=uB(rB(e),this._getStoreDimIndex,this),a=oB(this);return a._store=this._store.map(o,i?jg(t,i):t),a},e.prototype.modify=function(e,t,n,r){var i=n||r||this;var o=uB(rB(e),this._getStoreDimIndex,this);this._store.modify(o,i?jg(t,i):t)},e.prototype.downSample=function(e,t,n,r){var i=oB(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,n,r),i},e.prototype.lttbDownSample=function(e,t){var n=oB(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new CC(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new VR(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return tB(e,t)}),(function(e){return tB(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},sB(e)?Ag(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],r=n&&n[t];return null==r?this.getVisual(t):r},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var i=r[t];return null==i&&(Vg(i=this.getVisual(t))?i=i.slice():sB(i)&&(i=Ag({},i)),r[t]=i),i},e.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,sB(t)?Ag(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){sB(e)?Ag(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?Ag(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;US(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){Lg(this._graphicEls,(function(n,r){n&&e&&e.call(t,n,r)}))},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:uB(this.dimensions,this._getDimInfo,this),this.hostModel)),iB(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];Ug(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(nv(arguments)))})},e.internalField=(eB=function(e){var t=e._invertedIndicesMap;Lg(t,(function(n,r){var i=e._dimInfos[r],o=i.ordinalMeta,a=e._store;if(o){n=t[r]=new lB(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(i.storeDimIndex,s)]=s}}))},nB=function(e,t,n){return fw(e._getCategory(t,n),null)},tB=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=nB(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},rB=function(e){return Vg(e)||(e=null!=e?[e]:[]),e},oB=function(t){var n=new e(t._schema?t._schema:uB(t.dimensions,t._getDimInfo,t),t.hostModel);return iB(n,t),n},iB=function(e,t){Lg(cB.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,Lg(fB,(function(n){e[n]=Mg(t[n])})),e._calculationInfo=Ag({},t._calculationInfo)},void(aB=function(e,t){var n=e._nameList,r=e._idList,i=e._nameDimIdx,o=e._idDimIdx,a=n[t],s=r[t];if(null==a&&null!=i&&(n[t]=a=nB(e,i,t)),null==s&&null!=o&&(r[t]=s=nB(e,o,t)),null==s&&null!=a){var u=e._nameRepeatCount,l=u[a]=(u[a]||0)+1;s=a,l>1&&(s+="__ec__"+l),r[t]=s}})),e}(),hB=dB;function pB(e,t){nI(e)||(e=iI(e));var n=(t=t||{}).coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],i=cv(),o=[],a=function(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return Lg(t,(function(e){var t;Yg(e)&&(t=e.dimsDef)&&(i=Math.max(i,t.length))})),i}(e,n,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&JR(a),u=r===e.dimensionsDefine,l=u?QR(e):$R(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,a));for(var f=cv(c),d=new KI(a),h=0;h<d.length;h++)d[h]=-1;function p(e){var t=d[e];if(t<0){var n=r[e],i=Yg(n)?n:{name:n},a=new HR,s=i.name;null!=s&&null!=l.get(s)&&(a.name=a.displayName=s),null!=i.type&&(a.type=i.type),null!=i.displayName&&(a.displayName=i.displayName);var u=o.length;return d[e]=u,a.storeDimIndex=e,o.push(a),a}return o[t]}if(!s)for(h=0;h<a;h++)p(h);f.each((function(e,t){var n=rw(e).slice();if(1===n.length&&!Wg(n[0])&&n[0]<0)f.set(t,!1);else{var r=f.set(t,[]);Lg(n,(function(e,n){var i=Wg(e)?l.get(e):e;null!=i&&i<a&&(r[n]=i,v(p(i),t,n))}))}}));var g=0;function v(e,t,n){null!=Vk.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,i.set(t,!0))}Lg(n,(function(e){var t,n,r,i;if(Wg(e))t=e,i={};else{t=(i=e).name;var o=i.ordinalMeta;i.ordinalMeta=null,(i=Ag({},i)).ordinalMeta=o,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=f.get(t);if(!1!==s){if(!(s=rw(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;g<a&&null!=p(g).coordDim;)g++;g<a&&s.push(g++)}Lg(s,(function(e,o){var a=p(e);if(u&&null!=i.type&&(a.type=i.type),v(Ng(a,i),t,o),null==a.name&&n){var s=n[o];!Yg(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}r&&Ng(a.otherDims,r)}))}}));var m=t.generateCoord,y=t.generateCoordCount,b=null!=y;y=m?y||1:0;var x=m||"value";function w(e){null==e.name&&(e.name=e.coordDim)}if(s)Lg(o,(function(e){w(e)})),o.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var _=0;_<a;_++){var S=p(_);null==S.coordDim&&(S.coordDim=gB(x,i,b),S.coordDimIndex=0,(!m||y<=0)&&(S.isExtraCoord=!0),y--),w(S),null!=S.type||iM(e,_)!==$k&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type="ordinal")}return function(e){for(var t=cv(),n=0;n<e.length;n++){var r=e[n],i=r.name,o=t.get(i)||0;o>0&&(r.name=i+(o-1)),o++,t.set(i,o)}}(o),new KR({source:e,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function gB(e,t,n){var r=t.data;if(n||r.hasOwnProperty(e)){for(var i=0;r.hasOwnProperty(e+i);)i++;e+=i}return t.set(e,!0),e}var vB=function(e){this.coordSysDims=[],this.axisMap=cv(),this.categoryAxisMap=cv(),this.coordSysName=e};var mB={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",bw).models[0],o=e.getReferringComponents("yAxis",bw).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),yB(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),yB(o)&&(r.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",bw).models[0];t.coordSysDims=["single"],n.set("single",i),yB(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",bw).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),yB(o)&&(r.set("radius",o),t.firstCategoryDimIndex=0),yB(a)&&(r.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();Lg(o.parallelAxisIndex,(function(e,o){var s=i.getComponent("parallelAxis",e),u=a[o];n.set(u,s),yB(s)&&(r.set(u,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=o))}))}};function yB(e){return"category"===e.get("type")}function bB(e,t,n){var r,i,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(e){return!qR(e.schema)}(t)?(i=t.schema,r=i.dimensions,o=t.store):r=t;var u,l,c,f,d=!(!e||!e.get("stack"));if(Lg(r,(function(e,t){Wg(e)&&(r[t]=e={name:e}),d&&!e.isExtraCoord&&(a||u||!e.ordinalMeta||(u=e),l||"ordinal"===e.type||"time"===e.type||s&&s!==e.coordDim||(l=e))})),!l||a||u||(a=!0),l){c="__\0ecstackresult_"+e.id,f="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=l.coordDim,p=l.type,g=0;Lg(r,(function(e){e.coordDim===h&&g++}));var v={name:c,coordDim:h,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},m={name:f,coordDim:f,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};i?(o&&(v.storeDimIndex=o.ensureCalculationDimension(f,p),m.storeDimIndex=o.ensureCalculationDimension(c,p)),i.appendCalculationDimension(v),i.appendCalculationDimension(m)):(r.push(v),r.push(m))}return{stackedDimension:l&&l.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:f,stackResultDimension:c}}function xB(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function wB(e,t){return xB(e,t)?e.getCalculationInfo("stackResultDimension"):t}var _B=function(e,t,n){n=n||{};var r,i=t.getSourceManager(),o=!1;e?(o=!0,r=iI(e)):o=(r=i.getSource()).sourceFormat===Uk;var a=function(e){var t=e.get("coordinateSystem"),n=new vB(t),r=mB[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}(t),s=function(e,t){var n,r=e.get("coordinateSystem"),i=EM.get(r);return t&&t.coordSysDims&&(n=Rg(t.coordSysDims,(function(e){var n={name:e},r=t.axisMap.get(e);if(r){var i=r.get("type");n.type=ZR(i)}return n}))),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}(t,a),u=n.useEncodeDefaulter,l=Ug(u)?u:u?Gg(tM,s,t):null,c=pB(r,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!o}),f=function(e,t,n){var r,i;return n&&Lg(e,(function(e,o){var a=e.coordDim,s=n.categoryAxisMap.get(a);s&&(null==r&&(r=o),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(i=!0)})),i||null==r||(e[r].otherDims.itemName=0),r}(c.dimensions,n.createInvertedIndices,a),d=o?null:i.getSharedDataStore(c),h=bB(t,{schema:c,store:d}),p=new hB(c,t);p.setCalculationInfo(h);var g=null!=f&&function(e){if(e.sourceFormat===Uk){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!Vg(aw(t))}}(r)?function(e,t,n,r){return r===f?n:this.defaultDimValueGetter(e,t,n,r)}:null;return p.hasItemOption=!1,p.initData(o?r:d,null,g),p},SB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return og(t,e),t.prototype.getInitialData=function(e){return _B(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new Mx,n=rP("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o="none"===r?"circle":r,a=.8*e.itemHeight,s=rP(o,(e.itemWidth-a)/2,(e.itemHeight-a)/2,a,a,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var u="inherit"===e.iconRotate?i:e.iconRotate||0;return s.rotation=u*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(PT),EB=SB;function CB(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var i=xI(e,t,n[0]);return null!=i?i+"":null}if(r){for(var o=[],a=0;a<n.length;a++)o.push(xI(e,t,n[a]));return o.join(" ")}}function kB(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Vg(t))return t+"";for(var r=[],i=0;i<n.length;i++){var o=e.getDimensionIndex(n[i]);o>=0&&r.push(t[o])}return r.join(" ")}var MB=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.updateData(t,n,r,i),o}return og(t,e),t.prototype._createSymbol=function(e,t,n,r,i){this.removeAll();var o=rP(e,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=IB,this._symbolType=e,this.add(o)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){bE(this.childAt(0))},t.prototype.downplay=function(){xE(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},t.prototype.updateData=function(e,n,r,i){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",a=e.hostModel,s=t.getSymbolSize(e,n),u=o!==this._symbolType,l=i&&i.disableAnimation;if(u){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,s,c)}else{(d=this.childAt(0)).silent=!1;var f={scaleX:s[0]/2,scaleY:s[1]/2};l?d.attr(f):ZE(d,f,a,n),$E(d)}if(this._updateCommon(e,n,s,r,i),u){var d=this.childAt(0);if(!l){f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,HE(d,f,a,n)}}l&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,p=this.childAt(0),g=e.hostModel;if(r&&(o=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,u=r.focus,l=r.blurScope,f=r.labelStatesModels,d=r.hoverScale,h=r.cursorStyle,c=r.emphasisDisabled),!r||e.hasItemOption){var v=r&&r.itemModel?r.itemModel:e.getItemModel(t),m=v.getModel("emphasis");o=m.getModel("itemStyle").getItemStyle(),s=v.getModel(["select","itemStyle"]).getItemStyle(),a=v.getModel(["blur","itemStyle"]).getItemStyle(),u=m.get("focus"),l=m.get("blurScope"),c=m.get("disabled"),f=nC(v),d=m.getShallow("scale"),h=v.getShallow("cursor")}var y=e.getItemVisual(t,"symbolRotate");p.attr("rotation",(y||0)*Math.PI/180||0);var b=oP(e.getItemVisual(t,"symbolOffset"),n);b&&(p.x=b[0],p.y=b[1]),h&&p.attr("cursor",h);var x=e.getItemVisual(t,"style"),w=x.fill;if(p instanceof mS){var _=p.style;p.useStyle(Ag({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},x))}else p.__isEmptyBrush?p.useStyle(Ag({},x)):p.useStyle(x),p.style.decal=null,p.setColor(w,i&&i.symbolInnerColor),p.style.strokeNoScale=!0;var S=e.getItemVisual(t,"liftZ"),E=this._z2;null!=S?null==E&&(this._z2=p.z2,p.z2+=S):null!=E&&(p.z2=E,this._z2=null);var C=i&&i.useNameLabel;tC(p,f,{labelFetcher:g,labelDataIndex:t,defaultText:function(t){return C?e.getName(t):CB(e,t)},inheritColor:w,defaultOpacity:x.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var k=p.ensureState("emphasis");if(k.style=o,p.ensureState("select").style=s,p.ensureState("blur").style=a,d){var M=Math.max(1.1,3/this._sizeY);k.scaleX=this._sizeX*M,k.scaleY=this._sizeY*M}this.setSymbolScale(1),PE(this,u,l,c)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var r=this.childAt(0),i=VS(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var a=r.getTextContent();a&&XE(a,{style:{opacity:0}},t,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();XE(r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:i,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return iP(e.getItemVisual(t,"symbolSize"))},t}(Mx);function IB(e,t){this.parent.drift(e,t)}var TB=MB;function AB(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function NB(e){return null==e||Yg(e)||(e={isIgnore:e}),e||{}}function DB(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:nC(t),cursorStyle:t.get("cursor")}}var PB=function(){function e(e){this.group=new Mx,this._SymbolCtor=e||TB}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=NB(t);var n=this.group,r=e.hostModel,i=this._data,o=this._SymbolCtor,a=t.disableAnimation,s=DB(e),u={disableAnimation:a},l=t.getSymbolPoint||function(t){return e.getItemLayout(t)};i||n.removeAll(),e.diff(i).add((function(r){var i=l(r);if(AB(e,i,r,t)){var a=new o(e,r,s,u);a.setPosition(i),e.setItemGraphicEl(r,a),n.add(a)}})).update((function(c,f){var d=i.getItemGraphicEl(f),h=l(c);if(AB(e,h,c,t)){var p=e.getItemVisual(c,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),(d=new o(e,c,s,u)).setPosition(h);else{d.updateData(e,c,s,u);var v={x:h[0],y:h[1]};a?d.attr(v):ZE(d,v,r)}n.add(d),e.setItemGraphicEl(c,d)}else n.remove(d)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),r)})).execute(),this._getSymbolPoint=l,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var r=e._getSymbolPoint(n);t.setPosition(r),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=DB(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function r(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=NB(n);for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(AB(t,o,i,n)){var a=new this._SymbolCtor(t,i,this._seriesScope);a.traverse(r),a.setPosition(o),this.group.add(a),t.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}(),OB=PB;function LB(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),o=function(e,t){var n=0,r=e.scale.getExtent();"start"===t?n=r[0]:"end"===t?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(i,n),a=r.dim,s=i.dim,u=t.mapDimension(s),l=t.mapDimension(a),c="x"===s||"radius"===s?1:0,f=Rg(e.dimensions,(function(e){return t.mapDimension(e)})),d=!1,h=t.getCalculationInfo("stackResultDimension");return xB(t,f[0])&&(d=!0,f[0]=h),xB(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function RB(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,a=[];return a[o]=n.get(e.baseDim,r),a[1-o]=i,t.dataToPoint(a)}var BB="undefined"!==typeof Float32Array,zB=BB?Float32Array:Array;function FB(e){return Vg(e)?BB?new Float32Array(e):e:new zB(e)}var jB=Math.min,GB=Math.max;function VB(e,t){return isNaN(e)||isNaN(t)}function UB(e,t,n,r,i,o,a,s,u){for(var l,c,f,d,h,p,g=n,v=0;v<r;v++){var m=t[2*g],y=t[2*g+1];if(g>=i||g<0)break;if(VB(m,y)){if(u){g+=o;continue}break}if(g===n)e[o>0?"moveTo":"lineTo"](m,y),f=m,d=y;else{var b=m-l,x=y-c;if(b*b+x*x<.5){g+=o;continue}if(a>0){for(var w=g+o,_=t[2*w],S=t[2*w+1];_===m&&S===y&&v<r;)v++,g+=o,_=t[2*(w+=o)],S=t[2*w+1],b=(m=t[2*g])-l,x=(y=t[2*g+1])-c;var E=v+1;if(u)for(;VB(_,S)&&E<r;)E++,_=t[2*(w+=o)],S=t[2*w+1];var C=.5,k=0,M=0,I=void 0,T=void 0;if(E>=r||VB(_,S))h=m,p=y;else{k=_-l,M=S-c;var A=m-l,N=_-m,D=y-c,P=S-y,O=void 0,L=void 0;if("x"===s){var R=k>0?1:-1;h=m-R*(O=Math.abs(A))*a,p=y,I=m+R*(L=Math.abs(N))*a,T=y}else if("y"===s){var B=M>0?1:-1;h=m,p=y-B*(O=Math.abs(D))*a,I=m,T=y+B*(L=Math.abs(P))*a}else O=Math.sqrt(A*A+D*D),h=m-k*a*(1-(C=(L=Math.sqrt(N*N+P*P))/(L+O))),p=y-M*a*(1-C),T=y+M*a*C,I=jB(I=m+k*a*C,GB(_,m)),T=jB(T,GB(S,y)),I=GB(I,jB(_,m)),p=y-(M=(T=GB(T,jB(S,y)))-y)*O/L,h=jB(h=m-(k=I-m)*O/L,GB(l,m)),p=jB(p,GB(c,y)),I=m+(k=m-(h=GB(h,jB(l,m))))*L/O,T=y+(M=y-(p=GB(p,jB(c,y))))*L/O}e.bezierCurveTo(f,d,h,p,m,y),f=I,d=T}else e.lineTo(m,y)}l=m,c=y,g+=o}return v}var WB=function(){this.smooth=0,this.smoothConstraint=!0},ZB=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return og(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new WB},t.prototype.buildPath=function(e,t){var n=t.points,r=0,i=n.length/2;if(t.connectNulls){for(;i>0&&VB(n[2*i-2],n[2*i-1]);i--);for(;r<i&&VB(n[2*r],n[2*r+1]);r++);}for(;r<i;)r+=UB(e,n,r,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,i=this.path.data,o=V_.CMD,a="x"===t,s=[],u=0;u<i.length;){var l=void 0,c=void 0,f=void 0,d=void 0,h=void 0,p=void 0,g=void 0;switch(i[u++]){case o.M:n=i[u++],r=i[u++];break;case o.L:if(l=i[u++],c=i[u++],(g=a?(e-n)/(l-n):(e-r)/(c-r))<=1&&g>=0){var v=a?(c-r)*g+r:(l-n)*g+n;return a?[e,v]:[v,e]}n=l,r=c;break;case o.C:l=i[u++],c=i[u++],f=i[u++],d=i[u++],h=i[u++],p=i[u++];var m=a?Wm(n,l,f,h,e,s):Wm(r,c,d,p,e,s);if(m>0)for(var y=0;y<m;y++){var b=s[y];if(b<=1&&b>=0){v=a?Vm(r,c,d,p,b):Vm(n,l,f,h,b);return a?[e,v]:[v,e]}}n=h,r=p}}},t}(cS),HB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t}(WB),YB=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return og(t,e),t.prototype.getDefaultShape=function(){return new HB},t.prototype.buildPath=function(e,t){var n=t.points,r=t.stackedOnPoints,i=0,o=n.length/2,a=t.smoothMonotone;if(t.connectNulls){for(;o>0&&VB(n[2*o-2],n[2*o-1]);o--);for(;i<o&&VB(n[2*i],n[2*i+1]);i++);}for(;i<o;){var s=UB(e,n,i,o,o,1,t.smooth,a,t.connectNulls);UB(e,r,i+s-1,s,o,-1,t.stackedOnSmooth,a,t.connectNulls),i+=s+1,e.closePath()}},t}(cS);function XB(e,t,n,r,i){var o=e.getArea(),a=o.x,s=o.y,u=o.width,l=o.height,c=n.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,u+=c,l+=c,a=Math.floor(a),u=Math.round(u);var f=new CS({shape:{x:a,y:s,width:u,height:l}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=u),f.shape.width=0):(p||(f.shape.y+=l),f.shape.height=0);var g=Ug(i)?function(e){i(e,f)}:null;HE(f,{shape:{width:u,height:l,x:a,y:s}},n,null,r,g)}return f}function KB(e,t,n){var r=e.getArea(),i=Lx(r.r0,1),o=Lx(r.r,1),a=new EA({shape:{cx:Lx(e.cx,1),cy:Lx(e.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});t&&("angle"===e.getBaseAxis().dim?a.shape.endAngle=r.startAngle:a.shape.r=i,HE(a,{shape:{endAngle:r.endAngle,r:o}},n));return a}function qB(e,t,n,r,i){return e?"polar"===e.type?KB(e,t,n):"cartesian2d"===e.type?XB(e,t,n,r,i):null:null}function $B(e,t){return e.type===t}function QB(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function JB(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<e.length;){var a=e[o++],s=e[o++];isNaN(a)||(t=Math.min(a,t),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[r,i]]}function ez(e,t){var n=JB(e),r=n[0],i=n[1],o=JB(t),a=o[0],s=o[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function tz(e){return Hg(e)?e:e?.5:0}function nz(e,t,n,r){var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0,u=[],l=[],c=[],f=[];if(r){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||f.push(e[s],e[s+1]);e=f}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],l[0]=e[s],l[1]=e[s+1],a.push(l[0],l[1]),n){case"end":u[o]=c[o],u[1-o]=l[1-o],a.push(u[0],u[1]);break;case"middle":var d=(l[o]+c[o])/2,h=[];u[o]=h[o]=d,u[1-o]=l[1-o],h[1-o]=c[1-o],a.push(u[0],u[1]),a.push(h[0],h[1]);break;default:u[o]=l[o],u[1-o]=c[1-o],a.push(u[0],u[1])}return a.push(e[s++],e[s++]),a}function rz(e,t,n){var r=e.getVisual("visualMeta");if(r&&r.length&&e.count()&&"cartesian2d"===t.type){for(var i,o,a=r.length-1;a>=0;a--){var s=e.getDimensionInfo(r[a].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){o=r[a];break}}if(o){var u=t.getAxis(i),l=Rg(o.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),c=l.length,f=o.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),f.reverse());var d=function(e,t){var n,r,i=[],o=e.length;function a(e,t,n){var r=e.coord;return{coord:n,color:Ey((n-r)/(t.coord-r),[e.color,t.color])}}for(var s=0;s<o;s++){var u=e[s],l=u.coord;if(l<0)n=u;else{if(l>t){r?i.push(a(r,u,t)):n&&i.push(a(n,u,0),a(n,u,t));break}n&&(i.push(a(n,u,0)),n=null),i.push(u),r=u}}return i}(l,"x"===i?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return l[0].coord<0?f[1]?f[1]:l[c-1].color:f[0]?f[0]:l[0].color;var p=d[0].coord-10,g=d[h-1].coord+10,v=g-p;if(v<.001)return"transparent";Lg(d,(function(e){e.offset=(e.coord-p)/v})),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var m=new $A(0,0,0,0,d,!0);return m[i]=p,m[i+"2"]=g,m}}}function iz(e,t,n){var r=e.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=n.getAxesByScale("ordinal")[0];if(o&&(!i||!function(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*TB.getSymbolSize(t,a)[e.isHorizontal()?1:0]>r)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return Lg(o.getViewLabels(),(function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);s[t]=1})),function(e){return!s.hasOwnProperty(t.get(a,e))}}}}function oz(e,t){return[e[2*t],e[2*t+1]]}function az(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<XS.length;t++)if(e.get([XS[t],"endLabel","show"]))return!0;return!1}function sz(e,t,n,r){if($B(t,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),a=r.getData(),s={lastFrameIndex:0},u=az(r)?function(n,r){e._endLabelOnDuring(n,r,a,s,o,i,t)}:null,l=t.getBaseAxis().isHorizontal(),c=XB(t,n,r,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),u);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);l?(f.y-=d,f.height+=2*d):(f.x-=d,f.width+=2*d)}return u&&u(1,c),c}return KB(t,n,r)}var uz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.init=function(){var e=new Mx,t=new OB;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel("lineStyle"),u=e.getModel("areaStyle"),l=a.getLayout("points")||[],c="polar"===i.type,f=this._coordSys,d=this._symbolDraw,h=this._polyline,p=this._polygon,g=this._lineGroup,v=e.get("animation"),m=!u.isEmpty(),y=u.get("origin"),b=LB(i,a,y),x=m&&function(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=FB(2*r),o=0;o<r;o++){var a=RB(n,e,t,o);i[2*o]=a[0],i[2*o+1]=a[1]}return i}(i,a,b),w=e.get("showSymbol"),_=e.get("connectNulls"),S=w&&!c&&iz(e,a,i),E=this._data;E&&E.eachItemGraphicEl((function(e,t){e.__temp&&(o.remove(e),E.setItemGraphicEl(t,null))})),w||d.remove(),o.add(g);var C,k=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(C=i.getArea()).width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var M=rz(a,i,n)||a.getVisual("style")[a.getVisual("drawType")];if(h&&f.type===i.type&&k===this._step){m&&!p?p=this._newPolygon(l,x):p&&!m&&(g.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(e,i,Sk(M));var I=g.getClipPath();if(I)HE(I,{shape:sz(this,i,!1,e).shape},e);else g.setClipPath(sz(this,i,!0,e));w&&d.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),QB(this._stackedOnPoints,x)&&QB(this._points,l)||(v?this._doUpdateAnimation(a,x,i,n,k,y,_):(k&&(l=nz(l,i,k,_),x&&(x=nz(x,i,k,_))),h.setShape({points:l}),p&&p.setShape({points:l,stackedOnPoints:x})))}else w&&d.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),v&&this._initSymbolLabelAnimation(a,i,C),k&&(l=nz(l,i,k,_),x&&(x=nz(x,i,k,_))),h=this._newPolyline(l),m&&(p=this._newPolygon(l,x)),c||this._initOrUpdateEndLabel(e,i,Sk(M)),g.setClipPath(sz(this,i,!0,e));var T=e.getModel("emphasis"),A=T.get("focus"),N=T.get("blurScope"),D=T.get("disabled");(h.useStyle(Ng(s.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"})),BE(h,e,"lineStyle"),h.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(h.getState("emphasis").style.lineWidth=+h.style.lineWidth+1);VS(h).seriesIndex=e.seriesIndex,PE(h,A,N,D);var P=tz(e.get("smooth")),O=e.get("smoothMonotone");if(h.setShape({smooth:P,smoothMonotone:O,connectNulls:_}),p){var L=a.getCalculationInfo("stackedOnSeries"),R=0;p.useStyle(Ng(u.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),L&&(R=tz(L.get("smooth"))),p.setShape({smooth:P,stackedOnSmooth:R,smoothMonotone:O,connectNulls:_}),BE(p,e,"areaStyle"),VS(p).seriesIndex=e.seriesIndex,PE(p,A,N,D)}var B=function(e){r._changePolyState(e)};a.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=B)})),this._polyline.onHoverStateChange=B,this._data=a,this._coordSys=i,this._stackedOnPoints=x,this._points=l,this._step=k,this._valueOrigin=y,e.get("triggerLineEvent")&&(this.packEventData(e,h),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,t){VS(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,r){var i=e.getData(),o=pw(i,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=i.getLayout("points"),s=i.getItemGraphicEl(o);if(!s){var u=a[2*o],l=a[2*o+1];if(isNaN(u)||isNaN(l))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,l))return;var c=e.get("zlevel"),f=e.get("z");(s=new TB(i,o)).x=u,s.y=l,s.setZ(c,f);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=c,d.z=f,d.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else YN.prototype.highlight.call(this,e,t,n,r)},t.prototype.downplay=function(e,t,n,r){var i=e.getData(),o=pw(i,r);if(this._changePolyState("normal"),null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else YN.prototype.downplay.call(this,e,t,n,r)},t.prototype._changePolyState=function(e){var t=this._polygon;pE(this._polyline,e),t&&pE(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new ZB({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new YB({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var r,i,o=t.getBaseAxis(),a=o.inverse;"cartesian2d"===t.type?(r=o.isHorizontal(),i=!1):"polar"===t.type&&(r="angle"===o.dim,i=!0);var s=e.hostModel,u=s.get("animationDuration");Ug(u)&&(u=u(null));var l=s.get("animationDelay")||0,c=Ug(l)?l(null):l;e.eachItemGraphicEl((function(e,o){var s=e;if(s){var f=[e.x,e.y],d=void 0,h=void 0,p=void 0;if(n)if(i){var g=n,v=t.pointToCoord(f);r?(d=g.startAngle,h=g.endAngle,p=-v[1]/180*Math.PI):(d=g.r0,h=g.r,p=v[0])}else{var m=n;r?(d=m.x,h=m.x+m.width,p=e.x):(d=m.y+m.height,h=m.y,p=e.y)}var y=h===d?0:(p-d)/(h-d);a&&(y=1-y);var b=Ug(l)?l(o):u*y+c,x=s.getSymbolPath(),w=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:b}),x.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var r=e.getModel("endLabel");if(az(e)){var i=e.getData(),o=this._polyline,a=i.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new GS({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var u=function(e){for(var t,n,r=e.length/2;r>0&&(t=e[2*r-2],n=e[2*r-1],isNaN(t)||isNaN(n));r--);return r-1}(a);u>=0&&(tC(o,nC(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:u,defaultText:function(e,t,n){return null!=n?kB(i,n):CB(i,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",a=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||a}}}(r,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,r,i,o,a){var s=this._endLabel,u=this._polyline;if(s){e<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var l=n.getLayout("points"),c=n.hostModel,f=c.get("connectNulls"),d=o.get("precision"),h=o.get("distance")||0,p=a.getBaseAxis(),g=p.isHorizontal(),v=p.inverse,m=t.shape,y=v?g?m.x:m.y+m.height:g?m.x+m.width:m.y,b=(g?h:0)*(v?-1:1),x=(g?0:-h)*(v?-1:1),w=g?"x":"y",_=function(e,t,n){for(var r,i,o=e.length/2,a="x"===n?0:1,s=0,u=-1,l=0;l<o;l++)if(i=e[2*l+a],!isNaN(i)&&!isNaN(e[2*l+1-a]))if(0!==l){if(r<=t&&i>=t||r>=t&&i<=t){u=l;break}s=l,r=i}else r=i;return{range:[s,u],t:(t-r)/(i-r)}}(l,y,w),S=_.range,E=S[1]-S[0],C=void 0;if(E>=1){if(E>1&&!f){var k=oz(l,S[0]);s.attr({x:k[0]+b,y:k[1]+x}),i&&(C=c.getRawValue(S[0]))}else{(k=u.getPointOn(y,w))&&s.attr({x:k[0]+b,y:k[1]+x});var M=c.getRawValue(S[0]),I=c.getRawValue(S[1]);i&&(C=Ew(n,d,M,I,_.t))}r.lastFrameIndex=S[0]}else{var T=1===e||r.lastFrameIndex>0?S[0]:0;k=oz(l,T);i&&(C=c.getRawValue(T)),s.attr({x:k[0]+b,y:k[1]+x})}i&&cC(s).setLabelText(C)}},t.prototype._doUpdateAnimation=function(e,t,n,r,i,o,a){var s=this._polyline,u=this._polygon,l=e.hostModel,c=function(e,t,n,r,i,o,a,s){for(var u=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),l=[],c=[],f=[],d=[],h=[],p=[],g=[],v=LB(i,t,a),m=e.getLayout("points")||[],y=t.getLayout("points")||[],b=0;b<u.length;b++){var x=u[b],w=!0,_=void 0,S=void 0;switch(x.cmd){case"=":_=2*x.idx,S=2*x.idx1;var E=m[_],C=m[_+1],k=y[S],M=y[S+1];(isNaN(E)||isNaN(C))&&(E=k,C=M),l.push(E,C),c.push(k,M),f.push(n[_],n[_+1]),d.push(r[S],r[S+1]),g.push(t.getRawIndex(x.idx1));break;case"+":var I=x.idx,T=v.dataDimsForPoint,A=i.dataToPoint([t.get(T[0],I),t.get(T[1],I)]);S=2*I,l.push(A[0],A[1]),c.push(y[S],y[S+1]);var N=RB(v,i,t,I);f.push(N[0],N[1]),d.push(r[S],r[S+1]),g.push(t.getRawIndex(I));break;case"-":w=!1}w&&(h.push(x),p.push(p.length))}p.sort((function(e,t){return g[e]-g[t]}));var D=l.length,P=FB(D),O=FB(D),L=FB(D),R=FB(D),B=[];for(b=0;b<p.length;b++){var z=p[b],F=2*b,j=2*z;P[F]=l[j],P[F+1]=l[j+1],O[F]=c[j],O[F+1]=c[j+1],L[F]=f[j],L[F+1]=f[j+1],R[F]=d[j],R[F+1]=d[j+1],B[b]=h[z]}return{current:P,next:O,stackedOnCurrent:L,stackedOnNext:R,status:B}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),f=c.current,d=c.stackedOnCurrent,h=c.next,p=c.stackedOnNext;if(i&&(f=nz(c.current,n,i,a),d=nz(c.stackedOnCurrent,n,i,a),h=nz(c.next,n,i,a),p=nz(c.stackedOnNext,n,i,a)),ez(f,h)>3e3||u&&ez(d,p)>3e3)return s.stopAnimation(),s.setShape({points:h}),void(u&&(u.stopAnimation(),u.setShape({points:h,stackedOnPoints:p})));s.shape.__points=c.current,s.shape.points=f;var g={shape:{points:h}};c.current!==f&&(g.shape.__points=c.next),s.stopAnimation(),ZE(s,g,l),u&&(u.setShape({points:f,stackedOnPoints:d}),u.stopAnimation(),ZE(u,{shape:{stackedOnPoints:p}},l),s.shape.points!==u.shape.points&&(u.shape.points=s.shape.points));for(var v=[],m=c.status,y=0;y<m.length;y++){if("="===m[y].cmd){var b=e.getItemGraphicEl(m[y].idx1);b&&v.push({el:b,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){u&&u.dirtyShape();for(var e=s.shape.__points,t=0;t<v.length;t++){var n=v[t].el,r=2*v[t].ptIdx;n.x=e[r],n.y=e[r+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(YN),lz=uz;function cz(e,t){return{seriesType:e,plan:RT(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,i=e.pipelineContext,o=t||i.large;if(r){var a=Rg(r.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),s=a.length,u=n.getCalculationInfo("stackResultDimension");xB(n,a[0])&&(a[0]=u),xB(n,a[1])&&(a[1]=u);var l=n.getStore(),c=n.getDimensionIndex(a[0]),f=n.getDimensionIndex(a[1]);return s&&{progress:function(e,t){for(var n=e.end-e.start,i=o&&FB(n*s),a=[],u=[],d=e.start,h=0;d<e.end;d++){var p=void 0;if(1===s){var g=l.get(c,d);p=r.dataToPoint(g,null,u)}else a[0]=l.get(c,d),a[1]=l.get(f,d),p=r.dataToPoint(a,null,u);o?(i[h++]=p[0],i[h++]=p[1]):t.setItemLayout(d,p.slice())}o&&t.setLayout("points",i)}}}}}}var fz={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},dz=function(e){return Math.round(e.length/2)};function hz(e){return{seriesType:e,reset:function(e,t,n){var r=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,a=r.count();if(a>10&&"cartesian2d"===o.type&&i){var s=o.getBaseAxis(),u=o.getOtherAxis(s),l=s.getExtent(),c=n.getDevicePixelRatio(),f=Math.abs(l[1]-l[0])*(c||1),d=Math.round(a/f);if(isFinite(d)&&d>1){"lttb"===i&&e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/d));var h=void 0;Wg(i)?h=fz[i]:Ug(i)&&(h=i),h&&e.setData(r.downSample(r.mapDimension(u.dim),1/d,h,dz))}}}}}var pz="__ec_stack_";function gz(e){return e.get("stack")||pz+e.seriesIndex}function vz(e){return e.dim+e.index}function mz(e,t){var n=[];return t.eachSeriesByType(e,(function(e){_z(e)&&n.push(e)})),n}function yz(e){var t=function(e){var t={};Lg(e,(function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var r=e.getData(),i=n.dim+"_"+n.index,o=r.getDimensionIndex(r.mapDimension(n.dim)),a=r.getStore(),s=0,u=a.count();s<u;++s){var l=a.get(o,s);t[i]?t[i].push(l):t[i]=[l]}}));var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort((function(e,t){return e-t}));for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[r]=o}}return n}(e),n=[];return Lg(e,(function(e){var r,i=e.coordinateSystem.getBaseAxis(),o=i.getExtent();if("category"===i.type)r=i.getBandWidth();else if("value"===i.type||"time"===i.type){var a=i.dim+"_"+i.index,s=t[a],u=Math.abs(o[1]-o[0]),l=i.scale.getExtent(),c=Math.abs(l[1]-l[0]);r=s?u/c*s:u}else{var f=e.getData();r=Math.abs(o[1]-o[0])/f.count()}var d=Ox(e.get("barWidth"),r),h=Ox(e.get("barMaxWidth"),r),p=Ox(e.get("barMinWidth")||(Sz(e)?.5:1),r),g=e.get("barGap"),v=e.get("barCategoryGap");n.push({bandWidth:r,barWidth:d,barMaxWidth:h,barMinWidth:p,barGap:g,barCategoryGap:v,axisKey:vz(i),stackId:gz(e)})})),bz(n)}function bz(e){var t={};Lg(e,(function(e,n){var r=e.axisKey,i=e.bandWidth,o=t[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;t[r]=o;var s=e.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var u=e.barWidth;u&&!a[s].width&&(a[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var l=e.barMaxWidth;l&&(a[s].maxWidth=l);var c=e.barMinWidth;c&&(a[s].minWidth=c);var f=e.barGap;null!=f&&(o.gap=f);var d=e.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return Lg(t,(function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,o=e.categoryGap;if(null==o){var a=Fg(r).length;o=Math.max(35-4*a,15)+"%"}var s=Ox(o,i),u=Ox(e.gap,1),l=e.remainedWidth,c=e.autoWidthCount,f=(l-s)/(c+(c-1)*u);f=Math.max(f,0),Lg(r,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,l-=r+u*r,c--}else{var r=f;t&&t<r&&(r=Math.min(t,l)),n&&n>r&&(r=n),r!==f&&(e.width=r,l-=r+u*r,c--)}})),f=(l-s)/(c+(c-1)*u),f=Math.max(f,0);var d,h=0;Lg(r,(function(e,t){e.width||(e.width=f),d=e,h+=e.width*(1+u)})),d&&(h-=d.width*u);var p=-h/2;Lg(r,(function(e,r){n[t][r]=n[t][r]||{bandWidth:i,offset:p,width:e.width},p+=e.width*(1+u)}))})),n}function xz(e,t){var n=mz(e,t),r=yz(n);Lg(n,(function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),i=gz(e),o=r[vz(n)][i],a=o.offset,s=o.width;t.setLayout({bandWidth:o.bandWidth,offset:a,size:s})}))}function wz(e){return{seriesType:e,plan:RT(),reset:function(e){if(_z(e)){var t=e.getData(),n=e.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),o=t.getDimensionIndex(t.mapDimension(i.dim)),a=t.getDimensionIndex(t.mapDimension(r.dim)),s=e.get("showBackground",!0),u=t.mapDimension(i.dim),l=t.getCalculationInfo("stackResultDimension"),c=xB(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),f=i.isHorizontal(),d=function(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}(0,i),h=Sz(e),p=e.get("barMinHeight")||0,g=l&&t.getDimensionIndex(l),v=t.getLayout("size"),m=t.getLayout("offset");return{progress:function(e,t){for(var r,i=e.count,u=h&&FB(3*i),l=h&&s&&FB(3*i),y=h&&FB(i),b=n.master.getRect(),x=f?b.width:b.height,w=t.getStore(),_=0;null!=(r=e.next());){var S=w.get(c?g:o,r),E=w.get(a,r),C=d,k=void 0;c&&(k=+S-w.get(o,r));var M=void 0,I=void 0,T=void 0,A=void 0;if(f){var N=n.dataToPoint([S,E]);if(c)C=n.dataToPoint([k,E])[0];M=C,I=N[1]+m,T=N[0]-C,A=v,Math.abs(T)<p&&(T=(T<0?-1:1)*p)}else{N=n.dataToPoint([E,S]);if(c)C=n.dataToPoint([E,k])[1];M=N[0]+m,I=C,T=v,A=N[1]-C,Math.abs(A)<p&&(A=(A<=0?-1:1)*p)}h?(u[_]=M,u[_+1]=I,u[_+2]=f?T:A,l&&(l[_]=f?b.x:M,l[_+1]=f?I:b.y,l[_+2]=x),y[r]=r):t.setItemLayout(r,{x:M,y:I,width:T,height:A}),_+=3}h&&t.setLayout({largePoints:u,largeDataIndices:y,largeBackgroundPoints:l,valueAxisHorizontal:f})}}}}}}function _z(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function Sz(e){return e.pipelineContext&&e.pipelineContext.large}var Ez=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.getInitialData=function(e,t){return _B(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t&&t.clampData){var n=t.dataToPoint(t.clampData(e)),r=this.getData(),i=r.getLayout("offset"),o=r.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=i+o/2,n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(PT);PT.registerClass(Ez);var Cz=Ez,kz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.getInitialData=function(){return _B(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=IC(Cz.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Cz),Mz=kz,Iz=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Tz=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return og(t,e),t.prototype.getDefaultShape=function(){return new Iz},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=.5*(o-i),s=i+a,u=t.startAngle,l=t.endAngle,c=t.clockwise,f=2*Math.PI,d=c?l-u<f:u-l<f;d||(u=l-(c?f:-f));var h=Math.cos(u),p=Math.sin(u),g=Math.cos(l),v=Math.sin(l);d?(e.moveTo(h*i+n,p*i+r),e.arc(h*s+n,p*s+r,a,-Math.PI+u,u,!c)):e.moveTo(h*o+n,p*o+r),e.arc(n,r,o,u,l,!c),e.arc(g*s+n,v*s+r,a,l-2*Math.PI,l-Math.PI,!c),0!==i&&e.arc(n,r,i,l,u,c)},t}(cS),Az=Tz;function Nz(e,t,n){return t*Math.sin(e)*(n?-1:1)}function Dz(e,t,n){return t*Math.cos(e)*(n?1:-1)}var Pz=Math.max,Oz=Math.min;var Lz=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return og(t,e),t.prototype.render=function(e,t,n,r){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var i=e.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,r))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,r){var i,o=this.group,a=e.getData(),s=this._data,u=e.coordinateSystem,l=u.getBaseAxis();"cartesian2d"===u.type?i=l.isHorizontal():"polar"===u.type&&(i="angle"===l.dim);var c=e.isAnimationEnabled()?e:null,f=function(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();0;if(n&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,u);f&&this._enableRealtimeSort(f,a,n);var d=e.get("clip",!0)||f,h=function(e,t){var n=e.getArea&&e.getArea();if($B(e,"cartesian2d")){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(u,a);o.removeClipPath();var p=e.get("roundCap",!0),g=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),m=v.get("borderRadius")||0,y=[],b=this._backgroundEls,x=r&&r.isInitSort,w=r&&"changeAxisOrder"===r.type;function _(e){var t=Uz[u.type](a,e),n=function(e,t,n){return new("polar"===e.type?EA:CS)({shape:qz(t,n,e),silent:!0,z2:0})}(u,i,t);return n.useStyle(v.getItemStyle()),"cartesian2d"===u.type&&n.setShape("r",m),y[e]=n,n}a.diff(s).add((function(t){var n=a.getItemModel(t),r=Uz[u.type](a,t,n);if(g&&_(t),a.hasValue(t)&&Vz[u.type](r)){var s=!1;d&&(s=Rz[u.type](h,r));var v=Bz[u.type](e,a,t,r,i,c,l.model,!1,p);f&&(v.forceLabelAnimation=!0),Zz(v,a,t,n,r,e,i,"polar"===u.type),x?v.attr({shape:r}):f?zz(f,c,v,r,t,i,!1,!1):HE(v,{shape:r},e,t),a.setItemGraphicEl(t,v),o.add(v),v.ignore=s}})).update((function(t,n){var r=a.getItemModel(t),S=Uz[u.type](a,t,r);if(g){var E=void 0;0===b.length?E=_(n):((E=b[n]).useStyle(v.getItemStyle()),"cartesian2d"===u.type&&E.setShape("r",m),y[t]=E);var C=Uz[u.type](a,t);ZE(E,{shape:qz(i,C,u)},c,t)}var k=s.getItemGraphicEl(n);if(a.hasValue(t)&&Vz[u.type](S)){var M=!1;if(d&&(M=Rz[u.type](h,S))&&o.remove(k),k?$E(k):k=Bz[u.type](e,a,t,S,i,c,l.model,!!k,p),f&&(k.forceLabelAnimation=!0),w){var I=k.getTextContent();if(I){var T=cC(I);null!=T.prevValue&&(T.prevValue=T.value)}}else Zz(k,a,t,r,S,e,i,"polar"===u.type);x?k.attr({shape:S}):f?zz(f,c,k,S,t,i,!0,w):ZE(k,{shape:S},e,t,null),a.setItemGraphicEl(t,k),k.ignore=M,o.add(k)}else o.remove(k)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&qE(n,e,t)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Mx);S.removeAll();for(var E=0;E<y.length;++E)S.add(y[E]);o.add(S),this._backgroundEls=y,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),Xz(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Xz(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&qB(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var r=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(e){var n=t.getItemGraphicEl(e),r=n&&n.shape;return r&&Math.abs(i.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(t,o,i,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var r=[];return e.each(e.mapDimension(t.dim),(function(e,t){var i=n(t);i=null==i?NaN:i,r.push({dataIndex:t,mappedValue:i,ordinalNumber:e})})),r.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:Rg(r,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var r=n.scale,i=e.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=r.getOrdinalMeta().categories.length;a<s;++a){var u=e.rawIndexOf(i,r.getRawOrdinalNumber(a)),l=u<0?Number.MIN_VALUE:t(e.indexOfRawIndex(u));if(l>o)return!0;o=l}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,r=n.getExtent(),i=Math.max(0,r[0]),o=Math.min(r[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,r){if(this._isOrderChangedWithinSameData(e,t,n)){var i=this._dataSort(e,n,t);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,n){var r=t.baseAxis,i=this._dataSort(e,r,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){qE(t,e,VS(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(YN),Rz={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,o=e.y+e.height,a=Pz(t.x,e.x),s=Oz(t.x+t.width,i),u=Pz(t.y,e.y),l=Oz(t.y+t.height,o),c=s<a,f=l<u;return t.x=c&&a>i?s:a,t.y=f&&u>o?l:u,t.width=c?0:s-a,t.height=f?0:l-u,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var i=Oz(t.r,e.r),o=Pz(t.r0,e.r0);t.r=i,t.r0=o;var a=i-o<0;if(n<0){r=t.r;t.r=t.r0,t.r0=r}return a}},Bz={cartesian2d:function(e,t,n,r,i,o,a,s,u){var l=new CS({shape:Ag({},r),z2:1});(l.__dataIndex=n,l.name="item",o)&&(l.shape[i?"height":"width"]=0);return l},polar:function(e,t,n,r,i,o,a,s,u){var l=!i&&u?Az:EA,c=new l({shape:r,z2:1});c.name="item";var f=Wz(i);if(c.calculateTextPosition=function(e,t){var n=(t=t||{}).isRoundCap;return function(t,r,i){var o=r.position;if(!o||o instanceof Array)return hx(t,r,i);var a=e(o),s=null!=r.distance?r.distance:5,u=this.shape,l=u.cx,c=u.cy,f=u.r,d=u.r0,h=(f+d)/2,p=u.startAngle,g=u.endAngle,v=(p+g)/2,m=n?Math.abs(f-d)/2:0,y=Math.cos,b=Math.sin,x=l+f*y(p),w=c+f*b(p),_="left",S="top";switch(a){case"startArc":x=l+(d-s)*y(v),w=c+(d-s)*b(v),_="center",S="top";break;case"insideStartArc":x=l+(d+s)*y(v),w=c+(d+s)*b(v),_="center",S="bottom";break;case"startAngle":x=l+h*y(p)+Nz(p,s+m,!1),w=c+h*b(p)+Dz(p,s+m,!1),_="right",S="middle";break;case"insideStartAngle":x=l+h*y(p)+Nz(p,-s+m,!1),w=c+h*b(p)+Dz(p,-s+m,!1),_="left",S="middle";break;case"middle":x=l+h*y(v),w=c+h*b(v),_="center",S="middle";break;case"endArc":x=l+(f+s)*y(v),w=c+(f+s)*b(v),_="center",S="bottom";break;case"insideEndArc":x=l+(f-s)*y(v),w=c+(f-s)*b(v),_="center",S="top";break;case"endAngle":x=l+h*y(g)+Nz(g,s+m,!0),w=c+h*b(g)+Dz(g,s+m,!0),_="left",S="middle";break;case"insideEndAngle":x=l+h*y(g)+Nz(g,-s+m,!0),w=c+h*b(g)+Dz(g,-s+m,!0),_="right",S="middle";break;default:return hx(t,r,i)}return(t=t||{}).x=x,t.y=w,t.align=_,t.verticalAlign=S,t}}(f,{isRoundCap:l===Az}),o){var d=i?"r":"endAngle",h={};c.shape[d]=i?0:r.startAngle,h[d]=r[d],(s?ZE:HE)(c,{shape:h},o)}return c}};function zz(e,t,n,r,i,o,a,s){var u,l;o?(l={x:r.x,width:r.width},u={y:r.y,height:r.height}):(l={y:r.y,height:r.height},u={x:r.x,width:r.width}),s||(a?ZE:HE)(n,{shape:u},t,i,null),(a?ZE:HE)(n,{shape:l},t?e.baseAxis.model:null,i)}function Fz(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var jz=["x","y","width","height"],Gz=["cx","cy","r","startAngle","endAngle"],Vz={cartesian2d:function(e){return!Fz(e,jz)},polar:function(e){return!Fz(e,Gz)}},Uz={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var r=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,o)}(n,r):0,o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Wz(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Zz(e,t,n,r,i,o,a,s){var u=t.getItemVisual(n,"style");s||e.setShape("r",r.get(["itemStyle","borderRadius"])||0),e.useStyle(u);var l=r.getShallow("cursor");l&&e.attr("cursor",l);var c=s?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",f=nC(r);tC(e,f,{labelFetcher:o,labelDataIndex:n,defaultText:CB(o.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:c});var d=e.getTextContent();if(s&&d){var h=r.get(["label","position"]);e.textConfig.inside="middle"===h||null,function(e,t,n,r){if(Hg(r))e.setTextConfig({rotation:r});else if(Vg(t))e.setTextConfig({rotation:0});else{var i,o=e.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,u=(a+s)/2,l=n(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":i=u;break;case"startAngle":case"insideStartAngle":i=a;break;case"endAngle":case"insideEndAngle":i=s;break;default:return void e.setTextConfig({rotation:0})}var c=1.5*Math.PI-i;"middle"===l&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),e.setTextConfig({rotation:c})}}(e,"outside"===h?c:h,Wz(a),r.get(["label","rotate"]))}fC(d,f,o.getRawValue(n),(function(e){return kB(t,e)}));var p=r.getModel(["emphasis"]);PE(e,p.get("focus"),p.get("blurScope"),p.get("disabled")),BE(e,r),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(i)&&(e.style.fill="none",e.style.stroke="none",Lg(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var Hz=function(){},Yz=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return og(t,e),t.prototype.getDefaultShape=function(){return new Hz},t.prototype.buildPath=function(e,t){for(var n=t.points,r=this.baseDimIdx,i=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,u=0;u<n.length;u+=3)a[r]=s,a[i]=n[u+2],o[r]=n[u+r],o[i]=n[u+i],e.rect(o[0],o[1],a[0],a[1])},t}(cS);function Xz(e,t,n,r){var i=e.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=e.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new Yz({shape:{points:l},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(u.getItemStyle()),t.add(c),n&&n.push(c)}var f=new Yz({shape:{points:i.getLayout("largePoints")},incremental:!!r,z2:1});f.baseDimIdx=o,f.largeDataIndices=a,f.barWidth=s,t.add(f),f.useStyle(i.getVisual("style")),VS(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",Kz),f.on("mousemove",Kz)),n&&n.push(f)}var Kz=$N((function(e){var t=function(e,t,n){for(var r=e.baseDimIdx,i=1-r,o=e.shape.points,a=e.largeDataIndices,s=[],u=[],l=e.barWidth,c=0,f=o.length/3;c<f;c++){var d=3*c;if(u[r]=l,u[i]=o[d+2],s[r]=o[d+r],s[i]=o[d+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),t>=s[0]&&t<=s[0]+u[0]&&n>=s[1]&&n<=s[1]+u[1])return a[c]}return-1}(this,e.offsetX,e.offsetY);VS(this).dataIndex=t>=0?t:null}),30,!1);function qz(e,t,n){if($B(n,"cartesian2d")){var r=t,i=n.getArea();return{x:e?r.x:i.x,y:e?i.y:r.y,width:e?r.width:i.width,height:e?i.height:r.height}}var o=t;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:e?i.r0:o.r0,r:e?i.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:2*Math.PI}}var $z=Lz;var Qz=2*Math.PI,Jz=Math.PI/180;function eF(e,t){return Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function tF(e,t){var n=eF(e,t),r=e.get("center"),i=e.get("radius");Vg(i)||(i=[0,i]),Vg(r)||(r=[r,r]);var o=Ox(n.width,t.getWidth()),a=Ox(n.height,t.getHeight()),s=Math.min(o,a);return{cx:Ox(r[0],o)+n.x,cy:Ox(r[1],a)+n.y,r0:Ox(i[0],s/2),r:Ox(i[1],s/2)}}function nF(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),r=t.mapDimension("value"),i=eF(e,n),o=tF(e,n),a=o.cx,s=o.cy,u=o.r,l=o.r0,c=-e.get("startAngle")*Jz,f=e.get("minAngle")*Jz,d=0;t.each(r,(function(e){!isNaN(e)&&d++}));var h=t.getSum(r),p=Math.PI/(h||d)*2,g=e.get("clockwise"),v=e.get("roseType"),m=e.get("stillShowZeroSum"),y=t.getDataExtent(r);y[0]=0;var b=Qz,x=0,w=c,_=g?1:-1;if(t.setLayout({viewRect:i,r:u}),t.each(r,(function(e,n){var r;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:a,cy:s,r0:l,r:v?NaN:u});else{(r="area"!==v?0===h&&m?p:e*p:Qz/d)<f?(r=f,b-=f):x+=e;var i=w+_*r;t.setItemLayout(n,{angle:r,startAngle:w,endAngle:i,clockwise:g,cx:a,cy:s,r0:l,r:v?Px(e,y,[l,u]):u}),w=i}})),b<Qz&&d)if(b<=.001){var S=Qz/d;t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n);r.angle=S,r.startAngle=c+_*n*S,r.endAngle=c+_*(n+1)*S}}))}else p=b/x,w=c,t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n),i=r.angle===f?f:e*p;r.startAngle=w,r.endAngle=w+_*i,w+=_*i}}))}))}function rF(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=e.getData();r.filterSelf((function(e){for(var t=r.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0}))}}}}var iF=Math.PI/180;function oF(e,t,n,r,i,o,a,s,u,l){if(!(e.length<2)){for(var c=e.length,f=0;f<c;f++)if("outer"===e[f].position&&"labelLine"===e[f].labelAlignTo){var d=e[f].label.x-l;e[f].linePoints[1][0]+=d,e[f].label.x=l}dL(e,u,u+a)&&function(e){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var u=e[s],l=u.label.y>n?a:o,c=Math.abs(u.label.y-n);if(c>=l.maxY){var f=u.label.x-t-u.len2*i,d=r+u.len,p=Math.abs(f)<d?Math.sqrt(c*c/(1-f*f/d/d)):d;l.rB=p,l.maxY=c}l.list.push(u)}h(o),h(a)}(e)}function h(e){for(var o=e.rB,a=o*o,s=0;s<e.list.length;s++){var u=e.list[s],l=Math.abs(u.label.y-n),c=r+u.len,f=c*c,d=Math.sqrt((1-Math.abs(l*l/a))*f),h=t+(d+u.len2)*i,p=h-u.label.x;aF(u,u.targetTextWidth-p*i,!0),u.label.x=h}}}function aF(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var r=e.label,i=r.style,o=e.rect,a=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=o.width+(a?0:u);if(t<c||n){var f=o.height;if(l&&l.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-u);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var h=t-u,p=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var g=r.getBoundingRect();o.width=g.width;var v=(r.style.margin||0)+2.1;o.height=g.height+v,o.y-=(o.height-f)/2}}}function sF(e){return"center"===e.position}function uF(e){var t,n,r=e.getData(),i=[],o=!1,a=(e.get("minShowLabelAngle")||0)*iF,s=r.getLayout("viewRect"),u=r.getLayout("r"),l=s.width,c=s.x,f=s.y,d=s.height;function h(e){e.ignore=!0}r.each((function(e){var s=r.getItemGraphicEl(e),f=s.shape,d=s.getTextContent(),p=s.getTextGuideLine(),g=r.getItemModel(e),v=g.getModel("label"),m=v.get("position")||g.get(["emphasis","label","position"]),y=v.get("distanceToLabelLine"),b=v.get("alignTo"),x=Ox(v.get("edgeDistance"),l),w=v.get("bleedMargin"),_=g.getModel("labelLine"),S=_.get("length");S=Ox(S,l);var E=_.get("length2");if(E=Ox(E,l),Math.abs(f.endAngle-f.startAngle)<a)return Lg(d.states,h),void(d.ignore=!0);if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(d)){var C,k,M,I,T=(f.startAngle+f.endAngle)/2,A=Math.cos(T),N=Math.sin(T);t=f.cx,n=f.cy;var D="inside"===m||"inner"===m;if("center"===m)C=f.cx,k=f.cy,I="center";else{var P=(D?(f.r+f.r0)/2*A:f.r*A)+t,O=(D?(f.r+f.r0)/2*N:f.r*N)+n;if(C=P+3*A,k=O+3*N,!D){var L=P+A*(S+u-f.r),R=O+N*(S+u-f.r),B=L+(A<0?-1:1)*E;C="edge"===b?A<0?c+x:c+l-x:B+(A<0?-y:y),k=R,M=[[P,O],[L,R],[B,R]]}I=D?"center":"edge"===b?A>0?"right":"left":A>0?"left":"right"}var z=Math.PI,F=0,j=v.get("rotate");if(Hg(j))F=j*(z/180);else if("center"===m)F=0;else if("radial"===j||!0===j){F=A<0?-T+z:-T}else if("tangential"===j&&"outside"!==m&&"outer"!==m){var G=Math.atan2(A,N);G<0&&(G=2*z+G),N>0&&(G=z+G),F=G-z}if(o=!!F,d.x=C,d.y=k,d.rotation=F,d.setStyle({verticalAlign:"middle"}),D){d.setStyle({align:I});var V=d.states.select;V&&(V.x+=d.x,V.y+=d.y)}else{var U=d.getBoundingRect().clone();U.applyTransform(d.getComputedTransform());var W=(d.style.margin||0)+2.1;U.y-=W/2,U.height+=W,i.push({label:d,labelLine:p,position:m,len:S,len2:E,minTurnAngle:_.get("minTurnAngle"),maxSurfaceAngle:_.get("maxSurfaceAngle"),surfaceNormal:new Xb(A,N),linePoints:M,textAlign:I,labelDistance:y,labelAlignTo:b,edgeDistance:x,bleedMargin:w,rect:U,unconstrainedWidth:U.width,labelStyleWidth:d.style.width})}s.setTextConfig({inside:D})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,n,r,i,o,a,s){for(var u=[],l=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;sF(e[d])||(h.x<t?(c=Math.min(c,h.x),u.push(e[d])):(f=Math.max(f,h.x),l.push(e[d])))}for(d=0;d<e.length;d++)if(!sF(v=e[d])&&v.linePoints){if(null!=v.labelStyleWidth)continue;h=v.label;var p=v.linePoints,g=void 0;g="edge"===v.labelAlignTo?h.x<t?p[2][0]-v.labelDistance-a-v.edgeDistance:a+i-v.edgeDistance-p[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?h.x<t?c-a-v.bleedMargin:a+i-f-v.bleedMargin:h.x<t?h.x-a-v.bleedMargin:a+i-h.x-v.bleedMargin,v.targetTextWidth=g,aF(v,g)}for(oF(l,t,n,r,1,0,o,0,s,f),oF(u,t,n,r,-1,0,o,0,s,c),d=0;d<e.length;d++){var v;if(!sF(v=e[d])&&v.linePoints){h=v.label,p=v.linePoints;var m="edge"===v.labelAlignTo,y=h.style.padding,b=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:b,w=v.rect.width+x,_=p[1][0]-p[2][0];m?h.x<t?p[2][0]=a+v.edgeDistance+w+v.labelDistance:p[2][0]=a+i-v.edgeDistance-w-v.labelDistance:(h.x<t?p[2][0]=h.x+v.labelDistance:p[2][0]=h.x-v.labelDistance,p[1][0]=p[2][0]+_),p[1][1]=p[2][1]=h.y}}}(i,t,n,u,l,d,c,f);for(var p=0;p<i.length;p++){var g=i[p],v=g.label,m=g.labelLine,y=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:g.textAlign}),y&&(Lg(v.states,h),v.ignore=!0);var b=v.states.select;b&&(b.x+=v.x,b.y+=v.y)}if(m){var x=g.linePoints;y||!x?(Lg(m.states,h),m.ignore=!0):(iL(x,g.minTurnAngle),oL(x,g.surfaceNormal,g.maxSurfaceAngle),m.setShape({points:x}),v.__hostTarget.textGuideLineConfig={anchor:new Xb(x[0][0],x[0][1])})}}}function lF(e,t,n){var r=e.get("borderRadius");if(null==r)return n?{cornerRadius:0}:null;Vg(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Rg(r,(function(e){return dx(e,i)}))}}var cF=function(e){function t(t,n,r){var i=e.call(this)||this;i.z2=2;var o=new GS;return i.setTextContent(o),i.updateData(t,n,r,!0),i}return og(t,e),t.prototype.updateData=function(e,t,n,r){var i=this,o=e.hostModel,a=e.getItemModel(t),s=a.getModel("emphasis"),u=e.getItemLayout(t),l=Ag(lF(a.getModel("itemStyle"),u,!0),u);if(isNaN(l.startAngle))i.setShape(l);else{if(r){i.setShape(l);var c=o.getShallow("animationType");o.ecModel.ssr?(HE(i,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),i.originX=l.cx,i.originY=l.cy):"scale"===c?(i.shape.r=u.r0,HE(i,{shape:{r:u.r}},o,t)):null!=n?(i.setShape({startAngle:n,endAngle:n}),HE(i,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,t)):(i.shape.endAngle=u.startAngle,ZE(i,{shape:{endAngle:u.endAngle}},o,t))}else $E(i),ZE(i,{shape:l},o,t);i.useStyle(e.getItemVisual(t,"style")),BE(i,a);var f=(u.startAngle+u.endAngle)/2,d=o.get("selectedOffset"),h=Math.cos(f)*d,p=Math.sin(f)*d,g=a.getShallow("cursor");g&&i.attr("cursor",g),this._updateLabel(o,e,t),i.ensureState("emphasis").shape=Ag({r:u.r+(s.get("scale")&&s.get("scaleSize")||0)},lF(s.getModel("itemStyle"),u)),Ag(i.ensureState("select"),{x:h,y:p,shape:lF(a.getModel(["select","itemStyle"]),u)}),Ag(i.ensureState("blur"),{shape:lF(a.getModel(["blur","itemStyle"]),u)});var v=i.getTextGuideLine(),m=i.getTextContent();v&&Ag(v.ensureState("select"),{x:h,y:p}),Ag(m.ensureState("select"),{x:h,y:p}),PE(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var r=this,i=t.getItemModel(n),o=i.getModel("labelLine"),a=t.getItemVisual(n,"style"),s=a&&a.fill,u=a&&a.opacity;tC(r,nC(i),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var l=r.getTextContent();r.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var c=e.get(["label","position"]);if("outside"!==c&&"outer"!==c)r.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new OA,this.setTextGuideLine(f)),uL(this,lL(i),{stroke:s,opacity:tv(o.get(["lineStyle","opacity"]),u,1)})}},t}(EA),fF=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return og(t,e),t.prototype.render=function(e,t,n,r){var i,o=e.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var u=o.getItemLayout(0),l=1;isNaN(u&&u.startAngle)&&l<o.count();++l)u=o.getItemLayout(l);u&&(i=u.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var c=new EA({shape:tF(e,n)});c.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}o.diff(a).add((function(e){var t=new cF(o,e,i);o.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=a.getItemGraphicEl(t);n.updateData(o,e,i),n.off("click"),s.add(n),o.setItemGraphicEl(e,n)})).remove((function(t){qE(a.getItemGraphicEl(t),e,t)})).execute(),uF(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type="pie",t}(YN),dF=fF;function hF(e,t,n){t=Vg(t)&&{coordDimensions:t}||Ag({encodeDefine:e.getEncode()},t);var r=e.getSource(),i=pB(r,t).dimensions,o=new hB(i,e);return o.initData(r,n),o}var pF=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),gF=pF,vF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gF(jg(this.getData,this),jg(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return hF(this,{coordDimensions:["value"],encodeDefaulter:Gg(nM,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),i=[];return n.each(n.mapDimension("value"),(function(e){i.push(e)})),r.percent=function(e,t,n){if(!e[t])return 0;var r=Bg(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===r)return 0;for(var i=Math.pow(10,n),o=Rg(e,(function(e){return(isNaN(e)?0:e)/r*i*100})),a=100*i,s=Rg(o,(function(e){return Math.floor(e)})),u=Bg(s,(function(e,t){return e+t}),0),l=Rg(o,(function(e,t){return e-s[t]}));u<a;){for(var c=Number.NEGATIVE_INFINITY,f=null,d=0,h=l.length;d<h;++d)l[d]>c&&(c=l[d],f=d);++s[f],l[f]=0,++u}return s[t]/i}(i,t,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){iw(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(PT),mF=vF;var yF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return og(t,e),t.prototype.getInitialData=function(e,t){return _B(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(PT),bF=yF,xF=function(){},wF=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return og(t,e),t.prototype.getDefaultShape=function(){return new xF},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,r=t.points,i=t.size,o=this.symbolProxy,a=o.shape,s=e.getContext?e.getContext():e,u=s&&i[0]<4,l=this.softClipShape;if(u)this._ctx=s;else{for(this._ctx=null,n=this._off;n<r.length;){var c=r[n++],f=r[n++];isNaN(c)||isNaN(f)||(l&&!l.contain(c,f)||(a.x=c-i[0]/2,a.y=f-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,r=t.size,i=this._ctx,o=this.softClipShape;if(i){for(e=this._off;e<n.length;){var a=n[e++],s=n[e++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||i.fillRect(a-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,l=r[u]-o/2,c=r[u+1]-a/2;if(e>=l&&t>=c&&e<=l+o&&t<=c+a)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,r=t.size,i=r[0],o=r[1],a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<n.length;){var f=n[c++],d=n[c++];a=Math.min(f,a),u=Math.max(f,u),s=Math.min(d,s),l=Math.max(d,l)}e=this._rect=new ix(a-i/2,s-o/2,u-a+i,l-s+o)}return e},t}(cS),_F=function(){function e(){this.group=new Mx}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var r=this._newAdded[0],i=t.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),r.endIndex=e.end,r.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new wF({cursor:"default"});return this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=rP(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("style"),s=a&&a.fill;s&&e.setColor(s);var u=VS(e);u.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){u.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(u.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),SF=_F,EF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=cz("").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,r=t.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new SF:new OB,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(YN),CF=EF,kF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(zk),MF=kF,IF=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),TF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bw).models[0]},t.type="cartesian2dAxis",t}(zk);Pg(TF,IF);var AF={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},NF=Ig({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},AF),DF=Ig({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},AF),PF={category:NF,value:DF,time:Ig({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},DF),log:Ng({logBase:10},DF)},OF=0,LF=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++OF}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&Rg(r,RF);return new e({categories:i,needCollect:!i,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!Wg(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=cv(this.categories))},e}();function RF(e){return Yg(e)&&null!=e.value?e.value:e+""}var BF=LF,zF={value:1,category:1,time:1,log:1};function FF(e,t,n,r){Lg(zF,(function(i,o){var a=Ig(Ig({},PF[o],!0),r,!0),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+o,n}return og(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=Dk(this),r=n?Ok(e):{};Ig(e,t.getTheme().get(o+"Axis")),Ig(e,this.getDefaultOption()),e.type=jF(e),n&&Pk(e,r,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=BF.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+o,n.defaultOption=a,n}(n);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",jF)}function jF(e){return e.type||(e.data?"category":"value")}var GF=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();Pw(GF);var VF=GF;function UF(e){return"interval"===e.type||"log"===e.type}function WF(e,t,n,r){var i={},o=e[1]-e[0],a=i.interval=Hx(o/t,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=HF(a);return function(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),YF(e,0,t),YF(e,1,t),e[0]>e[1]&&(e[0]=e[1])}(i.niceTickExtent=[Lx(Math.ceil(e[0]/a)*a,s),Lx(Math.floor(e[1]/a)*a,s)],e),i}function ZF(e){var t=Math.pow(10,Zx(e)),n=e/t;return n?2===n?n=3:3===n?n=5:n*=2:n=1,Lx(n*t)}function HF(e){return Bx(e)+2}function YF(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function XF(e,t){return e>=t[0]&&e<=t[1]}function KF(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function qF(e,t){return e*(t[1]-t[0])+t[0]}var $F=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new BF({})),Vg(r)&&(r=new BF({categories:Rg(r,(function(e){return Yg(e)?e.value:e}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return og(t,e),t.prototype.parse=function(e){return Wg(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return XF(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return KF(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(qF(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,o=this._ordinalMeta.categories.length,a=Math.min(o,t.length);i<a;++i){var s=t[i];n[i]=s,r[s]=i}for(var u=0;i<o;++i){for(;null!=r[u];)u++;n.push(u),r[u]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(VF);VF.registerClass($F);var QF=$F,JF=Lx,ej=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return og(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return XF(e,this._extent)},t.prototype.normalize=function(e){return KF(e,this._extent)},t.prototype.scale=function(e){return qF(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=HF(e)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,o=[];if(!t)return o;n[0]<r[0]&&(e?o.push({value:JF(r[0]-t,i)}):o.push({value:n[0]}));for(var a=r[0];a<=r[1]&&(o.push({value:a}),(a=JF(a+t,i))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:r[1];return n[1]>s&&(e?o.push({value:JF(s+t,i)}):o.push({value:n[1]})),o},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<t.length;i++){for(var o=t[i],a=t[i-1],s=0,u=[],l=(o.value-a.value)/e;s<e-1;){var c=JF(a.value+(s+1)*l);c>r[0]&&c<r[1]&&u.push(c),s++}n.push(u)}return n},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=Bx(e.value)||0:"auto"===n&&(n=this._intervalPrecision),hk(JF(e.value,n,!0))},t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=WF(r,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=JF(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=JF(Math.ceil(t[1]/i)*i))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(VF);VF.registerClass(ej);var tj=ej,nj=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return og(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return qC(e.value,WC[function(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(XC(this._minLevelUnit))]||WC.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting("useUTC");return function(e,t,n,r,i){var o=null;if(Wg(n))o=n;else if(Ug(n))o=n(e.value,t,{level:e.level});else{var a=Ag({},VC);if(e.level>0)for(var s=0;s<ZC.length;++s)a[ZC[s]]="{primary|"+a[ZC[s]]+"}";var u=n?!1===n.inherit?n:Ng(n,a):a,l=$C(e.value,i);if(u[l])o=u[l];else if(u.inherit){for(s=HC.indexOf(l)-1;s>=0;--s)if(u[l]){o=u[l];break}o=o||a.none}if(Vg(o)){var c=null==e.level?0:e.level>=0?e.level:o.length+e.level;o=o[c=Math.min(c,o.length-1)]}}return qC(new Date(e.value),o,i,r)}(e,t,n,this.getSetting("locale"),r)},t.prototype.getTicks=function(){var e=this._interval,t=this._extent,n=[];if(!e)return n;n.push({value:t[0],level:0});var r=this.getSetting("useUTC"),i=function(e,t,n,r){var i=1e4,o=HC,a=0;function s(e,t,n,i,o,a,s){for(var u=new Date(t),l=t,c=u[i]();l<n&&l<=r[1];)s.push({value:l}),c+=e,u[o](c),l=u.getTime();s.push({value:l,notAdd:!0})}function u(e,i,o){var a=[],u=!i.length;if(!function(e,t,n,r){var i=Wx(t),o=Wx(n),a=function(e){return QC(i,e,r)===QC(o,e,r)},s=function(){return a("year")},u=function(){return s()&&a("month")},l=function(){return u()&&a("day")},c=function(){return l()&&a("hour")},f=function(){return c()&&a("minute")},d=function(){return f()&&a("second")},h=function(){return d()&&a("millisecond")};switch(e){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}(XC(e),r[0],r[1],n)){u&&(i=[{value:lj(new Date(r[0]),e,n)},{value:r[1]}]);for(var l=0;l<i.length-1;l++){var c=i[l].value,f=i[l+1].value;if(c!==f){var d=void 0,h=void 0,p=void 0,g=!1;switch(e){case"year":d=Math.max(1,Math.round(t/jC/365)),h=JC(n),p=ak(n);break;case"half-year":case"quarter":case"month":d=oj(t),h=ek(n),p=sk(n);break;case"week":case"half-week":case"day":d=ij(t,31),h=tk(n),p=uk(n),g=!0;break;case"half-day":case"quarter-day":case"hour":d=aj(t),h=nk(n),p=lk(n);break;case"minute":d=sj(t,!0),h=rk(n),p=ck(n);break;case"second":d=sj(t,!1),h=ik(n),p=fk(n);break;case"millisecond":d=uj(t),h=ok(n),p=dk(n)}s(d,c,f,h,p,g,a),"year"===e&&o.length>1&&0===l&&o.unshift({value:o[0].value-d})}}for(l=0;l<a.length;l++)o.push(a[l]);return a}}for(var l=[],c=[],f=0,d=0,h=0;h<o.length&&a++<i;++h){var p=XC(o[h]);if(KC(o[h]))if(u(o[h],l[l.length-1]||[],c),p!==(o[h+1]?XC(o[h+1]):null)){if(c.length){d=f,c.sort((function(e,t){return e.value-t.value}));for(var g=[],v=0;v<c.length;++v){var m=c[v].value;0!==v&&c[v-1].value===m||(g.push(c[v]),m>=r[0]&&m<=r[1]&&f++)}var y=(r[1]-r[0])/t;if(f>1.5*y&&d>y/1.5)break;if(l.push(g),f>y||e===o[h])break}c=[]}}0;var b=zg(Rg(l,(function(e){return zg(e,(function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd}))})),(function(e){return e.length>0})),x=[],w=b.length-1;for(h=0;h<b.length;++h)for(var _=b[h],S=0;S<_.length;++S)x.push({value:_[S].value,level:w-h});x.sort((function(e,t){return e.value-t.value}));var E=[];for(h=0;h<x.length;++h)0!==h&&x[h].value===x[h-1].value||E.push(x[h]);return E}(this._minLevelUnit,this._approxInterval,r,t);return(n=n.concat(i)).push({value:t[1],level:0}),n},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=jC,t[1]+=jC),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-jC}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=rj.length,a=Math.min(function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n}(rj,this._approxInterval,0,o),o-1);this._interval=rj[a][1],this._minLevelUnit=rj[Math.max(a-1,0)][0]},t.prototype.parse=function(e){return Hg(e)?e:+Wx(e)},t.prototype.contain=function(e){return XF(this.parse(e),this._extent)},t.prototype.normalize=function(e){return KF(this.parse(e),this._extent)},t.prototype.scale=function(e){return qF(e,this._extent)},t.type="time",t}(tj),rj=[["second",BC],["minute",zC],["hour",FC],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",GC/2],["year",GC]];function ij(e,t){return(e/=jC)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function oj(e){return(e/=2592e6)>6?6:e>3?3:e>2?2:1}function aj(e){return(e/=FC)>12?12:e>6?6:e>3.5?4:e>2?2:1}function sj(e,t){return(e/=t?zC:BC)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function uj(e){return Hx(e,!0)}function lj(e,t,n){var r=new Date(e);switch(XC(t)){case"year":case"month":r[sk(n)](0);case"day":r[uk(n)](1);case"hour":r[lk(n)](0);case"minute":r[ck(n)](0);case"second":r[fk(n)](0),r[dk(n)](0)}return r.getTime()}VF.registerClass(nj);var cj=nj,fj=VF.prototype,dj=tj.prototype,hj=Lx,pj=Math.floor,gj=Math.ceil,vj=Math.pow,mj=Math.log,yj=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new tj,t._interval=0,t}return og(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,r=t.getExtent();return Rg(dj.getTicks.call(this,e),(function(e){var t=e.value,i=Lx(vj(this.base,t));return i=t===n[0]&&this._fixMin?xj(i,r[0]):i,{value:i=t===n[1]&&this._fixMax?xj(i,r[1]):i}}),this)},t.prototype.setExtent=function(e,t){var n=this.base;e=mj(e)/mj(n),t=mj(t)/mj(n),dj.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=fj.getExtent.call(this);t[0]=vj(e,t[0]),t[1]=vj(e,t[1]);var n=this._originalScale.getExtent();return this._fixMin&&(t[0]=xj(t[0],n[0])),this._fixMax&&(t[1]=xj(t[1],n[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=mj(e[0])/mj(t),e[1]=mj(e[1])/mj(t),fj.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r,i=(r=n,Math.pow(10,Zx(r)));for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[Lx(gj(t[0]/i)*i),Lx(pj(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},t.prototype.calcNiceExtent=function(e){dj.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return XF(e=mj(e)/mj(this.base),this._extent)},t.prototype.normalize=function(e){return KF(e=mj(e)/mj(this.base),this._extent)},t.prototype.scale=function(e){return e=qF(e,this._extent),vj(this.base,e)},t.type="log",t}(VF),bj=yj.prototype;function xj(e,t){return hj(e,Bx(t))}bj.getMinorTicks=dj.getMinorTicks,bj.getLabel=dj.getLabel,VF.registerClass(yj);var wj=yj,_j=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=this._modelMinRaw=t.get("min",!0);Ug(i)?this._modelMinNum=kj(e,i({min:n[0],max:n[1]})):"dataMin"!==i&&(this._modelMinNum=kj(e,i));var o=this._modelMaxRaw=t.get("max",!0);if(Ug(o)?this._modelMaxNum=kj(e,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=kj(e,o)),r)this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),s=Vg(a)?a:[a||0,a||0];"boolean"===typeof s[0]||"boolean"===typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[dx(s[0],1),dx(s[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),a="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=a,l=null!=s;null==a&&(a=e?r?0:NaN:t-i[0]*o),null==s&&(s=e?r?r-1:NaN:n+i[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var c=Qg(a)||Qg(s)||e&&!r;this._needCrossZero&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!l&&(s=0));var f=this._determinedMin,d=this._determinedMax;return null!=f&&(a=f,u=!0),null!=d&&(s=d,l=!0),{min:a,max:s,minFixed:u,maxFixed:l,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[Ej[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[Sj[e]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Sj={min:"_determinedMin",max:"_determinedMax"},Ej={min:"_dataMin",max:"_dataMax"};function Cj(e,t,n){var r=e.rawExtentInfo;return r||(r=new _j(e,t,n),e.rawExtentInfo=r,r)}function kj(e,t){return null==t?null:Qg(t)?NaN:e.parse(t)}function Mj(e,t){var n=e.type,r=Cj(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,o=r.max,a=t.ecModel;if(a&&"time"===n){var s=mz("bar",a),u=!1;if(Lg(s,(function(e){u=u||e.getBaseAxis()===t.axis})),u){var l=yz(s),c=function(e,t,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],a=function(e,t,n){if(e&&t){var r=e[vz(t)];return null!=r&&null!=n?r[gz(n)]:r}}(r,n.axis);if(void 0===a)return{min:e,max:t};var s=1/0;Lg(a,(function(e){s=Math.min(e.offset,s)}));var u=-1/0;Lg(a,(function(e){u=Math.max(e.offset+e.width,u)})),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=t-e,f=c/(1-(s+u)/o)-c;return{min:e-=f*(s/l),max:t+=f*(u/l)}}(i,o,t,l);i=c.min,o=c.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function Ij(e,t){var n=t,r=Mj(e,n),i=r.extent,o=n.get("splitNumber");e instanceof wj&&(e.base=n.get("logBase"));var a=e.type,s=n.get("interval"),u="interval"===a||"time"===a;e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function Tj(e,t){if(t=t||e.get("type"))switch(t){case"category":return new QF({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new cj({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(VF.getClass(t)||tj)}}function Aj(e){var t,n,r=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(n=r,function(t,r){return e.scale.getFormattedLabel(t,r,n)}):Wg(r)?function(t){return function(n){var r=e.scale.getLabel(n);return t.replace("{value}",null!=r?r:"")}}(r):Ug(r)?(t=r,function(n,r){return null!=i&&(r=n.value-i),t(Nj(e,n),r,null!=n.level?{level:n.level}:null)}):function(t){return e.scale.getLabel(t)}}function Nj(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function Dj(e,t){var n=t*Math.PI/180,r=e.width,i=e.height,o=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n));return new ix(e.x,e.y,o,a)}function Pj(e){var t=e.get("interval");return null==t?"auto":t}function Oj(e){return"category"===e.type&&0===Pj(e.getLabelModel())}function Lj(e,t){var n={};return Lg(e.mapDimensionsAll(t),(function(t){n[wB(e,t)]=!0})),Fg(n)}var Rj=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return Rg(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),zg(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),Bj=["x","y"];function zj(e){return"interval"===e.type||"time"===e.type}var Fj=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Bj,t}return og(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(zj(e)&&zj(t)){var n=e.getExtent(),r=t.getExtent(),i=this.dataToPoint([n[0],r[0]]),o=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],s=r[1]-r[0];if(a&&s){var u=(o[0]-i[0])/a,l=(o[1]-i[1])/s,c=i[0]-n[0]*u,f=i[1]-r[0]*l,d=this._transform=[u,0,0,l,c,f];this._invTransform=Lb([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,t,n){n=n||[];var r=e[0],i=e[1];if(this._transform&&null!=r&&isFinite(r)&&null!=i&&isFinite(i))return Ov(n,e,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(r,t)),n[1]=a.toGlobalCoord(a.dataToCoord(i,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(e[0]),s=r.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return Ov(n,e,this._invTransform);var r=this.getAxis("x"),i=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(e[0]),t),n[1]=i.coordToData(i.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),r=Math.min(t[0],t[1]),i=Math.max(e[0],e[1])-n,o=Math.max(t[0],t[1])-r;return new ix(n,r,i,o)},t}(Rj),jj=Fj,Gj=gw();function Vj(e){return"category"===e.type?function(e){var t=e.getLabelModel(),n=Wj(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(e):function(e){var t=e.scale.getTicks(),n=Aj(e);return{labels:Rg(t,(function(t,r){return{level:t.level,formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}(e)}function Uj(e,t){return"category"===e.type?function(e,t){var n,r,i=Zj(e,"ticks"),o=Pj(t),a=Hj(i,o);if(a)return a;t.get("show")&&!e.scale.isBlank()||(n=[]);if(Ug(o))n=Kj(e,o,!0);else if("auto"===o){var s=Wj(e,e.getLabelModel());r=s.labelCategoryInterval,n=Rg(s.labels,(function(e){return e.tickValue}))}else n=Xj(e,r=o,!0);return Yj(i,o,{ticks:n,tickCategoryInterval:r})}(e,t):{ticks:Rg(e.scale.getTicks(),(function(e){return e.value}))}}function Wj(e,t){var n,r,i=Zj(e,"labels"),o=Pj(t),a=Hj(i,o);return a||(Ug(o)?n=Kj(e,o):(r="auto"===o?function(e){var t=Gj(e).autoInterval;return null!=t?t:Gj(e).autoInterval=e.calculateCategoryInterval()}(e):o,n=Xj(e,r)),Yj(i,o,{labels:n,labelCategoryInterval:r}))}function Zj(e,t){return Gj(e)[t]||(Gj(e)[t]=[])}function Hj(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Yj(e,t,n){return e.push({key:t,value:n}),n}function Xj(e,t,n){var r=Aj(e),i=e.scale,o=i.getExtent(),a=e.getLabelModel(),s=[],u=Math.max((t||0)+1,1),l=o[0],c=i.count();0!==l&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var f=Oj(e),d=a.get("showMinLabel")||f,h=a.get("showMaxLabel")||f;d&&l!==o[0]&&g(o[0]);for(var p=l;p<=o[1];p+=u)g(p);function g(e){var t={value:e};s.push(n?e:{formattedLabel:r(t),rawLabel:i.getLabel(t),tickValue:e})}return h&&p-u!==o[1]&&g(o[1]),s}function Kj(e,t,n){var r=e.scale,i=Aj(e),o=[];return Lg(r.getTicks(),(function(e){var a=r.getLabel(e),s=e.value;t(e.value,a)&&o.push(n?s:{formattedLabel:i(e),rawLabel:a,tickValue:s})})),o}var qj=[0,1],$j=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return zx(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&Qj(n=n.slice(),r.count()),Px(e,qj,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Qj(n=n.slice(),r.count());var i=Px(e,n,qj,t);return this.scale.scale(i)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=Rg(Uj(this,t).ticks,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);return function(e,t,n,r){var i=t.length;if(!e.onBand||n||!i)return;var o,a,s=e.getExtent();if(1===i)t[0].coord=s[0],o=t[1]={coord:s[0]};else{var u=t[i-1].tickValue-t[0].tickValue,l=(t[i-1].coord-t[0].coord)/u;Lg(t,(function(e){e.coord-=l/2})),a=1+e.scale.getExtent()[1]-t[i-1].tickValue,o={coord:t[i-1].coord+l*a},t.push(o)}var c=s[0]>s[1];f(t[0].coord,s[0])&&(r?t[0].coord=s[0]:t.shift());r&&f(s[0],t[0].coord)&&t.unshift({coord:s[0]});f(s[1],o.coord)&&(r?o.coord=s[1]:t.pop());r&&f(o.coord,s[1])&&t.push({coord:s[1]});function f(e,t){return e=Lx(e),t=Lx(t),c?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),Rg(this.scale.getMinorTicks(e),(function(e){return Rg(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},e.prototype.getViewLabels=function(){return Vj(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),n=Aj(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var u=o[0],l=e.dataToCoord(u+1)-e.dataToCoord(u),c=Math.abs(l*Math.cos(r)),f=Math.abs(l*Math.sin(r)),d=0,h=0;u<=o[1];u+=s){var p,g,v=ux(n({value:u}),t.font,"center","top");p=1.3*v.width,g=1.3*v.height,d=Math.max(d,p,7),h=Math.max(h,g,7)}var m=d/c,y=h/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),x=Gj(e.model),w=e.getExtent(),_=x.lastAutoInterval,S=x.lastTickCount;return null!=_&&null!=S&&Math.abs(_-b)<=1&&Math.abs(S-a)<=1&&_>b&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?b=_:(x.lastTickCount=a,x.lastAutoInterval=b,x.axisExtent0=w[0],x.axisExtent1=w[1]),b}(this)},e}();function Qj(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}var Jj=$j,eG=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.index=0,a.type=i||"value",a.position=o||"bottom",a}return og(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Jj),tG=eG;function nG(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,u=a?"onZero":s,l=i.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p="x"===l?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===l?p[d[u]]:f[0],"x"===l?p[d[u]]:f[3]],o.rotation=Math.PI/2*("x"===l?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Jg(n.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var v=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===u?-v:v,o.z2=1,o}function rG(e){return"cartesian2d"===e.get("coordinateSystem")}function iG(e){var t={xAxisModel:null,yAxisModel:null};return Lg(t,(function(n,r){var i=r.replace(/Model$/,""),o=e.getReferringComponents(i,bw).models[0];t[r]=o})),t}var oG=Math.log;function aG(e,t,n){var r=tj.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),a=i.length-1,s=r.getInterval.call(n),u=Mj(e,t),l=u.extent,c=u.fixMin,f=u.fixMax;if("log"===e.type){var d=oG(e.base);l=[oG(l[0])/d,oG(l[1])/d]}e.setExtent(l[0],l[1]),e.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:f});var h=r.getExtent.call(e);c&&(l[0]=h[0]),f&&(l[1]=h[1]);var p=r.getInterval.call(e),g=l[0],v=l[1];if(c&&f)p=(v-g)/a;else if(c)for(v=l[0]+p*a;v<l[1]&&isFinite(v)&&isFinite(l[1]);)p=ZF(p),v=l[0]+p*a;else if(f)for(g=l[1]-p*a;g>l[0]&&isFinite(g)&&isFinite(l[0]);)p=ZF(p),g=l[1]-p*a;else{e.getTicks().length-1>a&&(p=ZF(p));var m=p*a;(g=Lx((v=Math.ceil(l[1]/p)*p)-m))<0&&l[0]>=0?(g=0,v=Lx(m)):v>0&&l[1]<=0&&(v=0,g=-Lx(m))}var y=(i[0].value-o[0].value)/s,b=(i[a].value-o[a].value)/s;r.setExtent.call(e,g+p*y,v+p*b),r.setInterval.call(e,p),(y||b)&&r.setNiceExtent.call(e,g+p,v-p)}var sG=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Bj,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function r(e){var t,n=Fg(e),r=n.length;if(r){for(var i=[],o=r-1;o>=0;o--){var a=e[+n[o]],s=a.model,u=a.scale;UF(u)&&s.get("alignTicks")&&null==s.get("interval")?i.push(a):(Ij(u,s),UF(u)&&(t=a))}i.length&&(t||Ij((t=i.pop()).scale,t.model),Lg(i,(function(e){aG(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),r(n.x),r(n.y);var i={};Lg(n.x,(function(e){lG(n,"y",e,i)})),Lg(n.y,(function(e){lG(n,"x",e,i)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams(),i=!n&&e.get("containLabel"),o=Ak(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var a=this._axesList;function s(){Lg(a,(function(e){var t=e.isHorizontal(),n=t?[0,o.width]:[0,o.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),function(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}(e,t?o.x:o.y)}))}s(),i&&(Lg(a,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=function(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var r,i,o=n.getExtent();i=n instanceof QF?n.count():(r=n.getTicks()).length;var a,s=e.getLabelModel(),u=Aj(e),l=1;i>40&&(l=Math.ceil(i/40));for(var c=0;c<i;c+=l){var f=u(r?r[c]:{value:o[0]+c},c),d=Dj(s.getTextRect(f),s.get("rotate")||0);a?a.union(d):a=d}return a}}(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get(["axisLabel","margin"]);o[n]-=t[n]+r,"top"===e.position?o.y+=t.height+r:"left"===e.position&&(o.x+=t.width+r)}}})),s()),Lg(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}Yg(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===t)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,r=e.seriesModel,i=e.xAxisModel||r&&r.getReferringComponents("xAxis",bw).models[0],o=e.yAxisModel||r&&r.getReferringComponents("yAxis",bw).models[0],a=e.gridModel,s=this._coordsList;if(r)Dg(s,t=r.coordinateSystem)<0&&(t=null);else if(i&&o)t=this.getCartesian(i.componentIndex,o.componentIndex);else if(i)n=this.getAxis("x",i.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function u(t){return function(n,r){if(uG(n,e)){var u=n.get("position");"x"===t?"top"!==u&&"bottom"!==u&&(u=o.bottom?"top":"bottom"):"left"!==u&&"right"!==u&&(u=o.left?"right":"left"),o[u]=!0;var l=new tG(t,Tj(n),[0,0],n.get("type"),u),c="category"===l.type;l.onBand=c&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=i,l.index=r,i._axesList.push(l),a[t][r]=l,s[t]++}}}this._axesMap=a,Lg(a.x,(function(t,n){Lg(a.y,(function(i,o){var a="x"+n+"y"+o,s=new jj(a);s.master=r,s.model=e,r._coordsMap[a]=s,r._coordsList.push(s),s.addAxis(t),s.addAxis(i)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){Lg(Lj(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}Lg(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(rG(e)){var r=iG(e),i=r.xAxisModel,o=r.yAxisModel;if(!uG(i,t)||!uG(o,t))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=e.getData(),u=a.getAxis("x"),l=a.getAxis("y");n(s,u),n(s,l)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return Lg(this.getCartesians(),(function(r){var i=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(i);Dg(t,i)<0&&t.push(i),Dg(n,o)<0&&n.push(o)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var r=[];return t.eachComponent("grid",(function(i,o){var a=new e(i,t,n);a.name="grid_"+o,a.resize(i,n,!0),i.coordinateSystem=a,r.push(a)})),t.eachSeries((function(e){if(rG(e)){var t=iG(e),n=t.xAxisModel,r=t.yAxisModel;0;var i=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},e.dimensions=Bj,e}();function uG(e,t){return e.getCoordSysModel()===t}function lG(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,o=e[t],a=n.model,s=a.get(["axisLine","onZero"]),u=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=u)cG(o[u])&&(i=o[u]);else for(var l in o)if(o.hasOwnProperty(l)&&cG(o[l])&&!r[c(o[l])]){i=o[l];break}i&&(r[c(i)]=!0)}function c(e){return e.dim+"_"+e.index}}function cG(e){return e&&"category"!==e.type&&"time"!==e.type&&function(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}(e)}var fG=sG,dG=Math.PI,hG=function(){function e(e,t){this.group=new Mx,this.opt=t,this.axisModel=e,Ng(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Mx({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!pG[e]},e.prototype.add=function(e){pG[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var r,i,o=Gx(t-e);return Vx(o)?(i=n>0?"top":"bottom",r="center"):Vx(o-dG)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=o>0&&o<dG?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:i}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),pG={axisLine:function(e,t,n,r){var i=t.get(["axisLine","show"]);if("auto"===i&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),i){var o=t.axis.getExtent(),a=r.transform,s=[o[0],0],u=[o[1],0];a&&(Ov(s,s,a),Ov(u,u,a));var l=Ag({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new zA({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",n.add(c);var f=t.get(["axisLine","symbol"]);if(null!=f){var d=t.get(["axisLine","symbolSize"]);Wg(f)&&(f=[f,f]),(Wg(d)||Hg(d))&&(d=[d,d]);var h=oP(t.get(["axisLine","symbolOffset"])||0,d),p=d[0],g=d[1];Lg([{rotate:e.rotation+Math.PI/2,offset:h[0],r:0},{rotate:e.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],(function(t,r){if("none"!==f[r]&&null!=f[r]){var i=rP(f[r],-p/2,-g/2,p,g,l.stroke,!0),o=t.r+t.offset;i.attr({rotation:t.rotate,x:s[0]+o*Math.cos(e.rotation),y:s[1]-o*Math.sin(e.rotation),silent:!0,z2:11}),n.add(i)}}))}}},axisTickLabel:function(e,t,n,r){var i=function(e,t,n,r){var i=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick"));if(!a||i.scale.isBlank())return;for(var s=o.getModel("lineStyle"),u=r.tickDirection*o.get("length"),l=yG(i.getTicksCoords(),t.transform,u,Ng(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<l.length;c++)e.add(l[c]);return l}(n,r,t,e),o=function(e,t,n,r){var i=n.axis;if(!Jg(r.axisLabelShow,n.get(["axisLabel","show"]))||i.scale.isBlank())return;var o=n.getModel("axisLabel"),a=o.get("margin"),s=i.getViewLabels(),u=(Jg(r.labelRotate,o.get("rotate"))||0)*dG/180,l=hG.innerTextLayout(r.rotation,u,r.labelDirection),c=n.getCategories&&n.getCategories(!0),f=[],d=hG.isLabelSilent(n),h=n.get("triggerEvent");return Lg(s,(function(s,u){var p="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,g=s.formattedLabel,v=s.rawLabel,m=o;if(c&&c[p]){var y=c[p];Yg(y)&&y.textStyle&&(m=new CC(y.textStyle,o,n.ecModel))}var b=m.getTextColor()||n.get(["axisLine","lineStyle","color"]),x=i.dataToCoord(p),w=new GS({x:x,y:r.labelOffset+r.labelDirection*a,rotation:l.rotation,silent:d,z2:10+(s.level||0),style:rC(m,{text:g,align:m.getShallow("align",!0)||l.textAlign,verticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,fill:Ug(b)?b("category"===i.type?v:"value"===i.type?p+"":p,u):b})});if(w.anid="label_"+p,h){var _=hG.makeAxisEventDataBase(n);_.targetType="axisLabel",_.value=v,_.tickIndex=u,"category"===i.type&&(_.dataIndex=p),VS(w).eventData=_}t.add(w),w.updateTransform(),f.push(w),e.add(w),w.decomposeTransform()})),f}(n,r,t,e);(function(e,t,n){if(Oj(e.axis))return;var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);n=n||[];var o=(t=t||[])[0],a=t[1],s=t[t.length-1],u=t[t.length-2],l=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];!1===r?(gG(o),gG(l)):vG(o,a)&&(r?(gG(a),gG(c)):(gG(o),gG(l)));!1===i?(gG(s),gG(f)):vG(u,s)&&(i?(gG(u),gG(d)):(gG(s),gG(f)))}(t,o,i),function(e,t,n,r){var i=n.axis,o=n.getModel("minorTick");if(!o.get("show")||i.scale.isBlank())return;var a=i.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),u=r*o.get("length"),l=Ng(s.getLineStyle(),Ng(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var f=yG(a[c],t.transform,u,l,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"]))&&hL(cL(Rg(o,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}}))))},axisName:function(e,t,n,r){var i=Jg(e.axisName,t.get("name"));if(i){var o,a,s=t.get("nameLocation"),u=e.nameDirection,l=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,f=t.axis.getExtent(),d=f[0]>f[1]?-1:1,h=["start"===s?f[0]-d*c:"end"===s?f[1]+d*c:(f[0]+f[1])/2,mG(s)?e.labelOffset+u*c:0],p=t.get("nameRotate");null!=p&&(p=p*dG/180),mG(s)?o=hG.innerTextLayout(e.rotation,null!=p?p:e.rotation,u):(o=function(e,t,n,r){var i,o,a=Gx(n-e),s=r[0]>r[1],u="start"===t&&!s||"start"!==t&&s;Vx(a-dG/2)?(o=u?"bottom":"top",i="center"):Vx(a-1.5*dG)?(o=u?"top":"bottom",i="center"):(o="middle",i=a<1.5*dG&&a>dG/2?u?"left":"right":u?"right":"left");return{rotation:a,textAlign:i,textVerticalAlign:o}}(e.rotation,s,p||0,f),null!=(a=e.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=l.getFont(),v=t.get("nameTruncate",!0)||{},m=v.ellipsis,y=Jg(e.nameTruncateMaxWidth,v.maxWidth,a),b=new GS({x:h[0],y:h[1],rotation:o.rotation,silent:hG.isLabelSilent(t),style:rC(l,{text:i,font:g,overflow:"truncate",width:y,ellipsis:m,fill:l.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:l.get("align")||o.textAlign,verticalAlign:l.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(RN({el:b,componentModel:t,itemName:i}),b.__fullText=i,b.anid="name",t.get("triggerEvent")){var x=hG.makeAxisEventDataBase(t);x.targetType="axisName",x.name=i,VS(b).eventData=x}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function gG(e){e&&(e.ignore=!0)}function vG(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r){var i=Tb([]);return Pb(i,i,-e.rotation),n.applyTransform(Nb([],i,e.getLocalTransform())),r.applyTransform(Nb([],i,t.getLocalTransform())),n.intersect(r)}}function mG(e){return"middle"===e||"center"===e}function yG(e,t,n,r,i){for(var o=[],a=[],s=[],u=0;u<e.length;u++){var l=e[u].coord;a[0]=l,a[1]=0,s[0]=l,s[1]=n,t&&(Ov(a,a,t),Ov(s,s,t));var c=new zA({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});c.anid=i+"_"+e[u].tickValue,o.push(c)}return o}var bG=hG;function xG(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];Lg(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=CG(n.model),u=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var l=n.model.getModel("tooltip",r);if(Lg(n.getAxes(),Gg(h,!1,null)),n.getTooltipAxes&&r&&l.get("show")){var c="axis"===l.get("trigger"),f="cross"===l.get(["axisPointer","type"]),d=n.getTooltipAxes(l.get(["axisPointer","axis"]));(c||f)&&Lg(d.baseAxes,Gg(h,!f||"cross",c)),f&&Lg(d.otherAxes,Gg(h,"cross",!1))}}function h(r,s,c){var f=c.model.getModel("axisPointer",i),d=f.get("show");if(d&&("auto"!==d||r||EG(f))){null==s&&(s=f.get("triggerTooltip")),f=r?function(e,t,n,r,i,o){var a=t.getModel("axisPointer"),s={};Lg(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){s[e]=Mg(a.get(e))})),s.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(s.type="line");var u=s.label||(s.label={});if(null==u.show&&(u.show=!1),"cross"===i){var l=a.get(["label","show"]);if(u.show=null==l||l,!o){var c=s.lineStyle=a.get("crossStyle");c&&Ng(u,c.textStyle)}}return e.model.getModel("axisPointer",new CC(s,n,r))}(c,l,i,t,r,s):f;var h=f.get("snap"),p=CG(c.model),g=s||h||"category"===c.type,v=e.axesInfo[p]={key:p,axis:c,coordSys:n,axisPointerModel:f,triggerTooltip:s,involveSeries:g,snap:h,useHandle:EG(f),seriesModels:[],linkGroup:null};u[p]=v,e.seriesInvolved=e.seriesInvolved||g;var m=function(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(wG(o[r+"AxisId"],n.id)||wG(o[r+"AxisIndex"],n.componentIndex)||wG(o[r+"AxisName"],n.name))return i}}(o,c);if(null!=m){var y=a[m]||(a[m]={axesInfo:{}});y.axesInfo[p]=v,y.mapper=o[m].mapper,v.linkGroup=y}}}}))}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==t.get(["axisPointer","show"],!0)&&Lg(e.coordSysAxesInfo[CG(n.model)],(function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}(n,e),n}function wG(e,t){return"all"===e||Vg(e)&&Dg(e,t)>=0||e===t}function _G(e){var t=SG(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=EG(n);null==o&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),i.value=a,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function SG(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[CG(e)]}function EG(e){return!!e.get(["handle","show"])}function CG(e){return e.type+"||"+e.id}var kG={},MG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(t,n,r,i){this.axisPointerClass&&_G(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=function(e){var t=SG(e);return t&&t.axisPointerModel}(e);o?(this._axisPointer||(this._axisPointer=new i)).render(e,o,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){kG[e]=t},t.getAxisPointerClass=function(e){return e&&kG[e]},t.type="axis",t}(LT),IG=MG,TG=gw();function AG(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),u=r.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:o,clamp:!0});if(l.length){var c=s.length,f=TG(e).splitAreaColors,d=cv(),h=0;if(f)for(var p=0;p<l.length;p++){var g=f.get(l[p].tickValue);if(null!=g){h=(g+(c-1)*p)%c;break}}var v=i.toGlobalCoord(l[0].coord),m=a.getAreaStyle();s=Vg(s)?s:[s];for(p=1;p<l.length;p++){var y=i.toGlobalCoord(l[p].coord),b=void 0,x=void 0,w=void 0,_=void 0;i.isHorizontal()?(b=v,x=u.y,w=y-b,_=u.height,v=b+w):(b=u.x,x=v,w=u.width,v=x+(_=y-x));var S=l[p-1].tickValue;null!=S&&d.set(S,h),t.add(new CS({anid:null!=S?"area_"+S:null,shape:{x:b,y:x,width:w,height:_},style:Ng({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}TG(e).splitAreaColors=d}}}function NG(e){TG(e).splitAreaColors=null}var DG=["axisLine","axisTickLabel","axisName"],PG=["splitArea","splitLine","minorSplitLine"],OG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return og(t,e),t.prototype.render=function(t,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Mx,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),s=nG(a,t),u=new bG(t,Ag({handleAutoShown:function(e){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if(UF(n[r].getOtherAxis(t.axis).scale))return!0;return!1}},s));Lg(DG,u.add,u),this._axisGroup.add(u.getGroup()),Lg(PG,(function(e){t.get([e,"show"])&&LG[e](this,this._axisGroup,t,a)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||TN(o,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)}},t.prototype.remove=function(){NG(this)},t.type="cartesianAxis",t}(IG),LG={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=Vg(s)?s:[s];for(var u=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=0,f=i.getTicksCoords({tickModel:o}),d=[],h=[],p=a.getLineStyle(),g=0;g<f.length;g++){var v=i.toGlobalCoord(f[g].coord);l?(d[0]=v,d[1]=u.y,h[0]=v,h[1]=u.y+u.height):(d[0]=u.x,d[1]=v,h[0]=u.x+u.width,h[1]=v);var m=c++%s.length,y=f[g].tickValue;t.add(new zA({anid:null!=y?"line_"+f[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:Ng({stroke:s[m]},p),silent:!0}))}}},minorSplitLine:function(e,t,n,r){var i=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=r.coordinateSystem.getRect(),s=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var l=[],c=[],f=o.getLineStyle(),d=0;d<u.length;d++)for(var h=0;h<u[d].length;h++){var p=i.toGlobalCoord(u[d][h].coord);s?(l[0]=p,l[1]=a.y,c[0]=p,c[1]=a.y+a.height):(l[0]=a.x,l[1]=p,c[0]=a.x+a.width,c[1]=p),t.add(new zA({anid:"minor_line_"+u[d][h].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:f,silent:!0}))}},splitArea:function(e,t,n,r){AG(e,t,n,r)}},RG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="xAxis",t}(OG),BG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=RG.type,t}return og(t,e),t.type="yAxis",t}(OG),zG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return og(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new CS({shape:e.coordinateSystem.getRect(),style:Ng({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(LT),FG={offset:0};function jG(e){e.registerComponentView(zG),e.registerComponentModel(MF),e.registerCoordinateSystem("cartesian2d",fG),FF(e,"x",TF,FG),FF(e,"y",TF,FG),e.registerComponentView(RG),e.registerComponentView(BG),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function GG(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],r=e.coordinateSystem;if(r){var i=r.getIndicatorAxes();Lg(i,(function(e,o){t.each(t.mapDimension(i[o].dim),(function(e,t){n[t]=n[t]||[];var i=r.dataToPoint(e,o);n[t][o]=VG(i)?i:UG(r)}))})),t.each((function(e){var i=function(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}(n[e],(function(e){return VG(e)}))||UG(r);n[e].push(i.slice()),t.setItemLayout(e,n[e])}))}}))}function VG(e){return!isNaN(e[0])&&!isNaN(e[1])}function UG(e){return[e.cx,e.cy]}function WG(e){var t=e.polar;if(t){Vg(t)||(t=[t]);var n=[];Lg(t,(function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],Vg(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}Lg(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var ZG=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=n.type,e}return og(n,t),n.prototype.render=function(t,n,r){var i=t.coordinateSystem,o=this.group,a=t.getData(),s=this._data;function u(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var r=iP(e.getItemVisual(t,"symbolSize")),i=rP(n,-1,-1,2,2),o=e.getItemVisual(t,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:o*Math.PI/180||0}),i}}function l(n,r,i,o,a,s){i.removeAll();for(var l=0;l<r.length-1;l++){var c=u(o,a);c&&(c.__dimIdx=l,n[l]?(c.setPosition(n[l]),e[s?"initProps":"updateProps"](c,{x:r[l][0],y:r[l][1]},t,a)):c.setPosition(r[l]),i.add(c))}}function c(e){return Rg(e,(function(e){return[i.cx,i.cy]}))}a.diff(s).add((function(e){var n=a.getItemLayout(e);if(n){var r=new NA,i=new OA,o={shape:{points:n}};r.shape.points=c(n),i.shape.points=c(n),HE(r,o,t,e),HE(i,o,t,e);var s=new Mx,u=new Mx;s.add(i),s.add(r),s.add(u),l(i.shape.points,n,u,a,e,!0),a.setItemGraphicEl(e,s)}})).update((function(e,n){var r=s.getItemGraphicEl(n),i=r.childAt(0),o=r.childAt(1),u=r.childAt(2),c={shape:{points:a.getItemLayout(e)}};c.shape.points&&(l(i.shape.points,c.shape.points,u,a,e,!1),$E(o),$E(i),ZE(i,c,t),ZE(o,c,t),a.setItemGraphicEl(e,r))})).remove((function(e){o.remove(s.getItemGraphicEl(e))})).execute(),a.eachItemGraphicEl((function(e,t){var n=a.getItemModel(t),r=e.childAt(0),i=e.childAt(1),s=e.childAt(2),u=a.getItemVisual(t,"style"),l=u.fill;o.add(e),r.useStyle(Ng(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),BE(r,n,"lineStyle"),BE(i,n,"areaStyle");var c=n.getModel("areaStyle"),f=c.isEmpty()&&c.parentModel.isEmpty();i.ignore=f,Lg(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();i.ensureState(e).ignore=r&&f})),i.useStyle(Ng(c.getAreaStyle(),{fill:l,opacity:.7,decal:u.decal}));var d=n.getModel("emphasis"),h=d.getModel("itemStyle").getItemStyle();s.eachChild((function(e){if(e instanceof mS){var r=e.style;e.useStyle(Ag({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},u))}else e.useStyle(u),e.setColor(l),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=Mg(h);var i=a.getStore().get(a.getDimensionIndex(e.__dimIdx),t);(null==i||isNaN(i))&&(i=""),tC(e,nC(n),{labelFetcher:a.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:l,defaultOpacity:u.opacity})})),PE(e,d.get("focus"),d.get("blurScope"),d.get("disabled"))})),this._data=a},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(YN),HG=ZG,YG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return og(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gF(jg(this.getData,this),jg(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return hF(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),a=""===o?this.name:o,s=bT(this,e);return cT("section",{header:a,sortBlocks:!0,blocks:Rg(i,(function(t){var n=r.get(r.mapDimension(t.dim),e);return cT("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,r=t.getValues(Rg(n.dimensions,(function(e){return t.mapDimension(e)})),e),i=0,o=r.length;i<o;i++)if(!isNaN(r[i])){var a=n.getIndicatorAxes();return n.coordToPoint(a[i].dataToCoord(r[i]),i)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(PT),XG=YG,KG=PF.value;function qG(e,t){return Ng({show:t},e)}var $G=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),l=this.get("axisNameGap"),c=this.get("triggerEvent"),f=Rg(this.get("indicator")||[],(function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var d=a;null!=f.color&&(d=Ng({color:f.color},a));var h=Ig(Mg(f),{boundaryGap:e,splitNumber:t,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:f.text,showName:s,nameLocation:"end",nameGap:l,nameTextStyle:d,triggerEvent:c},!1);if(s||(h.name=""),Wg(u)){var p=h.name;h.name=u.replace("{value}",null!=p?p:"")}else Ug(u)&&(h.name=u(h.name,h));var g=new CC(h,null,this.ecModel);return Pg(g,IF.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=f},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ig({lineStyle:{color:"#bbb"}},KG.axisLine),axisLabel:qG(KG.axisLabel,!1),axisTick:qG(KG.axisTick,!1),splitLine:qG(KG.splitLine,!0),splitArea:qG(KG.splitArea,!0),indicator:[]},t}(zk),QG=$G,JG=["axisLine","axisTickLabel","axisName"],eV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem;Lg(Rg(t.getIndicatorAxes(),(function(e){var n=e.model.get("showName")?e.name:"";return new bG(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(e){Lg(JG,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var r=e.get("shape"),i=e.getModel("splitLine"),o=e.getModel("splitArea"),a=i.getModel("lineStyle"),s=o.getModel("areaStyle"),u=i.get("show"),l=o.get("show"),c=a.get("color"),f=s.get("color"),d=Vg(c)?c:[c],h=Vg(f)?f:[f],p=[],g=[];if("circle"===r)for(var v=n[0].getTicksCoords(),m=t.cx,y=t.cy,b=0;b<v.length;b++){if(u)p[M(p,d,b)].push(new oA({shape:{cx:m,cy:y,r:v[b].coord}}));if(l&&b<v.length-1)g[M(g,h,b)].push(new MA({shape:{cx:m,cy:y,r0:v[b].coord,r:v[b+1].coord}}))}else{var x,w=Rg(n,(function(e,n){var r=e.getTicksCoords();return x=null==x?r.length-1:Math.min(r.length-1,x),Rg(r,(function(e){return t.coordToPoint(e.coord,n)}))})),_=[];for(b=0;b<=x;b++){for(var S=[],E=0;E<n.length;E++)S.push(w[E][b]);if(S[0]&&S.push(S[0].slice()),u)p[M(p,d,b)].push(new OA({shape:{points:S}}));if(l&&_)g[M(g,h,b-1)].push(new NA({shape:{points:S.concat(_)}}));_=S.slice().reverse()}}var C=a.getLineStyle(),k=s.getAreaStyle();Lg(g,(function(e,t){this.group.add(xN(e,{style:Ng({stroke:"none",fill:h[t%h.length]},k),silent:!0}))}),this),Lg(p,(function(e,t){this.group.add(xN(e,{style:Ng({fill:"none",stroke:d[t%d.length]},C),silent:!0}))}),this)}function M(e,t,n){var r=n%t.length;return e[r]=e[r]||[],r}},t.type="radar",t}(LT),tV=eV,nV=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.type="value",i.angle=0,i.name="",i}return og(t,e),t}(Jj),rV=nV,iV=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Rg(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,r=new rV(n,new tj);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(n),r}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var i,o=Math.atan2(-n,t),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(o-l.angle);c<a&&(i=l,s=u,a=c)}return[s,+(i&&i.coordToData(r))]},e.prototype.resize=function(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),o=Math.min(r,i)/2;this.cx=Ox(n[0],r),this.cy=Ox(n[1],i),this.startAngle=e.get("startAngle")*Math.PI/180;var a=e.get("radius");(Wg(a)||Hg(a))&&(a=[0,a]),this.r0=Ox(a[0],o),this.r=Ox(a[1],o),Lg(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;Lg(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,i){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var o=t.getData();Lg(n,(function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))}))}}),this);var i=r.get("splitNumber"),o=new tj;o.setExtent(0,i),o.setInterval(1),Lg(n,(function(e,t){aG(e.scale,e.model,o)}))},e.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",(function(i){var o=new e(i,t,n);r.push(o),i.coordinateSystem=o})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("radarIndex")||0])})),r},e.dimensions=[],e}(),oV=iV;function aV(e){e.registerCoordinateSystem("radar",oV),e.registerComponentModel(QG),e.registerComponentView(tV),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}var sV="\0_ec_interaction_mutex";function uV(e,t){return!!lV(e)[t]}function lV(e){return e[sV]||(e[sV]={})}NO({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},gv);var cV=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var r=jg(n._mousedownHandler,n),i=jg(n._mousemoveHandler,n),o=jg(n._mouseupHandler,n),a=jg(n._mousewheelHandler,n),s=jg(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=Ng(Mg(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",o)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",s))},n.disable=function(){t.off("mousedown",r),t.off("mousemove",i),t.off("mouseup",o),t.off("mousewheel",a),t.off("pinch",s)},n}return og(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(im(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&hV("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!uV(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,r=this._x,i=this._y,o=t-r,a=n-i;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&rm(e.event),dV(this,"pan","moveOnMouseMove",e,{dx:o,dy:a,oldX:r,oldY:i,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){im(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=hV("zoomOnMouseWheel",e,this._opt),n=hV("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,i=Math.abs(r),o=e.offsetX,a=e.offsetY;if(0!==r&&(t||n)){if(t){var s=i>3?1.4:i>1?1.2:1.1;fV(this,"zoom","zoomOnMouseWheel",e,{scale:r>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var u=Math.abs(r);fV(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(r>0?1:-1)*(u>3?.4:u>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){uV(this._zr,"globalPan")||fV(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Gv);function fV(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(rm(r.event),dV(e,t,n,r,i))}function dV(e,t,n,r,i){i.isAvailableBehavior=jg(hV,null,n,r),e.trigger(t,i)}function hV(e,t,n){var r=n[e];return!e||r&&(!Wg(r)||t.event[r+"Key"])}var pV=cV;function gV(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function vV(e,t,n,r){var i=e.target,o=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,o){var s=o.min||0,u=o.max||1/0;a=Math.max(Math.min(u,a),s)}var l=a/e.zoom;e.zoom=a,i.x-=(n-i.x)*(l-1),i.y-=(r-i.y)*(l-1),i.scaleX*=l,i.scaleY*=l,i.dirty()}var mV,yV={axisPointer:1,tooltip:1,brush:1};function bV(e,t,n){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!yV.hasOwnProperty(r.mainType)&&i&&i.model!==n}function xV(e){Wg(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var wV={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},_V=Fg(wV),SV={"alignment-baseline":"textBaseline","stop-color":"stopColor"},EV=Fg(SV),CV=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=xV(e);this._defsUsePending=[];var r=new Mx;this._root=r;var i=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),NV(n,r,null,!0,!1);for(var u,l,c=n.firstChild;c;)this._parseNode(c,r,i,null,!1,!1),c=c.nextSibling;if(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var f=LV(o);f.length>=4&&(u={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(u&&null!=a&&null!=s&&(l=jV(u,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var d=r;(r=new Mx).add(d),d.scaleX=d.scaleY=l.scale,d.x=l.x,d.y=l.y}return t.ignoreRootClip||null==a||null==s||r.setClipPath(new CS({shape:{x:0,y:0,width:a,height:s}})),{root:r,width:a,height:s,viewBoxRect:u,viewBoxTransform:l,named:i}},e.prototype._parseNode=function(e,t,n,r,i,o){var a,s=e.nodeName.toLowerCase(),u=r;if("defs"===s&&(i=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=t;else{if(!i){var l=mV[s];if(l&&pv(mV,s)){a=l.call(this,e,t);var c=e.getAttribute("name");if(c){var f={name:c,namedFrom:null,svgNodeTagLower:s,el:a};n.push(f),"g"===s&&(u=f)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:a});t.add(a)}}var d=kV[s];if(d&&pv(kV,s)){var h=d.call(this,e),p=e.getAttribute("id");p&&(this._defs[p]=h)}}if(a&&a.isGroup)for(var g=e.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,u,i,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},e.prototype._parseText=function(e,t){var n=new hS({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});TV(t,n),NV(e,n,this._defsUsePending,!1,!1),function(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",e.style.textBaseline=i}var o=t.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),e.style.textAlign=s)}}(n,t);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var a=n.getBoundingRect();return this._textX+=a.width,t.add(n),n},e.internalField=void(mV={g:function(e,t){var n=new Mx;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new CS;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new oA;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new zA;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new uA;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,r=e.getAttribute("points");r&&(n=AV(r));var i=new NA({shape:{points:n||[]},silent:!0});return TV(t,i),NV(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var n,r=e.getAttribute("points");r&&(n=AV(r));var i=new OA({shape:{points:n||[]},silent:!0});return TV(t,i),NV(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var n=new mS;return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(o);var a=new Mx;return TV(t,a),NV(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",a=new Mx;return TV(t,a),NV(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),a},path:function(e,t){var n=tA(e.getAttribute("d")||"");return TV(t,n),NV(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),kV={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),o=new $A(t,n,r,i);return MV(e,o),IV(e,o),o},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),i=new JA(t,n,r);return MV(e,i),IV(e,i),i}};function MV(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function IV(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var r=n.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};FV(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:a})}n=n.nextSibling}}function TV(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ng(t.__inheritedStyle,e.__inheritedStyle))}function AV(e){for(var t=LV(e),n=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),o=parseFloat(t[r+1]);n.push([i,o])}return n}function NV(e,t,n,r,i){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===e.nodeType&&(function(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(RV,(function(e,t,n){return r.push(t,n),""}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],u=LV(a);switch(i=i||[1,0,0,1,0,0],s){case"translate":Db(i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":Ob(i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":Pb(i,i,-parseFloat(u[0])*BV);break;case"skewX":Nb(i,[1,0,Math.tan(parseFloat(u[0])*BV),1,0,0],i);break;case"skewY":Nb(i,[1,Math.tan(parseFloat(u[0])*BV),0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5])}}t.setLocalTransform(i)}}(e,t),FV(e,a,s),r||function(e,t,n){for(var r=0;r<_V.length;r++){var i=_V[r];null!=(o=e.getAttribute(i))&&(t[wV[i]]=o)}for(r=0;r<EV.length;r++){var o;i=EV[r];null!=(o=e.getAttribute(i))&&(n[SV[i]]=o)}}(e,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=PV(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=PV(o,"stroke",a.stroke,n)),Lg(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(o.style[e]=parseFloat(a[e]))})),Lg(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(o.style[e]=a[e])})),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=Rg(LV(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var DV=/^url\(\s*#(.*?)\)/;function PV(e,t,n,r){var i=n&&n.match(DV);if(!i)return"none"===n&&(n=null),n;var o=ov(i[1]);r.push([e,t,o])}var OV=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function LV(e){return e.match(OV)||[]}var RV=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,BV=Math.PI/180;var zV=/([^\s:;]+)\s*:\s*([^:;]+)/g;function FV(e,t,n){var r,i=e.getAttribute("style");if(i)for(zV.lastIndex=0;null!=(r=zV.exec(i));){var o=r[1],a=pv(wV,o)?wV[o]:null;a&&(t[a]=r[2]);var s=pv(SV,o)?SV[o]:null;s&&(n[s]=r[2])}}function jV(e,t){var n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function GV(e,t){return Math.abs(e-t)<1e-8}function VV(e,t,n){var r=0,i=e[0];if(!i)return!1;for(var o=1;o<e.length;o++){var a=e[o];r+=q_(i[0],i[1],a[0],a[1],t,n),i=a}var s=e[0];return GV(i[0],s[0])&&GV(i[1],s[1])||(r+=q_(i[0],i[1],s[0],s[1],t,n)),0!==r}var UV=[];function WV(e,t){for(var n=0;n<e.length;n++)Ov(e[n],e[n],t)}function ZV(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Lv(t,t,o),Rv(n,n,o))}}var HV=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),YV=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},XV=function(e){this.type="linestring",this.points=e},KV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type="geoJSON",i.geometries=n,i._center=r&&[r[0],r[1]],i}return og(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,r=0;r<t.length;r++){var i=t[r],o=i.exterior,a=o&&o.length;a>n&&(e=i,n=a)}if(e)return function(e){for(var t=0,n=0,r=0,i=e.length,o=e[i-1][0],a=e[i-1][1],s=0;s<i;s++){var u=e[s][0],l=e[s][1],c=o*l-u*a;t+=c,n+=(o+u)*c,r+=(a+l)*c,o=u,a=l}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],r=[-1/0,-1/0];return Lg(this.geometries,(function(t){"polygon"===t.type?ZV(t.exterior,n,r,e):Lg(t.points,(function(t){ZV(t,n,r,e)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),t=new ix(n[0],n[1],r[0]-n[0],r[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,i=n.length;r<i;r++){var o=n[r];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(VV(a,e[0],e[1])){for(var u=0;u<(s?s.length:0);u++)if(VV(s[u],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new ix(e,t,n,r),s=i.calculateTransform(a),u=this.geometries,l=0;l<u.length;l++){var c=u[l];"polygon"===c.type?(WV(c.exterior,s),Lg(c.interiors,(function(e){WV(e,s)}))):Lg(c.points,(function(e){WV(e,s)}))}(i=this._rect).copy(a),this._center=[i.x+i.width/2,i.y+i.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(HV),qV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return og(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],r=Tb(UV),i=e;i&&!i.isGeoSVGGraphicRoot;)Nb(r,i.getLocalTransform(),r),i=i.parent;return Lb(r,r),Ov(n,n,r),n},t}(HV),$V=cv(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),QV=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=cv(),this._freedGraphics=[],this._mapName=e,this._parsedXML=xV(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(e){var t=[],n=cv();return Lg(e,(function(e){if(null==e.namedFrom){var r=new qV(e.name,e.el);t.push(r),n.set(e.name,r)}})),{regions:t,regionsMap:n}}(e.named),n=t.regions,r=t.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n,r,i;try{iv(null!=(n=(t=e&&(r=e,i={ignoreViewBox:!0,ignoreRootClip:!0},(new CV).parse(r,i))||{}).root))}catch(li){throw new Error("Invalid svg format\n"+li.message)}var o=new Mx;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,u=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,f=void 0,d=void 0,h=void 0;if(null!=a?(c=0,d=a):u&&(c=u.x,d=u.width),null!=s?(f=0,h=s):u&&(f=u.y,h=u.height),null==c||null==f){var p=n.getBoundingRect();null==c&&(c=p.x,d=p.width),null==f&&(f=p.y,h=p.height)}l=this._boundingRect=new ix(c,f,d,h)}if(u){var g=jV(u,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}o.setClipPath(new CS({shape:l.plain()}));var v=[];return Lg(t.named,(function(e){var t;null!=$V.get(e.svgNodeTagLower)&&(v.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:o,boundingRect:l,named:v}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();function JV(e,t,n){for(var r=0;r<e.length;r++)e[r]=eU(e[r],t[r],n)}function eU(e,t,n){for(var r=[],i=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,u=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,o=u+=o,r.push([s/n,u/n])}return r}function tU(e,t){return Rg(zg((e=function(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;return null==n&&(n=1024),Lg(t.features,(function(e){var t=e.geometry,r=t.encodeOffsets,i=t.coordinates;if(r)switch(t.type){case"LineString":t.coordinates=eU(i,r,n);break;case"Polygon":case"MultiLineString":JV(i,r,n);break;case"MultiPolygon":Lg(i,(function(e,t){return JV(e,r[t],n)}))}})),t.UTF8Encoding=!1,t}(e)).features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,r=e.geometry,i=[];switch(r.type){case"Polygon":var o=r.coordinates;i.push(new YV(o[0],o.slice(1)));break;case"MultiPolygon":Lg(r.coordinates,(function(e){e[0]&&i.push(new YV(e[0],e.slice(1)))}));break;case"LineString":i.push(new XV([r.coordinates]));break;case"MultiLineString":i.push(new XV(r.coordinates))}var a=new KV(n[t||"name"],i,n.cp);return a.properties=n,a}))}for(var nU=[126,25],rU="\u5357\u6d77\u8bf8\u5c9b",iU=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],oU=0;oU<iU.length;oU++)for(var aU=0;aU<iU[oU].length;aU++)iU[oU][aU][0]/=10.5,iU[oU][aU][1]/=-14,iU[oU][aU][0]+=nU[0],iU[oU][aU][1]+=nU[1];var sU={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};var uU=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var lU=function(){function e(e,t,n){var r;this.type="geoJSON",this._parsedMap=cv(),this._mapName=e,this._specialAreas=n,this._geoJSON=Wg(r=t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return e.prototype.load=function(e,t){t=t||"name";var n=this._parsedMap.get(t);if(!n){var r=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:r,boundingRect:cU(r)})}var i=cv(),o=[];return Lg(n.regions,(function(t){var n=t.name;e&&pv(e,n)&&(t=t.cloneShallow(n=e[n])),o.push(t),i.set(n,t)})),{regions:o,boundingRect:n.boundingRect||new ix(0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,r=this._geoJSON;try{t=r?tU(r,e):[]}catch(li){throw new Error("Invalid geoJson format\n"+li.message)}return function(e,t){if("china"===e){for(var n=0;n<t.length;n++)if(t[n].name===rU)return;t.push(new KV(rU,Rg(iU,(function(e){return{type:"polygon",exterior:e}})),nU))}}(n,t),Lg(t,(function(e){var t=e.name;!function(e,t){if("china"===e){var n=sU[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/14,t.setCenter(r)}}}(n,e),function(e,t){"china"===e&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:uU[0]})}(n,e);var r=this._specialAreas&&this._specialAreas[t];r&&e.transformTo(r.left,r.top,r.width,r.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function cU(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return t}var fU=cv(),dU=function(e,t,n){if(t.svg){var r=new QV(e,t.svg);fU.set(e,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?n=t.specialAreas:i=t;r=new lU(e,i,n);fU.set(e,r)}},hU=function(e){return fU.get(e)},pU=function(e){var t=fU.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},gU=function(e,t,n){var r=fU.get(e);if(r)return r.load(t,n)},vU=["rect","circle","line","ellipse","polygon","polyline","path"],mU=cv(vU),yU=cv(vU.concat(["g"])),bU=cv(vU.concat(["g"])),xU=gw();function wU(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function _U(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var SU=function(){function e(e){var t=new Mx;this.uid=MC("ec_map_draw"),this._controller=new pV(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Mx),t.add(this._svgGroup=new Mx)}return e.prototype.draw=function(e,t,n,r,i){var o="geo"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem,u=this._regionsGroup,l=this.group,c=s.getTransformInfo(),f=c.raw,d=c.roam;!u.childAt(0)||i?(l.x=d.x,l.y=d.y,l.scaleX=d.scaleX,l.scaleY=d.scaleY,l.dirty()):ZE(l,d,e);var h=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:h,isGeo:o,transformInfoRaw:f};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(e,t,n),this._updateMapSelectHandler(e,u,n,r)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=cv(),n=cv(),r=this._regionsGroup,i=e.transformInfoRaw,o=e.mapOrGeoModel,a=e.data,s=e.geo.projection,u=s&&s.stream;function l(e,t){return t&&(e=t(e)),e&&[e[0]*i.scaleX+i.x,e[1]*i.scaleY+i.y]}function c(e){for(var t=[],n=!u&&s&&s.project,r=0;r<e.length;++r){var i=l(e[r],n);i&&t.push(i)}return t}function f(e){return{shape:{points:c(e)}}}r.removeAll(),Lg(e.geo.regions,(function(i){var c=i.name,d=t.get(c),h=n.get(c)||{},p=h.dataIdx,g=h.regionModel;d||(d=t.set(c,new Mx),r.add(d),p=a?a.indexOfName(c):null,g=e.isGeo?o.getRegionModel(c):a?a.getItemModel(p):null,n.set(c,{dataIdx:p,regionModel:g}));var v=[],m=[];Lg(i.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);u&&(t=TU(t,u)),Lg(t,(function(e){v.push(new NA(f(e)))}))}else{var n=e.points;u&&(n=TU(n,u,!0)),Lg(n,(function(e){m.push(new OA(f(e)))}))}}));var y=l(i.getCenter(),s&&s.project);function b(t,n){if(t.length){var r=new XA({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});d.add(r),EU(e,r,p,g),CU(e,r,c,g,o,p,y),n&&(_U(r),Lg(r.states,_U))}}b(v),b(m,!0)})),t.each((function(t,r){var i=n.get(r),a=i.dataIdx,s=i.regionModel;kU(e,t,r,s,o,a),MU(e,t,r,s,o),IU(e,t,r,s,o)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=cv(),i=!1;Lg(this._svgGraphicRecord.named,(function(t){var n=t.name,o=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,u=t.el,l=a?a.indexOfName(n):null,c=o.getRegionModel(n);(null!=mU.get(s)&&u instanceof u_&&EU(e,u,l,c),u instanceof u_&&(u.culling=!0),u.z2EmphasisLift=0,t.namedFrom)||(null!=bU.get(s)&&CU(e,u,n,c,o,l,null),kU(e,u,n,c,o,l),MU(e,u,n,c,o),null!=yU.get(s)&&("self"===IU(e,u,n,c,o)&&(i=!0),(r.get(n)||r.set(n,[])).push(u)))}),this),this._enableBlurEntireSVG(i,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){vE(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(e);return i?[i]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=hU(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=hU(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var r=e.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=r.getZoom(),i.enable(e.get("roam")||!1);var a=e.mainType;function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}i.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,gV(o,e.dx,e.dy),n.dispatchAction(Ag(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),i.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,vV(o,e.scale,e.originX,e.originY),n.dispatchAction(Ag(s(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),i.setPointerChecker((function(t,i,o){return r.containPoint([i,o])&&!bV(t,n,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=xU(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,r){var i=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){i._mouseDownFlag=!0})),t.on("click",(function(e){i._mouseDownFlag&&(i._mouseDownFlag=!1)})))},e}();function EU(e,t,n,r){var i=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),a=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),u=wU(i),l=wU(o),c=wU(s),f=wU(a),d=e.data;if(d){var h=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(u.fill=h.fill),p&&(u.decal=TP(p,e.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=l,t.ensureState("select").style=c,t.ensureState("blur").style=f,vE(t)}function CU(e,t,n,r,i,o,a){var s=e.data,u=e.isGeo,l=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(u||l||c&&c.showLabel){var f=u?n:o,d=void 0;(!s||o>=0)&&(d=i);var h=a?{normal:{align:"center",verticalAlign:"middle"}}:null;tC(t,nC(r),{labelFetcher:d,labelDataIndex:f,defaultText:n},h);var p=t.getTextContent();if(p&&(xU(p).ignore=p.ignore,t.textConfig&&a)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function kU(e,t,n,r,i,o){e.data?e.data.setItemGraphicEl(o,t):VS(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function MU(e,t,n,r,i){e.data||RN({el:t,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function IU(e,t,n,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var o=r.getModel("emphasis"),a=o.get("focus");return PE(t,a,o.get("blurScope"),o.get("disabled")),e.isGeo&&function(e,t,n){var r=VS(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}(t,i,n),a}function TU(e,t,n){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&r.push([e,t])},sphere:function(){}});return!n&&s.polygonStart(),Lg(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!n&&s.polygonEnd(),i}var AU=SU,NU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id)(o=this._mapDraw)&&i.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new AU(n);i.add(o.group),o.draw(e,t,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var r=e.originalData,i=this.group;r.each(r.mapDimension("value"),(function(t,n){if(!isNaN(t)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,u=new oA({style:{fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:11)});if(!s){var l=e.mainSeries.getData(),c=r.getName(n),f=l.indexOfName(c),d=r.getItemModel(n),h=d.getModel("label"),p=l.getItemGraphicEl(f);tC(u,nC(d),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(f,n)}},defaultText:c}),u.disableLabelAnimation=!0,h.get("position")||u.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(e){pE(u,e)}}i.add(u)}}}))},t.type="map",t}(YN),DU=NU,PU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,r=n.getRegion(t);return r&&n.dataToPoint(r.getCenter())}},n}return og(t,e),t.prototype.getInitialData=function(e){for(var t=hF(this,{coordDimensions:["value"],encodeDefaulter:Gg(nM,this)}),n=cv(),r=[],i=0,o=t.count();i<o;i++){var a=t.getName(i);n.set(a,!0)}return Lg(gU(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(e){var t=e.name;n.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData(),i=this.getRawValue(e),o=r.getName(e),a=this.seriesGroup,s=[],u=0;u<a.length;u++){var l=a[u].originalData.indexOfName(o),c=r.mapDimension("value");isNaN(a[u].originalData.get(c,l))||s.push(a[u].name)}return cT("section",{header:s.join(", "),noHeader:!s.length,blocks:[cT("nameValue",{name:o,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=rP(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(PT),OU=PU;function LU(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)})),Lg(t,(function(e,t){for(var n=function(e,t){var n={};return Lg(e,(function(e){e.each(e.mapDimension("value"),(function(t,r){var i="ec-"+e.getName(r);n[i]=n[i]||[],isNaN(t)||n[i].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(r,i){for(var o="ec-"+e[0].getName(i),a=0,s=1/0,u=-1/0,l=n[o].length,c=0;c<l;c++)s=Math.min(s,n[o][c]),u=Math.max(u,n[o][c]),a+=n[o][c];return 0===l?NaN:"min"===t?s:"max"===t?u:"average"===t?a/l:a}))}(Rg(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(n.cloneShallow()),e[r].mainSeries=e[0]}))}function RU(e){var t={};e.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!t[r]){var i={};Lg(n.seriesGroup,(function(t){var n=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),(function(e,t){var o=r.getName(t),a=n.getRegion(o);if(a&&!isNaN(e)){var s=i[o]||0,u=n.dataToPoint(a.getCenter());i[o]=s+1,r.setItemLayout(t,{point:u,offset:s})}}))}));var o=n.getData();o.each((function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!i[t],o.setItemLayout(e,n)})),t[r]=!0}}))}var BU=Ov,zU=function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Hb,n._rawTransformable=new Hb,n.name=t,n}return og(t,e),t.prototype.setBoundingRect=function(e,t,n,r){return this._rect=new ix(e,t,n,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,r){this._transformTo(e,t,n,r),this._viewRect=new ix(e,t,n,r)},t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new ix(e,t,n,r));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=Ov([],r,e),n=Ov([],n,e),t.originX=r[0],t.originY=r[1],t.x=n[0]-r[0],t.y=n[1]-r[1],t.scaleX=t.scaleY=i,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Ab(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Lb(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new Hb;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var r=t?this._rawTransform:this.transform;return n=n||[],r?BU(n,e,r):xv(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?BU([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var r=FU(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=FU(t);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Hb);function FU(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var jU=zU,GU={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},VU=["lng","lat"],UU=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.dimensions=VU,i.type="geo",i._nameCoordMap=cv(),i.map=n;var o,a=r.projection,s=gU(n,r.nameMap,r.nameProperty),u=hU(n),l=(i.resourceType=u?u.type:null,i.regions=s.regions),c=GU[u.type];if(i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=a,a)for(var f=0;f<l.length;f++){var d=l[f].getBoundingRect(a);(o=o||d.clone()).union(d)}else o=s.boundingRect;return i.setBoundingRect(o.x,o.y,o.width,o.height),i.aspectScale=a?1:ev(r.aspectScale,c.aspectScale),i._invertLongitute=!a&&c.invertLongitute,i}return og(t,e),t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),o=this._invertLongitute;i=i.clone(),o&&(i.y=-i.y-i.height);var a=this._rawTransformable;a.transform=i.calculateTransform(new ix(e,t,n,r));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var r=t[n];if("geoJSON"===r.type&&r.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(Wg(e)&&(e=this.getGeoCoord(e)),e){var r=this.projection;return r&&(e=r.project(e)),e&&this.projectedToPoint(e)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,r){return e.prototype.dataToPoint.call(this,t,n,r)},t.prototype.convertToPixel=function(e,t,n){var r=WU(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=WU(t);return r===this?r.pointToData(n):null},t}(jU);function WU(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",bw).models[0]||{}).coordinateSystem:null}Pg(UU,jU);var ZU=UU;function HU(e,t){var n=e.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=r[0],s=r[1],u=i[0],l=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(e,t,n,a){for(var s=n-e,u=a-t,l=0;l<=100;l++){var c=l/100,f=o.project([e+s*c,t+u*c]);Lv(r,r,f),Rv(i,i,f)}};c(a,s,u,s),c(u,s,u,l),c(u,l,a,l),c(a,l,u,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}else 0}var f,d,h,p=this.getBoundingRect(),g=e.get("layoutCenter"),v=e.get("layoutSize"),m=t.getWidth(),y=t.getHeight(),b=p.width/p.height*this.aspectScale,x=!1;if(g&&v&&(f=[Ox(g[0],m),Ox(g[1],y)],d=Ox(v,Math.min(m,y)),isNaN(f[0])||isNaN(f[1])||isNaN(d)||(x=!0)),x)h={},b>1?(h.width=d,h.height=d/b):(h.height=d,h.width=d*b),h.y=f[1]-h.height/2,h.x=f[0]-h.width/2;else{var w=e.getBoxLayoutParams();w.aspect=b,h=Ak(w,{width:m,height:y})}this.setViewRect(h.x,h.y,h.width,h.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}var YU=function(){function e(){this.dimensions=VU}return e.prototype.create=function(e,t){var n=[];function r(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,i){var o=e.get("map"),a=new ZU(o+i,o,Ag({nameMap:e.get("nameMap")},r(e)));a.zoomLimit=e.get("scaleLimit"),n.push(a),e.coordinateSystem=a,a.model=e,a.resize=HU,a.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}}));var i={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),Lg(i,(function(e,i){var o=Rg(e,(function(e){return e.get("nameMap")})),a=new ZU(i,i,Ag({nameMap:Tg(o)},r(e[0])));a.zoomLimit=Jg.apply(null,Rg(e,(function(e){return e.get("scaleLimit")}))),n.push(a),a.resize=HU,a.resize(e[0],t),Lg(e,(function(e){e.coordinateSystem=a,function(e,t){Lg(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}(a,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n,r){for(var i=(e||[]).slice(),o=cv(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return Lg(gU(t,n,r).regions,(function(e){var t=e.name;!o.get(t)&&i.push({name:t})})),i},e}(),XU=new YU,KU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(e,t,n){var r=hU(e.map);if(r&&"geoJSON"===r.type){var i=e.itemStyle=e.itemStyle||{};"color"in i||(i.color="#eee")}this.mergeDefaultAndTheme(e,n),iw(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=XU.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=Bg(t.regions||[],(function(t,r){var i=r.name;return i&&(t.set(i,new CC(r,e,e.ecModel)),r.selected&&(n[i]=!0)),t}),cv()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new CC(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),r="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),i={name:e};return Ug(r)?(i.status=t,r(i)):Wg(r)?r.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(zk),qU=KU;function $U(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function QU(e,t,n){var r=e.getZoom(),i=e.getCenter(),o=t.zoom,a=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,e.setCenter($U(e,a))),null!=o){if(n){var s=n.min||0,u=n.max||1/0;o=Math.max(Math.min(r*o,u),s)/r}e.scaleX*=o,e.scaleY*=o;var l=(t.originX-e.x)*(o-1),c=(t.originY-e.y)*(o-1);e.x-=l,e.y-=c,e.updateTransform(),e.setCenter($U(e,a)),e.setZoom(o*r)}return{center:e.getCenter(),zoom:e.getZoom()}}var JU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return og(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,r){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new AU(n));var i=this._mapDraw;i.draw(e,t,n,this,r),i.group.on("click",this._handleRegionClick,this),i.group.silent=e.get("silent"),this.group.add(i.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;WD(e.target,(function(e){return null!=(t=VS(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var r=this;this._mapDraw.group.traverse((function(e){var t=VS(e).eventData;if(t)return r._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(LT),eW=JU;function tW(e,t,n){dU(e,t,n)}function nW(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var r={},i=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name),Lg(n.coordinateSystem.regions,(function(e){r[e.name]=n.isSelected(e.name)||!1}));var o=[];Lg(r,(function(e,t){r[t]&&o.push(t)})),i.push({geoIndex:n.componentIndex,name:o})})),{selected:r,allSelected:i,name:e.name}}))}e.registerCoordinateSystem("geo",XU),e.registerComponentModel(qU),e.registerComponentView(eW),e.registerImpl("registerMap",tW),e.registerImpl("getMap",(function(e){return pU(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var r=t.coordinateSystem;if("geo"===r.type){var i=QU(r,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom),"series"===n&&Lg(t.seriesGroup,(function(e){e.setCenter(i.center),e.setZoom(i.zoom)}))}}))}))}function rW(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,i=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,r=0,i=0;for(;--n>=0;){var o=t[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,n,r){if(t){for(var i=e,o=e,a=o.parentNode.children[0],s=t,u=i.hierNode.modifier,l=o.hierNode.modifier,c=a.hierNode.modifier,f=s.hierNode.modifier;s=sW(s),o=uW(o),s&&o;){i=sW(i),a=uW(a),i.hierNode.ancestor=e;var d=s.hierNode.prelim+f-o.hierNode.prelim-l+r(s,o);d>0&&(cW(lW(s,e,n),e,d),l+=d,u+=d),f+=s.hierNode.modifier,l+=o.hierNode.modifier,u+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!sW(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-u),o&&!uW(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=l-c,n=e)}return n}(e,i,e.parentNode.hierNode.defaultAncestor||r[0],t)}function iW(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function oW(e){return arguments.length?e:fW}function aW(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function sW(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function uW(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function lW(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function cW(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function fW(e,t){return e.parentNode===t.parentNode?1:2}var dW=function(){this.parentPoint=[],this.childPoints=[]},hW=function(e){function t(t){return e.call(this,t)||this}return og(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dW},t.prototype.buildPath=function(e,t){var n=t.childPoints,r=n.length,i=t.parentPoint,o=n[0],a=n[r-1];if(1===r)return e.moveTo(i[0],i[1]),void e.lineTo(o[0],o[1]);var s=t.orient,u="TB"===s||"BT"===s?0:1,l=1-u,c=Ox(t.forkPosition,1),f=[];f[u]=i[u],f[l]=i[l]+(a[l]-i[l])*c,e.moveTo(i[0],i[1]),e.lineTo(f[0],f[1]),e.moveTo(o[0],o[1]),f[u]=o[u],e.lineTo(f[0],f[1]),f[u]=a[u],e.lineTo(f[0],f[1]),e.lineTo(a[0],a[1]);for(var d=1;d<r-1;d++){var h=n[d];e.moveTo(h[0],h[1]),f[u]=h[u],e.lineTo(f[0],f[1])}},t}(cS),pW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Mx,n}return og(t,e),t.prototype.init=function(e,t){this._controller=new pV(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var r=e.getData(),i=e.layoutInfo,o=this._mainGroup;"radial"===e.get("layout")?(o.x=i.x+i.width/2,o.y=i.y+i.height/2):(o.x=i.x,o.y=i.y),this._updateViewCoordSys(e),this._updateController(e,t,n);var a=this._data;r.diff(a).add((function(t){gW(r,t)&&vW(r,t,null,o,e)})).update((function(t,n){var i=a.getItemGraphicEl(n);gW(r,t)?vW(r,t,i,o,e):i&&bW(a,n,i,o,e)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&bW(a,t,n,o,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&r.eachItemGraphicEl((function(t,r){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})}))})),this._data=r},t.prototype._updateViewCoordSys=function(e){var t=e.getData(),n=[];t.each((function(e){var r=t.getItemLayout(e);!r||isNaN(r.x)||isNaN(r.y)||n.push([+r.x,+r.y])}));var r=[],i=[];m_(n,r,i);var o=this._min,a=this._max;i[0]-r[0]===0&&(r[0]=o?o[0]:r[0]-1,i[0]=a?a[0]:i[0]+1),i[1]-r[1]===0&&(r[1]=o?o[1]:r[1]-1,i[1]=a?a[1]:i[1]+1);var s=e.coordinateSystem=new jU;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=r,this._max=i},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(t,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!bV(t,n,e)})),i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){gV(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){vV(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,r=t.scaleX||1;return((t.getZoom()-1)*n+1)/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(YN);function gW(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function vW(e,t,n,r,i){var o=!n,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),u=a.getVisual("style").fill,l=!1===a.isExpand&&0!==a.children.length?u:"#fff",c=e.tree.root,f=a.parentNode===c?a:a.parentNode||a,d=e.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,g=a.getLayout();o?((n=new TB(e,t,null,{symbolInnerColor:l,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(e,t,null,{symbolInnerColor:l,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,ZE(n,{x:g.x,y:g.y},i);var v=n.getSymbolPath();if("radial"===i.get("layout")){var m=c.children[0],y=m.getLayout(),b=m.children.length,x=void 0,w=void 0;if(g.x===y.x&&!0===a.isExpand){var _={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};(x=Math.atan2(_.y-y.y,_.x-y.x))<0&&(x=2*Math.PI+x),(w=_.x<y.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-y.y,g.x-y.x))<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(w=g.x<y.x)&&(x-=Math.PI):(w=g.x>y.x)||(x-=Math.PI);var S=w?"left":"right",E=s.getModel("label"),C=E.get("rotate"),k=C*(Math.PI/180),M=v.getTextContent();M&&(v.setTextConfig({position:E.get("position")||S,rotation:null==C?-x:k,origin:"center"}),M.setStyle("verticalAlign","middle"))}var I=s.get(["emphasis","focus"]),T="ancestor"===I?a.getAncestorsIndices():"descendant"===I?a.getDescendantIndices():null;T&&(VS(n).focus=T),function(e,t,n,r,i,o,a,s){var u=t.getModel(),l=e.get("edgeShape"),c=e.get("layout"),f=e.getOrient(),d=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),p=u.getModel("lineStyle").getLineStyle(),g=r.__edge;if("curve"===l)t.parentNode&&t.parentNode!==n&&(g||(g=r.__edge=new UA({shape:xW(c,f,d,i,i)})),ZE(g,{shape:xW(c,f,d,o,a)},e));else if("polyline"===l)if("orthogonal"===c){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var v=t.children,m=[],y=0;y<v.length;y++){var b=v[y].getLayout();m.push([b.x,b.y])}g||(g=r.__edge=new hW({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:f,forkPosition:h}})),ZE(g,{shape:{parentPoint:[a.x,a.y],childPoints:m}},e)}}else 0;g&&(g.useStyle(Ng({strokeNoScale:!0,fill:null},p)),BE(g,u,"lineStyle"),vE(g),s.add(g))}(i,a,c,n,p,h,g,r),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var r=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);r&&1===r.hoverState||pE(n.__edge,t)}})}function mW(e,t,n,r,i){var o=yW(t.tree.root,e),a=o.source,s=o.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var l=t.getItemGraphicEl(a.dataIndex).__edge,c=u.__edge||(!1===a.isExpand||1===a.children.length?l:void 0),f=r.get("edgeShape"),d=r.get("layout"),h=r.get("orient"),p=r.get(["lineStyle","curveness"]);c&&("curve"===f?XE(c,{shape:xW(d,h,p,s,s),style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}):"polyline"===f&&"orthogonal"===r.get("layout")&&XE(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}))}}function yW(e,t){for(var n,r=t.parentNode===e?t:t.parentNode||t;null==(n=r.getLayout());)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function bW(e,t,n,r,i){var o=e.tree.getNodeByDataIndex(t),a=yW(e.tree.root,o).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};XE(n,{x:a.x+1,y:a.y+1},i,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(t){mW(t,e,r,i,s)})),mW(o,e,r,i,s)}function xW(e,t,n,r,i){var o,a,s,u,l,c,f,d;if("radial"===e){l=r.rawX,f=r.rawY,c=i.rawX,d=i.rawY;var h=aW(l,f),p=aW(l,f+(d-f)*n),g=aW(c,d+(f-d)*n),v=aW(c,d);return{x1:h.x||0,y1:h.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return l=r.x,f=r.y,c=i.x,d=i.y,"LR"!==t&&"RL"!==t||(o=l+(c-l)*n,a=f,s=c+(l-c)*n,u=d),"TB"!==t&&"BT"!==t||(o=l,a=f+(d-f)*n,s=c,u=d+(f-d)*n),{x1:l,y1:f,x2:c,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:u}}var wW=pW,_W=gw();function SW(e,t){if(_W(r=this).mainData===r){var n=Ag({},_W(this).datas);n[this.dataType]=t,IW(t,n,e)}else TW(t,this.dataType,_W(this).mainData,e);var r;return t}function EW(e,t){return e.struct&&e.struct.update(),t}function CW(e,t){return Lg(_W(t).datas,(function(n,r){n!==t&&TW(n.cloneShallow(),r,t,e)})),t}function kW(e){var t=_W(this).mainData;return null==e||null==t?t:_W(t).datas[e]}function MW(){var e=_W(this).mainData;return null==e?[{data:e}]:Rg(Fg(_W(e).datas),(function(t){return{type:t,data:_W(e).datas[t]}}))}function IW(e,t,n){_W(e).datas={},Lg(t,(function(t,r){TW(t,r,e,n)}))}function TW(e,t,n,r){_W(n).datas[t]=e,_W(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=kW,e.getLinkedDataAll=MW}var AW=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,IW(t,n,e),Lg(n,(function(n){Lg(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,Gg(SW,e))}))})),t.wrapMethod("cloneShallow",Gg(CW,e)),Lg(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,Gg(EW,e))})),iv(n[t.dataType]===t)},NW=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){Ug(e)&&(n=t,t=e,e=null),Wg(e=e||{})&&(e={order:e});var r,i=e.order||"preorder",o=this[e.attr||"children"];"preorder"===i&&(r=t.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(e,t,n);"postorder"===i&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),DW=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var i=new e(n),o=[],a=1;!function e(t,n){var r=t.value;a=Math.max(a,Vg(r)?r.length:1),o.push(t);var s=new NW(fw(t.name,""),i);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(s,n):i.root=s,i._nodes.push(s);var u=t.children;if(u)for(var l=0;l<u.length;l++)e(u[l],s)}(t),i.root.updateDepthAndHeight(0);var s=pB(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new hB(s,n);return u.initData(o),r&&r(u),AW({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e}();var PW=DW;function OW(e,t,n){if(e&&Dg(t,e.type)>=0){var r=n.getData().tree.root,i=e.targetNode;if(Wg(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=e.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function LW(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function RW(e,t){return Dg(LW(e),t)>=0}function BW(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var zW=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return og(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},r=new CC(n,this,this.ecModel),i=PW.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=r),e}))}));var o=0;i.eachNode("preorder",(function(e){e.depth>o&&(o=e.depth)}));var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData().tree,i=r.root.children[0],o=r.getNodeByDataIndex(e),a=o.getValue(),s=o.name;o&&o!==i;)s=o.parentNode.name+"."+s,o=o.parentNode;return cT("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=BW(r,this),n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(PT),FW=zW;function jW(e,t){for(var n,r=[e];n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}}function GW(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=function(e,t){return Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var r=e.get("layout"),i=0,o=0,a=null;"radial"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=oW((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=n.width,o=n.height,a=oW());var s=e.getData().tree.root,u=s.children[0];if(u){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,i=[t];n=i.pop();)if(r=n.children,n.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var a=r[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}}(s),function(e,t,n){for(var r,i=[e],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)t(r,n)}(u,rW,a),s.hierNode.modifier=-u.hierNode.prelim,jW(u,iW);var l=u,c=u,f=u;jW(u,(function(e){var t=e.getLayout().x;t<l.getLayout().x&&(l=e),t>c.getLayout().x&&(c=e),e.depth>f.depth&&(f=e)}));var d=l===c?1:a(l,c)/2,h=d-l.getLayout().x,p=0,g=0,v=0,m=0;if("radial"===r)p=i/(c.getLayout().x+d+h),g=o/(f.depth-1||1),jW(u,(function(e){v=(e.getLayout().x+h)*p,m=(e.depth-1)*g;var t=aW(v,m);e.setLayout({x:t.x,y:t.y,rawX:v,rawY:m},!0)}));else{var y=e.getOrient();"RL"===y||"LR"===y?(g=o/(c.getLayout().x+d+h),p=i/(f.depth-1||1),jW(u,(function(e){m=(e.getLayout().x+h)*g,v="LR"===y?(e.depth-1)*p:i-(e.depth-1)*p,e.setLayout({x:v,y:m},!0)}))):"TB"!==y&&"BT"!==y||(p=i/(c.getLayout().x+d+h),g=o/(f.depth-1||1),jW(u,(function(e){v=(e.getLayout().x+h)*p,m="TB"===y?(e.depth-1)*g:o-(e.depth-1)*g,e.setLayout({x:v,y:m},!0)})))}}}(e,t)}))}function VW(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle();Ag(t.ensureUniqueItemVisual(e.dataIndex,"style"),n)}))}))}var UW=["treemapZoomToNode","treemapRender","treemapMove"];function WW(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var i=hM(e.ecModel,r.name||r.dataIndex+"",n);t.setVisual("decal",i)}))}var ZW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return og(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};HW(n);var r=e.levels||[],i=this.designatedVisualItemStyle={},o=new CC({itemStyle:i},this,t);r=e.levels=function(e,t){var n,r,i=rw(t.get("color")),o=rw(t.get(["aria","decal","decals"]));if(!i)return;Lg(e=e||[],(function(e){var t=new CC(e),i=t.get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(r=!0)}));var a=e[0]||(e[0]={});n||(a.color=i.slice());!r&&o&&(a.decal=o.slice());return e}(r,t);var a=Rg(r||[],(function(e){return new CC(e,o,t)}),this),s=PW.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=s.getNodeByDataIndex(t),r=n?a[n.depth]:null;return e.parentModel=r||o,e}))}));return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.getRawValue(e);return cT("nameValue",{name:r.getName(e),value:i})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=BW(r,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Ag(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=cv(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){WW(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(PT);function HW(e){var t=0;Lg(e.children,(function(e){HW(e);var n=e.value;Vg(n)&&(n=n[0]),t+=n}));var n=e.value;Vg(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),Vg(e.value)?e.value[0]=n:e.value=n}var YW=ZW,XW=function(){function e(e){this.group=new Mx,e.add(this.group)}return e.prototype.render=function(e,t,n,r){var i=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var a=i.getModel("itemStyle"),s=a.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(e,u,a,s,r),Nk(o,u.pos,u.box)}},e.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var i=fw(r.getModel().get("name"),""),o=n.getTextRect(i),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:r,text:i,width:a})}},e.prototype._renderContent=function(e,t,n,r,i){for(var o=0,a=t.emptyItemWidth,s=e.get(["breadcrumb","height"]),u=function(e,t,n){var r=t.width,i=t.height,o=Ox(e.left,r),a=Ox(e.top,i),s=Ox(e.right,r),u=Ox(e.bottom,i);return(isNaN(o)||isNaN(parseFloat(e.left)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r),(isNaN(a)||isNaN(parseFloat(e.top)))&&(a=0),(isNaN(u)||isNaN(parseFloat(e.bottom)))&&(u=i),n=gk(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(u-a-n[0]-n[2],0)}}(t.pos,t.box),l=t.totalWidth,c=t.renderList,f=c.length-1;f>=0;f--){var d=c[f],h=d.node,p=d.width,g=d.text;l>u.width&&(l-=p-a,p=a,g=null);var v=new NA({shape:{points:KW(o,0,p,s,f===c.length-1,0===f)},style:Ng(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new GS({style:{text:g,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:Gg(i,h)});v.disableLabelAnimation=!0,this.group.add(v),qW(v,e,h),o+=p+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function KW(e,t,n,r,i,o){var a=[[i?e:e-5,t],[e+n,t],[e+n,t+r],[i?e:e-5,t+r]];return!o&&a.splice(2,0,[e+n+5,t+r/2]),!i&&a.push([e,t+r/2]),a}function qW(e,t,n){VS(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&BW(n,t)}}var $W=XW,QW=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,r,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:r,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var JW=Mx,eZ=CS,tZ="label",nZ="upperLabel",rZ=Ow([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),iZ=function(e){var t=rZ(e);return t.stroke=t.fill=t.lineWidth=null,t},oZ=gw(),aZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return og(t,e),t.prototype.render=function(e,t,n,r){if(!(Dg(t.findComponents({mainType:"series",subType:"treemap",query:r}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var i=OW(r,["treemapZoomToNode","treemapRootToNode"],e),o=r&&r.type,a=e.layoutInfo,s=!this._oldTree,u=this._storage,l="treemapRootToNode"===o&&i&&u?{rootNodeGroup:u.nodeGroup[i.node.getRawIndex()],direction:r.direction}:null,c=this._giveContainerGroup(a),f=e.get("animation"),d=this._doRender(c,e,l);!f||s||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?d.renderFinally():this._doAnimation(c,d,e,l),this._resetController(n),this._renderBreadcrumb(e,n,i)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new JW,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var r=t.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,u=[];function l(e,r,i,l){return function(e,t,n,r,i,o,a,s,u,l){if(!a)return;var c=a.getLayout(),f=e.getData(),d=a.getModel();if(f.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,g=c.borderWidth,v=c.invisible,m=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,x=c.upperHeight,w=b&&b.length,_=d.getModel("itemStyle"),S=d.getModel(["emphasis","itemStyle"]),E=d.getModel(["blur","itemStyle"]),C=d.getModel(["select","itemStyle"]),k=_.get("borderRadius")||0,M=j("nodeGroup",JW);if(!M)return;if(u.add(M),M.x=c.x||0,M.y=c.y||0,M.markRedraw(),oZ(M).nodeWidth=h,oZ(M).nodeHeight=p,c.isAboveViewRoot)return M;var I=j("background",eZ,l,20);I&&L(M,I,w&&c.upperLabelHeight);var T=d.getModel("emphasis"),A=T.get("focus"),N=T.get("blurScope"),D=T.get("disabled"),P="ancestor"===A?a.getAncestorsIndices():"descendant"===A?a.getDescendantIndices():A;if(w)FE(M)&&zE(M,!1),I&&(zE(I,!D),f.setItemGraphicEl(a.dataIndex,I),OE(I,P,N));else{var O=j("content",eZ,l,30);O&&R(M,O),I.disableMorphing=!0,I&&FE(I)&&zE(I,!1),zE(M,!D),f.setItemGraphicEl(a.dataIndex,M),OE(M,P,N)}return M;function L(t,n,r){var i=VS(n);if(i.dataIndex=a.dataIndex,i.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:h,height:p,r:k}),v)B(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,u=iZ(_);u.fill=s;var l=rZ(S);l.fill=S.get("borderColor");var c=rZ(E);c.fill=E.get("borderColor");var f=rZ(C);if(f.fill=C.get("borderColor"),r){var d=h-2*g;z(n,s,o.opacity,{x:g,y:0,width:d,height:x})}else n.removeTextContent();n.setStyle(u),n.ensureState("emphasis").style=l,n.ensureState("blur").style=c,n.ensureState("select").style=f,vE(n)}t.add(n)}function R(t,n){var r=VS(n);r.dataIndex=a.dataIndex,r.seriesIndex=e.seriesIndex;var i=Math.max(h-2*g,0),o=Math.max(p-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:i,height:o,r:k}),v)B(n);else{n.invisible=!1;var s=a.getVisual("style"),u=s.fill,l=iZ(_);l.fill=u,l.decal=s.decal;var c=rZ(S),f=rZ(E),d=rZ(C);z(n,u,s.opacity,null),n.setStyle(l),n.ensureState("emphasis").style=c,n.ensureState("blur").style=f,n.ensureState("select").style=d,vE(n)}t.add(n)}function B(e){!e.invisible&&o.push(e)}function z(t,n,r,i){var o=d.getModel(i?nZ:tZ),s=fw(d.get("name"),null),u=o.getShallow("show");tC(t,nC(d,i?nZ:tZ),{defaultText:u?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:e,labelDataIndex:a.dataIndex});var l=t.getTextContent();if(l){var f=l.style,h=rv(f.padding||0);i&&(t.setTextConfig({layoutRect:i}),l.disableLabelLayout=!0),l.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-h[1]-h[3],0),n=Math.max((i?i.height:t.shape.height)-h[0]-h[2],0);f.width===e&&f.height===n||l.setStyle({width:e,height:n})},f.truncateMinChar=2,f.lineOverflow="truncate",F(f,i,c);var p=l.getState("emphasis");F(p?p.style:null,i,c)}}function F(t,n,r){var i=t?t.text:null;if(!n&&r.isLeafRoot&&null!=i){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+i:i}}function j(e,r,o,a){var s=null!=y&&n[e][y],u=i[e];return s?(n[e][y]=null,G(u,s)):v||((s=new r)instanceof u_&&(s.z2=function(e,t){return 100*e+t}(o,a)),V(u,s)),t[e][m]=s}function G(e,t){var n=e[m]={};t instanceof JW?(n.oldX=t.x,n.oldY=t.y):n.oldShape=Ag({},t.shape)}function V(e,t){var n=e[m]={},o=a.parentNode,s=t instanceof Mx;if(o&&(!r||"drillDown"===r.direction)){var u=0,l=0,c=i.background[o.getRawIndex()];!r&&c&&c.oldShape&&(u=c.oldShape.width,l=c.oldShape.height),s?(n.oldX=0,n.oldY=l):n.oldShape={x:u,y:l,width:0,height:0}}n.fadein=!s}}(t,a,s,n,o,u,e,r,i,l)}!function e(t,n,r,i,o){i?(n=t,Lg(t,(function(e,t){!e.isRemoved()&&s(t,t)}))):new VR(n,t,a,a).add(s).update(s).remove(Gg(s,null)).execute();function a(e){return e.getId()}function s(a,s){var u=null!=a?t[a]:null,c=null!=s?n[s]:null,f=l(u,c,r,o);f&&e(u&&u.viewChildren||[],c&&c.viewChildren||[],f,i,o+1)}}(r.root?[r.root]:[],i&&i.root?[i.root]:[],e,r===i||!i,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Lg(e,(function(e,n){var r=t[n];Lg(e,(function(e){e&&(r.push(e),oZ(e).willDelete=!0)}))})),t}(s);return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){Lg(c,(function(e){Lg(e,(function(e){e.parent&&e.parent.remove(e)}))})),Lg(u,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,r){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=(Ug(i)?0:i)||0,s=(Ug(o)?null:o)||"cubicOut",u=new QW;Lg(t.willDeleteEls,(function(e,t){Lg(e,(function(e,n){if(!e.invisible){var i,o=e.parent,l=oZ(o);if(r&&"drillDown"===r.direction)i=o===r.rootNodeGroup?{shape:{x:0,y:0,width:l.nodeWidth,height:l.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,f=0;l.willDelete||(c=l.nodeWidth/2,f=l.nodeHeight/2),i="nodeGroup"===t?{x:c,y:f,style:{opacity:0}}:{shape:{x:c,y:f,width:0,height:0},style:{opacity:0}}}i&&u.add(e,i,a,0,s)}}))})),Lg(this._storage,(function(e,n){Lg(e,(function(e,r){var i=t.lastsForAnimation[n][r],o={};i&&(e instanceof Mx?null!=i.oldX&&(o.x=e.x,o.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(o.shape=Ag({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),u.add(e,o,a,0,s))}))}),this),this._state="animating",u.finished(jg((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new pV(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",jg(this._onPan,this)),t.on("zoom",jg(this._onZoom,this)));var n=new ix(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,r){return n.contain(t,r)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new ix(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];Db(s,s,[-(t-=a.x),-(n-=a.y)]),Ob(s,s,[e.scale,e.scale]),Db(s,s,[t,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===n)t._zoomToNode(r);else if("link"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&Ek(a,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var r=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new $W(this.group))).render(e,t,n.node,(function(t){"animating"!==r._state&&(RW(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(e,t),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}}),this),n},t.type="treemap",t}(YN);var sZ=aZ,uZ=Lg,lZ=Yg,cZ=-1,fZ=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=Mg(t);this.type=r,this.mappingMethod=n,this._normalizeData=wZ[n];var o=e.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(dZ(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,Lg(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(i)):"category"===n?i.categories?function(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(uZ(t,(function(e,t){n[e]=t})),!Vg(r)){var i=[];Yg(r)?uZ(r,(function(e,t){var r=n[t];i[null!=r?r:cZ]=e})):i[-1]=r,r=xZ(e,i)}for(var o=t.length-1;o>=0;o--)null==r[o]&&(delete n[t[o]],t.pop())}(i):dZ(i,!0):(iv("linear"!==n||i.dataExtent),dZ(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return jg(this._normalizeData,this)},e.listVisualTypes=function(){return Fg(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){Yg(e)?Lg(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var i,o=Vg(t)?[]:Yg(t)?{}:(i=!0,null);return e.eachVisual(t,(function(e,t){var a=n.call(r,e,t);i?o=a:o[t]=a})),o},e.retrieveVisuals=function(t){var n,r={};return t&&uZ(e.visualHandlers,(function(e,i){t.hasOwnProperty(i)&&(r[i]=t[i],n=!0)})),n?r:null},e.prepareVisualTypes=function(e){if(Vg(e))e=e.slice();else{if(!lZ(e))return[];var t=[];uZ(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var r,i=1/0,o=0,a=t.length;o<a;o++){var s=t[o].value;if(null!=s){if(s===e||Wg(s)&&s===e+"")return o;n&&f(s,o)}}for(o=0,a=t.length;o<a;o++){var u=t[o],l=u.interval,c=u.close;if(l){if(l[0]===-1/0){if(_Z(c[1],e,l[1]))return o}else if(l[1]===1/0){if(_Z(c[0],l[0],e))return o}else if(_Z(c[0],l[0],e)&&_Z(c[1],e,l[1]))return o;n&&f(l[0],o),n&&f(l[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function f(t,n){var o=Math.abs(t-e);o<i&&(i=o,r=n)}},e.visualHandlers={color:{applyVisual:gZ("color"),getColorMapper:function(){var e=this.option;return jg("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),vZ.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=Sy(t,e.parsedVisual,r),i?r:My(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return My(Sy(e,this.option.parsedVisual),"rgba")},category:vZ,piecewise:function(e,t){var n=bZ.call(this,t);return null==n&&(n=My(Sy(e,this.option.parsedVisual),"rgba")),n},fixed:mZ}},colorHue:hZ((function(e,t){return Cy(e,t)})),colorSaturation:hZ((function(e,t){return Cy(e,null,t)})),colorLightness:hZ((function(e,t){return Cy(e,null,null,t)})),colorAlpha:hZ((function(e,t){return ky(e,t)})),decal:{applyVisual:gZ("decal"),_normalizedToVisual:{linear:null,category:vZ,piecewise:null,fixed:null}},opacity:{applyVisual:gZ("opacity"),_normalizedToVisual:yZ([0,1])},liftZ:{applyVisual:gZ("liftZ"),_normalizedToVisual:{linear:mZ,category:mZ,piecewise:mZ,fixed:mZ}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:pZ,category:vZ,piecewise:function(e,t){var n=bZ.call(this,t);return null==n&&(n=pZ.call(this,e)),n},fixed:mZ}},symbolSize:{applyVisual:gZ("symbolSize"),_normalizedToVisual:yZ([0,1])}},e}();function dZ(e,t){var n=e.visual,r=[];Yg(n)?uZ(n,(function(e){r.push(e)})):null!=n&&r.push(n);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),xZ(e,r)}function hZ(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r("color",e(n("color"),i))},_normalizedToVisual:yZ([0,1])}}function pZ(e){var t=this.option.visual;return t[Math.round(Px(e,[0,1],[0,t.length-1],!0))]||{}}function gZ(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function vZ(e){var t=this.option.visual;return t[this.option.loop&&e!==cZ?e%t.length:e]}function mZ(){return this.option.visual[0]}function yZ(e){return{linear:function(t){return Px(t,e,this.option.visual,!0)},category:vZ,piecewise:function(t,n){var r=bZ.call(this,n);return null==r&&(r=Px(t,e,this.option.visual,!0)),r},fixed:mZ}}function bZ(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=n[fZ.findPieceIndex(e,n)];if(r&&r.visual)return r.visual[this.type]}}function xZ(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Rg(t,(function(e){return xy(e)}))),t}var wZ={linear:function(e){return Px(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=fZ.findPieceIndex(e,t,!0);if(null!=n)return Px(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?cZ:t},fixed:gv};function _Z(e,t,n){return e?t<=n:t<n}var SZ=fZ,EZ=gw(),CZ={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||kZ(t,{},e.getViewRoot().getAncestors(),e)}};function kZ(e,t,n,r){var i=e.getModel(),o=e.getLayout(),a=e.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,u=i.getModel("itemStyle"),l=function(e,t,n){var r=Ag({},t),i=n.designatedVisualItemStyle;return Lg(["color","colorAlpha","colorSaturation"],(function(n){i[n]=t[n];var o=e.get(n);i[n]=null,null!=o&&(r[n]=o)})),r}(u,t,r),c=a.ensureUniqueItemVisual(e.dataIndex,"style"),f=u.get("borderColor"),d=u.get("borderColorSaturation");null!=d&&(f=function(e,t){return null!=t?Cy(t,null,null,e):null}(d,s=MZ(l))),c.stroke=f;var h=e.viewChildren;if(h&&h.length){var p=function(e,t,n,r,i,o){if(!o||!o.length)return;var a=TZ(t,"color")||null!=i.color&&"none"!==i.color&&(TZ(t,"colorAlpha")||TZ(t,"colorSaturation"));if(!a)return;var s=t.get("visualMin"),u=t.get("visualMax"),l=n.dataExtent.slice();null!=s&&s<l[0]&&(l[0]=s),null!=u&&u>l[1]&&(l[1]=u);var c=t.get("colorMappingBy"),f={type:a.name,dataExtent:l,visual:a.range};"color"!==f.type||"index"!==c&&"id"!==c?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var d=new SZ(f);return EZ(d).drColorMappingBy=c,d}(0,i,o,0,l,h);Lg(h,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function(e,t,n,r,i,o){var a=Ag({},t);if(i){var s=i.type,u="color"===s&&EZ(i).drColorMappingBy,l="index"===u?r:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[s]=i.mapValueToVisual(l)}return a}(i,l,e,t,p,r);kZ(e,o,n,r)}}))}else s=MZ(l),c.fill=s}}function MZ(e){var t=IZ(e,"color");if(t){var n=IZ(e,"colorAlpha"),r=IZ(e,"colorSaturation");return r&&(t=Cy(t,null,null,r)),n&&(t=ky(t,n)),t}}function IZ(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function TZ(e,t){var n=e.get(t);return Vg(n)&&n.length?{name:t,range:n}:null}var AZ=Math.max,NZ=Math.min,DZ=Jg,PZ=Lg,OZ=["itemStyle","borderWidth"],LZ=["itemStyle","gapWidth"],RZ=["upperLabel","show"],BZ=["upperLabel","height"],zZ={seriesType:"treemap",reset:function(e,t,n,r){var i=n.getWidth(),o=n.getHeight(),a=e.option,s=Ak(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=a.size||[],l=Ox(DZ(s.width,u[0]),i),c=Ox(DZ(s.height,u[1]),o),f=r&&r.type,d=OW(r,["treemapZoomToNode","treemapRootToNode"],e),h="treemapRender"===f||"treemapMove"===f?r.rootRect:null,p=e.getViewRoot(),g=LW(p);if("treemapMove"!==f){var v="treemapZoomToNode"===f?function(e,t,n,r,i){var o,a=(t||{}).node,s=[r,i];if(!a||a===n)return s;var u=r*i,l=u*e.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var c=0,f=o.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=a.getValue();if(0===p)return s;l*=c/p;var g=o.getModel(),v=g.get(OZ);(l+=4*v*v+(3*v+Math.max(v,UZ(g)))*Math.pow(l,.5))>jx&&(l=jx),a=o}l<u&&(l=u);var m=Math.pow(l/u,.5);return[r*m,i*m]}(e,d,p,l,c):h?[h.width,h.height]:[l,c],m=a.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var y={squareRatio:a.squareRatio,sort:m,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};p.setLayout(b),FZ(p,y,!1,0),b=p.getLayout(),PZ(g,(function(e,t){var n=(g[t+1]||p).getValue();e.setLayout(Ag({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))}))}var x=e.getData().tree.root;x.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;var a=[o.width/2,o.height/2],s=i;for(;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(s,h,d),!0),e.setLayoutInfo(s),VZ(x,new ix(-s.x,-s.y,i,o),g,p,0)}};function FZ(e,t,n,r){var i,o;if(!e.isRemoved()){var a=e.getLayout();i=a.width,o=a.height;var s=e.getModel(),u=s.get(OZ),l=s.get(LZ)/2,c=UZ(s),f=Math.max(u,c),d=u-l,h=f-l;e.setLayout({borderWidth:u,upperHeight:f,upperLabelHeight:c},!0);var p=(i=AZ(i-2*d,0))*(o=AZ(o-d-h,0)),g=function(e,t,n,r,i,o){var a=e.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!u)return e.viewChildren=[];a=zg(a,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var r="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===r?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:r}))}(a,s);var l=function(e,t,n){for(var r=0,i=0,o=t.length;i<o;i++)r+=t[i].getValue();var a,s=e.get("visualDimension");t&&t.length?"value"===s&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],PZ(t,(function(e){var t=e.getValue(s);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN];return{sum:r,dataExtent:a}}(t,a,s);if(0===l.sum)return e.viewChildren=[];if(l.sum=function(e,t,n,r,i){if(!r)return n;for(var o=e.get("visibleMin"),a=i.length,s=a,u=a-1;u>=0;u--){var l=i["asc"===r?a-u-1:u].getValue();l/n*t<o&&(s=u,n-=l)}return"asc"===r?i.splice(0,a-s):i.splice(s,a-s),n}(t,n,l.sum,s,a),0===l.sum)return e.viewChildren=[];for(var c=0,f=a.length;c<f;c++){var d=a[c].getValue()/l.sum*n;a[c].setLayout({area:d})}u&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0);return e.viewChildren=a,e.setLayout({dataExtent:l.dataExtent},!0),a}(e,s,p,t,n,r);if(g.length){var v={x:d,y:h,width:i,height:o},m=NZ(i,o),y=1/0,b=[];b.area=0;for(var x=0,w=g.length;x<w;){var _=g[x];b.push(_),b.area+=_.getLayout().area;var S=jZ(b,m,t.squareRatio);S<=y?(x++,y=S):(b.area-=b.pop().getLayout().area,GZ(b,m,v,l,!1),m=NZ(v.width,v.height),b.length=b.area=0,y=1/0)}if(b.length&&GZ(b,m,v,l,!0),!n){var E=s.get("childrenVisibleMin");null!=E&&p<E&&(n=!0)}for(x=0,w=g.length;x<w;x++)FZ(g[x],t,n,r+1)}}}function jZ(e,t,n){for(var r=0,i=1/0,o=0,a=void 0,s=e.length;o<s;o++)(a=e[o].getLayout().area)&&(a<i&&(i=a),a>r&&(r=a));var u=e.area*e.area,l=t*t*n;return u?AZ(l*r/u,u/(l*i)):1/0}function GZ(e,t,n,r,i){var o=t===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],l=n[s[o]],c=t?e.area/t:0;(i||c>n[u[a]])&&(c=n[u[a]]);for(var f=0,d=e.length;f<d;f++){var h=e[f],p={},g=c?h.getLayout().area/c:0,v=p[u[a]]=AZ(c-2*r,0),m=n[s[o]]+n[u[o]]-l,y=f===d-1||m<g?m:g,b=p[u[o]]=AZ(y-2*r,0);p[s[a]]=n[s[a]]+NZ(r,v/2),p[s[o]]=l+NZ(r,b/2),l+=y,h.setLayout(p,!0)}n[s[a]]+=c,n[u[a]]-=c}function VZ(e,t,n,r,i){var o=e.getLayout(),a=n[i],s=a&&a===e;if(!(a&&!s||i===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var u=new ix(t.x-o.x,t.y-o.y,t.width,t.height);PZ(e.viewChildren||[],(function(e){VZ(e,u,n,r,i+1)}))}}function UZ(e){return e.get(RZ)?e.get(BZ):0}function WZ(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getGraph().data,i=n.mapArray(n.getName);r.filterSelf((function(e){var n=r.getItemModel(e).getShallow("category");if(null!=n){Hg(n)&&(n=i[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}))}function ZZ(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var o=n.getName(r);i["ec-"+o]=r;var a=n.getItemModel(r),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(o,t)),n.setItemVisual(r,"style",s);for(var u=["symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var c=a.getShallow(u[l],!0);null!=c&&n.setItemVisual(r,u[l],c)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e).getShallow("category");if(null!=t){Wg(t)&&(t=i["ec-"+t]);var o=n.getItemVisual(t,"style");Ag(r.ensureUniqueItemVisual(e,"style"),o);for(var a=["symbol","symbolSize","symbolKeepAspect"],s=0;s<a.length;s++)r.setItemVisual(e,a[s],n.getItemVisual(t,a[s]))}}))}))}function HZ(e){return e instanceof Array||(e=[e,e]),e}function YZ(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=HZ(e.get("edgeSymbol")),i=HZ(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),i=t.getEdgeByIndex(e),o=HZ(r.getShallow("symbol",!0)),a=HZ(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch(Ag(u,s),u.stroke){case"source":var l=i.node1.getVisual("style");u.stroke=l&&l.fill;break;case"target":l=i.node2.getVisual("style");u.stroke=l&&l.fill}o[0]&&i.setVisual("fromSymbol",o[0]),o[1]&&i.setVisual("toSymbol",o[1]),a[0]&&i.setVisual("fromSymbolSize",a[0]),a[1]&&i.setVisual("toSymbolSize",a[1])}))}))}var XZ="--\x3e",KZ=function(e){return e.get("autoCurveness")||null},qZ=function(e,t){var n=KZ(e),r=20,i=[];if(Hg(n))r=n;else if(Vg(n))return void(e.__curvenessList=n);t>r&&(r=t);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=i},$Z=function(e,t,n){var r=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[n.uid,r,i].join(XZ)},QZ=function(e){var t=e.split(XZ);return[t[0],t[2],t[1]].join(XZ)},JZ=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function eH(e,t,n,r){var i=KZ(t),o=Vg(i);if(!i)return null;var a=function(e,t){var n=$Z(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var s=-1,u=0;u<a.length;u++)if(a[u]===n){s=u;break}var l=function(e,t){return JZ($Z(e.node1,e.node2,t),t)+JZ($Z(e.node2,e.node1,t),t)}(e,t);qZ(t,l),e.lineStyle=e.lineStyle||{};var c=$Z(e.node1,e.node2,t),f=t.__curvenessList,d=o||l%2?0:1;if(a.isForward)return f[d+s];var h=QZ(c),p=JZ(h,t),g=f[s+p+d];return r?o?i&&0===i[0]?(p+d)%2?g:-g:((p%2?0:1)+d)%2?g:-g:(p+d)%2?g:-g:f[s+p+d]}function tH(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),nH(n,e)}}function nH(e,t){e.eachEdge((function(e,n){var r=tv(e.getModel().get(["lineStyle","curveness"]),-eH(e,t,n,!0),0),i=wv(e.node1.getLayout()),o=wv(e.node2.getLayout()),a=[i,o];+r&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*r,(i[1]+o[1])/2-(o[0]-i[0])*r]),e.setLayout(a)}))}function rH(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var r=e.getData(),i=[];Lg(n.dimensions,(function(e){i=i.concat(r.mapDimensionsAll(e))}));for(var o=0;o<r.count();o++){for(var a=[],s=!1,u=0;u<i.length;u++){var l=r.get(i[u],o);isNaN(l)||(s=!0),a.push(l)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}nH(r.graph,e)}else t&&"none"!==t||tH(e)}))}function iH(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*n+1)/r}function oH(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var aH=Math.PI,sH=[];function uH(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),i=e.getData(),o=i.graph,a=r.width/2+r.x,s=r.height/2+r.y,u=Math.min(r.width,r.height)/2,l=i.count();i.setLayout({cx:a,cy:s}),l&&(lH[t](e,o,i,u,a,s,l),o.eachEdge((function(t,n){var r,i=tv(t.getModel().get(["lineStyle","curveness"]),eH(t,e,n),0),o=wv(t.node1.getLayout()),u=wv(t.node2.getLayout()),l=(o[0]+u[0])/2,c=(o[1]+u[1])/2;+i&&(r=[a*(i*=3)+l*(1-i),s*i+c*(1-i)]),t.setLayout([o,u,r])})))}}var lH={value:function(e,t,n,r,i,o,a){var s=0,u=n.getSum("value"),l=2*Math.PI/(u||a);t.eachNode((function(e){var t=e.getValue("value"),n=l*(u?t:1)/2;s+=n,e.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=n}))},symbolSize:function(e,t,n,r,i,o,a){var s=0;sH.length=a;var u=iH(e);t.eachNode((function(e){var t=oH(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=u;var n=Math.asin(t/2/r);isNaN(n)&&(n=aH/2),sH[e.dataIndex]=n,s+=2*n}));var l=(2*aH-s)/a/2,c=0;t.eachNode((function(e){var t=l+sH[e.dataIndex];c+=t,e.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+o]),c+=t}))}};function cH(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&uH(e,"symbolSize")}))}var fH=Ev;function dH(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},r=e.getGraph(),i=r.data,o=r.edgeData,a=e.getModel("force"),s=a.get("initLayout");e.preservedPoints?i.each((function(e){var t=i.getId(e);i.setItemLayout(e,n[t]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&uH(e,"value"):tH(e);var u=i.getDataExtent("value"),l=o.getDataExtent("value"),c=a.get("repulsion"),f=a.get("edgeLength"),d=Vg(c)?c:[c,c],h=Vg(f)?f:[f,f];h=[h[1],h[0]];var p=i.mapArray("value",(function(e,t){var n=i.getItemLayout(t),r=Px(e,u,d);return isNaN(r)&&(r=(d[0]+d[1])/2),{w:r,rep:r,fixed:i.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=o.mapArray("value",(function(t,n){var i=r.getEdgeByIndex(n),o=Px(t,l,h);isNaN(o)&&(o=(h[0]+h[1])/2);var a=i.getModel(),s=tv(i.getModel().get(["lineStyle","curveness"]),-eH(i,e,n,!0),0);return{n1:p[i.node1.dataIndex],n2:p[i.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),v=t.getBoundingRect(),m=function(e,t,n){for(var r=e,i=t,o=n.rect,a=o.width,s=o.height,u=[o.x+a/2,o.y+s/2],l=null==n.gravity?.1:n.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=bv(a*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),f.pp=wv(f.p),f.edges=null}var d,h,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){d=e},afterStep:function(e){h=e},step:function(e){d&&d(r,i);for(var t=[],n=r.length,o=0;o<i.length;o++){var a=i[o];if(!a.ignoreForceLayout){var s=a.n1;Cv(t,(v=a.n2).p,s.p);var c=kv(t)-a.d,f=v.w/(s.w+v.w);isNaN(f)&&(f=0),Tv(t,t),!s.fixed&&fH(s.p,s.p,t,f*c*g),!v.fixed&&fH(v.p,v.p,t,-(1-f)*c*g)}}for(o=0;o<n;o++)(b=r[o]).fixed||(Cv(t,u,b.p),fH(b.p,b.p,t,l*g));for(o=0;o<n;o++){s=r[o];for(var p=o+1;p<n;p++){var v;Cv(t,(v=r[p]).p,s.p),0===(c=kv(t))&&(_v(t,Math.random()-.5,Math.random()-.5),c=1);var m=(s.rep+v.rep)/c/c;!s.fixed&&fH(s.pp,s.pp,t,m),!v.fixed&&fH(v.pp,v.pp,t,-m)}}var y=[];for(o=0;o<n;o++){var b;(b=r[o]).fixed||(Cv(y,b.p,b.pp),fH(b.p,b.p,y,g),xv(b.pp,b.p))}var x=(g*=.992)<.01;h&&h(r,i,x),e&&e(x)}}}(p,g,{rect:v,gravity:a.get("gravity"),friction:a.get("friction")});m.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&xv(e[n].p,r.getNodeByIndex(n).getLayout())})),m.afterStep((function(e,t,o){for(var a=0,s=e.length;a<s;a++)e[a].fixed||r.getNodeByIndex(a).setLayout(e[a].p),n[i.getId(a)]=e[a].p;for(a=0,s=t.length;a<s;a++){var u=t[a],l=r.getEdgeByIndex(a),c=u.n1.p,f=u.n2.p,d=l.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],xv(d[0],c),xv(d[1],f),+u.curveness&&(d[2]=[(c[0]+f[0])/2-(c[1]-f[1])*u.curveness,(c[1]+f[1])/2-(f[0]-c[0])*u.curveness]),l.setLayout(d)}})),e.forceLayout=m,e.preservedPoints=n,m.step()}else e.forceLayout=null}))}function hH(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var i=e.getData(),o=[],a=[];m_(i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get("x"),+t.get("y")]})),o,a),a[0]-o[0]===0&&(a[0]+=1,o[0]-=1),a[1]-o[1]===0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),u=function(e,t,n){return Ak(Ag(e.getBoxLayoutParams(),{aspect:n}),{width:t.getWidth(),height:t.getHeight()})}(e,t,s);isNaN(s)&&(o=[u.x,u.y],a=[u.x+u.width,u.y+u.height]);var l=a[0]-o[0],c=a[1]-o[1],f=u.width,d=u.height,h=e.coordinateSystem=new jU;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(o[0],o[1],l,c),h.setViewRect(u.x,u.y,f,d),h.setCenter(e.get("center")),h.setZoom(e.get("zoom")),n.push(h)}})),n}var pH=zA.prototype,gH=UA.prototype,vH=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}og(t,e)}(vH);function mH(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var yH=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return og(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vH},t.prototype.buildPath=function(e,t){mH(t)?pH.buildPath.call(this,e,t):gH.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return mH(this.shape)?pH.pointAt.call(this,e):gH.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=mH(t)?[t.x2-t.x1,t.y2-t.y1]:gH.tangentAt.call(this,e);return Tv(n,n)},t}(cS),bH=yH,xH=["fromSymbol","toSymbol"];function wH(e){return"_"+e+"Type"}function _H(e,t,n){var r=t.getItemVisual(n,e);if(r&&"none"!==r){var i=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),a=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),u=iP(i),l=oP(a||0,u),c=rP(r,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,s);return c.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=e,c}}function SH(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var EH=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createLine(t,n,r),i}return og(t,e),t.prototype._createLine=function(e,t,n){var r=e.hostModel,i=function(e){var t=new bH({name:"line",subPixelOptimize:!0});return SH(t.shape,e),t}(e.getItemLayout(t));i.shape.percent=0,HE(i,{shape:{percent:1}},r,t),this.add(i),Lg(xH,(function(n){var r=_H(n,e,t);this.add(r),this[wH(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,i=this.childOfName("line"),o=e.getItemLayout(t),a={shape:{}};SH(a.shape,o),ZE(i,a,r,t),Lg(xH,(function(n){var r=e.getItemVisual(t,n),i=wH(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=_H(n,e,t);this.add(o)}this[i]=r}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var r=e.hostModel,i=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,u=n&&n.labelStatesModels,l=n&&n.emphasisDisabled,c=n&&n.focus,f=n&&n.blurScope;if(!n||e.hasItemOption){var d=e.getItemModel(t),h=d.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),l=h.get("disabled"),c=h.get("focus"),f=h.get("blurScope"),u=nC(d)}var p=e.getItemVisual(t,"style"),g=p.stroke;i.useStyle(p),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,i.ensureState("blur").style=a,i.ensureState("select").style=s,Lg(xH,(function(e){var t=this.childOfName(e);if(t){t.setColor(g),t.style.opacity=p.opacity;for(var n=0;n<XS.length;n++){var r=XS[n],o=i.getState(r);if(o){var a=o.style||{},s=t.ensureState(r),u=s.style||(s.style={});null!=a.stroke&&(u[t.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(u.opacity=a.opacity)}}t.markRedraw()}}),this);var v=r.getRawValue(t);tC(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return r.getFormattedLabel(t,n,e.dataType)}},inheritColor:g||"#000",defaultOpacity:p.opacity,defaultText:(null==v?e.getName(t):isFinite(v)?Lx(v):v)+""});var m=this.getTextContent();if(m){var y=u.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=y.get("position")||"middle";var b=y.get("distance");Vg(b)||(b=[b,b]),m.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),PE(this,c,f,l)},t.prototype.highlight=function(){bE(this)},t.prototype.downplay=function(){xE(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");SH(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),r=e.getTextContent();if(t||n||r&&!r.ignore){for(var i=1,o=this.parent;o;)o.scaleX&&(i/=o.scaleX),o=o.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,u=a.pointAt(0),l=a.pointAt(s),c=Cv([],l,u);if(Tv(c,c),t&&(t.setPosition(u),S(t,0),t.scaleX=t.scaleY=i*s,t.markRedraw()),n&&(n.setPosition(l),S(n,1),n.scaleX=n.scaleY=i*s,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var f=void 0,d=void 0,h=r.__labelDistance,p=h[0]*i,g=h[1]*i,v=s/2,m=a.tangentAt(v),y=[m[1],-m[0]],b=a.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=m[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var w=-Math.atan2(m[1],m[0]);l[0]<u[0]&&(w=Math.PI+w),r.rotation=w}var _=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=g,d="top";break;default:_=0,d="middle"}switch(r.__position){case"end":r.x=c[0]*p+l[0],r.y=c[1]*g+l[1],f=c[0]>.8?"left":c[0]<-.8?"right":"center",d=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":r.x=-c[0]*p+u[0],r.y=-c[1]*g+u[1],f=c[0]>.8?"right":c[0]<-.8?"left":"center",d=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=p*x+u[0],r.y=u[1]+_,f=m[0]<0?"right":"left",r.originX=-p*x,r.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+_,f="center",r.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-p*x+l[0],r.y=l[1]+_,f=m[0]>=0?"right":"left",r.originX=p*x,r.originY=-_}r.scaleX=r.scaleY=i,r.setStyle({verticalAlign:r.__verticalAlign||d,align:r.__align||f})}}}function S(e,t){var n=e.__specifiedRotation;if(null==n){var r=a.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr("rotation",n)}},t}(Mx),CH=EH,kH=function(){function e(e){this.group=new Mx,this._LineCtor=e||CH}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,r=n.group,i=n._lineData;n._lineData=e,i||r.removeAll();var o=MH(e);e.diff(i).add((function(n){t._doAdd(e,n,o)})).update((function(n,r){t._doUpdate(i,e,r,n,o)})).remove((function(e){r.remove(i.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=MH(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++){if(TH(t.getItemLayout(r))){var i=new this._LineCtor(t,r,this._seriesScope);i.traverse(n),this.group.add(i),t.setItemGraphicEl(r,i),this._progressiveEls.push(i)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(TH(e.getItemLayout(t))){var r=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,r),this.group.add(r)}},e.prototype._doUpdate=function(e,t,n,r,i){var o=e.getItemGraphicEl(n);TH(t.getItemLayout(r))?(o?o.updateData(t,r,i):o=new this._LineCtor(t,r,i),t.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},e}();function MH(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:nC(t)}}function IH(e){return isNaN(e[0])||isNaN(e[1])}function TH(e){return e&&!IH(e[0])&&!IH(e[1])}var AH=kH,NH=[],DH=[],PH=[],OH=Km,LH=Dv,RH=Math.abs;function BH(e,t,n){for(var r,i=e[0],o=e[1],a=e[2],s=1/0,u=n*n,l=.1,c=.1;c<=.9;c+=.1){NH[0]=OH(i[0],o[0],a[0],c),NH[1]=OH(i[1],o[1],a[1],c),(h=RH(LH(NH,t)-u))<s&&(s=h,r=c)}for(var f=0;f<32;f++){var d=r+l;DH[0]=OH(i[0],o[0],a[0],r),DH[1]=OH(i[1],o[1],a[1],r),PH[0]=OH(i[0],o[0],a[0],d),PH[1]=OH(i[1],o[1],a[1],d);var h=LH(DH,t)-u;if(RH(h)<.01)break;var p=LH(PH,t)-u;l/=2,h<0?p>=0?r+=l:r-=l:p>=0?r-=l:r+=l}return r}function zH(e,t){var n=[],r=Qm,i=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge((function(e,s){var u=e.getLayout(),l=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");u.__original||(u.__original=[wv(u[0]),wv(u[1])],u[2]&&u.__original.push(wv(u[2])));var f=u.__original;if(null!=u[2]){if(xv(i[0],f[0]),xv(i[1],f[2]),xv(i[2],f[1]),l&&"none"!==l){var d=oH(e.node1),h=BH(i,f[0],d*t);r(i[0][0],i[1][0],i[2][0],h,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],h,n),i[0][1]=n[3],i[1][1]=n[4]}if(c&&"none"!==c){d=oH(e.node2),h=BH(i,f[1],d*t);r(i[0][0],i[1][0],i[2][0],h,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],h,n),i[1][1]=n[1],i[2][1]=n[2]}xv(u[0],i[0]),xv(u[1],i[2]),xv(u[2],i[1])}else{if(xv(o[0],f[0]),xv(o[1],f[1]),Cv(a,o[1],o[0]),Tv(a,a),l&&"none"!==l){d=oH(e.node1);Ev(o[0],o[0],a,d*t)}if(c&&"none"!==c){d=oH(e.node2);Ev(o[1],o[1],a,-d*t)}xv(u[0],o[0]),xv(u[1],o[1])}}))}function FH(e){return"view"===e.type}var jH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(e,t){var n=new OB,r=new AH,i=this.group;this._controller=new pV(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem;this._model=e;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(FH(i)){var u={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(u):ZE(s,u,e)}zH(e.getGraph(),iH(e));var l=e.getData();o.updateData(l);var c=e.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var f=e.forceLayout,d=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,d),l.graph.eachNode((function(e){var t=e.dataIndex,n=e.getGraphicEl(),i=e.getModel();if(n){n.off("drag").off("dragend");var o=i.get("draggable");o&&n.on("drag",(function(){f&&(f.warmUp(),!r._layouting&&r._startForceLayoutIteration(f,d),f.setFixed(t),l.setItemLayout(t,[n.x,n.y]))})).on("dragend",(function(){f&&f.setUnfixed(t)})),n.setDraggable(o&&!!f),"adjacency"===i.get(["emphasis","focus"])&&(VS(n).focus=e.getAdjacentDataIndices())}})),l.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(VS(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var h="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),p=l.getLayout("cx"),g=l.getLayout("cy");l.eachItemGraphicEl((function(e,t){var n=l.getItemModel(t).get(["label","rotate"])||0,r=e.getSymbolPath();if(h){var i=l.getItemLayout(t),o=Math.atan2(i[1]-g,i[0]-p);o<0&&(o=2*Math.PI+o);var a=i[0]<p;a&&(o-=Math.PI);var s=a?"left":"right";r.setTextConfig({rotation:-o,position:s,origin:"center"});var u=r.ensureState("emphasis");Ag(u.textConfig||(u.textConfig={}),{position:s})}else r.setTextConfig({rotation:n*=Math.PI/180})})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function r(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(r,16):r())}))}()},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(t,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!bV(t,n,e)})),FH(e.coordinateSystem)?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){gV(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){vV(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),zH(e.getGraph(),iH(e)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=iH(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){zH(e.getGraph(),iH(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(YN),GH=jH;function VH(e){return"_EC_"+e}var UH=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[VH(e)]){var r=new WH(e,t);return r.hostGraph=this,this.nodes.push(r),n[VH(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[VH(e)]},e.prototype.addEdge=function(e,t,n){var r=this._nodesMap,i=this._edgesMap;if(Hg(e)&&(e=this.nodes[e]),Hg(t)&&(t=this.nodes[t]),e instanceof WH||(e=r[VH(e)]),t instanceof WH||(t=r[VH(t)]),e&&t){var o=e.id+"-"+t.id,a=new ZH(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),i[o]=a,a}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof WH&&(e=e.id),t instanceof WH&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof WH||(t=this._nodesMap[VH(t)]),t){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(r,t,null))for(var a=[t];a.length;){var s=a.shift(),u=s[i];for(o=0;o<u.length;o++){var l=u[o],c=l.node1===s?l.node2:l.node1;if(!c.__visited){if(e.call(r,c,s))return;a.push(c),c.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),WH=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e}(),ZH=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function HH(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}Pg(WH,HH("hostGraph","data")),Pg(ZH,HH("hostGraph","edgeData"));var YH=UH;function XH(e,t,n,r,i){for(var o=new YH(r),a=0;a<e.length;a++)o.addNode(Jg(e[a].id,e[a].name,a),a);var s=[],u=[],l=0;for(a=0;a<t.length;a++){var c=t[a],f=c.source,d=c.target;o.addEdge(f,d,l)&&(u.push(c),s.push(Jg(fw(c.id,null),f+" > "+d)),l++)}var h,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)h=_B(e,n);else{var g=EM.get(p),v=g&&g.dimensions||[];Dg(v,"value")<0&&v.concat(["value"]);var m=pB(e,{coordDimensions:v,encodeDefine:n.getEncode()}).dimensions;(h=new hB(m,n)).initData(e)}var y=new hB(["value"],n);return y.initData(u,s),i&&i(h,y),AW({mainData:h,struct:o,structAttr:"graph",datas:{node:h,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var KH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return og(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new gF(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),iw(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,r=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&r){KZ(n=this)&&(n.__curvenessList=[],n.__edgeMap={},qZ(n));var a=XH(i,r,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=CC.prototype.getModel;function r(e,t){var r=n.call(this,e,t);return r.resolveParentPath=i,r}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=i,e.getModel=r,e}))}));return Lg(a.edges,(function(e){!function(e,t,n,r){if(KZ(n)){var i=$Z(e,t,n),o=n.__edgeMap,a=o[QZ(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(e.node1,e.node2,this,e.dataIndex)}),this),a.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(e,n),o=r.graph.getEdgeByIndex(e),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),u=[];return null!=a&&u.push(a),null!=s&&u.push(s),cT("nameValue",{name:u.join(" > "),value:i.value,noValue:null==i.value})}return _T({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=Rg(this.option.categories||[],(function(e){return null!=e.value?e:Ag({value:0},e)})),t=new hB(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(PT),qH=KH,$H={type:"graphRoam",event:"graphRoam",update:"none"};var QH=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},JH=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return og(t,e),t.prototype.getDefaultShape=function(){return new QH},t.prototype.buildPath=function(e,t){var n=Math.cos,r=Math.sin,i=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=i/3?1:2),u=t.y-r(a)*o*(o>=i/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,u),e.lineTo(t.x+n(a)*o,t.y+r(a)*o),e.lineTo(t.x+n(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-n(a)*o,t.y-r(a)*o),e.lineTo(s,u)},t}(cS),eY=JH;function tY(e,t){var n=null==e?"":e+"";return t&&(Wg(t)?n=t.replace("{value}",n):Ug(t)&&(n=t(e))),n}var nY=2*Math.PI,rY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var r=e.get(["axisLine","lineStyle","color"]),i=function(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),o=Math.min(r,i);return{cx:Ox(n[0],t.getWidth()),cy:Ox(n[1],t.getHeight()),r:Ox(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,r,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,r,i){for(var o=this.group,a=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,l=e.getModel("axisLine"),c=l.get("roundCap")?Az:EA,f=l.get("show"),d=l.getModel("lineStyle"),h=d.get("width"),p=(u-s)%nY||u===s?(u-s)%nY:nY,g=s,v=0;f&&v<r.length;v++){var m=new c({shape:{startAngle:g,endAngle:u=s+p*Math.min(Math.max(r[v][0],0),1),cx:i.cx,cy:i.cy,clockwise:a,r0:i.r-h,r:i.r},silent:!0});m.setStyle({fill:r[v][1]}),m.setStyle(d.getLineStyle(["color","width"])),o.add(m),g=u}var y=function(e){if(e<=0)return r[0][1];var t;for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};if(!a){var b=s;s=u,u=b}this._renderTicks(e,t,n,y,i,s,u,a,h),this._renderTitleAndDetail(e,t,n,y,i),this._renderAnchor(e,i),this._renderPointer(e,t,n,y,i,s,u,a,h)},t.prototype._renderTicks=function(e,t,n,r,i,o,a,s,u){for(var l,c,f=this.group,d=i.cx,h=i.cy,p=i.r,g=+e.get("min"),v=+e.get("max"),m=e.getModel("splitLine"),y=e.getModel("axisTick"),b=e.getModel("axisLabel"),x=e.get("splitNumber"),w=y.get("splitNumber"),_=Ox(m.get("length"),p),S=Ox(y.get("length"),p),E=o,C=(a-o)/x,k=C/w,M=m.getModel("lineStyle").getLineStyle(),I=y.getModel("lineStyle").getLineStyle(),T=m.get("distance"),A=0;A<=x;A++){if(l=Math.cos(E),c=Math.sin(E),m.get("show")){var N=new zA({shape:{x1:l*(p-(D=T?T+u:u))+d,y1:c*(p-D)+h,x2:l*(p-_-D)+d,y2:c*(p-_-D)+h},style:M,silent:!0});"auto"===M.stroke&&N.setStyle({stroke:r(A/x)}),f.add(N)}if(b.get("show")){var D=b.get("distance")+T,P=tY(Lx(A/x*(v-g)+g),b.get("formatter")),O=r(A/x);f.add(new GS({style:rC(b,{text:P,x:l*(p-_-D)+d,y:c*(p-_-D)+h,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:l<-.4?"left":l>.4?"right":"center"},{inheritColor:O}),silent:!0}))}if(y.get("show")&&A!==x){D=(D=y.get("distance"))?D+u:u;for(var L=0;L<=w;L++){l=Math.cos(E),c=Math.sin(E);var R=new zA({shape:{x1:l*(p-D)+d,y1:c*(p-D)+h,x2:l*(p-S-D)+d,y2:c*(p-S-D)+h},silent:!0,style:I});"auto"===I.stroke&&R.setStyle({stroke:r((A+L/w)/x)}),f.add(R),E+=k}E-=k}else E+=C}},t.prototype._renderPointer=function(e,t,n,r,i,o,a,s,u){var l=this.group,c=this._data,f=this._progressEls,d=[],h=e.get(["pointer","show"]),p=e.getModel("progress"),g=p.get("show"),v=e.getData(),m=v.mapDimension("value"),y=+e.get("min"),b=+e.get("max"),x=[y,b],w=[o,a];function _(t,n){var r,o=v.getItemModel(t).getModel("pointer"),a=Ox(o.get("width"),i.r),s=Ox(o.get("length"),i.r),u=e.get(["pointer","icon"]),l=o.get("offsetCenter"),c=Ox(l[0],i.r),f=Ox(l[1],i.r),d=o.get("keepAspect");return(r=u?rP(u,c-a/2,f-s,a,s,null,d):new eY({shape:{angle:-Math.PI/2,width:a,r:s,x:c,y:f}})).rotation=-(n+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function S(e,t){var n=p.get("roundCap")?Az:EA,r=p.get("overlap"),a=r?p.get("width"):u/v.count(),l=r?i.r-a:i.r-(e+1)*a,c=r?i.r:i.r-e*a,f=new n({shape:{startAngle:o,endAngle:t,cx:i.cx,cy:i.cy,clockwise:s,r0:l,r:c}});return r&&(f.z2=b-v.get(m,e)%b),f}(g||h)&&(v.diff(c).add((function(t){var n=v.get(m,t);if(h){var r=_(t,o);HE(r,{rotation:-((isNaN(+n)?w[0]:Px(n,x,w,!0))+Math.PI/2)},e),l.add(r),v.setItemGraphicEl(t,r)}if(g){var i=S(t,o),a=p.get("clip");HE(i,{shape:{endAngle:Px(n,x,w,a)}},e),l.add(i),US(e.seriesIndex,v.dataType,t,i),d[t]=i}})).update((function(t,n){var r=v.get(m,t);if(h){var i=c.getItemGraphicEl(n),a=i?i.rotation:o,s=_(t,a);s.rotation=a,ZE(s,{rotation:-((isNaN(+r)?w[0]:Px(r,x,w,!0))+Math.PI/2)},e),l.add(s),v.setItemGraphicEl(t,s)}if(g){var u=f[n],y=S(t,u?u.shape.endAngle:o),b=p.get("clip");ZE(y,{shape:{endAngle:Px(r,x,w,b)}},e),l.add(y),US(e.seriesIndex,v.dataType,t,y),d[t]=y}})).execute(),v.each((function(e){var t=v.getItemModel(e),n=t.getModel("emphasis"),i=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(h){var s=v.getItemGraphicEl(e),u=v.getItemVisual(e,"style"),l=u.fill;if(s instanceof mS){var c=s.style;s.useStyle(Ag({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else s.useStyle(u),"pointer"!==s.type&&s.setColor(l);s.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",r(Px(v.get(m,e),x,[0,1],!0))),s.z2EmphasisLift=0,BE(s,t),PE(s,i,o,a)}if(g){var f=d[e];f.useStyle(v.getItemVisual(e,"style")),f.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),f.z2EmphasisLift=0,BE(f,t),PE(f,i,o,a)}})),this._progressEls=d)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var r=n.get("size"),i=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=rP(i,t.cx-r/2+Ox(o[0],t.r),t.cy-r/2+Ox(o[1],t.r),r,r,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,r,i){var o=this,a=e.getData(),s=a.mapDimension("value"),u=+e.get("min"),l=+e.get("max"),c=new Mx,f=[],d=[],h=e.isAnimationEnabled(),p=e.get(["pointer","showAbove"]);a.diff(this._data).add((function(e){f[e]=new GS({silent:!0}),d[e]=new GS({silent:!0})})).update((function(e,t){f[e]=o._titleEls[t],d[e]=o._detailEls[t]})).execute(),a.each((function(t){var n=a.getItemModel(t),o=a.get(s,t),g=new Mx,v=r(Px(o,[u,l],[0,1],!0)),m=n.getModel("title");if(m.get("show")){var y=m.get("offsetCenter"),b=i.cx+Ox(y[0],i.r),x=i.cy+Ox(y[1],i.r);(I=f[t]).attr({z2:p?0:2,style:rC(m,{x:b,y:x,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:v})}),g.add(I)}var w=n.getModel("detail");if(w.get("show")){var _=w.get("offsetCenter"),S=i.cx+Ox(_[0],i.r),E=i.cy+Ox(_[1],i.r),C=Ox(w.get("width"),i.r),k=Ox(w.get("height"),i.r),M=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:v,I=d[t],T=w.get("formatter");I.attr({z2:p?0:2,style:rC(w,{x:S,y:E,text:tY(o,T),width:isNaN(C)?null:C,height:isNaN(k)?null:k,align:"center",verticalAlign:"middle"},{inheritColor:M})}),fC(I,{normal:w},o,(function(e){return tY(e,T)})),h&&dC(I,t,a,e,{getFormattedLabel:function(e,t,n,r,i,a){return tY(a?a.interpolatedValue:o,T)}}),g.add(I)}c.add(g)})),this.group.add(c),this._titleEls=f,this._detailEls=d},t.type="gauge",t}(YN),iY=rY,oY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return og(t,e),t.prototype.getInitialData=function(e,t){return hF(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(PT),aY=oY;var sY=["itemStyle","opacity"],uY=function(e){function t(t,n){var r=e.call(this)||this,i=r,o=new OA,a=new GS;return i.setTextContent(a),r.setTextGuideLine(o),r.updateData(t,n,!0),r}return og(t,e),t.prototype.updateData=function(e,t,n){var r=this,i=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t),s=o.getModel("emphasis"),u=o.get(sY);u=null==u?1:u,n||$E(r),r.useStyle(e.getItemVisual(t,"style")),r.style.lineJoin="round",n?(r.setShape({points:a.points}),r.style.opacity=0,HE(r,{style:{opacity:u}},i,t)):ZE(r,{style:{opacity:u},shape:{points:a.points}},i,t),BE(r,o),this._updateLabel(e,t),PE(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,r=this.getTextGuideLine(),i=n.getTextContent(),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,u=e.getItemVisual(t,"style"),l=u.fill;tC(i,nC(a),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:l,outsideFill:l});var c=s.linePoints;r.setShape({points:c}),n.textGuideLineConfig={anchor:c?new Xb(c[0][0],c[0][1]):null},ZE(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),uL(n,lL(a),{stroke:l})},t}(NA),lY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return og(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._data,o=this.group;r.diff(i).add((function(e){var t=new uY(r,e);r.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var n=i.getItemGraphicEl(t);n.updateData(r,e),o.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){qE(i.getItemGraphicEl(t),e,t)})).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(YN),cY=lY,fY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gF(jg(this.getData,this),jg(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return hF(this,{coordDimensions:["value"],encodeDefaulter:Gg(nM,this)})},t.prototype._defaultLabelLine=function(e){iw(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),i=n.mapDimension("value"),o=n.getSum(i);return r.percent=o?+(n.get(i,t)/o*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(PT),dY=fY;function hY(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),r=n.mapDimension("value"),i=e.get("sort"),o=function(e,t){return Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=e.get("orient"),s=o.width,u=o.height,l=function(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,(function(e){return e})),i=[],o="ascending"===t,a=0,s=e.count();a<s;a++)i[a]=a;return Ug(t)?i.sort(t):"none"!==t&&i.sort((function(e,t){return o?r[e]-r[t]:r[t]-r[e]})),i}(n,i),c=o.x,f=o.y,d="horizontal"===a?[Ox(e.get("minSize"),u),Ox(e.get("maxSize"),u)]:[Ox(e.get("minSize"),s),Ox(e.get("maxSize"),s)],h=n.getDataExtent(r),p=e.get("min"),g=e.get("max");null==p&&(p=Math.min(h[0],0)),null==g&&(g=h[1]);var v=e.get("funnelAlign"),m=e.get("gap"),y=(("horizontal"===a?s:u)-m*(n.count()-1))/n.count(),b=function(e,t){if("horizontal"===a){var i=Px(n.get(r,e)||0,[p,g],d,!0),o=void 0;switch(v){case"top":o=f;break;case"center":o=f+(u-i)/2;break;case"bottom":o=f+(u-i)}return[[t,o],[t,o+i]]}var l,h=Px(n.get(r,e)||0,[p,g],d,!0);switch(v){case"left":l=c;break;case"center":l=c+(s-h)/2;break;case"right":l=c+s-h}return[[l,t],[l+h,t]]};"ascending"===i&&(y=-y,m=-m,"horizontal"===a?c+=s:f+=u,l=l.reverse());for(var x=0;x<l.length;x++){var w=l[x],_=l[x+1],S=n.getItemModel(w);if("horizontal"===a){var E=S.get(["itemStyle","width"]);null==E?E=y:(E=Ox(E,s),"ascending"===i&&(E=-E));var C=b(w,c),k=b(_,c+E);c+=E+m,n.setItemLayout(w,{points:C.concat(k.slice().reverse())})}else{var M=S.get(["itemStyle","height"]);null==M?M=y:(M=Ox(M,u),"ascending"===i&&(M=-M));C=b(w,f),k=b(_,f+M);f+=M+m,n.setItemLayout(w,{points:C.concat(k.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var r,i,o,a,s=e.getItemModel(n),u=s.getModel("label").get("position"),l=s.getModel("labelLine"),c=e.getItemLayout(n),f=c.points,d="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(d)"insideLeft"===u?(i=(f[0][0]+f[3][0])/2+5,o=(f[0][1]+f[3][1])/2,r="left"):"insideRight"===u?(i=(f[1][0]+f[2][0])/2-5,o=(f[1][1]+f[2][1])/2,r="right"):(i=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,o=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,r="center"),a=[[i,o],[i,o]];else{var h=void 0,p=void 0,g=void 0,v=void 0,m=l.get("length");"left"===u?(h=(f[3][0]+f[0][0])/2,p=(f[3][1]+f[0][1])/2,i=(g=h-m)-5,r="right"):"right"===u?(h=(f[1][0]+f[2][0])/2,p=(f[1][1]+f[2][1])/2,i=(g=h+m)+5,r="left"):"top"===u?(h=(f[3][0]+f[0][0])/2,o=(v=(p=(f[3][1]+f[0][1])/2)-m)-5,r="center"):"bottom"===u?(h=(f[1][0]+f[2][0])/2,o=(v=(p=(f[1][1]+f[2][1])/2)+m)+5,r="center"):"rightTop"===u?(h="horizontal"===t?f[3][0]:f[1][0],p="horizontal"===t?f[3][1]:f[1][1],"horizontal"===t?(o=(v=p-m)-5,r="center"):(i=(g=h+m)+5,r="top")):"rightBottom"===u?(h=f[2][0],p=f[2][1],"horizontal"===t?(o=(v=p+m)+5,r="center"):(i=(g=h+m)+5,r="bottom")):"leftTop"===u?(h=f[0][0],p="horizontal"===t?f[0][1]:f[1][1],"horizontal"===t?(o=(v=p-m)-5,r="center"):(i=(g=h-m)-5,r="right")):"leftBottom"===u?(h="horizontal"===t?f[1][0]:f[3][0],p="horizontal"===t?f[1][1]:f[2][1],"horizontal"===t?(o=(v=p+m)+5,r="center"):(i=(g=h-m)-5,r="right")):(h=(f[1][0]+f[2][0])/2,p=(f[1][1]+f[2][1])/2,"horizontal"===t?(o=(v=p+m)+5,r="center"):(i=(g=h+m)+5,r="left")),"horizontal"===t?i=g=h:o=v=p,a=[[h,p],[g,v]]}c.label={linePoints:a,x:i,y:o,verticalAlign:"middle",textAlign:r,inside:d}}))}(n)}))}var pY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Mx,n._initialized=!1,n}return og(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._dataGroup,o=e.getData(),a=this._data,s=e.coordinateSystem,u=s.dimensions,l=mY(e);if(o.diff(a).add((function(e){yY(vY(o,i,e,u,s),o,e,l)})).update((function(t,n){var r=a.getItemGraphicEl(n),i=gY(o,t,u,s);o.setItemGraphicEl(t,r),ZE(r,{shape:{points:i}},e,t),$E(r),yY(r,o,t,l)})).remove((function(e){var t=a.getItemGraphicEl(e);i.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,n){var r=e.model,i=e.getRect(),o=new CS({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a="horizontal"===r.get("layout")?"width":"height";return o.setShape(a,0),HE(o,{shape:{width:i.width,height:i.height}},t,n),o}(s,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(c)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var r=t.getData(),i=t.coordinateSystem,o=i.dimensions,a=mY(t),s=this._progressiveEls=[],u=e.start;u<e.end;u++){var l=vY(r,this._dataGroup,u,o,i);l.incremental=!0,yY(l,r,u,a),s.push(l)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(YN);function gY(e,t,n,r){for(var i,o=[],a=0;a<n.length;a++){var s=n[a],u=e.get(e.mapDimension(s),t);i=u,("category"===r.getAxis(s).type?null==i:null==i||isNaN(i))||o.push(r.dataToPoint(u,s))}return o}function vY(e,t,n,r,i){var o=gY(e,n,r,i),a=new OA({shape:{points:o},z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function mY(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),Qg(t=Kx(t))&&(t=0),{smooth:t}}function yY(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var i=t.getItemModel(n),o=i.getModel("emphasis");BE(e,i,"lineStyle"),PE(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var bY=pY,xY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return og(t,e),t.prototype.getInitialData=function(e,t){return _B(null,this,{useEncodeDefaulter:jg(wY,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),r=[];return t.eachActiveState(n,(function(t,i){e===t&&r.push(n.getRawIndex(i))})),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(PT);function wY(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return Lg(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}var _Y=xY,SY=["lineStyle","opacity"],EY={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var i=r[e];if("normal"===e&&t.hasItemOption){var o=t.getItemModel(n).get(SY,!0);null!=o&&(i=o)}t.ensureUniqueItemVisual(n,"style").opacity=i}),e.start,e.end)}}}};function CY(e){!function(e){if(e.parallel)return;var t=!1;Lg(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}(e),function(e){Lg(rw(e.parallelAxis),(function(t){if(Yg(t)){var n=t.parallelIndex||0,r=rw(e.parallel)[n];r&&r.parallelAxisDefault&&Ig(t,r.parallelAxisDefault,!1)}}))}(e)}var kY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},Lg(MY,(function(e,t){n.getZr().on(t,this._handlers[t]=jg(e,this))}),this)),QN(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){JN(this,"_throttledDispatchExpand"),Lg(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Ag({type:"parallelAxisExpand"},e))},t.type="parallel",t}(LT),MY={mousedown:function(e){IY(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(IY(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&IY(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function IY(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var TY=kY,AY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&Ig(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){Lg(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];Lg(zg(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(zk),NY=AY,DY=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.type=i||"value",a.axisIndex=o,a}return og(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Jj),PY=DY;function OY(e,t,n,r,i,o){e=e||0;var a=n[1]-n[0];if(null!=i&&(i=RY(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),"all"===r){var s=Math.abs(t[1]-t[0]);s=RY(s,[0,a]),i=o=RY(s,[i,o]),r=0}t[0]=RY(t[0],n),t[1]=RY(t[1],n);var u=LY(t,r);t[r]+=e;var l,c=i||0,f=n.slice();return u.sign<0?f[0]+=c:f[1]-=c,t[r]=RY(t[r],f),l=LY(t,r),null!=i&&(l.sign!==u.sign||l.span<i)&&(t[1-r]=t[r]+u.sign*i),l=LY(t,r),null!=o&&l.span>o&&(t[1-r]=t[r]+l.sign*o),t}function LY(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function RY(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var BY=Lg,zY=Math.min,FY=Math.max,jY=Math.floor,GY=Math.ceil,VY=Lx,UY=Math.PI,WY=function(){function e(e,t,n){this.type="parallel",this._axesMap=cv(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=e.dimensions,i=e.parallelAxisIndex;BY(r,(function(e,n){var r=i[n],o=t.getComponent("parallelAxis",r),a=this._axesMap.set(e,new PY(e,Tj(o),[0,0],o.get("type"),r)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,i=t.pixelDimIndex,o=e[1-i],a=e[i];return o>=n&&o<=n+t.axisLength&&a>=r&&a<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var r=n.getData();BY(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),Ij(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=t.get("layout"),a="horizontal"===o?0:1,s=n[i[a]],u=[0,s],l=this.dimensions.length,c=ZY(t.get("axisExpandWidth"),u),f=ZY(t.get("axisExpandCount")||0,[0,l]),d=t.get("axisExpandable")&&l>3&&l>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow");h?(e=ZY(h[1]-h[0],u),h[1]=h[0]+e):(e=ZY(c*(f-1),u),(h=[c*(t.get("axisExpandCenter")||jY(l/2))-e/2])[1]=h[0]+e);var p=(s-e)/(l-f);p<3&&(p=0);var g=[jY(VY(h[0]/c,1))+1,GY(VY(h[1]/c,1))-1],v=p/c*h[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:h,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:v}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;t.each((function(e){var t=[0,r.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),BY(n,(function(t,n){var o=(r.axisExpandable?YY:HY)(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:UY/2,vertical:0},u=[a[i].x+e.x,a[i].y+e.y],l=s[i],c=[1,0,0,1,0,0];Pb(c,c,l),Db(c,c,u),this._axesLayout[t]={position:u,rotation:l,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,r){null==n&&(n=0),null==r&&(r=e.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];Lg(o,(function(t){a.push(e.mapDimension(t)),s.push(i.get(t).model)}));for(var u=this.hasAxisBrushed(),l=n;l<r;l++){var c=void 0;if(u){c="active";for(var f=e.getValues(a,l),d=0,h=o.length;d<h;d++){if("inactive"===s[d].getActiveState(f[d])){c="inactive";break}}}else c="normal";t(c,l)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,i=e.length;r<i;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){return kN([e,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(e){return Mg(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",l=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),f=null!=c[0];if(l)f&&l&&s<i*c[0]?(u="jump",a=s-i*c[2]):f&&l&&s>i*(1-c[0])?(u="jump",a=s-i*(1-c[2])):(a=s-i*c[1])>=0&&(a=s-i*(1-c[1]))<=0&&(a=0),(a*=t.axisExpandWidth/l)?OY(a,r,o,"all"):u="none";else{var d=r[1]-r[0];(r=[FY(0,o[1]*s/d-d/2)])[1]=zY(o[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}},e}();function ZY(e,t){return zY(FY(e,t[0]),t[1])}function HY(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function YY(e,t){var n,r,i=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,u=t.winInnerIndices,l=s,c=!1;return e<u[0]?(n=e*s,r=s):e<=u[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],l=o,c=!0):(n=i-(a-1-e)*s,r=s),{position:n,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:r}}var XY=WY;var KY={create:function(e,t){var n=[];return e.eachComponent("parallel",(function(r,i){var o=new XY(r,e,t);o.name="parallel_"+i,o.resize(r,t),r.coordinateSystem=o,o.model=r,n.push(o)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",bw).models[0];e.coordinateSystem=t.coordinateSystem}})),n}},qY=KY,$Y=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return og(t,e),t.prototype.getAreaSelectStyle=function(){return Ow([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=Mg(e);if(t)for(var n=t.length-1;n>=0;n--)Rx(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var r=0,i=t.length;r<i;r++)if(t[r][0]<=e&&e<=t[r][1])return"active";return"inactive"},t}(zk);Pg($Y,IF);var QY=$Y,JY=!0,eX=Math.min,tX=Math.max,nX=Math.pow,rX="globalPan",iX={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},oX={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},aX={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},sX=0,uX=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Mx,n._uid="brushController_"+sX++,Lg(LX,(function(e,t){this._handlers[t]=jg(e,this)}),n),n}return og(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||function(e,t,n){lV(e)[t]=n}(t,rX,this._uid),Lg(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=Ig(Mg(aX),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function(e,t,n){var r=lV(e);r[t]===n&&(r[t]=null)}(e,rX,this._uid),Lg(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};Lg(e,(function(e){t[e.panelId]=Mg(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Rg(e,(function(e){return Ig(Mg(aX),e,!0)}));var t=this._covers,n=this._covers=[],r=this,i=this._creatingCover;return new VR(t,e,(function(e,t){return o(e.__brushOption,t)}),o).add(a).update(a).remove((function(e){t[e]!==i&&r.group.remove(t[e])})).execute(),this;function o(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function a(o,a){var s=e[o];if(null!=a&&t[a]===i)n[o]=t[a];else{var u=n[o]=null!=a?(t[a].__brushOption=s,t[a]):cX(r,lX(r,s));hX(r,u)}}},t.prototype.unmount=function(){return this.enableBrush(!1),mX(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Gv);function lX(e,t){var n=BX[t.brushType].createCover(e,t);return n.__brushOption=t,dX(n,t),e.group.add(n),n}function cX(e,t){var n=pX(t);return n.endCreating&&(n.endCreating(e,t),dX(t,t.__brushOption)),t}function fX(e,t){var n=t.__brushOption;pX(t).updateCoverShape(e,t,n.range,n)}function dX(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function hX(e,t){pX(t).updateCommon(e,t),fX(e,t)}function pX(e){return BX[e.__brushOption.brushType]}function gX(e,t,n){var r,i=e._panels;if(!i)return JY;var o=e._transform;return Lg(i,(function(e){e.isTargetByCursor(t,n,o)&&(r=e)})),r}function vX(e,t){var n=e._panels;if(!n)return JY;var r=t.__brushOption.panelId;return null!=r?n[r]:JY}function mX(e){var t=e._covers,n=t.length;return Lg(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function yX(e,t){var n=Rg(e._covers,(function(e){var t=e.__brushOption,n=Mg(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function bX(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function xX(e,t,n,r){var i=new Mx;return i.add(new CS({name:"main",style:EX(n),silent:!0,draggable:!0,cursor:"move",drift:Gg(MX,e,t,i,["n","s","w","e"]),ondragend:Gg(yX,t,{isEnd:!0})})),Lg(r,(function(n){i.add(new CS({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Gg(MX,e,t,i,n),ondragend:Gg(yX,t,{isEnd:!0})}))})),i}function wX(e,t,n,r){var i=r.brushStyle.lineWidth||0,o=tX(i,6),a=n[0][0],s=n[1][0],u=a-i/2,l=s-i/2,c=n[0][1],f=n[1][1],d=c-o+i/2,h=f-o+i/2,p=c-a,g=f-s,v=p+i,m=g+i;SX(e,t,"main",a,s,p,g),r.transformable&&(SX(e,t,"w",u,l,o,m),SX(e,t,"e",d,l,o,m),SX(e,t,"n",u,l,v,o),SX(e,t,"s",u,h,v,o),SX(e,t,"nw",u,l,o,o),SX(e,t,"ne",d,l,o,o),SX(e,t,"sw",u,h,o,o),SX(e,t,"se",d,h,o,o))}function _X(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(EX(n)),i.attr({silent:!r,cursor:r?"move":"default"}),Lg([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var i=t.childOfName(n.join("")),o=1===n.length?kX(e,n[0]):function(e,t){var n=[kX(e,t[0]),kX(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?oX[o]+"-resize":null})}))}function SX(e,t,n,r,i,o,a){var s=t.childOfName(n);s&&s.setShape(function(e){var t=eX(e[0][0],e[1][0]),n=eX(e[0][1],e[1][1]),r=tX(e[0][0],e[1][0]),i=tX(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:i-n}}(AX(e,t,[[r,i],[r+o,i+a]])))}function EX(e){return Ng({strokeNoScale:!0},e.brushStyle)}function CX(e,t,n,r){var i=[eX(e,n),eX(t,r)],o=[tX(e,n),tX(t,r)];return[[i[0],o[0]],[i[1],o[1]]]}function kX(e,t){var n=MN({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return CN(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function MX(e,t,n,r,i,o){var a=n.__brushOption,s=e.toRectRange(a.range),u=TX(t,i,o);Lg(r,(function(e){var t=iX[e];s[t[0]][t[1]]+=u[t[0]]})),a.range=e.fromRectRange(CX(s[0][0],s[1][0],s[0][1],s[1][1])),hX(t,n),yX(t,{isEnd:!1})}function IX(e,t,n,r){var i=t.__brushOption.range,o=TX(e,n,r);Lg(i,(function(e){e[0]+=o[0],e[1]+=o[1]})),hX(e,t),yX(e,{isEnd:!1})}function TX(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function AX(e,t,n){var r=vX(e,t);return r&&r!==JY?r.clipPath(n,e._transform):Mg(n)}function NX(e){var t=e.event;t.preventDefault&&t.preventDefault()}function DX(e,t,n){return e.childOfName("main").contain(t,n)}function PX(e,t,n,r){var i,o=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],o=n[1]-r[1];return nX(i*i+o*o,.5)>6}(e)||o){if(a&&!o){"single"===s.brushMode&&mX(e);var u=Mg(s);u.brushType=OX(u.brushType,a),u.panelId=a===JY?null:a.panelId,o=e._creatingCover=lX(e,u),e._covers.push(o)}if(o){var l=BX[OX(e._brushType,a)];o.__brushOption.range=l.getCreatingRange(AX(e,o,e._track)),r&&(cX(e,o),l.updateCommon(e,o)),fX(e,o),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&gX(e,t,n)&&mX(e)&&(i={isEnd:r,removeOnClick:!0});return i}function OX(e,t){return"auto"===e?t.defaultBrushType:e}var LX={mousedown:function(e){if(this._dragging)RX(this,e);else if(!e.target||!e.target.draggable){NX(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=gX(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&!function(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}(e,t.offsetX,t.offsetY)){var r=e._zr,i=e._covers,o=gX(e,t,n);if(!e._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===JY||s.panelId===o.panelId)&&BX[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}(this,e,r),this._dragging){NX(e);var i=PX(this,e,r,!1);i&&yX(this,i)}},mouseup:function(e){RX(this,e)}};function RX(e,t){if(e._dragging){NX(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),o=PX(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&yX(e,o)}}var BX={lineX:zX(0),lineY:zX(1),rect:{createCover:function(e,t){function n(e){return e}return xX({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=bX(e);return CX(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){wX(e,t,n,r)},updateCommon:_X,contain:DX},polygon:{createCover:function(e,t){var n=new Mx;return n.add(new OA({name:"main",style:EX(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new NA({name:"main",draggable:!0,drift:Gg(IX,e,t),ondragend:Gg(yX,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:AX(e,t,n)})},updateCommon:_X,contain:DX}};function zX(e){return{createCover:function(t,n){return xX({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=bX(t);return[eX(n[0][e],n[1][e]),tX(n[0][e],n[1][e])]},updateCoverShape:function(t,n,r,i){var o,a=vX(t,n);if(a!==JY&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var u=[r,o];e&&u.reverse(),wX(t,n,u,i)},updateCommon:_X,contain:DX}}var FX=uX;function jX(e){return e=UX(e),function(t){return AN(t,e)}}function GX(e,t){return e=UX(e),function(n){var r=null!=t?t:n,i=r?e.width:e.height,o=r?e.x:e.y;return[o,o+(i||0)]}}function VX(e,t,n){var r=UX(e);return function(e,i){return r.contain(i[0],i[1])&&!bV(e,t,n)}}function UX(e){return ix.create(e)}var WX=["axisLine","axisTickLabel","axisName"],ZX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new FX(n.getZr())).on("brush",jg(this._onBrush,this))},t.prototype.render=function(e,t,n,r){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,r)){this.axisModel=e,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Mx,this.group.add(this._axisGroup),e.get("show")){var o=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),a=o.coordinateSystem,s=e.getAreaSelectStyle(),u=s.width,l=e.axis.dim,c=Ag({strokeContainThreshold:u},a.getAxisLayout(l)),f=new bG(e,c);Lg(WX,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(c,s,e,o,u,n),TN(i,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],u=Math.min(30,.1*Math.abs(s)),l=ix.create({x:a[0],y:-i/2,width:s,height:i});l.x-=u,l.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:jX(l),isTargetByCursor:VX(l,o,r),getLinearBrushOtherExtent:GX(l,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return Rg(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,r=n.axis,i=Rg(t,(function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(LT);var HX=ZX,YX={type:"axisAreaSelect",event:"axisAreaSelected"};var XX={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function KX(e){e.registerComponentView(TY),e.registerComponentModel(NY),e.registerCoordinateSystem("parallel",qY),e.registerPreprocessor(CY),e.registerComponentModel(QY),e.registerComponentView(HX),FF(e,"parallel",QY,XX),function(e){e.registerAction(YX,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}(e)}var qX=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},$X=function(e){function t(t){return e.call(this,t)||this}return og(t,e),t.prototype.getDefaultShape=function(){return new qX},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){bE(this)},t.prototype.downplay=function(){xE(this)},t}(cS),QX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return og(t,e),t.prototype.render=function(e,t,n){var r=this,i=e.getGraph(),o=this.group,a=e.layoutInfo,s=a.width,u=a.height,l=e.getData(),c=e.getData("edge"),f=e.get("orient");this._model=e,o.removeAll(),o.x=a.x,o.y=a.y,i.eachEdge((function(t){var n=new $X,r=VS(n);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType="edge";var i,a,l,d,h,p,g,v,m=t.getModel(),y=m.getModel("lineStyle"),b=y.get("curveness"),x=t.node1.getLayout(),w=t.node1.getModel(),_=w.get("localX"),S=w.get("localY"),E=t.node2.getLayout(),C=t.node2.getModel(),k=C.get("localX"),M=C.get("localY"),I=t.getLayout();switch(n.shape.extent=Math.max(1,I.dy),n.shape.orient=f,"vertical"===f?(i=(null!=_?_*s:x.x)+I.sy,a=(null!=S?S*u:x.y)+x.dy,l=(null!=k?k*s:E.x)+I.ty,h=i,p=a*(1-b)+(d=null!=M?M*u:E.y)*b,g=l,v=a*b+d*(1-b)):(i=(null!=_?_*s:x.x)+x.dx,a=(null!=S?S*u:x.y)+I.sy,h=i*(1-b)+(l=null!=k?k*s:E.x)*b,p=a,g=i*b+l*(1-b),v=d=(null!=M?M*u:E.y)+I.ty),n.setShape({x1:i,y1:a,x2:l,y2:d,cpx1:h,cpy1:p,cpx2:g,cpy2:v}),n.useStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color"),n.style.decal=t.node1.getVisual("style").decal;break;case"target":n.style.fill=t.node2.getVisual("color"),n.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var T=t.node1.getVisual("color"),A=t.node2.getVisual("color");Wg(T)&&Wg(A)&&(n.style.fill=new $A(0,0,+("horizontal"===f),+("vertical"===f),[{color:T,offset:0},{color:A,offset:1}]))}var N=m.getModel("emphasis");BE(n,m,"lineStyle",(function(e){return e.getItemStyle()})),o.add(n),c.setItemGraphicEl(t.dataIndex,n);var D=N.get("focus");PE(n,"adjacency"===D?t.getAdjacentDataIndices():D,N.get("blurScope"),N.get("disabled")),VS(n).dataType="edge"})),i.eachNode((function(t){var n=t.getLayout(),r=t.getModel(),i=r.get("localX"),a=r.get("localY"),c=r.getModel("emphasis"),f=new CS({shape:{x:null!=i?i*s:n.x,y:null!=a?a*u:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle(),z2:10});tC(f,nC(r),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),f.disableLabelAnimation=!0,f.setStyle("fill",t.getVisual("color")),f.setStyle("decal",t.getVisual("style").decal),BE(f,r),o.add(f),l.setItemGraphicEl(t.dataIndex,f),VS(f).dataType="node";var d=c.get("focus");PE(f,"adjacency"===d?t.getAdjacentDataIndices():d,c.get("blurScope"),c.get("disabled"))})),l.eachItemGraphicEl((function(t,i){l.getItemModel(i).get("draggable")&&(t.drift=function(t,o){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:l.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/u})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&o.setClipPath(function(e,t,n){var r=new CS({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return HE(r,{shape:{width:e.width+20}},t,n),r}(o.getBoundingRect(),e,(function(){o.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(YN);var JX=QX,eK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,r=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<i.length;a++)null!=i[a].depth&&i[a].depth>=0&&(o[i[a].depth]=new CC(i[a],this,t));if(r&&n)return XH(r,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getData().getItemLayout(t);if(r){var i=r.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(r){var i=r.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e}))})).data},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function r(e){return isNaN(e)||null==e}if("edge"===n){var i=this.getDataParams(e,n),o=i.data,a=i.value;return cT("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:r(a)})}var s=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,n).data.name;return cT("nameValue",{name:null!=u?u+"":null,value:s,noValue:r(s)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var r=e.prototype.getDataParams.call(this,t,n);if(null==r.value&&"node"===n){var i=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=i}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(PT),tK=eK;function nK(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),r=e.get("nodeGap"),i=function(e,t){return Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=i;var o=i.width,a=i.height,s=e.getGraph(),u=s.nodes,l=s.edges;!function(e){Lg(e,(function(e){var t=dK(e.outEdges,fK),n=dK(e.inEdges,fK),r=e.getValue()||0,i=Math.max(t,n,r);e.setLayout({value:i},!0)}))}(u);var c=zg(u,(function(e){return 0===e.getLayout().value}));!function(e,t,n,r,i,o,a,s,u){(function(e,t,n,r,i,o,a){for(var s=[],u=[],l=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(d=0;d<e.length;d++)u[d]=e[d].inEdges.length,0===u[d]&&l.push(e[d]);var h=-1;for(;l.length;){for(var p=0;p<l.length;p++){var g=l[p],v=g.hostGraph.data.getRawDataItem(g.dataIndex),m=null!=v.depth&&v.depth>=0;m&&v.depth>h&&(h=v.depth),g.setLayout({depth:m?v.depth:f},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var b=g.outEdges[y];s[t.indexOf(b)]=0;var x=b.node2;0===--u[e.indexOf(x)]&&c.indexOf(x)<0&&c.push(x)}}++f,l=c,c=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var w=h>f-1?h:f-1;a&&"left"!==a&&function(e,t,n,r){if("right"===t){for(var i=[],o=e,a=0;o.length;){for(var s=0;s<o.length;s++){var u=o[s];u.setLayout({skNodeHeight:a},!0);for(var l=0;l<u.inEdges.length;l++){var c=u.inEdges[l];i.indexOf(c.node1)<0&&i.push(c.node1)}}o=i,i=[],++a}Lg(e,(function(e){rK(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){Lg(e,(function(e){rK(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,r)}(e,a,0,w);!function(e,t,n){Lg(e,(function(e){var r=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}(e,"vertical"===o?(i-n)/w:(r-n)/w,o)})(e,t,n,i,o,s,u),function(e,t,n,r,i,o,a){var s=function(e,t){var n=[],r="vertical"===t?"y":"x",i=Sw(e,(function(e){return e.getLayout()[r]}));return i.keys.sort((function(e,t){return e-t})),Lg(i.keys,(function(e){n.push(i.buckets.get(e))})),n}(e,a);(function(e,t,n,r,i,o){var a=1/0;Lg(e,(function(e){var t=e.length,s=0;Lg(e,(function(e){s+=e.getLayout().value}));var u="vertical"===o?(r-(t-1)*i)/s:(n-(t-1)*i)/s;u<a&&(a=u)})),Lg(e,(function(e){Lg(e,(function(e,t){var n=e.getLayout().value*a;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),Lg(t,(function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)}))})(s,t,n,r,i,a),iK(s,i,n,r,a);for(var u=1;o>0;o--)oK(s,u*=.99,a),iK(s,i,n,r,a),hK(s,u,a),iK(s,i,n,r,a)}(e,t,o,i,r,a,s),function(e,t){var n="vertical"===t?"x":"y";Lg(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),Lg(e,(function(e){var t=0,n=0;Lg(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),Lg(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,s)}(u,l,n,r,o,a,0!==c.length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function rK(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function iK(e,t,n,r,i){var o="vertical"===i?"x":"y";Lg(e,(function(e){var a,s,u;e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var l=0,c=e.length,f="vertical"===i?"dx":"dy",d=0;d<c;d++)(u=l-(s=e[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),l=s.getLayout()[o]+s.getLayout()[f]+t;if((u=l-t-("vertical"===i?r:n))>0){a=s.getLayout()[o]-u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0),l=a;for(d=c-2;d>=0;--d)(u=(s=e[d]).getLayout()[o]+s.getLayout()[f]+t-l)>0&&(a=s.getLayout()[o]-u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),l=s.getLayout()[o]}}))}function oK(e,t,n){Lg(e.slice().reverse(),(function(e){Lg(e,(function(e){if(e.outEdges.length){var r=dK(e.outEdges,aK,n)/dK(e.outEdges,fK);if(isNaN(r)){var i=e.outEdges.length;r=i?dK(e.outEdges,sK,n)/i:0}if("vertical"===n){var o=e.getLayout().x+(r-cK(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(r-cK(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function aK(e,t){return cK(e.node2,t)*e.getValue()}function sK(e,t){return cK(e.node2,t)}function uK(e,t){return cK(e.node1,t)*e.getValue()}function lK(e,t){return cK(e.node1,t)}function cK(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function fK(e){return e.getValue()}function dK(e,t,n){for(var r=0,i=e.length,o=-1;++o<i;){var a=+t(e[o],n);isNaN(a)||(r+=a)}return r}function hK(e,t,n){Lg(e,(function(e){Lg(e,(function(e){if(e.inEdges.length){var r=dK(e.inEdges,uK,n)/dK(e.inEdges,fK);if(isNaN(r)){var i=e.inEdges.length;r=i?dK(e.inEdges,lK,n)/i:0}if("vertical"===n){var o=e.getLayout().x+(r-cK(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(r-cK(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function pK(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph().nodes;if(t.length){var n=1/0,r=-1/0;Lg(t,(function(e){var t=e.getLayout().value;t<n&&(n=t),t>r&&(r=t)})),Lg(t,(function(t){var i=new SZ({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),o=t.getModel().get(["itemStyle","color"]);null!=o?(t.setVisual("color",o),t.setVisual("style",{fill:o})):(t.setVisual("color",i),t.setVisual("style",{fill:i}))}))}}))}var gK=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,r,i=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(e.layout="vertical",n=o.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var u=["x","y"],l="horizontal"===e.layout?0:1,c=this._baseAxisDim=u[l],f=u[1-l],d=[i,o],h=d[l].get("type"),p=d[1-l].get("type"),g=e.data;if(g&&r){var v=[];Lg(g,(function(e,t){var n;Vg(e)?(n=e.slice(),e.unshift(t)):Vg(e.value)?((n=Ag({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,v.push(n)})),e.data=v}var m=this.defaultValueDimensions,y=[{name:c,type:ZR(h),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:ZR(p),dimsDef:m.slice()}];return hF(this,{coordDimensions:y,dimensionsCount:m.length+1,encodeDefaulter:Gg(tM,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),vK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return og(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(PT);Pg(vK,gK,!0);var mK=vK,yK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a="horizontal"===e.get("layout")?1:0;r.diff(o).add((function(e){if(r.hasValue(e)){var t=wK(r.getItemLayout(e),r,e,a,!0);r.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var s=r.getItemLayout(e);n?($E(n),_K(s,n,r,e)):n=wK(s,r,e,a),i.add(n),r.setItemGraphicEl(e,n)}else i.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(YN),bK=function(){},xK=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return og(t,e),t.prototype.getDefaultShape=function(){return new bK},t.prototype.buildPath=function(e,t){var n=t.points,r=0;for(e.moveTo(n[r][0],n[r][1]),r++;r<4;r++)e.lineTo(n[r][0],n[r][1]);for(e.closePath();r<n.length;r++)e.moveTo(n[r][0],n[r][1]),r++,e.lineTo(n[r][0],n[r][1])},t}(cS);function wK(e,t,n,r,i){var o=e.ends,a=new xK({shape:{points:i?SK(o,r,e):o}});return _K(e,a,t,n,i),a}function _K(t,n,r,i,o){var a=r.hostModel;(0,e[o?"initProps":"updateProps"])(n,{shape:{points:t.ends}},a,i),n.useStyle(r.getItemVisual(i,"style")),n.style.strokeNoScale=!0,n.z2=100;var s=r.getItemModel(i),u=s.getModel("emphasis");BE(n,s),PE(n,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function SK(e,t,n){return Rg(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}var EK=yK;function CK(e,t){}var kK=Lg;function MK(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var r=e.getBaseAxis(),i=Dg(n,r);i<0&&(i=n.length,n[i]=r,t[i]={axis:r,seriesModels:[]}),t[i].seriesModels.push(e)})),t}(e);kK(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,r=e.seriesModels,i=r.length,o=e.boxWidthList=[],a=e.boxOffsetList=[],s=[];if("category"===n.type)t=n.getBandWidth();else{var u=0;kK(r,(function(e){u=Math.max(u,e.getData().count())}));var l=n.getExtent();t=Math.abs(l[1]-l[0])/u}kK(r,(function(e){var n=e.get("boxWidth");Vg(n)||(n=[n,n]),s.push([Ox(n[0],t)||0,Ox(n[1],t)||0])}));var c=.8*t-2,f=c/i*.3,d=(c-f*(i-1))/i,h=d/2-c/2;kK(r,(function(e,t){a.push(h),h+=f+d,o.push(Math.min(Math.max(d,s[t][0]),s[t][1]))}))}(e),kK(t,(function(t,n){!function(e,t,n){var r=e.coordinateSystem,i=e.getData(),o=n/2,a="horizontal"===e.get("layout")?0:1,s=1-a,u=["x","y"],l=i.mapDimension(u[a]),c=i.mapDimensionsAll(u[s]);if(null==l||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(l,f),h=b(d,c[2],f),p=b(d,c[0],f),g=b(d,c[1],f),v=b(d,c[3],f),m=b(d,c[4],f),y=[];x(y,g,!1),x(y,v,!0),y.push(p,g,m,v),w(y,p),w(y,m),w(y,h),i.setItemLayout(f,{initBaseline:h[s],ends:y})}function b(e,n,o){var u,l=i.get(n,o),c=[];return c[a]=e,c[s]=l,isNaN(e)||isNaN(l)?u=[NaN,NaN]:(u=r.dataToPoint(c))[a]+=t,u}function x(e,t,n){var r=t.slice(),i=t.slice();r[a]+=o,i[a]-=o,n?e.push(r,i):e.push(i,r)}function w(e,t){var n=t.slice(),r=t.slice();n[a]-=o,r[a]+=o,e.push(n,r)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var IK={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Wk){0,II("")}var n=function(e,t){for(var n=[],r=[],i=(t=t||{}).boundIQR,o="none"===i||0===i,a=0;a<e.length;a++){var s=Rx(e[a].slice()),u=Yx(s,.25),l=Yx(s,.5),c=Yx(s,.75),f=s[0],d=s[s.length-1],h=(null==i?1.5:i)*(c-u),p=o?f:Math.max(f,u-h),g=o?d:Math.min(d,c+h),v=t.itemNameFormatter,m=Ug(v)?v({value:a}):Wg(v)?v.replace("{value}",a+""):a+"";n.push([m,p,u,l,c,g]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>g){var x=[m,b];r.push(x)}}}return{boxData:n,outliers:r}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var TK=["color","borderColor"],AK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,r=this.group,i=t.getLayout("isSimpleBox"),o=e.get("clip",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||r.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(o&&OK(s,a))return;var u=PK(a,n,!0);HE(u,{shape:{points:a.ends}},e,n),LK(u,t,n,i),r.add(u),t.setItemGraphicEl(n,u)}})).update((function(a,u){var l=n.getItemGraphicEl(u);if(t.hasValue(a)){var c=t.getItemLayout(a);o&&OK(s,c)?r.remove(l):(l?(ZE(l,{shape:{points:c.ends}},e,a),$E(l)):l=PK(c,a),LK(l,t,a,i),r.add(l),t.setItemGraphicEl(a,l))}else r.remove(l)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),FK(e,this.group);var t=e.get("clip",!0)?qB(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,r=t.getData(),i=r.getLayout("isSimpleBox");null!=(n=e.next());){var o=PK(r.getItemLayout(n),n);LK(o,r,n,i),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){FK(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(YN),NK=function(){},DK=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return og(t,e),t.prototype.getDefaultShape=function(){return new NK},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(cS);function PK(e,t,n){var r=e.ends;return new DK({shape:{points:n?RK(r,e):r},z2:100})}function OK(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function LK(e,t,n,r){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,BE(e,i)}function RK(e,t){return Rg(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var BK=function(){},zK=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return og(t,e),t.prototype.getDefaultShape=function(){return new BK},t.prototype.buildPath=function(e,t){for(var n=t.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];e.moveTo(i,n[r++]),e.lineTo(i,n[r++])}else r+=3},t}(cS);function FK(e,t,n,r){var i=e.getData(),o=i.getLayout("largePoints"),a=new zK({shape:{points:o},__sign:1});t.add(a);var s=new zK({shape:{points:o},__sign:-1});t.add(s),jK(1,a,e,i),jK(-1,s,e,i),r&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function jK(e,t,n,r){var i=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]),o=n.getModel("itemStyle").getItemStyle(TK);t.useStyle(o),t.style.fill=null,t.style.stroke=i}var GK=AK,VK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return og(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var r=t.getItemLayout(e);return r&&n.rect(r.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(PT);Pg(VK,gK,!0);var UK=VK;function WK(e){e&&Vg(e.series)&&Lg(e.series,(function(e){Yg(e)&&"k"===e.type&&(e.type="candlestick")}))}var ZK=["itemStyle","borderColor"],HK=["itemStyle","borderColor0"],YK=["itemStyle","color"],XK=["itemStyle","color0"],KK={seriesType:"candlestick",plan:RT(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?YK:XK)}function r(e,t){return t.get(e>0?ZK:HK)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var i;null!=(i=e.next());){var o=t.getItemModel(i),a=t.getItemLayout(i).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=r(a,o)||s.fill,Ag(t.ensureUniqueItemVisual(i,"style"),s)}}}}},qK=KK,$K={seriesType:"candlestick",plan:RT(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=function(e,t){var n,r=e.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=Ox(ev(e.get("barMaxWidth"),i),i),a=Ox(ev(e.get("barMinWidth"),1),i),s=e.get("barWidth");return null!=s?Ox(s,i):Math.max(Math.min(i/2,o),a)}(e,n),i=["x","y"],o=n.getDimensionIndex(n.mapDimension(i[0])),a=Rg(n.mapDimensionsAll(i[1]),n.getDimensionIndex,n),s=a[0],u=a[1],l=a[2],c=a[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(o<0||a.length<4))return{progress:e.pipelineContext.large?function(e,n){var r,i,a=FB(4*e.count),f=0,d=[],h=[],p=n.getStore();for(;null!=(i=e.next());){var g=p.get(o,i),v=p.get(s,i),m=p.get(u,i),y=p.get(l,i),b=p.get(c,i);isNaN(g)||isNaN(y)||isNaN(b)?(a[f++]=NaN,f+=3):(a[f++]=QK(p,i,v,m,u),d[0]=g,d[1]=y,r=t.dataToPoint(d,null,h),a[f++]=r?r[0]:NaN,a[f++]=r?r[1]:NaN,d[1]=b,r=t.dataToPoint(d,null,h),a[f++]=r?r[1]:NaN)}n.setLayout("largePoints",a)}:function(e,n){var i,a=n.getStore();for(;null!=(i=e.next());){var f=a.get(o,i),d=a.get(s,i),h=a.get(u,i),p=a.get(l,i),g=a.get(c,i),v=Math.min(d,h),m=Math.max(d,h),y=S(v,f),b=S(m,f),x=S(p,f),w=S(g,f),_=[];E(_,b,0),E(_,y,1),_.push(k(w),k(b),k(x),k(y)),n.setItemLayout(i,{sign:QK(a,i,d,h,u),initBaseline:d>h?b[1]:y[1],ends:_,brushRect:C(p,g,f)})}function S(e,n){var r=[];return r[0]=n,r[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(r)}function E(e,t,n){var i=t.slice(),o=t.slice();i[0]=EN(i[0]+r/2,1,!1),o[0]=EN(o[0]-r/2,1,!0),n?e.push(i,o):e.push(o,i)}function C(e,t,n){var i=S(e,n),o=S(t,n);return i[0]-=r/2,o[0]-=r/2,{x:i[0],y:i[1],width:r,height:o[1]-i[1]}}function k(e){return e[0]=EN(e[0],1),e}}}}};function QK(e,t,n,r,i){return n>r?-1:n<r?1:t>0?e.get(i,t-1)<=r?1:-1:1}var JK=$K;function eq(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var tq=function(e){function t(t,n){var r=e.call(this)||this,i=new TB(t,n),o=new Mx;return r.add(i),r.add(o),r.updateData(t,n),r}return og(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,r=e.rippleNumber,i=this.childAt(1),o=0;o<r;o++){var a=rP(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/r*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}eq(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],i=0;i<r.length;i++){var o=r[i];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}eq(n,e)},t.prototype.highlight=function(){bE(this)},t.prototype.downplay=function(){xE(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,r=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=iP(e.getItemVisual(t,"symbolSize")),u=e.getItemVisual(t,"style"),l=u&&u.fill,c=o.getModel("emphasis");i.setScale(s),i.traverse((function(e){e.setStyle("fill",l)}));var f=oP(e.getItemVisual(t,"symbolOffset"),s);f&&(i.x=f[0],i.y=f[1]);var d=e.getItemVisual(t,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var h={};h.showEffectOn=r.get("showEffectOn"),h.rippleScale=o.get(["rippleEffect","scale"]),h.brushType=o.get(["rippleEffect","brushType"]),h.period=1e3*o.get(["rippleEffect","period"]),h.effectOffset=t/e.count(),h.z=r.getShallow("z")||0,h.zlevel=r.getShallow("zlevel")||0,h.symbolType=a,h.color=l,h.rippleEffectColor=o.get(["rippleEffect","color"]),h.rippleNumber=o.get(["rippleEffect","number"]),"render"===h.showEffectOn?(this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==h.showEffectOn&&n.startEffectAnimation(h):"normal"===e&&"render"!==h.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=h,PE(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Mx),nq=tq,rq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(){this._symbolDraw=new OB(nq)},t.prototype.render=function(e,t,n){var r=e.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();var i=cz("").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=function(e){var t=[1,0,0,1,0,0];return Ab(t,e),t}(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(YN),iq=rq,oq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return og(t,e),t.prototype.getInitialData=function(e,t){return _B(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(PT),aq=oq;var sq=function(e){function t(t,n,r){var i=e.call(this)||this;return i.add(i.createLine(t,n,r)),i._updateEffectSymbol(t,n),i}return og(t,e),t.prototype.createLine=function(e,t,n){return new CH(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");Vg(r)||(r=[r,r]);var o=e.getItemVisual(t,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),(s=rP(i,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=r[0],s.scaleY=r[1],s.setColor(a),this._symbolType=i,this._symbolScale=r,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var r=this.childAt(1);if(r){var i=e.getItemLayout(n),o=1e3*t.get("period"),a=t.get("loop"),s=t.get("constantSpeed"),u=Jg(t.get("delay"),(function(t){return t/e.count()*o/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),s>0&&(o=this._getLineLength(r)/s*1e3),o!==this._period||a!==this._loop){r.stopAnimation();var l=void 0;l=Ug(u)?u(n):u,r.__t>0&&(l=-o*r.__t),this._animateSymbol(r,o,l,a)}this._period=o,this._loop=a}},t.prototype._animateSymbol=function(e,t,n,r){if(t>0){e.__t=0;var i=this,o=e.animate("",r).when(t,{__t:1}).delay(n).during((function(){i._updateSymbolPosition(e)}));r||o.done((function(){i.remove(e)})),o.start()}},t.prototype._getLineLength=function(e){return Nv(e.__p1,e.__cp1)+Nv(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,r=e.__cp1,i=e.__t,o=[e.x,e.y],a=o.slice(),s=Km,u=qm;o[0]=s(t[0],r[0],n[0],i),o[1]=s(t[1],r[1],n[1],i);var l=u(t[0],r[0],n[0],i),c=u(t[1],r[1],n[1],i);e.rotation=-Math.atan2(c,l)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Nv(a,o),1===i&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*Nv(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(Mx),uq=sq,lq=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createPolyline(t,n,r),i}return og(t,e),t.prototype._createPolyline=function(e,t,n){var r=e.getItemLayout(t),i=new OA({shape:{points:r}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel;ZE(this.childAt(0),{shape:{points:e.getItemLayout(t)}},r,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var r=this.childAt(0),i=e.getItemModel(t),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,u=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var l=i.getModel("emphasis");o=l.getModel("lineStyle").getLineStyle(),u=l.get("disabled"),a=l.get("focus"),s=l.get("blurScope")}r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,PE(this,a,s,u)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(Mx),cq=lq,fq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return og(t,e),t.prototype.createLine=function(e,t,n){return new cq(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],r=0,i=1;i<t.length;i++){var o=t[i-1],a=t[i];r+=Nv(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o,a=this._lastFrame;if(t<this._lastFramePercent){for(o=Math.min(a+1,i-1);o>=0&&!(r[o]<=t);o--);o=Math.min(o,i-2)}else{for(o=a;o<i&&!(r[o]>t);o++);o=Math.min(o-1,i-2)}var s=(t-r[o])/(r[o+1]-r[o]),u=n[o],l=n[o+1];e.x=u[0]*(1-s)+s*l[0],e.y=u[1]*(1-s)+s*l[1];var c=l[0]-u[0],f=l[1]-u[1];e.rotation=-Math.atan2(f,c)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(uq),dq=fq,hq=function(){this.polyline=!1,this.curveness=0,this.segs=[]},pq=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return og(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hq},t.prototype.buildPath=function(e,t){var n,r=t.segs,i=t.curveness;if(t.polyline)for(n=this._off;n<r.length;){var o=r[n++];if(o>0){e.moveTo(r[n++],r[n++]);for(var a=1;a<o;a++)e.lineTo(r[n++],r[n++])}}else for(n=this._off;n<r.length;){var s=r[n++],u=r[n++],l=r[n++],c=r[n++];if(e.moveTo(s,u),i>0){var f=(s+l)/2-(u-c)*i,d=(u+c)/2-(l-s)*i;e.quadraticCurveTo(f,d,l,c)}else e.lineTo(l,c)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,r=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<r.length;){var u=r[s++];if(u>0)for(var l=r[s++],c=r[s++],f=1;f<u;f++){if(U_(l,c,d=r[s++],h=r[s++],o,e,t))return a}a++}else for(a=0,s=0;s<r.length;){l=r[s++],c=r[s++];var d=r[s++],h=r[s++];if(i>0){if(Z_(l,c,(l+d)/2-(c-h)*i,(c+h)/2-(d-l)*i,d,h,o,e,t))return a}else if(U_(l,c,d,h,o,e,t))return a;a++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],u=t[a++];n=Math.min(s,n),i=Math.max(s,i),r=Math.min(u,r),o=Math.max(u,o)}e=this._rect=new ix(n,r,i,o)}return e},t}(cS),gq=function(){function e(){this.group=new Mx}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],r=t.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,a=new Float32Array(o+r.length);a.set(i),a.set(r,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:r}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new pq({cursor:"default"});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var o=VS(e);o.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),vq=gq,mq={seriesType:"lines",plan:RT(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s=void 0,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=e.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var f=0,d=[];for(c=i.start;c<i.end;c++){var h=e.getLineCoords(c,a);n&&(s[f++]=h);for(var p=0;p<h;p++)d=t.dataToPoint(a[p],!1,d),s[f++]=d[0],s[f++]=d[1]}o.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var g=o.getItemModel(c),v=(h=e.getLineCoords(c,a),[]);if(n)for(var m=0;m<h;m++)v.push(t.dataToPoint(a[m]));else{v[0]=t.dataToPoint(a[0]),v[1]=t.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(c,v)}}}}}},yq=mq,bq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._updateLineDraw(r,e),o=e.get("zlevel"),a=e.get(["effect","trailLength"]),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a>0&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r);var l=e.get("clip",!0)&&qB(e.coordinateSystem,!1,e);l?this.group.setClipPath(l):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateLineDraw(r,e).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var r=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=yq.reset(e,t,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,r=this._showEffect(t),i=!!t.get("polyline"),o=t.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vq:new AH(i?r?dq:cq:r?uq:CH),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(YN),xq=bq,wq="undefined"===typeof Uint32Array?Array:Uint32Array,_q="undefined"===typeof Float64Array?Array:Float64Array;function Sq(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Rg(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),Tg([t,e[0],e[1]])})))}var Eq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return og(t,e),t.prototype.init=function(t){t.data=t.data||[],Sq(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Sq(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=fv(this._flatCoords,t.flatCoords),this._flatCoordsOffset=fv(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(e);for(i=0;i<o.length;i++)t[i]=t[i]||[],t[i][0]=o[i][0],t[i][1]=o[i][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),Hg(e[0])){for(var n=e.length,r=new wq(n),i=new _q(n),o=0,a=0,s=0,u=0;u<n;){s++;var l=e[u++];r[a++]=o+t,r[a++]=l;for(var c=0;c<l;c++){var f=e[u++],d=e[u++];i[o++]=f,i[o++]=d}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new hB(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var r=this.getData().getItemModel(e),i=r.get("name");if(i)return i;var o=r.get("fromName"),a=r.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),cT("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(PT),Cq=Eq;function kq(e){return e instanceof Array||(e=[e,e]),e}var Mq={seriesType:"lines",reset:function(e){var t=kq(e.get("symbol")),n=kq(e.get("symbolSize")),r=e.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?function(e,t){var n=e.getItemModel(t),r=kq(n.getShallow("symbol",!0)),i=kq(n.getShallow("symbolSize",!0));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]),r[1]&&e.setItemVisual(t,"toSymbol",r[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}:null}}};var Iq=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=dg.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,r,i,o){var a=this._getBrush(),s=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,f=c.getContext("2d"),d=e.length;c.width=t,c.height=n;for(var h=0;h<d;++h){var p=e[h],g=p[0],v=p[1],m=r(p[2]);f.globalAlpha=m,f.drawImage(a,g-l,v-l)}if(!c.width||!c.height)return c;for(var y=f.getImageData(0,0,c.width,c.height),b=y.data,x=0,w=b.length,_=this.minOpacity,S=this.maxOpacity-_;x<w;){m=b[x+3]/256;var E=4*Math.floor(255*m);if(m>0){var C=o(m)?s:u;m>0&&(m=m*S+_),b[x++]=C[E],b[x++]=C[E+1],b[x++]=C[E+2],b[x++]=C[E+3]*m*256}else x+=4}return f.putImageData(y,0,0),c},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=dg.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,a=0;a<256;a++)e[t](a/255,!0,i),r[o++]=i[0],r[o++]=i[1],r[o++]=i[2],r[o++]=i[3];return r},e}(),Tq=Iq;function Aq(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Nq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(r=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Aq(i)&&this._renderOnGeo(i,e,r,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,r){var i=t.coordinateSystem;i&&(Aq(i)?this.render(t,n,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,r,i){var o,a,s,u,l=e.coordinateSystem;if($B(l,"cartesian2d")){var c=l.getAxis("x"),f=l.getAxis("y");0,o=c.getBandWidth(),a=f.getBandWidth(),s=c.scale.getExtent(),u=f.scale.getExtent()}for(var d=this.group,h=e.getData(),p=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),m=e.get(["itemStyle","borderRadius"]),y=nC(e),b=e.getModel("emphasis"),x=b.get("focus"),w=b.get("blurScope"),_=b.get("disabled"),S=$B(l,"cartesian2d")?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],E=n;E<r;E++){var C=void 0,k=h.getItemVisual(E,"style");if($B(l,"cartesian2d")){var M=h.get(S[0],E),I=h.get(S[1],E);if(isNaN(h.get(S[2],E))||M<s[0]||M>s[1]||I<u[0]||I>u[1])continue;var T=l.dataToPoint([M,I]);C=new CS({shape:{x:Math.floor(Math.round(T[0])-o/2),y:Math.floor(Math.round(T[1])-a/2),width:Math.ceil(o),height:Math.ceil(a)},style:k})}else{if(isNaN(h.get(S[1],E)))continue;C=new CS({z2:1,shape:l.dataToRect([h.get(S[0],E)]).contentShape,style:k})}if(h.hasItemOption){var A=h.getItemModel(E),N=A.getModel("emphasis");p=N.getModel("itemStyle").getItemStyle(),g=A.getModel(["blur","itemStyle"]).getItemStyle(),v=A.getModel(["select","itemStyle"]).getItemStyle(),m=A.get(["itemStyle","borderRadius"]),x=N.get("focus"),w=N.get("blurScope"),_=N.get("disabled"),y=nC(A)}C.shape.r=m;var D=e.getRawValue(E),P="-";D&&null!=D[2]&&(P=D[2]+""),tC(C,y,{labelFetcher:e,labelDataIndex:E,defaultOpacity:k.opacity,defaultText:P}),C.ensureState("emphasis").style=p,C.ensureState("blur").style=g,C.ensureState("select").style=v,PE(C,x,w,_),C.incremental=i,i&&(C.states.emphasis.hoverLayer=!0),d.add(C),h.setItemGraphicEl(E,C),this._progressiveEls&&this._progressiveEls.push(C)}},t.prototype._renderOnGeo=function(e,t,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Tq;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),l=e.getRoamTransform();u.applyTransform(l);var c=Math.max(u.x,0),f=Math.max(u.y,0),d=Math.min(u.width+u.x,r.getWidth()),h=Math.min(u.height+u.y,r.getHeight()),p=d-c,g=h-f,v=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],m=a.mapArray(v,(function(t,n,r){var i=e.dataToPoint([t,n]);return i[0]-=c,i[1]-=f,i.push(r),i})),y=n.getExtent(),b="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function(e,t,n){var r=e[1]-e[0],i=(t=Rg(t,(function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}}))).length,o=0;return function(e){var r;for(r=o;r<i;r++)if((a=t[r].interval)[0]<=e&&e<=a[1]){o=r;break}if(r===i)for(r=o-1;r>=0;r--){var a;if((a=t[r].interval)[0]<=e&&e<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(y,n.getPieceList(),n.option.selected);s.update(m,p,g,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},b);var x=new mS({style:{width:p,height:g,x:c,y:f,image:s.canvas},silent:!0});this.group.add(x)},t.type="heatmap",t}(YN),Dq=Nq,Pq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.getInitialData=function(e,t){return _B(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=EM.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(PT),Oq=Pq;var Lq=["itemStyle","borderWidth"],Rq=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Bq=new oA,zq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=this.group,i=e.getData(),o=this._data,a=e.coordinateSystem,s=a.getBaseAxis().isHorizontal(),u=a.master.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:Rq[+s],categoryDim:Rq[1-+s]};return i.diff(o).add((function(e){if(i.hasValue(e)){var t=Hq(i,e),n=Fq(i,e,t,l),o=Kq(i,l,n);i.setItemGraphicEl(e,o),r.add(o),e$(o,l,n)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var a=Hq(i,e),s=Fq(i,e,a,l),u=$q(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var r=n.animationModel,i=n.dataIndex;ZE(e.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?Vq(e,t,n,!0):Uq(e,t,n,!0);Wq(e,n,!0),Zq(e,t,n,!0)}(n,l,s):n=Kq(i,l,s,!0),i.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,r.add(n),e$(n,l,s)}else r.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&qq(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=i,this.group},t.prototype.remove=function(e,t){var n=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl((function(t){qq(r,VS(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(YN);function Fq(e,t,n,r){var i=e.getItemLayout(t),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),f={dataIndex:t,layout:i,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:u,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,r,i){var o,a=r.valueDim,s=e.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(Vg(s)){var f=[jq(u,s[0])-l,jq(u,s[1])-l];f[1]<f[0]&&f.reverse(),o=f[c]}else o=null!=s?jq(u,s)-l:t?r.coordSysExtent[a.index][c]-l:n[a.wh];i.boundingLength=o,t&&(i.repeatCutLength=n[a.wh]);i.pxSign=o>0?1:-1}(n,o,i,r,f),function(e,t,n,r,i,o,a,s,u,l){var c,f=u.valueDim,d=u.categoryDim,h=Math.abs(n[d.wh]),p=e.getItemVisual(t,"symbolSize");c=Vg(p)?p.slice():null==p?["100%","100%"]:[p,p];c[d.index]=Ox(c[d.index],h),c[f.index]=Ox(c[f.index],r?h:Math.abs(o)),l.symbolSize=c,(l.symbolScale=[c[0]/s,c[1]/s])[f.index]*=(u.isHorizontal?-1:1)*a}(e,t,i,o,0,f.boundingLength,f.pxSign,l,r,f),function(e,t,n,r,i){var o=e.get(Lq)||0;o&&(Bq.attr({scaleX:t[0],scaleY:t[1],rotation:n}),Bq.updateTransform(),o/=Bq.getLineScale(),o*=t[r.valueDim.index]);i.valueLineWidth=o||0}(n,f.symbolScale,u,r,f);var d=f.symbolSize,h=oP(n.get("symbolOffset"),d);return function(e,t,n,r,i,o,a,s,u,l,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,g=Math.max(t[h.index]+s,0),v=g;if(r){var m=Math.abs(u),y=Jg(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=Ox(y,t[h.index]),w=Math.max(g+2*x,0),_=b?0:2*x,S=qx(r),E=S?r:t$((m+_)/w);w=g+2*(x=(m-E*g)/2/(b?E:Math.max(E-1,1))),_=b?0:2*x,S||"fixed"===r||(E=l?t$((Math.abs(l)+_)/w):0),v=E*w-_,f.repeatTimes=E,f.symbolMargin=x}var C=p*(v/2),k=f.pathPosition=[];k[d.index]=n[d.wh]/2,k[h.index]="start"===a?C:"end"===a?u-C:u/2,o&&(k[0]+=o[0],k[1]+=o[1]);var M=f.bundlePosition=[];M[d.index]=n[d.xy],M[h.index]=n[h.xy];var I=f.barRectShape=Ag({},n);I[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(k[h.index]+C)),I[d.wh]=n[d.wh];var T=f.clipShape={};T[d.xy]=-n[d.xy],T[d.wh]=c.ecSize[d.wh],T[h.xy]=0,T[h.wh]=n[h.wh]}(n,d,i,o,0,h,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function jq(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Gq(e){var t=e.symbolPatternSize,n=rP(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Vq(e,t,n,r){var i=e.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,u=t.valueDim,l=n.repeatTimes||0,c=0,f=o[t.valueDim.index]+a+2*n.symbolMargin;for(Qq(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=l,c<l?Jq(e,null,p(c),n,r):Jq(e,null,{scaleX:0,scaleY:0},n,r,(function(){i.remove(e)})),c++}));c<l;c++){var d=Gq(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=l,i.add(d);var h=p(c);Jq(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(e){var t=s.slice(),r=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=l-1-e),t[u.index]=f*(i-l/2+.5)+s[u.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Uq(e,t,n,r){var i=e.__pictorialBundle,o=e.__pictorialMainPath;o?Jq(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(o=e.__pictorialMainPath=Gq(n),i.add(o),Jq(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function Wq(e,t,n){var r=Ag({},t.barRectShape),i=e.__pictorialBarRect;i?Jq(i,null,{shape:r},t,n):((i=e.__pictorialBarRect=new CS({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(i))}function Zq(t,n,r,i){if(r.symbolClip){var o=t.__pictorialClipPath,a=Ag({},r.clipShape),s=n.valueDim,u=r.animationModel,l=r.dataIndex;if(o)ZE(o,{shape:a},u,l);else{a[s.wh]=0,o=new CS({shape:a}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var c={};c[s.wh]=r.clipShape[s.wh],e[i?"updateProps":"initProps"](o,{shape:c},u,l)}}}function Hq(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=Yq,n.isAnimationEnabled=Xq,n}function Yq(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Xq(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Kq(e,t,n,r){var i=new Mx,o=new Mx;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?Vq(i,t,n):Uq(i,0,n),Wq(i,n,r),Zq(i,t,n,r),i.__pictorialShapeStr=$q(e,n),i.__pictorialSymbolMeta=n,i}function qq(e,t,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];Qq(r,(function(e){o.push(e)})),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),Lg(o,(function(e){XE(e,{scaleX:0,scaleY:0},n,t,(function(){r.parent&&r.parent.remove(r)}))})),e.setItemGraphicEl(t,null)}function $q(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Qq(e,t,n){Lg(e.__pictorialBundle.children(),(function(r){r!==e.__pictorialBarRect&&t.call(n,r)}))}function Jq(t,n,r,i,o,a){n&&t.attr(n),i.symbolClip&&!o?r&&t.attr(r):r&&e[o?"updateProps":"initProps"](t,r,i.animationModel,i.dataIndex,a)}function e$(e,t,n){var r=n.dataIndex,i=n.itemModel,o=i.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),u=i.getModel(["select","itemStyle"]).getItemStyle(),l=i.getShallow("cursor"),c=o.get("focus"),f=o.get("blurScope"),d=o.get("scale");Qq(e,(function(e){if(e instanceof mS){var t=e.style;e.useStyle(Ag({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var r=e.ensureState("emphasis");r.style=a,d&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=u,l&&(e.cursor=l),e.z2=n.z2}));var h=t.valueDim.posDesc[+(n.boundingLength>0)];tC(e.__pictorialBarRect,nC(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:CB(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),PE(e,c,f,o.get("disabled"))}function t$(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var n$=zq,r$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return og(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=IC(Cz.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Cz),i$=r$;var o$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return og(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this,o=this.group,a=e.getLayerSeries(),s=r.getLayout("layoutInfo"),u=s.rect,l=s.boundaryGap;function c(e){return e.name}o.x=0,o.y=u.y+l[0];var f=new VR(this._layersSeries||[],a,c,c),d=[];function h(t,n,s){var u=i._layers;if("remove"!==t){for(var l,c,f=[],h=[],p=a[n].indices,g=0;g<p.length;g++){var v=r.getItemLayout(p[g]),m=v.x,y=v.y0,b=v.y;f.push(m,y),h.push(m,y+b),l=r.getItemVisual(p[g],"style")}var x=r.getItemLayout(p[0]),w=e.getModel("label").get("margin"),_=e.getModel("emphasis");if("add"===t){var S=d[n]=new Mx;c=new YB({shape:{points:f,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),o.add(S),e.isAnimationEnabled()&&c.setClipPath(function(e,t,n){var r=new CS({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return HE(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{S=u[s];c=S.childAt(0),o.add(S),d[n]=S,ZE(c,{shape:{points:f,stackedOnPoints:h}},e),$E(c)}tC(c,nC(e),{labelDataIndex:p[g-1],defaultText:r.getName(p[g-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var E=c.getTextContent();E&&(E.x=x.x-w,E.y=x.y0+x.y/2),c.useStyle(l),r.setItemGraphicEl(n,c),BE(c,e),PE(c,_.get("focus"),_.get("blurScope"),_.get("disabled"))}else o.remove(u[n])}f.add(jg(h,this,"add")).update(jg(h,this,"update")).remove(jg(h,this,"remove")).execute(),this._layersSeries=a,this._layers=d},t.type="themeRiver",t}(YN);var a$=o$,s$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gF(jg(this.getData,this),jg(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},r=Sw(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),i=[];r.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var o=i.length,a=0;a<o;++a){for(var s=i[a].name,u=0;u<i[a].dataList.length;++u){var l=i[a].dataList[u][0]+"";n[l]=a}for(var l in n)n.hasOwnProperty(l)&&n[l]!==a&&(n[l]=a,e[t]=[l,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",bw).models[0].get("type"),r=zg(e.data,(function(e){return void 0!==e[2]})),i=this.fixData(r||[]),o=[],a=this.nameMap=cv(),s=0,u=0;u<i.length;++u)o.push(i[u][2]),a.get(i[u][2])||(a.set(i[u][2],s),s++);var l=pB(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ZR(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new hB(l,this);return c.initData(i),c},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],r=0;r<t;++r)n[r]=r;var i=e.mapDimension("single"),o=Sw(n,(function(t){return e.get("name",t)})),a=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(i,t)-e.get(i,n)})),a.push({name:n,indices:t})})),a},t.prototype.getAxisTooltipData=function(e,t,n){Vg(e)||(e=e?[e]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,u=0;u<s;++u){for(var l=Number.MAX_VALUE,c=-1,f=o[u].indices.length,d=0;d<f;++d){var h=i.get(e[0],o[u].indices[d]),p=Math.abs(h-t);p<=l&&(r=h,l=p,c=o[u].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:r}},t.prototype.formatTooltip=function(e,t,n){var r=this.getData();return cT("nameValue",{name:r.getName(e),value:r.get(r.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(PT),u$=s$;function l$(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=e.get("boundaryGap"),a=n.getAxis();(r.boundaryGap=o,"horizontal"===a.orient)?(o[0]=Ox(o[0],i.height),o[1]=Ox(o[1],i.height),c$(t,e,i.height-o[0]-o[1])):(o[0]=Ox(o[0],i.width),o[1]=Ox(o[1],i.width),c$(t,e,i.width-o[0]-o[1]));t.setLayout("layoutInfo",r)}))}function c$(e,t,n){if(e.count())for(var r,i=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),u=Rg(o,(function(t){return Rg(t.indices,(function(t){var n=i.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n}))})),l=function(e){for(var t=e.length,n=e[0].length,r=[],i=[],o=0,a=0;a<n;++a){for(var s=0,u=0;u<t;++u)s+=e[u][a][1];s>o&&(o=s),r.push(s)}for(var l=0;l<n;++l)i[l]=(o-r[l])/2;o=0;for(var c=0;c<n;++c){var f=r[c]+i[c];f>o&&(o=f)}return{y0:i,max:o}}(u),c=l.y0,f=n/l.max,d=o.length,h=o[0].indices.length,p=0;p<h;++p){r=c[p]*f,e.setItemLayout(o[0].indices[p],{layerIndex:0,x:u[0][p][0],y0:r,y:u[0][p][1]*f});for(var g=1;g<d;++g)r+=u[g-1][p][1]*f,e.setItemLayout(o[g].indices[p],{layerIndex:g,x:u[g][p][0],y0:r,y:u[g][p][1]*f})}}var f$=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},VS(o).seriesIndex=n.seriesIndex;var a=new GS({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,t,n,r,i),o}return og(t,e),t.prototype.updateData=function(e,t,n,r,i){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var o=this;VS(o).dataIndex=t.dataIndex;var a=t.getModel(),s=a.getModel("emphasis"),u=t.getLayout(),l=Ag({},u);l.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var f=t.getVisual("decal");f&&(c.decal=TP(f,i));var d=lF(a.getModel("itemStyle"),l,!0);Ag(l,d),Lg(XS,(function(e){var t=o.ensureState(e),n=a.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var r=lF(n,l);r&&(t.shape=r)})),e?(o.setShape(l),o.shape.r=u.r0,ZE(o,{shape:{r:u.r}},n,t.dataIndex)):(ZE(o,{shape:l},n),$E(o)),o.useStyle(c),this._updateLabel(n);var h=a.getShallow("cursor");h&&o.attr("cursor",h),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var p=s.get("focus");PE(this,"ancestor"===p?t.getAncestorsIndices():"descendant"===p?t.getDescendantIndices():p,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),r=n.getModel("label"),i=this.node.getLayout(),o=i.endAngle-i.startAngle,a=(i.startAngle+i.endAngle)/2,s=Math.cos(a),u=Math.sin(a),l=this,c=l.getTextContent(),f=this.node.dataIndex,d=r.get("minAngle")/180*Math.PI,h=r.get("show")&&!(null!=d&&Math.abs(o)<d);function p(e,t){var n=e.get(t);return null==n?r.get(t):n}c.ignore=!h,Lg(KS,(function(r){var d="normal"===r?n.getModel("label"):n.getModel([r,"label"]),h="normal"===r,g=h?c:c.ensureState(r),v=e.getFormattedLabel(f,r);h&&(v=v||t.node.name),g.style=rC(d,{},null,"normal"!==r,!0),v&&(g.style.text=v);var m=d.get("show");null==m||h||(g.ignore=!m);var y,b=p(d,"position"),x=h?l:l.states[r],w=x.style.fill;x.textConfig={outsideFill:"inherit"===d.get("color")?w:null,inside:"outside"!==b};var _=p(d,"distance")||0,S=p(d,"align");"outside"===b?(y=i.r+_,S=a>Math.PI/2?"right":"left"):S&&"center"!==S?"left"===S?(y=i.r0+_,a>Math.PI/2&&(S="right")):"right"===S&&(y=i.r-_,a>Math.PI/2&&(S="left")):(y=o===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,S="center"),g.style.align=S,g.style.verticalAlign=p(d,"verticalAlign")||"middle",g.x=y*s+i.cx,g.y=y*u+i.cy;var E=p(d,"rotate"),C=0;"radial"===E?(C=-a)<-Math.PI/2&&(C+=Math.PI):"tangential"===E?(C=Math.PI/2-a)>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI):Hg(E)&&(C=E*Math.PI/180),g.rotation=C})),c.dirtyStyle()},t}(EA),d$=f$,h$="sunburstRootToNode",p$="sunburstHighlight";var g$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n,r){var i=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),a=o.tree.root,s=e.getViewRoot(),u=this.group,l=e.get("renderLabelForZeroData"),c=[];s.eachNode((function(e){c.push(e)}));var f=this._oldChildren||[];!function(r,i){if(0===r.length&&0===i.length)return;function s(e){return e.getId()}function c(s,c){!function(r,i){l||!r||r.getValue()||(r=null);if(r!==a&&i!==a)if(i&&i.piece)r?(i.piece.updateData(!1,r,e,t,n),o.setItemGraphicEl(r.dataIndex,i.piece)):function(e){if(!e)return;e.piece&&(u.remove(e.piece),e.piece=null)}(i);else if(r){var s=new d$(r,e,t,n);u.add(s),o.setItemGraphicEl(r.dataIndex,s)}}(null==s?null:r[s],null==c?null:i[c])}new VR(i,r,s,s).add(c).update(c).remove(Gg(c,null)).execute()}(c,f),function(r,o){o.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,e,t,n):(i.virtualPiece=new d$(r,e,t,n),u.add(i.virtualPiece)),o.piece.off("click"),i.virtualPiece.on("click",(function(e){i._rootToNode(o.parentNode)}))):i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(r){if(!n&&r.piece&&r.piece===t.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(r);else if("link"===i){var o=r.getModel(),a=o.get("link");if(a)Ek(a,o.get("target",!0)||"_blank")}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:h$,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type="sunburst",t}(YN),v$=g$,m$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return og(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};y$(n);var r=this._levelModels=Rg(e.levels||[],(function(e){return new CC(e,this,t)}),this),i=PW.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t),o=r[n.depth];return o&&(e.parentModel=o),e}))}));return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=BW(r,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){WW(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(PT);function y$(e){var t=0;Lg(e.children,(function(e){y$(e);var n=e.value;Vg(n)&&(n=n[0]),t+=n}));var n=e.value;Vg(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),Vg(e.value)?e.value[0]=n:e.value=n}var b$=m$,x$=Math.PI/180;function w$(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),r=e.get("radius");Vg(r)||(r=[0,r]),Vg(t)||(t=[t,t]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=Ox(t[0],i),u=Ox(t[1],o),l=Ox(r[0],a/2),c=Ox(r[1],a/2),f=-e.get("startAngle")*x$,d=e.get("minAngle")*x$,h=e.getData().tree.root,p=e.getViewRoot(),g=p.depth,v=e.get("sort");null!=v&&_$(p,v);var m=0;Lg(p.children,(function(e){!isNaN(e.getValue())&&m++}));var y=p.getValue(),b=Math.PI/(y||m)*2,x=p.depth>0,w=p.height-(x?-1:1),_=(c-l)/(w||1),S=e.get("clockwise"),E=e.get("stillShowZeroSum"),C=S?1:-1;if(x){var k=l,M=l+_,I=2*Math.PI;h.setLayout({angle:I,startAngle:f,endAngle:f+I,clockwise:S,cx:s,cy:u,r0:k,r:M})}!function t(n,r){if(n){var i=r;if(n!==h){var o=n.getValue(),c=0===y&&E?b:o*b;c<d&&(c=d),i=r+C*c;var f=n.depth-g-(x?-1:1),p=l+_*f,v=l+_*(f+1),m=e.getLevelModel(n);if(m){var w=m.get("r0",!0),k=m.get("r",!0),M=m.get("radius",!0);null!=M&&(w=M[0],k=M[1]),null!=w&&(p=Ox(w,a/2)),null!=k&&(v=Ox(k,a/2))}n.setLayout({angle:c,startAngle:r,endAngle:i,clockwise:S,cx:s,cy:u,r0:p,r:v})}if(n.children&&n.children.length){var I=0;Lg(n.children,(function(e){I+=t(e,r+I)}))}return i-r}}(p,f)}))}function _$(e,t){var n=e.children||[];e.children=function(e,t){if(Ug(t)){var n=Rg(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),Rg(n,(function(t){return e[t.index]}))}var r="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(r?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(r?-1:1):n}))}(n,t),n.length&&Lg(e.children,(function(e){_$(e,t)}))}function S$(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),r=n.tree;r.eachNode((function(i){var o=i.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(e,n,r){for(var i=e;i&&i.depth>1;)i=i.parentNode;var o=n.getColorFromPalette(i.name||i.dataIndex+"",t);return e.depth>1&&Wg(o)&&(o=_y(o,(e.depth-1)/(r-1)*.5)),o}(i,e,r.root.height)),Ag(n.ensureUniqueItemVisual(i.dataIndex,"style"),o)}))}))}var E$={color:"fill",borderColor:"stroke"},C$={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},k$=gw(),M$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return _B(null,this)},t.prototype.getDataParams=function(t,n,r){var i=e.prototype.getDataParams.call(this,t,n);return r&&(i.info=k$(r).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(PT),I$=M$;function T$(e,t){return t=t||[0,0],Rg(["x","y"],(function(n,r){var i=this.getAxis(n),o=t[r],a=e[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))}),this)}function A$(e,t){return t=t||[0,0],Rg([0,1],(function(n){var r=t[n],i=e[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function N$(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function D$(e,t){return t=t||[0,0],Rg(["Radius","Angle"],(function(n,r){var i=this["get"+n+"Axis"](),o=t[r],a=e[r]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function P$(e,t,n,r){return e&&(e.legacy||!1!==e.legacy&&!n&&!r&&"tspan"!==t&&("text"===t||pv(e,"text")))}function O$(e,t,n){var r,i,o,a=e;if("text"===t)o=a;else{o={},pv(a,"text")&&(o.text=a.text),pv(a,"rich")&&(o.rich=a.rich),pv(a,"textFill")&&(o.fill=a.textFill),pv(a,"textStroke")&&(o.stroke=a.textStroke),pv(a,"fontFamily")&&(o.fontFamily=a.fontFamily),pv(a,"fontSize")&&(o.fontSize=a.fontSize),pv(a,"fontStyle")&&(o.fontStyle=a.fontStyle),pv(a,"fontWeight")&&(o.fontWeight=a.fontWeight),i={type:"text",style:o,silent:!0},r={};var s=pv(a,"textPosition");n?r.position=s?a.textPosition:"inside":s&&(r.position=a.textPosition),pv(a,"textPosition")&&(r.position=a.textPosition),pv(a,"textOffset")&&(r.offset=a.textOffset),pv(a,"textRotation")&&(r.rotation=a.textRotation),pv(a,"textDistance")&&(r.distance=a.textDistance)}return L$(o,e),Lg(o.rich,(function(e){L$(e,e)})),{textConfig:r,textContent:i}}function L$(e,t){t&&(t.font=t.textFont||t.font,pv(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),pv(t,"textAlign")&&(e.align=t.textAlign),pv(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),pv(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),pv(t,"textWidth")&&(e.width=t.textWidth),pv(t,"textHeight")&&(e.height=t.textHeight),pv(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),pv(t,"textPadding")&&(e.padding=t.textPadding),pv(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),pv(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),pv(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),pv(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),pv(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),pv(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),pv(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function R$(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,o=e.fill||"#000";B$(r,t);var a=null==r.textFill;return i?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=o),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=e.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,Lg(t.rich,(function(e){B$(e,e)})),r}function B$(e,t){t&&(pv(t,"fill")&&(e.textFill=t.fill),pv(t,"stroke")&&(e.textStroke=t.fill),pv(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),pv(t,"font")&&(e.font=t.font),pv(t,"fontStyle")&&(e.fontStyle=t.fontStyle),pv(t,"fontWeight")&&(e.fontWeight=t.fontWeight),pv(t,"fontSize")&&(e.fontSize=t.fontSize),pv(t,"fontFamily")&&(e.fontFamily=t.fontFamily),pv(t,"align")&&(e.textAlign=t.align),pv(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),pv(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),pv(t,"width")&&(e.textWidth=t.width),pv(t,"height")&&(e.textHeight=t.height),pv(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),pv(t,"padding")&&(e.textPadding=t.padding),pv(t,"borderColor")&&(e.textBorderColor=t.borderColor),pv(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),pv(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),pv(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),pv(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),pv(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),pv(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),pv(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),pv(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),pv(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),pv(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var z$={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},F$=Fg(z$),j$=(Bg(Wb,(function(e,t){return e[t]=1,e}),{}),Wb.join(", "),["","style","shape","extra"]),G$=gw();function V$(e,t,n,r,i){var o=e+"Animation",a=UE(e,r,i)||{},s=G$(t).userDuring;return a.duration>0&&(a.during=s?jg(K$,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=e),Ag(a,n[o]),a}function U$(e,t,n,r){var i=(r=r||{}).dataIndex,o=r.isInit,a=r.clearStyle,s=n.isAnimationEnabled(),u=G$(e),l=t.style;u.userDuring=t.during;var c={},f={};if(function(e,t,n){for(var r=0;r<F$.length;r++){var i=F$[r],o=z$[i],a=t[i];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(r=0;r<Wb.length;r++){var s=Wb[r];null!=t[s]&&(n[s]=t[s])}}(0,t,f),$$("shape",t,f),$$("extra",t,f),!o&&s&&(function(e,t,n){for(var r=t.transition,i=H$(r)?Wb:rw(r||[]),o=0;o<i.length;o++){var a=i[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=e[a];0,n[a]=s}}}(e,t,c),q$("shape",e,t,c),q$("extra",e,t,c),function(e,t,n,r){if(!n)return;var i,o=e.style;if(o){var a=n.transition,s=t.transition;if(a&&!H$(a)){var u=rw(a);!i&&(i=r.style={});for(var l=0;l<u.length;l++){var c=o[p=u[l]];i[p]=c}}else if(e.getAnimationStyleProps&&(H$(s)||H$(a)||Dg(s,"style")>=0)){var f=e.getAnimationStyleProps(),d=f?f.style:null;if(d){!i&&(i=r.style={});var h=Fg(n);for(l=0;l<h.length;l++){var p;if(d[p=h[l]]){c=o[p];i[p]=c}}}}}}(e,t,l,c)),f.style=l,function(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var i=e.animators,o=0;o<i.length;o++){var a=i[o];"style"===a.targetName&&a.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}(e,f,a),function(e,t){pv(t,"silent")&&(e.silent=t.silent),pv(t,"ignore")&&(e.ignore=t.ignore),e instanceof u_&&pv(t,"invisible")&&(e.invisible=t.invisible);e instanceof cS&&pv(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}(e,t),s)if(o){var d={};Lg(j$,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(d[e]=d[e]||{}),Ag(e?d[e]:d,n.enterFrom))}));var h=V$("enter",e,t,n,i);h.duration>0&&e.animateFrom(d,h)}else!function(e,t,n,r,i){if(i){var o=V$("update",e,t,r,n);o.duration>0&&e.animateFrom(i,o)}}(e,t,i||0,n,c);W$(e,t),l?e.dirty():e.markRedraw()}function W$(e,t){for(var n=G$(e).leaveToProps,r=0;r<j$.length;r++){var i=j$[r],o=i?t[i]:t;o&&o.leaveTo&&(n||(n=G$(e).leaveToProps={}),i&&(n[i]=n[i]||{}),Ag(i?n[i]:n,o.leaveTo))}}function Z$(e,t,n,r){if(e){var i=e.parent,o=G$(e).leaveToProps;if(o){var a=V$("update",e,t,n,0);a.done=function(){i.remove(e),r&&r()},e.animateTo(o,a)}else i.remove(e),r&&r()}}function H$(e){return"all"===e}var Y$={},X$={setTransform:function(e,t){return Y$.el[e]=t,this},getTransform:function(e){return Y$.el[e]},setShape:function(e,t){var n=Y$.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=Y$.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=Y$.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=Y$.el.style;if(t)return t[e]},setExtra:function(e,t){return(Y$.el.extra||(Y$.el.extra={}))[e]=t,this},getExtra:function(e){var t=Y$.el.extra;if(t)return t[e]}};function K$(){var e=this,t=e.el;if(t){var n=G$(t).userDuring,r=e.userDuring;n===r?(Y$.el=t,r(X$)):e.el=e.userDuring=null}}function q$(e,t,n,r){var i=n[e];if(i){var o,a=t[e];if(a){var s=n.transition,u=i.transition;if(u)if(!o&&(o=r[e]={}),H$(u))Ag(o,a);else for(var l=rw(u),c=0;c<l.length;c++){var f=a[h=l[c]];o[h]=f}else if(H$(s)||Dg(s,e)>=0){!o&&(o=r[e]={});var d=Fg(a);for(c=0;c<d.length;c++){var h;f=a[h=d[c]];Q$(i[h],f)&&(o[h]=f)}}}}}function $$(e,t,n){var r=t[e];if(r)for(var i=n[e]={},o=Fg(r),a=0;a<o.length;a++){var s=o[a];i[s]=qy(r[s])}}function Q$(e,t){return Og(e)?e!==t:null!=e&&isFinite(e)}var J$=gw(),eQ=["percent","easing","shape","style","extra"];function tQ(e){e.stopAnimation("keyframe"),e.attr(J$(e))}function nQ(e,t,n){if(n.isAnimationEnabled()&&t)if(Vg(t))Lg(t,(function(t){nQ(e,t,n)}));else{var r=t.keyframes,i=t.duration;if(n&&null==i){var o=UE("enter",n,0);i=o&&o.duration}if(r&&i){var a=J$(e);Lg(j$,(function(n){if(!n||e[n]){var o;r.sort((function(e,t){return e.percent-t.percent})),Lg(r,(function(r){var s=e.animators,u=n?r[n]:r;if(u){var l=Fg(u);if(n||(l=zg(l,(function(e){return Dg(eQ,e)<0}))),l.length){o||((o=e.animate(n,t.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==o&&s[c].targetName===o.targetName&&s[c].stopTracks(l);n&&(a[n]=a[n]||{});var f=n?a[n]:a;Lg(l,(function(t){f[t]=((n?e[n]:e)||{})[t]})),o.whenWithKeys(i*r.percent,u,l,r.easing)}}})),o&&o.delay(t.delay||0).duration(i).start(t.easing)}}))}}}var rQ="emphasis",iQ="normal",oQ="blur",aQ="select",sQ=[iQ,rQ,oQ,aQ],uQ={normal:["itemStyle"],emphasis:[rQ,"itemStyle"],blur:[oQ,"itemStyle"],select:[aQ,"itemStyle"]},lQ={normal:["label"],emphasis:[rQ,"label"],blur:[oQ,"label"],select:[aQ,"label"]},cQ=["x","y"],fQ={normal:{},emphasis:{},blur:{},select:{}},dQ={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:jg(T$,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:jg(A$,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:jg(N$,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=t.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=e.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a},size:jg(D$,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function hQ(e){return e instanceof cS}function pQ(e){return e instanceof u_}var gQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._data,o=e.getData(),a=this.group,s=wQ(e,o,t,n);i||a.removeAll(),o.diff(i).add((function(t){SQ(n,null,t,s(t,r),e,a,o)})).remove((function(t){var n=i.getItemGraphicEl(t);Z$(n,k$(n).option,e)})).update((function(t,u){var l=i.getItemGraphicEl(u);SQ(n,l,t,s(t,r),e,a,o)})).execute();var u=e.get("clip",!0)?qB(e.coordinateSystem,!1,e):null;u?a.setClipPath(u):a.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,r,i){var o=t.getData(),a=wQ(t,o,n,r),s=this._progressiveEls=[];function u(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var l=e.start;l<e.end;l++){var c=SQ(null,null,l,a(l,i),t,this.group,o);c&&(c.traverse(u),s.push(c))}},t.prototype.eachRendered=function(e){zN(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,r){var i=t.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},t.type="custom",t}(YN),vQ=gQ;function mQ(e){var t,n=e.type;if("path"===n){var r=e.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=DQ(r);t=mN(o,null,i,r.layout||"center"),k$(t).customPathData=o}else if("image"===n)t=new mS({}),k$(t).customImagePath=e.style.image;else if("text"===n)t=new GS({});else if("group"===n)t=new Mx;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=vN(n);if(!a){0,II("")}t=new a}return k$(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function yQ(e,t,n,r,i,o,a){tQ(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),r&&null==r.transition&&(r.transition=cQ);var u=r&&r.style;if(u){if("text"===t.type){var l=u;pv(l,"textFill")&&(l.fill=l.textFill),pv(l,"textStroke")&&(l.stroke=l.textStroke)}var c=void 0,f=hQ(t)?u.decal:null;e&&f&&(f.dirty=!0,c=TP(f,e)),u.__decalPattern=c}pQ(t)&&(u&&(c=u.__decalPattern)&&(u.decal=c));U$(t,r,o,{dataIndex:n,isInit:a,clearStyle:!0}),nQ(t,r.keyframeAnimation,o)}function bQ(e,t,n,r,i){var o=t.isGroup?null:t,a=i&&i[e].cfg;if(o){var s=o.ensureState(e);if(!1===r){var u=o.getState(e);u&&(u.style=null)}else s.style=r||null;a&&(s.textConfig=a),vE(o)}}function xQ(e,t,n){var r=n===iQ,i=r?t:MQ(t,n),o=i?i.z2:null;null!=o&&((r?e:e.ensureState(n)).z2=o||0)}function wQ(e,t,n,r){var i=e.get("renderItem"),o=e.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):dQ[o.type](o));for(var s,u,l=Ng({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(e,n){return null==n&&(n=s),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,r){0;null==r&&(r=s);var i=t.getItemVisual(r,"style"),o=i&&i.fill,a=i&&i.opacity,u=y(r,iQ).getItemStyle();null!=o&&(u.fill=o),null!=a&&(u.opacity=a);var l={inheritColor:Wg(o)?o:"#000"},c=b(r,iQ),f=rC(c,null,l,!1,!0);f.text=c.getShallow("show")?ev(e.getFormattedLabel(r,iQ),CB(t,r)):null;var d=iC(c,l,!1);return w(n,u),u=R$(u,f,d),n&&x(u,n),u.legacy=!0,u},ordinalRawValue:function(e,n){null==n&&(n=s),e=e||0;var r=t.getDimensionInfo(e);if(!r){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,n):void 0}var o=t.get(r.name,n),a=r&&r.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,r){0;null==r&&(r=s);var i=y(r,rQ).getItemStyle(),o=b(r,rQ),a=rC(o,null,null,!0,!0);a.text=o.getShallow("show")?tv(e.getFormattedLabel(r,rQ),e.getFormattedLabel(r,iQ),CB(t,r)):null;var u=iC(o,null,!0);return w(n,i),i=R$(i,a,u),n&&x(i,n),i.legacy=!0,i},visual:function(e,n){if(null==n&&(n=s),pv(E$,e)){var r=t.getItemVisual(n,"style");return r?r[E$[e]]:null}if(pv(C$,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===o.type){return function(e){var t=[],n=e.axis,r="axis0";if("category"===n.type){for(var i=n.getBandWidth(),o=0;o<e.count;o++)t.push(Ng({bandWidth:i,axisKey:r,stackId:pz+o},e));var a=bz(t),s=[];for(o=0;o<e.count;o++){var u=a.axis0[pz+o];u.offsetCenter=u.offset+u.width/2,s.push(u)}return s}}(Ng({axis:o.getBaseAxis()},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return lC(e,n)}},a.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:_Q(e.getData())},f={},d={},h={},p={},g=0;g<sQ.length;g++){var v=sQ[g];h[v]=e.getModel(uQ[v]),p[v]=e.getModel(lQ[v])}function m(e){return e===s?u||(u=t.getItemModel(e)):t.getItemModel(e)}function y(e,n){return t.hasItemOption?e===s?f[n]||(f[n]=m(e).getModel(uQ[n])):m(e).getModel(uQ[n]):h[n]}function b(e,n){return t.hasItemOption?e===s?d[n]||(d[n]=m(e).getModel(lQ[n])):m(e).getModel(lQ[n]):p[n]}return function(e,n){return s=e,u=null,f={},d={},i&&i(Ng({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},c),l)};function x(e,t){for(var n in t)pv(t,n)&&(e[n]=t[n])}function w(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function _Q(e){var t={};return Lg(e.dimensions,(function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim;(t[i]=t[i]||[])[r.coordDimIndex]=e.getDimensionIndex(n)}})),t}function SQ(e,t,n,r,i,o,a){if(r){var s=EQ(e,t,n,r,i,o);return s&&a.setItemGraphicEl(n,s),s&&PE(s,r.focus,r.blurScope,r.emphasisDisabled),s}o.remove(t)}function EQ(e,t,n,r,i,o){var a=-1,s=t;t&&CQ(t,r,i)&&(a=Dg(o.childrenRef(),t),t=null);var u,l,c=!t,f=t;f?f.clearStates():(f=mQ(r),s&&(u=s,(l=f).copyTransform(u),pQ(l)&&pQ(u)&&(l.setStyle(u.style),l.z=u.z,l.z2=u.z2,l.zlevel=u.zlevel,l.invisible=u.invisible,l.ignore=u.ignore,hQ(l)&&hQ(u)&&l.setShape(u.shape)))),!1===r.morph?f.disableMorphing=!0:f.disableMorphing&&(f.disableMorphing=!1),fQ.normal.cfg=fQ.normal.conOpt=fQ.emphasis.cfg=fQ.emphasis.conOpt=fQ.blur.cfg=fQ.blur.conOpt=fQ.select.cfg=fQ.select.conOpt=null,fQ.isLegacy=!1,function(e,t,n,r,i,o){if(e.isGroup)return;kQ(n,null,o),kQ(n,rQ,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,u=o.blur.conOpt,l=o.select.conOpt;if(null!=a||null!=s||null!=l||null!=u){var c=e.getTextContent();if(!1===a)c&&e.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=mQ(a),e.setTextContent(c)),yQ(null,c,t,a,null,r,i);for(var f=a&&a.style,d=0;d<sQ.length;d++){var h=sQ[d];if(h!==iQ){var p=o[h].conOpt;bQ(h,c,0,IQ(a,p,h),null)}}f?c.dirty():c.markRedraw()}}}(f,n,r,i,c,fQ),function(e,t,n,r,i){var o=n.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var a=e.getClipPath();a&&CQ(a,o,r)&&(a=null),a||(a=mQ(o),e.setClipPath(a)),yQ(null,a,t,o,null,r,i)}}(f,n,r,i,c),yQ(e,f,n,r,fQ,i,c),pv(r,"info")&&(k$(f).info=r.info);for(var d=0;d<sQ.length;d++){var h=sQ[d];if(h!==iQ){var p=MQ(r,h);bQ(h,f,0,IQ(r,p,h),fQ)}}return function(e,t,n){if(!e.isGroup){var r=e,i=n.currentZ,o=n.currentZLevel;r.z=i,r.zlevel=o;var a=t.z2;null!=a&&(r.z2=a||0);for(var s=0;s<sQ.length;s++)xQ(r,t,sQ[s])}}(f,r,i),"group"===r.type&&function(e,t,n,r,i){var o=r.children,a=o?o.length:0,s=r.$mergeChildren,u="byName"===s||r.diffChildrenByName,l=!1===s;if(!a&&!u&&!l)return;if(u)return void function(e){new VR(e.oldChildren,e.newChildren,TQ,TQ,e).add(AQ).update(AQ).remove(NQ).execute()}({api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:t});l&&t.removeAll();for(var c=0;c<a;c++)o[c]&&EQ(e,t.childAt(c),n,o[c],i,t);for(var f=t.childCount()-1;f>=c;f--){Z$(t.childAt(f),k$(t).option,i)}}(e,f,n,r,i),a>=0?o.replaceAt(f,a):o.add(f),f}function CQ(e,t,n){var r=k$(e),i=t.type,o=t.shape,a=t.style;return n.isUniversalTransitionEnabled()||null!=i&&i!==r.customGraphicType||"path"===i&&function(e){return e&&(pv(e,"pathData")||pv(e,"d"))}(o)&&DQ(o)!==r.customPathData||"image"===i&&pv(a,"image")&&a.image!==r.customImagePath}function kQ(e,t,n){var r=t?MQ(e,t):e,i=t?IQ(e,r,rQ):e.style,o=e.type,a=r?r.textConfig:null,s=e.textContent,u=s?t?MQ(s,t):s:null;if(i&&(n.isLegacy||P$(i,o,!!a,!!u))){n.isLegacy=!0;var l=O$(i,o,!t);!a&&l.textConfig&&(a=l.textConfig),!u&&l.textContent&&(u=l.textContent)}if(!t&&u){var c=u;!c.type&&(c.type="text")}var f=t?n[t]:n.normal;f.cfg=a,f.conOpt=u}function MQ(e,t){return t?e?e[t]:null:e}function IQ(e,t,n){var r=t&&t.style;return null==r&&n===rQ&&e&&(r=e.styleEmphasis),r}function TQ(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function AQ(e,t){var n=this.context,r=null!=e?n.newChildren[e]:null,i=null!=t?n.oldChildren[t]:null;EQ(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function NQ(e){var t=this.context,n=t.oldChildren[e];Z$(n,k$(n).option,t.seriesModel)}function DQ(e){return e&&(e.pathData||e.d)}var PQ=gw(),OQ=Mg,LQ=jg,RQ=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,t,n,r){var i=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var u={};this.makeElOption(u,i,e,t,n);var l=u.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var c=this._moveAnimation=this.determineAnimation(e,t);if(a){var f=Gg(BQ,t,c);this.updatePointerEl(a,u,f),this.updateLabelEl(a,u,f,t)}else a=this._group=new Mx,this.createPointerEl(a,u,e,t),this.createLabelEl(a,u,e,t),n.getZr().add(a);GQ(a,t,!0),this._renderHandle(i)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,t){var n=t.get("animation"),r=e.axis,i="category"===r.type,o=t.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=SG(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(e,t,n,r,i){},t.prototype.createPointerEl=function(t,n,r,i){var o=n.pointer;if(o){var a=PQ(t).pointerEl=new e[o.type](OQ(n.pointer));t.add(a)}},t.prototype.createLabelEl=function(e,t,n,r){if(t.label){var i=PQ(e).labelEl=new GS(OQ(t.label));e.add(i),FQ(i,r)}},t.prototype.updatePointerEl=function(e,t,n){var r=PQ(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},t.prototype.updateLabelEl=function(e,t,n,r){var i=PQ(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),FQ(i,r))},t.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(t=!0,i=this._handle=DN(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){rm(e.event)},onmousedown:LQ(this._onHandleDragMove,this,0,0),drift:LQ(this._onHandleDragMove,this),ondragend:LQ(this._onHandleDragEnd,this)}),r.add(i)),GQ(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");Vg(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,QN(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},t.prototype._moveHandleToValue=function(e,t){BQ(this._axisPointerModel,!t&&this._moveAnimation,this._handle,jQ(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(jQ(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(jQ(r)),PQ(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),JN(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},t}();function BQ(e,t,n,r){zQ(PQ(n).lastProp,r)||(PQ(n).lastProp=r,t?ZE(n,r,e):(n.stopAnimation(),n.attr(r)))}function zQ(e,t){if(Yg(e)&&Yg(t)){var n=!0;return Lg(t,(function(t,r){n=n&&zQ(e[r],t)})),!!n}return e===t}function FQ(e,t){e[t.get(["label","show"])?"show":"hide"]()}function jQ(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function GQ(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=n)}))}var VQ=RQ;function UQ(e){var t,n=e.get("type"),r=e.getModel(n+"Style");return"line"===n?(t=r.getLineStyle()).fill=null:"shadow"===n&&((t=r.getAreaStyle()).stroke=null),t}function WQ(e,t,n,r,i){var o=ZQ(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=gk(a.get("padding")||0),u=a.getFont(),l=ux(o,u),c=i.position,f=l.width+s[1]+s[3],d=l.height+s[0]+s[2],h=i.align;"right"===h&&(c[0]-=f),"center"===h&&(c[0]-=f/2);var p=i.verticalAlign;"bottom"===p&&(c[1]-=d),"middle"===p&&(c[1]-=d/2),function(e,t,n,r){var i=r.getWidth(),o=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(c,f,d,r);var g=a.get("backgroundColor");g&&"auto"!==g||(g=t.get(["axisLine","lineStyle","color"])),e.label={x:c[0],y:c[1],style:rC(a,{text:o,font:u,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function ZQ(e,t,n,r,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),a=i.formatter;if(a){var s={value:Nj(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Lg(r,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&s.seriesData.push(i)})),Wg(a)?o=a.replace("{value}",o):Ug(a)&&(o=a(s))}return o}function HQ(e,t,n){var r=[1,0,0,1,0,0];return Pb(r,r,n.rotation),Db(r,r,n.position),kN([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function YQ(e,t,n,r,i,o){var a=bG.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),WQ(t,r,i,o,{position:HQ(r.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function XQ(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function KQ(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function qQ(e,t,n,r,i,o){return{cx:e,cy:t,r0:n,r:r,startAngle:i,endAngle:o,clockwise:!0}}var $Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis,a=o.grid,s=r.get("type"),u=QQ(a,o).getOtherAxis(o).getGlobalExtent(),l=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&"none"!==s){var c=UQ(r),f=JQ[s](o,l,u);f.style=c,e.graphicKey=f.type,e.pointer=f}YQ(t,e,nG(a.model,n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=nG(t.axis.grid.model,t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=HQ(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=QQ(o,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,l=[e.x,e.y];l[u]+=t[u],l[u]=Math.min(a[1],l[u]),l[u]=Math.max(a[0],l[u]);var c=(s[1]+s[0])/2,f=[c,c];f[u]=l[u];return{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},t}(VQ);function QQ(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var JQ={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:XQ([t,n[0]],[t,n[1]],eJ(e))}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:KQ([t-r/2,n[0]],[r,i],eJ(e))}}};function eJ(e){return"x"===e.dim?0:1}var tJ=$Q,nJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(zk),rJ=nJ,iJ=gw(),oJ=Lg;function aJ(e,t,n){if(!ug.node){var r=t.getZr();iJ(r).records||(iJ(r).records={}),function(e,t){if(iJ(e).initialized)return;function n(n,r){e.on(n,(function(n){var i=function(e){var t={showTip:[],hideTip:[]};return{dispatchAction:function n(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))},pendings:t}}(t);oJ(iJ(e).records,(function(e){e&&r(e,n,i.dispatchAction)})),function(e,t){var n,r=e.showTip.length,i=e.hideTip.length;r?n=e.showTip[r-1]:i&&(n=e.hideTip[i-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(i.pendings,t)}))}iJ(e).initialized=!0,n("click",Gg(uJ,"click")),n("mousemove",Gg(uJ,"mousemove")),n("globalout",sJ)}(r,t),(iJ(r).records[e]||(iJ(r).records[e]={})).handler=n}}function sJ(e,t,n){e.handler("leave",null,n)}function uJ(e,t,n,r){t.handler(e,n,r)}function lJ(e,t){if(!ug.node){var n=t.getZr();(iJ(n).records||{})[e]&&(iJ(n).records[e]=null)}}var cJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=t.getComponent("tooltip"),i=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";aJ("axisPointer",n,(function(e,t,n){"none"!==i&&("leave"===e||i.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){lJ("axisPointer",t)},t.prototype.dispose=function(e,t){lJ("axisPointer",t)},t.type="axisPointer",t}(LT),fJ=cJ;function dJ(e,t){var n,r=[],i=e.seriesIndex;if(null==i||!(n=t.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=pw(o,e);if(null==a||a<0||Vg(a))return{point:[]};var s=o.getItemGraphicEl(a),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)if(e.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l).dim,f=l.dim,d="x"===c||"radius"===c?1:0,h=o.mapDimension(f),p=[];p[d]=o.get(h,a),p[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),r=u.dataToPoint(p)||[]}else r=u.dataToPoint(o.getValues(Rg(u.dimensions,(function(e){return o.mapDimension(e)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var hJ=gw();function pJ(e,t,n){var r=e.currTrigger,i=[e.x,e.y],o=e,a=e.dispatchAction||jg(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){bJ(i)&&(i=dJ({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var u=bJ(i),l=o.axesInfo,c=s.axesInfo,f="leave"===r||bJ(i),d={},h={},p={list:[],map:{}},g={showPointer:Gg(vJ,h),showTooltip:Gg(mJ,p)};Lg(s.coordSysMap,(function(e,t){var n=u||e.containPoint(i);Lg(s.coordSysAxesInfo[t],(function(e,t){var r=e.axis,o=function(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(l,e);if(!f&&n&&(!l||o)){var a=o&&o.value;null!=a||u||(a=r.pointToData(i)),null!=a&&gJ(e,a,g,!1,d)}}))}));var v={};return Lg(c,(function(e,t){var n=e.linkGroup;n&&!h[t]&&Lg(n.axesInfo,(function(t,r){var i=h[r];if(t!==e&&i){var o=i.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,yJ(t),yJ(e)))),v[e.key]=o}}))})),Lg(v,(function(e,t){gJ(c[t],e,g,!0,d)})),function(e,t,n){var r=n.axesInfo=[];Lg(t,(function(t,n){var i=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}(h,c,d),function(e,t,n,r){if(bJ(t)||!e.list.length)return void r({type:"hideTip"});var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}(p,i,e,a),function(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",o=hJ(r)[i]||{},a=hJ(r)[i]={};Lg(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&Lg(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e}))}));var s=[],u=[];Lg(o,(function(e,t){!a[t]&&u.push(e)})),Lg(a,(function(e,t){!o[t]&&s.push(e)})),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(c,0,n),d}}function gJ(e,t,n,r,i){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var a=function(e,t){var n=t.axis,r=n.dim,i=e,o=[],a=Number.MAX_VALUE,s=-1;return Lg(t.seriesModels,(function(t,u){var l,c,f=t.getData().mapDimensionsAll(r);if(t.getAxisTooltipData){var d=t.getAxisTooltipData(f,e,n);c=d.dataIndices,l=d.nestestValue}else{if(!(c=t.getData().indicesOfNearest(f[0],e,"category"===n.type?.5:null)).length)return;l=t.getData().get(f[0],c[0])}if(null!=l&&isFinite(l)){var h=e-l,p=Math.abs(h);p<=a&&((p<a||h>=0&&s<0)&&(a=p,s=h,i=l,o.length=0),Lg(c,(function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:o,snapToValue:i}}(t,e),s=a.payloadBatch,u=a.snapToValue;s[0]&&null==i.seriesIndex&&Ag(i,s[0]),!r&&e.snap&&o.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,s),n.showTooltip(e,a,u)}else n.showPointer(e,t)}function vJ(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function mJ(e,t,n,r){var i=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&i.length){var u=t.coordSys.model,l=CG(u),c=e.map[l];c||(c=e.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function yJ(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function bJ(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function xJ(e){IG.registerAxisPointerClass("CartesianAxisPointer",tJ),e.registerComponentModel(rJ),e.registerComponentView(fJ),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Vg(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=xG(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},pJ)}var wJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),u=o.dataToCoord(t),l=r.get("type");if(l&&"none"!==l){var c=UQ(r),f=_J[l](o,a,u,s);f.style=c,e.graphicKey=f.type,e.pointer=f}var d=function(e,t,n,r,i){var o=t.axis,a=o.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,l,c,f=r.getRadiusAxis().getExtent();if("radius"===o.dim){var d=[1,0,0,1,0,0];Pb(d,d,s),Db(d,d,[r.cx,r.cy]),u=kN([a,-i],d);var h=t.getModel("axisLabel").get("rotate")||0,p=bG.innerTextLayout(s,h*Math.PI/180,-1);l=p.textAlign,c=p.textVerticalAlign}else{var g=f[1];u=r.coordToPoint([g+i,a]);var v=r.cx,m=r.cy;l=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",c=Math.abs(u[1]-m)/g<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:l,verticalAlign:c}}(t,n,0,a,r.get(["label","margin"]));WQ(e,n,r,i,d)},t}(VQ);var _J={line:function(e,t,n,r){return"angle"===e.dim?{type:"Line",shape:XQ(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var i=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:qQ(t.cx,t.cy,r[0],r[1],(-n-i/2)*o,(i/2-n)*o)}:{type:"Sector",shape:qQ(t.cx,t.cy,n-i/2,n+i/2,0,2*Math.PI)}}},SJ=wJ,EJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(zk),CJ=EJ,kJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",bw).models[0]},t.type="polarAxis",t}(zk);Pg(kJ,IF);var MJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="angleAxis",t}(kJ),IJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="radiusAxis",t}(kJ),TJ=function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return og(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(Jj);TJ.prototype.dataToRadius=Jj.prototype.dataToCoord,TJ.prototype.radiusToData=Jj.prototype.coordToData;var AJ=TJ,NJ=gw(),DJ=function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return og(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,r=n.getExtent(),i=n.count();if(r[1]-r[0]<1)return 0;var o=r[0],a=e.dataToCoord(o+1)-e.dataToCoord(o),s=Math.abs(a),u=ux(null==o?"":o+"",t.getFont(),"center","top"),l=Math.max(u.height,7)/s;isNaN(l)&&(l=1/0);var c=Math.max(0,Math.floor(l)),f=NJ(e.model),d=f.lastAutoInterval,h=f.lastTickCount;return null!=d&&null!=h&&Math.abs(d-c)<=1&&Math.abs(h-i)<=1&&d>c?c=d:(f.lastTickCount=i,f.lastAutoInterval=c),c},t}(Jj);DJ.prototype.dataToAngle=Jj.prototype.dataToCoord,DJ.prototype.angleToData=Jj.prototype.coordToData;var PJ=DJ,OJ=["radius","angle"],LJ=function(){function e(e){this.dimensions=OJ,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new AJ,this._angleAxis=new PJ,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var u=Math.atan2(-n,t)/Math.PI*180,l=u<o?1:-1;u<o||u>a;)u+=360*l;return[s,u]},e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,r=t-this.cy,i=n*n+r*r-1e-4,o=this.r,a=this.r0;return i<=o*o&&i>=a*a}}},e.prototype.convertToPixel=function(e,t,n){return RJ(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return RJ(t)===this?this.pointToData(n):null},e}();function RJ(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var BJ=LJ;function zJ(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();Lg(Lj(t,"radius"),(function(e){i.scale.unionExtentFromData(t,e)})),Lg(Lj(t,"angle"),(function(e){r.scale.unionExtentFromData(t,e)}))}})),Ij(r.scale,r.model),Ij(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}}function FJ(e,t){if(e.type=t.get("type"),e.scale=Tj(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),function(e){return"angleAxis"===e.mainType}(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var jJ={dimensions:OJ,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,r){var i=new BJ(r+"");i.update=zJ;var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=e.findAxisModel("radiusAxis"),u=e.findAxisModel("angleAxis");FJ(o,s),FJ(a,u),function(e,t,n){var r=t.get("center"),i=n.getWidth(),o=n.getHeight();e.cx=Ox(r[0],i),e.cy=Ox(r[1],o);var a=e.getRadiusAxis(),s=Math.min(i,o)/2,u=t.get("radius");null==u?u=[0,"100%"]:Vg(u)||(u=[0,u]);var l=[Ox(u[0],s),Ox(u[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}(i,e,t),n.push(i),e.coordinateSystem=i,i.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",bw).models[0];0,e.coordinateSystem=t.coordinateSystem}})),n}},GJ=jJ,VJ=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function UJ(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),i=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function WJ(e){return e.getRadiusAxis().inverse?0:1}function ZJ(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var HJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return og(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=Rg(n.getViewLabels(),(function(e){e=Mg(e);var t=n.scale,r="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(r),e}));ZJ(s),ZJ(o),Lg(VJ,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||YJ[t](this.group,e,r,o,a,i,s)}),this)}},t.type="angleAxis",t}(IG),YJ={axisLine:function(e,t,n,r,i,o){var a,s=t.getModel(["axisLine","lineStyle"]),u=WJ(n),l=u?0:1;(a=0===o[l]?new oA({shape:{cx:n.cx,cy:n.cy,r:o[u]},style:s.getLineStyle(),z2:1,silent:!0}):new MA({shape:{cx:n.cx,cy:n.cy,r:o[u],r0:o[l]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(a)},axisTick:function(e,t,n,r,i,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),u=o[WJ(n)],l=Rg(r,(function(e){return new zA({shape:UJ(n,[u,u+s],e.coord)})}));e.add(xN(l,{style:Ng(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,i,o){if(i.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),u=(a.get("inside")?-1:1)*s.get("length"),l=o[WJ(n)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new zA({shape:UJ(n,[l,l+u],i[f][d].coord)}));e.add(xN(c,{style:Ng(s.getModel("lineStyle").getLineStyle(),Ng(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,i,o,a){var s=t.getCategories(!0),u=t.getModel("axisLabel"),l=u.get("margin"),c=t.get("triggerEvent");Lg(a,(function(r,i){var a=u,f=r.tickValue,d=o[WJ(n)],h=n.coordToPoint([d+l,r.coord]),p=n.cx,g=n.cy,v=Math.abs(h[0]-p)/d<.3?"center":h[0]>p?"left":"right",m=Math.abs(h[1]-g)/d<.3?"middle":h[1]>g?"top":"bottom";if(s&&s[f]){var y=s[f];Yg(y)&&y.textStyle&&(a=new CC(y.textStyle,u,u.ecModel))}var b=new GS({silent:bG.isLabelSilent(t),style:rC(a,{x:h[0],y:h[1],fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:v,verticalAlign:m})});if(e.add(b),c){var x=bG.makeAxisEventDataBase(t);x.targetType="axisLabel",x.value=r.rawLabel,VS(b).eventData=x}}),this)},splitLine:function(e,t,n,r,i,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<r.length;c++){var f=u++%s.length;l[f]=l[f]||[],l[f].push(new zA({shape:UJ(n,o,r[c].coord)}))}for(c=0;c<l.length;c++)e.add(xN(l[c],{style:Ng({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,i,o){if(i.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],u=0;u<i.length;u++)for(var l=0;l<i[u].length;l++)s.push(new zA({shape:UJ(n,o,i[u][l].coord)}));e.add(xN(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,i,o){if(r.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=Math.PI/180,f=-r[0].coord*c,d=Math.min(o[0],o[1]),h=Math.max(o[0],o[1]),p=t.get("clockwise"),g=1,v=r.length;g<=v;g++){var m=g===v?r[0].coord:r[g].coord,y=u++%s.length;l[y]=l[y]||[],l[y].push(new EA({shape:{cx:n.cx,cy:n.cy,r0:d,r:h,startAngle:f,endAngle:-m*c,clockwise:p},silent:!0})),f=-m*c}for(g=0;g<l.length;g++)e.add(xN(l[g],{style:Ng({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},XJ=HJ,KJ=["axisLine","axisTickLabel","axisName"],qJ=["splitLine","splitArea","minorSplitLine"],$J=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return og(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=this._axisGroup,r=this._axisGroup=new Mx;this.group.add(r);var i=e.axis,o=i.polar,a=o.getAngleAxis(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),l=a.getExtent()[0],c=i.getExtent(),f=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(o,e,l),d=new bG(e,f);Lg(KJ,d.add,d),r.add(d.getGroup()),TN(n,r,e),Lg(qJ,(function(t){e.get([t,"show"])&&!i.scale.isBlank()&&QJ[t](this.group,e,o,l,c,s,u)}),this)}},t.type="radiusAxis",t}(IG),QJ={splitLine:function(e,t,n,r,i,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<o.length;c++){var f=u++%s.length;l[f]=l[f]||[],l[f].push(new oA({shape:{cx:n.cx,cy:n.cy,r:o[c].coord}}))}for(c=0;c<l.length;c++)e.add(xN(l[c],{style:Ng({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,i,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),u=[],l=0;l<a.length;l++)for(var c=0;c<a[l].length;c++)u.push(new oA({shape:{cx:n.cx,cy:n.cy,r:a[l][c].coord}}));e.add(xN(u,{style:Ng({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,i,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=o[0].coord,f=1;f<o.length;f++){var d=u++%s.length;l[d]=l[d]||[],l[d].push(new EA({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[f].coord}for(f=0;f<l.length;f++)e.add(xN(l[f],{style:Ng({fill:s[f%s.length]},a.getAreaStyle()),silent:!0}))}}};var JJ=$J;function e0(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function t0(e,t){return t.dim+e.model.componentIndex}var n0=function(e,t,n){var r={},i=function(e){var t={};Lg(e,(function(e,n){var r=e.getData(),i=e.coordinateSystem,o=i.getBaseAxis(),a=t0(i,o),s=o.getExtent(),u="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/r.count(),l=t[a]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=l.stacks;t[a]=l;var f=e0(e);c[f]||l.autoWidthCount++,c[f]=c[f]||{width:0,maxWidth:0};var d=Ox(e.get("barWidth"),u),h=Ox(e.get("barMaxWidth"),u),p=e.get("barGap"),g=e.get("barCategoryGap");d&&!c[f].width&&(d=Math.min(l.remainedWidth,d),c[f].width=d,l.remainedWidth-=d),h&&(c[f].maxWidth=h),null!=p&&(l.gap=p),null!=g&&(l.categoryGap=g)}));var n={};return Lg(t,(function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,o=Ox(e.categoryGap,i),a=Ox(e.gap,1),s=e.remainedWidth,u=e.autoWidthCount,l=(s-o)/(u+(u-1)*a);l=Math.max(l,0),Lg(r,(function(e,t){var n=e.maxWidth;n&&n<l&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,u--)})),l=(s-o)/(u+(u-1)*a),l=Math.max(l,0);var c,f=0;Lg(r,(function(e,t){e.width||(e.width=l),c=e,f+=e.width*(1+a)})),c&&(f-=c.width*a);var d=-f/2;Lg(r,(function(e,r){n[t][r]=n[t][r]||{offset:d,width:e.width},d+=e.width*(1+a)}))})),n}(zg(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),a=t0(n,o),s=e0(e),u=i[a][s],l=u.offset,c=u.width,f=n.getOtherAxis(o),d=e.coordinateSystem.cx,h=e.coordinateSystem.cy,p=e.get("barMinHeight")||0,g=e.get("barMinAngle")||0;r[s]=r[s]||[];for(var v=t.mapDimension(f.dim),m=t.mapDimension(o.dim),y=xB(t,v),b="radius"!==o.dim||!e.get("roundCap",!0),x=f.dataToCoord(0),w=0,_=t.count();w<_;w++){var S=t.get(v,w),E=t.get(m,w),C=S>=0?"p":"n",k=x;y&&(r[s][E]||(r[s][E]={p:x,n:x}),k=r[s][E][C]);var M=void 0,I=void 0,T=void 0,A=void 0;if("radius"===f.dim){var N=f.dataToCoord(S)-x,D=o.dataToCoord(E);Math.abs(N)<p&&(N=(N<0?-1:1)*p),M=k,I=k+N,A=(T=D-l)-c,y&&(r[s][E][C]=I)}else{var P=f.dataToCoord(S,b)-x,O=o.dataToCoord(E);Math.abs(P)<g&&(P=(P<0?-1:1)*g),I=(M=O+l)+c,T=k,A=k+P,y&&(r[s][E][C]=A)}t.setItemLayout(w,{cx:d,cy:h,r0:M,r:I,startAngle:-T*Math.PI/180,endAngle:-A*Math.PI/180,clockwise:T>=A})}}}))},r0={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},i0={splitNumber:5},o0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="polar",t}(LT);function a0(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,i={},o=r.position,a=r.orient,s=n.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=["vertical"===a?l.vertical[o]:u[0],"horizontal"===a?l.horizontal[o]:u[3]];i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Jg(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var c=t.rotate;return null==c&&(c=e.get(["axisLabel","rotate"])),i.labelRotation="top"===o?-c:c,i.z2=1,i}var s0=["axisLine","axisTickLabel","axisName"],u0=["splitArea","splitLine"],l0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return og(t,e),t.prototype.render=function(t,n,r,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new Mx;var s=a0(t),u=new bG(t,s);Lg(s0,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),Lg(u0,(function(e){t.get([e,"show"])&&c0[e](this,this.group,this._axisGroup,t)}),this),TN(a,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)},t.prototype.remove=function(){NG(this)},t.type="singleAxis",t}(IG),c0={splitLine:function(e,t,n,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var u=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=[],f=0,d=i.getTicksCoords({tickModel:o}),h=[],p=[],g=0;g<d.length;++g){var v=i.toGlobalCoord(d[g].coord);l?(h[0]=v,h[1]=u.y,p[0]=v,p[1]=u.y+u.height):(h[0]=u.x,h[1]=v,p[0]=u.x+u.width,p[1]=v);var m=f++%s.length;c[m]=c[m]||[],c[m].push(new zA({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},silent:!0}))}var y=a.getLineStyle(["color"]);for(g=0;g<c.length;++g)t.add(xN(c[g],{style:Ng({stroke:s[g%s.length]},y),silent:!0}))}},splitArea:function(e,t,n,r){AG(e,n,r,r)}},f0=l0,d0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(zk);Pg(d0,IF.prototype);var h0=d0,p0=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.type=i||"value",a.position=o||"bottom",a}return og(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(Jj),g0=p0,v0=["single"],m0=function(){function e(e,t,n){this.type="single",this.dimension="single",this.dimensions=v0,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=this.dimension,i=new g0(r,Tj(e),[0,0],e.get("type"),e.get("position")),o="category"===i.type;i.onBand=o&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();Lg(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),Ij(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=Ak({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],i=t.reverse?1:0;t.setExtent(r[i],r[1-i]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),r=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[i]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r},e.prototype.convertToPixel=function(e,t,n){return y0(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return y0(t)===this?this.pointToData(n):null},e}();function y0(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var b0=m0;var x0={create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(r,i){var o=new b0(r,e,t);o.name="single_"+i,o.resize(r,t),r.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",bw).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n},dimensions:v0},w0=x0,_0=["x","y"],S0=["width","height"],E0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis,a=o.coordinateSystem,s=M0(a,1-k0(o)),u=a.dataToPoint(t)[0],l=r.get("type");if(l&&"none"!==l){var c=UQ(r),f=C0[l](o,u,s);f.style=c,e.graphicKey=f.type,e.pointer=f}YQ(t,e,a0(n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=a0(t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=HQ(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,o=i.coordinateSystem,a=k0(i),s=M0(o,a),u=[e.x,e.y];u[a]+=t[a],u[a]=Math.min(s[1],u[a]),u[a]=Math.max(s[0],u[a]);var l=M0(o,1-a),c=(l[1]+l[0])/2,f=[c,c];return f[a]=u[a],{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},t}(VQ),C0={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:XQ([t,n[0]],[t,n[1]],k0(e))}},shadow:function(e,t,n){var r=e.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:KQ([t-r/2,n[0]],[r,i],k0(e))}}};function k0(e){return e.isHorizontal()?0:1}function M0(e,t){var n=e.getRect();return[n[_0[t]],n[_0[t]]+n[S0[t]]]}var I0=E0,T0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="single",t}(LT);var A0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(t,n,r){var i=Ok(t);e.prototype.init.apply(this,arguments),N0(t,i)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),N0(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(zk);function N0(e,t){var n,r=e.cellSize;1===(n=Vg(r)?r:e.cellSize=[r,r]).length&&(n[1]=n[0]);var i=Rg([0,1],(function(e){return function(e,t){return null!=e[Mk[t][0]]||null!=e[Mk[t][1]]&&null!=e[Mk[t][2]]}(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));Pk(e,t,{type:"box",ignoreSize:i})}var D0=A0,P0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){var r=this.group;r.removeAll();var i=e.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,o,r),this._renderLines(e,o,a,r),this._renderYearText(e,o,a,r),this._renderMonthText(e,s,a,r),this._renderWeekText(e,s,o,a,r)},t.prototype._renderDayRect=function(e,t,n){for(var r=e.coordinateSystem,i=e.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=t.start.time;s<=t.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,l=new CS({shape:{x:u[0],y:u[1],width:o,height:a},cursor:"default",style:i});n.add(l)}},t.prototype._renderLines=function(e,t,n,r){var i=this,o=e.coordinateSystem,a=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),u=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=t.start,c=0;l.time<=t.end.time;c++){d(l.formatedDate),0===c&&(l=o.getDateInfo(t.start.y+"-"+t.start.m));var f=l.date;f.setMonth(f.getMonth()+1),l=o.getDateInfo(f)}function d(t){i._firstDayOfMonth.push(o.getDateInfo(t)),i._firstDayPoints.push(o.dataToRect([t],!1).tl);var u=i._getLinePointsOfOneWeek(e,t,n);i._tlpoints.push(u[0]),i._blpoints.push(u[u.length-1]),s&&i._drawSplitline(u,a,r)}d(o.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,u,n),a,r),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,u,n),a,r)},t.prototype._getEdgesPoints=function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-t/2,r[1][i]=r[1][i]+t/2,r},t.prototype._drawSplitline=function(e,t,n){var r=new OA({z2:20,shape:{points:e},style:t});n.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var r=e.coordinateSystem,i=r.getDateInfo(t),o=[],a=0;a<7;a++){var s=r.getNextNDay(i.time,a),u=r.dataToRect([s.time],!1);o[2*s.day]=u.tl,o[2*s.day+1]=u["horizontal"===n?"bl":"tr"]}return o},t.prototype._formatterLabel=function(e,t){return Wg(e)&&e?(n=e,Lg(t,(function(e,t){n=n.replace("{"+t+"}",r?yk(e):e)})),n):Ug(e)?e(t):t.nameMap;var n,r},t.prototype._yearTextPositionControl=function(e,t,n,r,i){var o=t[0],a=t[1],s=["center","bottom"];"bottom"===r?(a+=i,s=["center","top"]):"left"===r?o-=i:"right"===r?(o+=i,s=["center","top"]):a-=i;var u=0;return"left"!==r&&"right"!==r||(u=Math.PI/2),{rotation:u,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,n,r){var i=e.getModel("yearLabel");if(i.get("show")){var o=i.get("margin"),a=i.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,f={top:[u,s[c][1]],bottom:[u,s[1-c][1]],left:[s[1-c][0],l],right:[s[c][0],l]},d=t.start.y;+t.end.y>+t.start.y&&(d=d+"-"+t.end.y);var h=i.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:d},g=this._formatterLabel(h,p),v=new GS({z2:30,style:rC(i,{text:g})});v.attr(this._yearTextPositionControl(v,f[a],n,a,o)),r.add(v)}},t.prototype._monthTextPositionControl=function(e,t,n,r,i){var o="left",a="top",s=e[0],u=e[1];return"horizontal"===n?(u+=i,t&&(o="center"),"start"===r&&(a="bottom")):(s+=i,t&&(a="middle"),"start"===r&&(o="right")),{x:s,y:u,align:o,verticalAlign:a}},t.prototype._renderMonthText=function(e,t,n,r){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),u=i.get("align"),l=[this._tlpoints,this._blpoints];o&&!Wg(o)||(o&&(t=RC(o)||t),o=t.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,f="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===u,h=0;h<l[c].length-1;h++){var p=l[c][h].slice(),g=this._firstDayOfMonth[h];if(d){var v=this._firstDayPoints[h];p[f]=(v[f]+l[0][h+1][f])/2}var m=i.get("formatter"),y=o[+g.m-1],b={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},x=this._formatterLabel(m,b),w=new GS({z2:30,style:Ag(rC(i,{text:x}),this._monthTextPositionControl(p,d,n,s,a))});r.add(w)}}},t.prototype._weekTextPositionControl=function(e,t,n,r,i){var o="center",a="middle",s=e[0],u=e[1],l="start"===n;return"horizontal"===t?(s=s+r+(l?1:-1)*i[0]/2,o=l?"right":"left"):(u=u+r+(l?1:-1)*i[1]/2,a=l?"bottom":"top"),{x:s,y:u,align:o,verticalAlign:a}},t.prototype._renderWeekText=function(e,t,n,r,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),u=o.get("nameMap"),l=o.get("margin"),c=a.getFirstDayOfWeek();if(!u||Wg(u))u&&(t=RC(u)||t),u=t.get(["time","dayOfWeekShort"])||Rg(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}));var f=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];l=Ox(l,Math.min(d[1],d[0])),"start"===s&&(f=a.getNextNDay(n.start.time,-(7+n.fweek)).time,l=-l);for(var h=0;h<7;h++){var p,g=a.getNextNDay(f,h),v=a.dataToRect([g.time],!1).center;p=Math.abs((h+c)%7);var m=new GS({z2:30,style:Ag(rC(o,{text:u[p]}),this._weekTextPositionControl(v,r,s,l,d))});i.add(m)}}},t.type="calendar",t}(LT),O0=P0,L0=864e5,R0=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=Wx(e)).getFullYear(),n=e.getMonth()+1,r=n<10?"0"+n:""+n,i=e.getDate(),o=i<10?"0"+i:""+i,a=e.getDay();return{y:t+"",m:r,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+o,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];Lg([0,1],(function(e){l(i,e)&&(o[r[e]]=i[e]*a[e])}));var s={width:t.getWidth(),height:t.getHeight()},u=this._rect=Ak(o,s);function l(e,t){return null!=e[t]&&"auto"!==e[t]}Lg([0,1],(function(e){l(i,e)||(i[e]=u[r[e]]/a[e])})),this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(e,t){Vg(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),r=this._rangeInfo,i=n.formatedDate;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+L0))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},e.prototype.convertToPixel=function(e,t,n){var r=B0(t);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=B0(t);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(Vg(t)&&1===t.length&&(t=t[0]),Vg(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),i=r.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var r=Math.floor(n[1].time/L0)-Math.floor(n[0].time/L0)+1,i=new Date(n[0].time),o=i.getDate(),a=n[1].date.getDate();i.setDate(o+r-1);var s=i.getDate();if(s!==a)for(var u=i.getTime()-n[1].time>0?1:-1;(s=i.getDate())!==a&&(i.getTime()-n[1].time)*u>0;)r-=u,i.setDate(s-u);var l=Math.floor((r+n[0].day+6)/7),c=t?1-l:l-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:l,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var i=7*(e-1)-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+i),this.getDateInfo(o)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",(function(i){var o=new e(i,t,n);r.push(o),i.coordinateSystem=o})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("calendarIndex")||0])})),r},e.dimensions=["time","value"],e}();function B0(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}var z0=R0;function F0(e,t){var n;return Lg(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}var j0=["transition","enterFrom","leaveTo"],G0=j0.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function V0(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var r=n?j0:G0,i=0;i<r.length;i++){var o=r[i];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}var U0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return og(t,e),t.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var n=this.option,r=(t?n:e).elements,i=n.elements=t?[]:n.elements,o=[];this._flatten(r,o,null);var a=uw(i,o,"normalMerge"),s=this._elOptionsToUpdate=[];Lg(a,(function(e,t){var n=e.newOption;n&&(s.push(n),function(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var r=Ag({},n),i=e[t],o=n.$action||"merge";"merge"===o?i?(Ig(i,r,!0),Pk(i,r,{ignoreSize:!0}),Lk(n,i),V0(n,i),V0(n,i,"shape"),V0(n,i,"style"),V0(n,i,"extra"),n.clipPath=i.clipPath):e[t]=r:"replace"===o?e[t]=r:"remove"===o&&i&&(e[t]=null)}(i,t,n),function(e,t){if(e&&(e.hv=t.hv=[F0(t,["left","right"]),F0(t,["top","bottom"])],"group"===e.type)){var n=e,r=t;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}(i[t],n))}),this),n.elements=zg(i,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,n){Lg(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;"group"===e.type&&r&&this._flatten(r,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(zk),W0={path:null,compoundPath:null,group:Mx,image:mS,text:GS},Z0=gw(),H0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(){this._elMap=cv()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,r=this.group,i=e.get("z"),o=e.get("zlevel");Lg(t,(function(t){var a=fw(t.id,null),s=null!=a?n.get(a):null,u=fw(t.parentId,null),l=null!=u?n.get(u):r,c=t.type,f=t.style;"text"===c&&f&&t.hv&&t.hv[1]&&(f.textVerticalAlign=f.textBaseline=f.verticalAlign=f.align=null);var d=t.textContent,h=t.textConfig;if(f&&P$(f,c,!!h,!!d)){var p=O$(f,c,!0);!h&&p.textConfig&&(h=t.textConfig=p.textConfig),!d&&p.textContent&&(d=p.textContent)}var g=function(e){return e=Ag({},e),Lg(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(kk),(function(t){delete e[t]})),e}(t);var v=t.$action||"merge",m="merge"===v,y="replace"===v;if(m){var b=s;(k=!s)?b=X0(a,l,t.type,n):(b&&(Z0(b).isNew=!1),tQ(b)),b&&(U$(b,g,e,{isInit:k}),q0(b,t,i,o))}else if(y){K0(s,t,n,e);var x=X0(a,l,t.type,n);x&&(U$(x,g,e,{isInit:!0}),q0(x,t,i,o))}else"remove"===v&&(W$(s,t),K0(s,t,n,e));var w=n.get(a);if(w&&d)if(m){var _=w.getTextContent();_?_.attr(d):w.setTextContent(new GS(d))}else y&&w.setTextContent(new GS(d));if(w){var S=t.clipPath;if(S){var E=S.type,C=void 0,k=!1;if(m){var M=w.getClipPath();C=(k=!M||Z0(M).type!==E)?Y0(E):M}else y&&(k=!0,C=Y0(E));w.setClipPath(C),U$(C,S,e,{isInit:k}),nQ(C,S.keyframeAnimation,e)}var I=Z0(w);w.setTextConfig(h),I.option=t,function(e,t,n){var r=VS(e).eventData;e.silent||e.ignore||r||(r=VS(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});r&&(r.info=n.info)}(w,e,t),RN({el:w,componentModel:e,itemName:w.name,itemTooltipOption:t.tooltip}),nQ(w,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,r=this.group,i=this._elMap,o=t.getWidth(),a=t.getHeight(),s=["x","y"],u=0;u<n.length;u++){if((p=null!=(h=fw((d=n[u]).id,null))?i.get(h):null)&&p.isGroup){var l=(g=p.parent)===r,c=Z0(p),f=Z0(g);c.width=Ox(c.option.width,l?o:f.width)||0,c.height=Ox(c.option.height,l?a:f.height)||0}}for(u=n.length-1;u>=0;u--){var d,h,p;if(p=null!=(h=fw((d=n[u]).id,null))?i.get(h):null){var g=p.parent,v=(f=Z0(g),{}),m=Nk(p,d,g===r?{width:o,height:a}:{width:f.width,height:f.height},null,{hv:d.hv,boundingMode:d.bounding},v);if(!Z0(p).isNew&&m){for(var y=d.transition,b={},x=0;x<s.length;x++){var w=s[x],_=v[w];y&&(H$(y)||Dg(y,w)>=0)?b[w]=_:p[w]=_}ZE(p,b,e,0)}else p.attr(v)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){K0(n,Z0(n).option,t,e._lastGraphicModel)})),this._elMap=cv()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(LT);function Y0(e){var t=new(pv(W0,e)?W0[e]:vN(e))({});return Z0(t).type=e,t}function X0(e,t,n,r){var i=Y0(n);return t.add(i),r.set(e,i),Z0(i).id=e,Z0(i).isNew=!0,i}function K0(e,t,n,r){e&&e.parent&&("group"===e.type&&e.traverse((function(e){K0(e,t,n,r)})),Z$(e,t,r),n.removeKey(Z0(e).id))}function q0(e,t,n,r){if(!e.isGroup){var i=e;i.cursor=ev(t.cursor,u_.prototype.cursor),i.z=ev(t.z,n||0),i.zlevel=ev(t.zlevel,r||0);var o=t.z2;null!=o&&(i.z2=o||0)}Lg(Fg(t),(function(n){var r=t[n];0===n.indexOf("on")&&Ug(r)&&(e[n]=r)})),e.draggable=t.draggable,null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var $0=["x","y","radius","angle","single"],Q0=["cartesian2d","polar","singleAxis"];function J0(e){return e+"Axis"}function e1(e,t){var n,r=cv(),i=[],o=cv();e.eachComponent({mainType:"dataZoom",query:t},(function(e){o.get(e.uid)||s(e)}));do{n=!1,e.eachComponent("dataZoom",a)}while(n);function a(e){!o.get(e.uid)&&function(e){var t=!1;return e.eachTargetAxis((function(e,n){var i=r.get(e);i&&i[n]&&(t=!0)})),t}(e)&&(s(e),n=!0)}function s(e){o.set(e.uid,!0),i.push(e),e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=!0}))}return i}function t1(e){var t=e.ecModel,n={infoList:[],infoMap:cv()};return e.eachTargetAxis((function(e,r){var i=t.getComponent(J0(e),r);if(i){var o=i.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(i)}}})),n}var n1=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),r1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return og(t,e),t.prototype.init=function(e,t,n){var r=i1(e);this.settledOption=r,this.mergeDefaultAndTheme(e,n),this._doInit(r)},t.prototype.mergeOption=function(e){var t=i1(e);Ig(this.option,e,!0),Ig(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;Lg([["start","startValue"],["end","endValue"]],(function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=cv();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return Lg($0,(function(n){var r=this.getReferringComponents(J0(n),xw);if(r.specified){t=!0;var i=new n1;Lg(r.models,(function(e){i.add(e.componentIndex)})),e.set(n,i)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,r=!0;if(r){var i="vertical"===t?"y":"x";o(n.findComponents({mainType:i+"Axis"}),i)}r&&o(n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single");function o(t,n){var i=t[0];if(i){var o=new n1;if(o.add(i.componentIndex),e.set(n,o),r=!1,"x"===n||"y"===n){var a=i.getReferringComponents("grid",bw).models[0];a&&Lg(t,(function(e){i.componentIndex!==e.componentIndex&&a===e.getReferringComponents("grid",bw).models[0]&&o.add(e.componentIndex)}))}}}r&&Lg($0,(function(t){if(r){var i=n.findComponents({mainType:J0(t),filter:function(e){return"category"===e.get("type",!0)}});if(i[0]){var o=new n1;o.add(i[0].componentIndex),e.set(t,o),r=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");Lg([["start","startValue"],["end","endValue"]],(function(r,i){var o=null!=e[r[0]],a=null!=e[r[1]];o&&!a?t[i]="percent":!o&&a?t[i]="value":n?t[i]=n[i]:o&&(t[i]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(J0(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,r){Lg(n.indexList,(function(n){e.call(t,r,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(J0(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;Lg([["start","startValue"],["end","endValue"]],(function(r){null==e[r[0]]&&null==e[r[1]]||(t[r[0]]=n[r[0]]=e[r[0]],t[r[1]]=n[r[1]]=e[r[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;Lg(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],o=this._targetAxisInfoMap.get(i),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(i,o.indexList[a]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(zk);function i1(e){var t={};return Lg(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var o1=r1,a1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="dataZoom.select",t}(o1),s1=a1,u1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n,r){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(LT),l1=u1,c1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="dataZoom.select",t}(l1),f1=c1,d1=Lg,h1=Rx,p1=function(){function e(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(function(e){var t=e.get("coordinateSystem");return Dg(Q0,t)>=0}(t)){var n=J0(this._dimName),r=t.getReferringComponents(n,bw).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Mg(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];d1(["start","end"],(function(u,l){var c=e[u],f=e[u+"Value"];"percent"===i[l]?(null==c&&(c=o[l]),f=r.parse(Px(c,o,n))):(t=!0,c=Px(f=null==f?n[l]:r.parse(f),n,o)),s[l]=f,a[l]=c})),h1(s),h1(a);var u=this._minMaxSpan;function l(e,t,n,i,o){var a=o?"Span":"ValueSpan";OY(0,e,n,"all",u["min"+a],u["max"+a]);for(var s=0;s<2;s++)t[s]=Px(e[s],n,i,!0),o&&(t[s]=r.parse(t[s]))}return t?l(s,a,n,o,!1):l(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var r=[1/0,-1/0];d1(n,(function(e){!function(e,t,n){t&&Lg(Lj(t,n),(function(n){var r=t.getApproximateExtent(n);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])}))}(r,e.getData(),t)}));var i=e.getAxisModel(),o=Cj(i.axis.scale,i,r).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;"none"!==i&&d1(r,(function(e){var t=e.getData(),r=t.mapDimensionsAll(n);if(r.length){if("weakFilter"===i){var a=t.getStore(),s=Rg(r,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,i,u=0;u<r.length;u++){var l=a.get(s[u],e),c=!isNaN(l),f=l<o[0],d=l>o[1];if(c&&!f&&!d)return!0;c&&(i=!0),f&&(t=!0),d&&(n=!0)}return i&&t&&n}))}else d1(r,(function(n){if("empty"===i)e.setData(t=t.map(n,(function(e){return function(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN})));else{var r={};r[n]=o,t.selectRange(r)}}));d1(r,(function(e){t.setApproximateExtent(o,e)}))}}))}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;d1(["min","max"],(function(r){var i=t.get(r+"Span"),o=t.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=Px(n[0]+o,n,[0,100],!0):null!=i&&(o=Px(i,[0,100],n,!0)-n[0]),e[r+"Span"]=i,e[r+"ValueSpan"]=o}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=zx(n,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==t[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(r)),i.freeze()}},e}();var g1=p1,v1={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(r,i){var o=e.getComponent(J0(r),i);t(r,i,o,n)}))}))}t((function(e,t,n,r){n.__dzAxisProxy=null}));var n=[];t((function(t,r,i,o){i.__dzAxisProxy||(i.__dzAxisProxy=new g1(t,r,o,e),n.push(i.__dzAxisProxy))}));var r=cv();return Lg(n,(function(e){Lg(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,r){e.getAxisProxy(n,r).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}},m1=v1;var y1=!1;function b1(e){y1||(y1=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,m1),function(e){e.registerAction("dataZoom",(function(e,t){Lg(e1(t,e),(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function x1(e){e.registerComponentModel(s1),e.registerComponentView(f1),b1(e)}var w1=function(){},_1={};function S1(e,t){_1[e]=t}function E1(e){return _1[e]}var C1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Lg(this.option.feature,(function(e,n){var r=E1(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),Ig(e,r.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(zk),k1=C1;function M1(e,t){var n=gk(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new CS({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var I1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.render=function(e,t,n,r){var i=this.group;if(i.removeAll(),e.get("show")){var o=+e.get("itemSize"),a=e.get("feature")||{},s=this._features||(this._features={}),u=[];Lg(a,(function(e,t){u.push(t)})),new VR(this._featureNames||[],u).add(l).update(l).remove(Gg(l,null)).execute(),this._featureNames=u,function(e,t,n){var r=t.getBoxLayoutParams(),i=t.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=Ak(r,o,i);Tk(t.get("orient"),e,t.get("itemGap"),a.width,a.height),Nk(e,r,o,i)}(i,e,n),i.add(M1(i.getBoundingRect(),e)),i.eachChild((function(e){var t=e.__title,r=e.ensureState("emphasis"),a=r.textConfig||(r.textConfig={}),s=e.getTextContent(),u=s&&s.states.emphasis;if(u&&!Ug(u)&&t){var l=u.style||(u.style={}),c=ux(t,GS.makeFont(l)),f=e.x+i.x,d=!1;e.y+i.y+o+c.height>n.getHeight()&&(a.position="top",d=!0);var h=d?-5-c.height:o+8;f+c.width/2>n.getWidth()?(a.position=["100%",h],l.align="right"):f-c.width/2<0&&(a.position=[0,h],l.align="left")}}))}function l(l,c){var f,d=u[l],h=u[c],p=a[d],g=new CC(p,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===d&&(p.title=r.newTitle),d&&!h){if(function(e){return 0===e.indexOf("my")}(d))f={onclick:g.option.onclick,featureName:d};else{var v=E1(d);if(!v)return;f=new v}s[d]=f}else if(!(f=s[h]))return;f.uid=MC("toolbox-feature"),f.model=g,f.ecModel=t,f.api=n;var m=f instanceof w1;d||!h?!g.get("show")||m&&f.unusable?m&&f.remove&&f.remove(t,n):(!function(r,a,s){var u,l,c=r.getModel("iconStyle"),f=r.getModel(["emphasis","iconStyle"]),d=a instanceof w1&&a.getIcons?a.getIcons():r.get("icon"),h=r.get("title")||{};Wg(d)?(u={})[s]=d:u=d;Wg(h)?(l={})[s]=h:l=h;var p=r.iconPaths={};Lg(u,(function(s,u){var d=DN(s,{},{x:-o/2,y:-o/2,width:o,height:o});d.setStyle(c.getItemStyle()),d.ensureState("emphasis").style=f.getItemStyle();var h=new GS({style:{text:l[u],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null},ignore:!0});d.setTextContent(h),RN({el:d,componentModel:e,itemName:u,formatterParamsExtra:{title:l[u]}}),d.__title=l[u],d.on("mouseover",(function(){var t=f.getItemStyle(),n="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";h.setStyle({fill:f.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:f.get("textBackgroundColor")}),d.setTextConfig({position:f.get("textPosition")||n}),h.ignore=!e.get("showTitle"),bE(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",u])&&xE(this),h.hide()})),("emphasis"===r.get(["iconStatus",u])?bE:xE)(d),i.add(d),d.on("click",jg(a.onclick,a,t,n,u)),p[u]=d}))}(g,f,d),g.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&("emphasis"===t?bE:xE)(r[e])},f instanceof w1&&f.render&&f.render(g,t,n,r)):m&&f.dispose&&f.dispose(t,n)}},t.prototype.updateView=function(e,t,n,r){Lg(this._features,(function(e){e instanceof w1&&e.updateView&&e.updateView(e.model,t,n,r)}))},t.prototype.remove=function(e,t){Lg(this._features,(function(n){n instanceof w1&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){Lg(this._features,(function(n){n instanceof w1&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(LT);var T1=I1,A1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.onclick=function(e,t){var n=this.model,r=n.get("name")||e.get("title.0.text")||"echarts",i="svg"===t.getZr().painter.getType(),o=i?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=ug.browser;if(Ug(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var u=document.createElement("a");u.download=r+"."+o,u.target="_blank",u.href=a;var l=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(l)}else if(window.navigator.msSaveOrOpenBlob||i){var c=a.split(","),f=c[0].indexOf("base64")>-1,d=i?decodeURIComponent(c[1]):c[1];f&&(d=window.atob(d));var h=r+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var p=d.length,g=new Uint8Array(p);p--;)g[p]=d.charCodeAt(p);var v=new Blob([g]);window.navigator.msSaveOrOpenBlob(v,h)}else{var m=document.createElement("iframe");document.body.appendChild(m);var y=m.contentWindow,b=y.document;b.open("image/svg+xml","replace"),b.write(d),b.close(),y.focus(),b.execCommand("SaveAs",!0,h),document.body.removeChild(m)}}else{var x=n.get("lang"),w='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',_=window.open();_.document.write(w),_.document.title=r}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(w1),N1=A1,D1="__ec_magicType_stack__",P1=[["line","bar"],["stack"]],O1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return Lg(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var r=this.model,i=r.get(["seriesIndex",n]);if(L1[n]){var o,a={series:[]};Lg(P1,(function(e){Dg(e,n)>=0&&Lg(e,(function(e){r.setIconStatus(e,"normal")}))})),r.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},(function(e){var t=e.subType,i=e.id,o=L1[n](t,i,e,r);o&&(Ng(o,e.option),a.series.push(o));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var u=s.getAxesByScale("ordinal")[0];if(u){var l=u.dim+"Axis",c=e.getReferringComponents(l,bw).models[0].componentIndex;a[l]=a[l]||[];for(var f=0;f<=c;f++)a[l][c]=a[l][c]||{};a[l][c].boundaryGap="bar"===n}}}));var s=n;"stack"===n&&(o=Ig({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",n])&&(s="tiled")),t.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},t}(w1),L1={line:function(e,t,n,r){if("bar"===e)return Ig({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if("line"===e)return Ig({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var i=n.get("stack")===D1;if("line"===e||"bar"===e)return r.setIconStatus("stack",i?"normal":"emphasis"),Ig({id:t,stack:i?"":D1},r.get(["option","stack"])||{},!0)}};NO({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var R1=O1,B1=new Array(60).join("-"),z1="\t";function F1(e){var t=[];return Lg(e,(function(e,n){var r=e.categoryAxis,i=e.valueAxis.dim,o=[" "].concat(Rg(e.series,(function(e){return e.name}))),a=[r.model.getCategories()];Lg(e.series,(function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(i),(function(e){return e})))}));for(var s=[o.join(z1)],u=0;u<a[0].length;u++){for(var l=[],c=0;c<a.length;c++)l.push(a[c][u]);s.push(l.join(z1))}t.push(s.join("\n"))})),t.join("\n\n"+B1+"\n\n")}function j1(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var G1=new RegExp("[\t]+","g");function V1(e,t){var n=e.split(new RegExp("\n*"+B1+"\n*","g")),r={series:[]};return Lg(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(z1)>=0)return!0}(e)){var i=function(e){for(var t=e.split(/\n+/g),n=[],r=Rg(j1(t.shift()).split(G1),(function(e){return{name:e,data:[]}})),i=0;i<t.length;i++){var o=j1(t[i]).split(G1);n.push(o.shift());for(var a=0;a<o.length;a++)r[a]&&(r[a].data[i]=o[a])}return{series:r,categories:n}}(e),o=t[n],a=o.axisDim+"Axis";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=function(e){for(var t=e.split(/\n+/g),n=j1(t.shift()),r=[],i=0;i<t.length;i++){var o=j1(t[i]);if(o){var a=o.split(G1),s="",u=void 0,l=!1;isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),r[i]={name:s,value:[]},u=r[i].value):u=r[i]=[];for(var c=0;c<a.length;c++)u.push(+a[c]);1===u.length&&(l?r[i].value=u[0]:r[i]=u[0])}}return{name:n,data:r}}(e);r.series.push(i)}})),r}var U1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=r.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=r.get("lang")||[];o.innerHTML=a[0]||r.get("title"),o.style.cssText="margin:10px 20px",o.style.color=r.get("textColor");var s=document.createElement("div"),u=document.createElement("textarea");s.style.cssText="overflow:auto";var l=r.get("optionToContent"),c=r.get("contentToOption"),f=function(e){var t,n=function(e){var t={},n=[],r=[];return e.eachRawSeries((function(e){var i=e.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(e);else{var o=i.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;t[a]||(t[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[a].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:r}}(e);return{value:zg([F1(n.seriesGroupByCategoryAxis),(t=n.other,Rg(t,(function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,i=arguments[e-1],o=t.getName(i),a=0;a<e-1;a++)r[a]=arguments[a];n.push((o?o+z1:"")+r.join(z1))})),n.join("\n")})).join("\n\n"+B1+"\n\n"))],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+B1+"\n\n"),meta:n.meta}}(e);if(Ug(l)){var d=l(t.getOption());Wg(d)?s.innerHTML=d:qg(d)&&s.appendChild(d)}else{u.readOnly=r.get("readOnly");var h=u.style;h.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none",h.color=r.get("textColor"),h.borderColor=r.get("textareaBorderColor"),h.backgroundColor=r.get("textareaColor"),u.value=f.value,s.appendChild(u)}var p=f.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");v+=";background-color:"+r.get("buttonColor"),v+=";color:"+r.get("buttonTextColor");var b=this;function x(){n.removeChild(i),b._dom=null}tm(m,"click",x),tm(y,"click",(function(){if(null==c&&null!=l||null!=c&&null==l)x();else{var e;try{e=Ug(c)?c(s,t.getOption()):V1(u.value,p)}catch(li){throw x(),new Error("Data view format error "+li)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),x()}})),m.innerHTML=a[1],y.innerHTML=a[2],y.style.cssText=m.style.cssText=v,!r.get("readOnly")&&g.appendChild(y),g.appendChild(m),i.appendChild(o),i.appendChild(s),i.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(w1);function W1(e,t){return Rg(e,(function(e,n){var r=t&&t[n];if(Yg(r)&&!Vg(r)){Yg(e)&&!Vg(e)||(e={value:e});var i=null!=r.name&&null==e.name;return e=Ng(e,r),i&&delete e.name,e}return e}))}NO({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];Lg(e.newOption.series,(function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get("data");n.push({name:e.name,data:W1(e.data,i)})}else n.push(Ag({type:"scatter"},e))})),t.mergeOption(Ng({series:n},e.newOption))}));var Z1=U1,H1=Lg,Y1=gw();function X1(e){var t=Y1(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var K1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.onclick=function(e,t){!function(e){Y1(e).snapshots=null}(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(w1);NO({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var q1=K1,$1=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Q1=function(){function e(e,t,n){var r=this;this._targetInfoList=[];var i=e2(t,e);Lg(t2,(function(e,t){(!n||!n.include||Dg(n.include,t)>=0)&&e(i,r._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=i2[e.brushType](0,n,t);e.__rangeOffset={offset:a2[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){Lg(e,(function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&Lg(r.coordSyses,(function(r){var i=i2[e.brushType](1,r,e.range,!0);n(e,i.values,r,t)}))}),this)},e.prototype.setInputRanges=function(e,t){Lg(e,(function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var r=i2[e.brushType](0,n.coordSys,e.coordRange),i=e.__rangeOffset;e.range=i?a2[e.brushType](r.values,i.offset,function(e,t){var n=u2(e),r=u2(t),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(r.xyMinMax,i.xyMinMax)):r.values}}),this)},e.prototype.makePanelOpts=function(e,t){return Rg(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:jX(r),isTargetByCursor:VX(r,e,n.coordSysModel),getLinearBrushOtherExtent:GX(r)}}))},e.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&Dg(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=e2(t,e),i=0;i<n.length;i++){var o=n[i],a=e.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<n2.length;s++)if(n2[s](r,o))return o}return!0},e}();function J1(e){return e[0]>e[1]&&e.reverse(),e}function e2(e,t){return mw(e,t,{includeMainTypes:$1})}var t2={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,o=cv(),a={},s={};(n||r||i)&&(Lg(n,(function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0})),Lg(r,(function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0})),Lg(i,(function(e){o.set(e.id,e),a[e.id]=!0,s[e.id]=!0})),o.each((function(e){var i=e.coordinateSystem,o=[];Lg(i.getCartesians(),(function(e,t){(Dg(n,e.getAxis("x").model)>=0||Dg(r,e.getAxis("y").model)>=0)&&o.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:r2.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){Lg(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:r2.geo})}))}},n2=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],r2={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(CN(e)),t}},i2={lineX:Gg(o2,0),lineY:Gg(o2,1),rect:function(e,t,n,r){var i=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),o=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),a=[J1([i[0],o[0]]),J1([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n,r){var i=[[1/0,-1/0],[1/0,-1/0]],o=Rg(n,(function(n){var o=e?t.pointToData(n,r):t.dataToPoint(n,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o}));return{values:o,xyMinMax:i}}};function o2(e,t,n,r){var i=n.getAxis(["x","y"][e]),o=J1(Rg([0,1],(function(e){return t?i.coordToData(i.toLocalCoord(r[e]),!0):i.toGlobalCoord(i.dataToCoord(r[e]))}))),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}var a2={lineX:Gg(s2,0),lineY:Gg(s2,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Rg(e,(function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]}))}};function s2(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function u2(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var l2,c2,f2=Q1,d2=Lg,h2=nw+"toolbox-dataZoom_",p2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.render=function(e,t,n,r){this._brushController||(this._brushController=new FX(n.getZr()),this._brushController.on("brush",jg(this._onBrush,this)).mount()),function(e,t,n,r,i){var o=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive);n._isZoomActive=o,e.setIconStatus("zoom",o?"emphasis":"normal");var a=new f2(v2(e),t,{include:["grid"]}).makePanelOpts(i,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,r,n),function(e,t){e.setIconStatus("back",function(e){return X1(e).length}(t)>1?"emphasis":"normal")}(e,t)},t.prototype.onclick=function(e,t,n){g2[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},r=this.ecModel;this._brushController.updateCovers([]),new f2(v2(this.model),r,{include:["grid"]}).matchOutputRanges(t,r,(function(e,t,n){if("cartesian2d"===n.type){var r=e.brushType;"rect"===r?(i("x",n,t[0]),i("y",n,t[1])):i({lineX:"x",lineY:"y"}[r],n,t)}})),function(e,t){var n=X1(e);H1(t,(function(t,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}})),n.push(t)}(r,n),this._dispatchZoomAction(n)}function i(e,t,i){var o=t.getAxis(e),a=o.model,s=function(e,t,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(e,t.componentIndex)&&(r=n)})),r}(e,a,r),u=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(i=OY(0,i.slice(),o.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];d2(e,(function(e,n){t.push(Mg(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(w1),g2={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function(e){var t=X1(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return H1(n,(function(e,n){for(var i=t.length-1;i>=0;i--)if(e=t[i][n]){r[n]=e;break}})),r}(this.ecModel))}};function v2(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}l2="dataZoom",c2=function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var r=t.getModel(n),i=[],o=mw(e,v2(r));return d2(o.xAxisModels,(function(e){return a(e,"xAxis","xAxisIndex")})),d2(o.yAxisModels,(function(e){return a(e,"yAxis","yAxisIndex")})),i}function a(e,t,n){var o=e.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:h2+t+o};a[n]=o,i.push(a)}},iv(null==aM.get(l2)&&c2),aM.set(l2,c2);var m2=p2;var y2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(zk),b2=y2;function x2(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function w2(e){if(ug.domSupported)for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}var _2=w2(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function S2(e,t){if(!e)return t;t=pk(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}var E2=S2(w2(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),C2=S2(_2,"transform"),k2="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ug.transform3dSupported?"will-change:transform;":"");function M2(e,t,n){var r=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!ug.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=ug.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+C2+":"+a+";":[["top",0],["left",0],[_2,a]]}function I2(e,t,n){var r=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),a=e.get("shadowBlur"),s=e.get("shadowColor"),u=e.get("shadowOffsetX"),l=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=xT(e,"html"),d=u+"px "+l+"px "+a+"px "+s;return r.push("box-shadow:"+d),t&&i&&r.push(function(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,i="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,i+=ug.transformSupported?","+C2+r:",left"+r+",top"+r),E2+":"+i}(i,n)),o&&r.push("background-color:"+o),Lg(["width","color","radius"],(function(t){var n="border-"+t,i=pk(n),o=e.get(i);null!=o&&r.push(n+":"+o+("color"===t?"":"px"))})),r.push(function(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+a+"px "+s+"px "+o+"px "+i),Lg(["decoration","align"],(function(n){var r=e.get(n);r&&t.push("text-"+n+":"+r)})),t.join(";")}(c)),null!=f&&r.push("padding:"+gk(f).join("px ")+"px"),r.join(";")+";"}function T2(e,t,n,r,i){var o=t&&t.painter;if(n){var a=o&&o.getViewportRoot();a&&function(e,t,n,r,i){Hv(Zv,t,r,i,!0)&&Hv(e,n,Zv[0],Zv[1])}(e,a,document.body,r,i)}else{e[0]=r,e[1]=i;var s=o&&o.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var A2=function(){function e(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,ug.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),o=this._appendToBody=n&&n.appendToBody;T2(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(r):e.appendChild(r),this._container=e;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!a._enterable){var t=i.handler;em(i.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(e){var t=this._container,n=function(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==n&&(r.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=k2+I2(e,!this._firstShow,this._longHide)+M2(i[0],i[1],!0)+"border-color:"+Sk(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,r,i){var o=this.el;if(null!=e){var a="";if(Wg(i)&&"item"===n.get("trigger")&&!x2(n)&&(a=function(e,t,n){if(!Wg(n)||"inside"===n)return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");t=Sk(t);var o,a,s="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",u=Math.max(1.5*Math.round(i),6),l="",c=C2+":";Dg(["left","right"],s)>-1?(l+="top:50%",c+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(l+="left:50%",c+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var f=a*Math.PI/180,d=u+i,h=d*Math.abs(Math.cos(f))+d*Math.abs(Math.sin(f)),p=t+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+u+"px;height:"+u+"px;",(l+=";"+s+":-"+Math.round(100*((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-d)/2))/100+"px")+";"+c+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(n,r,i)),Wg(e))o.innerHTML=e+a;else if(e){o.innerHTML="",Vg(e)||(e=[e]);for(var s=0;s<e.length;s++)qg(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(a&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=a,o.appendChild(u)}}}else o.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var n=this._styleCoord;if(T2(n,this._zr,this._appendToBody,e,t),null!=n[0]&&null!=n[1]){var r=this.el.style;Lg(M2(n[0],n[1]),(function(e){r[e[0]]=e[1]}))}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",ug.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(jg(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}(),N2=A2,D2=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),L2(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,r,i){var o=this;Yg(e)&&II(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new GS({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:xT(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Lg(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){o.el.style[e]=n.get(e)})),Lg(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){o.el.style[e]=a.get(e)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=O2(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;L2(r,this._zr,e,t),e=r[0],t=r[1];var i=n.style,o=P2(i.borderWidth||0),a=O2(i);n.x=e+o+a.left,n.y=t+o+a.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(jg(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function P2(e){return Math.max(0,e)}function O2(e){var t=P2(e.shadowBlur||0),n=P2(e.shadowOffsetX||0),r=P2(e.shadowOffsetY||0);return{left:P2(t-n),right:P2(t+n),top:P2(t-r),bottom:P2(t+r)}}function L2(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var R2=D2,B2=new CS({shape:{x:-1,y:-1,width:2,height:2}}),z2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(e,t){if(!ug.node&&t.getDom()){var n,r=e.getComponent("tooltip"),i=this._renderMode="auto"===(n=r.get("renderMode"))?ug.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===i?new R2(t):new N2(t.getDom(),t,{appendToBody:r.get("appendToBody",!0)})}},t.prototype.render=function(e,t,n){if(!ug.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(e),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?QN(this,"_updatePosition",50,"fixRate"):JN(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");aJ("itemTooltip",this._api,jg((function(t,n,r){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,r):"leave"===t&&this._hide(r))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,n,r){if(r.from!==this.uid&&!ug.node&&n.getDom()){var i=j2(r,n);this._ticket="";var o=r.dataByCoordSys,a=function(e,t,n){var r=yw(e).queryOptionMap,i=r.keys()[0];if(!i||"series"===i)return;var o,a=ww(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(n.getViewOfComponentModel(a).group.traverse((function(t){var n=VS(t).tooltipConfig;if(n&&n.name===e.name)return o=t,!0})),o)return{componentMainType:i,componentIndex:a.componentIndex,el:o}}(r,t,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:r.position,positionDefault:"bottom"},i)}else if(r.tooltip&&null!=r.x&&null!=r.y){var u=B2;u.x=r.x,u.y=r.y,u.update(),VS(u).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:u},i)}else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:o,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,r))return;var l=dJ(r,t),c=l.point[0],f=l.point[1];null!=c&&null!=f&&this._tryShow({offsetX:c,offsetY:f,target:l.el,position:r.position,positionDefault:"bottom"},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},t.prototype.manuallyHideTip=function(e,t,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(j2(r,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,r){var i=r.seriesIndex,o=r.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=o&&null!=a){var s=t.getSeriesByIndex(i);if(s)if("axis"===F2([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:o,position:r.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var r=e.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,e);else if(n){var i,o;this._lastDataByCoordSys=null,WD(n,(function(e){return null!=VS(e).dataIndex?(i=e,!0):null!=VS(e).tooltipConfig?(o=e,!0):void 0}),!0),i?this._showSeriesItemTooltip(e,i,t):o?this._showComponentItemTooltip(e,o,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=jg(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,r=this._tooltipModel,i=[t.offsetX,t.offsetY],o=F2([t.tooltipOption],r),a=this._renderMode,s=[],u=cT("section",{blocks:[],noHeader:!0}),l=[],c=new wT;Lg(e,(function(e){Lg(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),i=e.value;if(t&&null!=i){var o=ZQ(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),f=cT("section",{header:o,noHeader:!ov(o),sortBlocks:!0,blocks:[]});u.blocks.push(f),Lg(e.seriesDataIndices,(function(u){var d=n.getSeriesByIndex(u.seriesIndex),h=u.dataIndexInside,p=d.getDataParams(h);if(!(p.dataIndex<0)){p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=Nj(t.axis,{value:i}),p.axisValueLabel=o,p.marker=c.makeTooltipMarker("item",Sk(p.color),a);var g=SI(d.formatTooltip(h,!0,null)),v=g.frag;if(v){var m=F2([d],r).get("valueFormatter");f.blocks.push(m?Ag({valueFormatter:m},v):v)}g.text&&l.push(g.text),s.push(p)}}))}}))})),u.blocks.reverse(),l.reverse();var f=t.position,d=o.get("order"),h=vT(u,c,a,d,n.get("useUTC"),o.get("textStyle"));h&&l.unshift(h);var p="richText"===a?"\n\n":"<br/>",g=l.join(p);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(o,f,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",i[0],i[1],f,null,c)}))},t.prototype._showSeriesItemTooltip=function(e,t,n){var r=this._ecModel,i=VS(t),o=i.seriesIndex,a=r.getSeriesByIndex(o),s=i.dataModel||a,u=i.dataIndex,l=i.dataType,c=s.getData(l),f=this._renderMode,d=e.positionDefault,h=F2([c.getItemModel(u),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),p=h.get("trigger");if(null==p||"item"===p){var g=s.getDataParams(u,l),v=new wT;g.marker=v.makeTooltipMarker("item",Sk(g.color),f);var m=SI(s.formatTooltip(u,!1,l)),y=h.get("order"),b=h.get("valueFormatter"),x=m.frag,w=x?vT(b?Ag({valueFormatter:b},x):x,v,f,y,r.get("useUTC"),h.get("textStyle")):m.text,_="item_"+s.name+"_"+u;this._showOrMove(h,(function(){this._showTooltipContent(h,w,g,_,e.offsetX,e.offsetY,e.position,e.target,v)})),n({type:"showTip",dataIndexInside:u,dataIndex:c.getRawIndex(u),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var r=VS(t),i=r.tooltipConfig.option||{};if(Wg(i)){i={content:i,formatter:i}}var o=[i],a=this._ecModel.getComponent(r.componentMainType,r.componentIndex);a&&o.push(a),o.push({formatter:i.content});var s=e.positionDefault,u=F2(o,this._tooltipModel,s?{position:s}:null),l=u.get("content"),c=Math.random()+"",f=new wT;this._showOrMove(u,(function(){var n=Mg(u.get("formatterParams")||{});this._showTooltipContent(u,l,n,c,e.offsetX,e.offsetY,e.position,t,f)})),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,r,i,o,a,s,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var l=this._tooltipContent;l.setEnterable(e.get("enterable"));var c=e.get("formatter");a=a||e.get("position");var f=t,d=this._getNearestPoint([i,o],n,e.get("trigger"),e.get("borderColor")).color;if(c)if(Wg(c)){var h=e.ecModel.get("useUTC"),p=Vg(n)?n[0]:n;f=c,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(f=qC(p.axisValue,f,h)),f=_k(f,n,!0)}else if(Ug(c)){var g=jg((function(t,r){t===this._ticket&&(l.setContent(r,u,e,d,a),this._updatePosition(e,a,i,o,l,n,s))}),this);this._ticket=r,f=c(n,r,g)}else f=c;l.setContent(f,u,e,d,a),l.show(e,d),this._updatePosition(e,a,i,o,l,n,s)}},t.prototype._getNearestPoint=function(e,t,n,r){return"axis"===n||Vg(t)?{color:r||("html"===this._renderMode?"#fff":"none")}:Vg(t)?void 0:{color:r||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,r,i,o,a){var s=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var l=i.getSize(),c=e.get("align"),f=e.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),Ug(t)&&(t=t([n,r],o,i.el,d,{viewSize:[s,u],contentSize:l.slice()})),Vg(t))n=Ox(t[0],s),r=Ox(t[1],u);else if(Yg(t)){var h=t;h.width=l[0],h.height=l[1];var p=Ak(h,{width:s,height:u});n=p.x,r=p.y,c=null,f=null}else if(Wg(t)&&a){var g=function(e,t,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,u=0,l=t.width,c=t.height;switch(e){case"inside":s=t.x+l/2-i/2,u=t.y+c/2-o/2;break;case"top":s=t.x+l/2-i/2,u=t.y-o-a;break;case"bottom":s=t.x+l/2-i/2,u=t.y+c+a;break;case"left":s=t.x-i-a,u=t.y+c/2-o/2;break;case"right":s=t.x+l+a,u=t.y+c/2-o/2}return[s,u]}(t,d,l,e.get("borderWidth"));n=g[0],r=g[1]}else{g=function(e,t,n,r,i,o,a){var s=n.getSize(),u=s[0],l=s[1];null!=o&&(e+u+o+2>r?e-=u+o:e+=o);null!=a&&(t+l+a>i?t-=l+a:t+=a);return[e,t]}(n,r,i,s,u,c?null:20,f?null:20);n=g[0],r=g[1]}if(c&&(n-=G2(c)?l[0]/2:"right"===c?l[0]:0),f&&(r-=G2(f)?l[1]/2:"bottom"===f?l[1]:0),x2(e)){g=function(e,t,n,r,i){var o=n.getSize(),a=o[0],s=o[1];return e=Math.min(e+a,r)-a,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,r,i,s,u);n=g[0],r=g[1]}i.moveTo(n,r)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,r=this._cbParamsList,i=!!n&&n.length===e.length;return i&&Lg(n,(function(n,o){var a=n.dataByAxis||[],s=(e[o]||{}).dataByAxis||[];(i=i&&a.length===s.length)&&Lg(a,(function(e,n){var o=s[n]||{},a=e.seriesDataIndices||[],u=o.seriesDataIndices||[];(i=i&&e.value===o.value&&e.axisType===o.axisType&&e.axisId===o.axisId&&a.length===u.length)&&Lg(a,(function(e,t){var n=u[t];i=i&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})),r&&Lg(e.seriesDataIndices,(function(e){var n=e.seriesIndex,o=t[n],a=r[n];o&&a&&a.data!==o.data&&(i=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!i},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!ug.node&&t.getDom()&&(JN(this,"_updatePosition"),this._tooltipContent.dispose(),lJ("itemTooltip",t))},t.type="tooltip",t}(LT);function F2(e,t,n){var r,i=t.ecModel;n?(r=new CC(n,i,i),r=new CC(t.option,r,i)):r=t;for(var o=e.length-1;o>=0;o--){var a=e[o];a&&(a instanceof CC&&(a=a.get("tooltip",!0)),Wg(a)&&(a={formatter:a}),a&&(r=new CC(a,r,i)))}return r}function j2(e,t){return e.dispatchAction||jg(t.dispatchAction,t)}function G2(e){return"center"===e||"middle"===e}var V2=z2;var U2=["rect","polygon","keep","clear"];function W2(e,t){var n=rw(e?e.brush:[]);if(n.length){var r=[];Lg(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))}));var i=e&&e.toolbox;Vg(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var o=i.feature||(i.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),function(e){var t={};Lg(e,(function(e){t[e]=1})),e.length=0,Lg(t,(function(t,n){e.push(n)}))}(s),t&&!s.length&&s.push.apply(s,U2)}}var Z2=Lg;function H2(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Y2(e,t,n){var r={};return Z2(t,(function(t){var i=r[t]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();Z2(e[t],(function(e,r){if(SZ.isValidType(r)){var o={type:r,visual:e};n&&n(o,t),i[r]=new SZ(o),"opacity"===r&&((o=Mg(o)).type="colorAlpha",i.__hidden.__alphaForOpacity=new SZ(o))}}))})),r}function X2(e,t,n){var r;Lg(n,(function(e){t.hasOwnProperty(e)&&H2(t[e])&&(r=!0)})),r&&Lg(n,(function(n){t.hasOwnProperty(n)&&H2(t[n])?e[n]=Mg(t[n]):delete e[n]}))}var K2={lineX:q2(0),lineY:q2(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&VV(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var i=e.x,o=e.y,a=e.width,s=e.height,u=r[0];return!!(VV(r,i,o)||VV(r,i+a,o)||VV(r,i,o+s)||VV(r,i+a,o+s)||ix.create(e).contain(u[0],u[1])||PN(i,o,i+a,o,r)||PN(i,o,i,o+s,r)||PN(i+a,o,i+a,o+s,r)||PN(i,o+s,i+a,o+s,r))||void 0}}};function q2(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,r){if(t){var i=r.range;return $2(t[e],i)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),$2(s[0],a)||$2(s[1],a)||$2(a[0],s)||$2(a[1],s)}}}}function $2(e,t){return t[0]<=e&&e<=t[1]}var Q2=["inBrush","outOfBrush"],J2="__ecBrushSelect",e3="__ecInBrushSelectEvent";function t3(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new f2(t.option,e)).setInputRanges(t.areas,e)}))}function n3(e,t,n){var r,i,o=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),t3(e),e.eachComponent({mainType:"brush"},(function(t,n){var a={brushId:t.id,brushIndex:n,brushName:t.name,areas:Mg(t.areas),selected:[]};o.push(a);var s=t.option,u=s.brushLink,l=[],c=[],f=[],d=!1;n||(r=s.throttleType,i=s.throttleDelay);var h=Rg(t.areas,(function(e){var t=o3[e.brushType],n=Ng({boundingRect:t?t(e):void 0},e);return n.selectors=function(e){var t=e.brushType,n={point:function(r){return K2[t].point(r,n,e)},rect:function(r){return K2[t].rect(r,n,e)}};return n}(n),n})),p=Y2(t.option,Q2,(function(e){e.mappingMethod="fixed"}));function g(e){return"all"===u||!!l[e]}function v(e){return!!e.length}Vg(u)&&Lg(u,(function(e){l[e]=1})),e.eachSeries((function(n,r){var i=f[r]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;d=d||n.hasAxisBrushed(),g(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}(n,r):function(n,r,i){if(!n.brushSelector||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(Vg(n)?Dg(n,t)<0:t!==n)}(t,r))return;if(Lg(h,(function(r){t.brushTargetManager.controlSeries(r,n,e)&&i.push(r),d=d||v(i)})),g(r)&&v(i)){var o=n.getData();o.each((function(e){i3(n,i,o,e)&&(c[e]=1)}))}}(n,r,i)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};a.selected.push(n);var r=f[t],i=e.getData(),o=g(t)?function(e){return c[e]?(n.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return i3(e,r,i,t)?(n.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"};(g(t)?d:v(r))&&function(e,t,n,r,i,o){var a,s={};function u(e){return FD(n,a,e)}function l(e,t){GD(n,a,e,t)}function c(e,c){a=null==o?e:c;var f=n.getRawDataItem(a);if(!f||!1!==f.visualMap)for(var d=r.call(i,e),h=t[d],p=s[d],g=0,v=p.length;g<v;g++){var m=p[g];h[m]&&h[m].applyVisual(e,u,l)}}Lg(e,(function(e){var n=SZ.prepareVisualTypes(t[e]);s[e]=n})),null==o?n.each(c):n.each([o],c)}(Q2,p,i,o)}))})),function(e,t,n,r,i){if(!i)return;var o=e.getZr();if(o[e3])return;o.__ecBrushSelect||(o.__ecBrushSelect=r3);QN(o,J2,n,t)(e,r)}(t,r,i,o,n)}function r3(e,t){if(!e.isDisposed()){var n=e.getZr();n[e3]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[e3]=!1}}function i3(e,t,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i];if(e.brushSelector(r,n,a.selectors,a))return!0}}var o3={rect:function(e){return a3(e.range)},polygon:function(e){for(var t,n=e.range,r=0,i=n.length;r<i;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&a3(t)}};function a3(e){return new ix(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var s3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new FX(t.getZr())).on("brush",jg(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,r){this.model=e,this._updateController(e,t,n,r)},t.prototype.updateTransform=function(e,t,n,r){t3(t),this._updateController(e,t,n,r)},t.prototype.updateVisual=function(e,t,n,r){this.updateTransform(e,t,n,r)},t.prototype.updateView=function(e,t,n,r){this._updateController(e,t,n,r)},t.prototype._updateController=function(e,t,n,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:Mg(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:Mg(n),$from:t})},t.type="brush",t}(LT),u3=s3,l3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return og(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&X2(n,e,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Rg(e,(function(e){return c3(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=c3(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(zk);function c3(e,t){return Ig({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new CC(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var f3=l3,d3=["rect","polygon","lineX","lineY","keep","clear"],h3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.render=function(e,t,n){var r,i,o;t.eachComponent({mainType:"brush"},(function(e){r=e.brushType,i=e.brushOption.brushMode||"single",o=o||!!e.areas.length})),this._brushType=r,this._brushMode=i,Lg(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===i:"clear"===t?o:t===r)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return Lg(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},t.prototype.onclick=function(e,t,n){var r=this._brushType,i=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},t.getDefaultOption=function(e){return{show:!0,type:d3.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(w1),p3=h3;var g3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return og(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(zk),v3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var r=this.group,i=e.getModel("textStyle"),o=e.getModel("subtextStyle"),a=e.get("textAlign"),s=ev(e.get("textBaseline"),e.get("textVerticalAlign")),u=new GS({style:rC(i,{text:e.get("text"),fill:i.getTextColor()},{disableBox:!0}),z2:10}),l=u.getBoundingRect(),c=e.get("subtext"),f=new GS({style:rC(o,{text:c,fill:o.getTextColor(),y:l.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=e.get("link"),h=e.get("sublink"),p=e.get("triggerEvent",!0);u.silent=!d&&!p,f.silent=!h&&!p,d&&u.on("click",(function(){Ek(d,"_"+e.get("target"))})),h&&f.on("click",(function(){Ek(h,"_"+e.get("subtarget"))})),VS(u).eventData=VS(f).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,r.add(u),c&&r.add(f);var g=r.getBoundingRect(),v=e.getBoxLayoutParams();v.width=g.width,v.height=g.height;var m=Ak(v,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));a||("middle"===(a=e.get("left")||e.get("right"))&&(a="center"),"right"===a?m.x+=m.width:"center"===a&&(m.x+=m.width/2)),s||("center"===(s=e.get("top")||e.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),r.x=m.x,r.y=m.y,r.markRedraw();var y={align:a,verticalAlign:s};u.setStyle(y),f.setStyle(y),g=r.getBoundingRect();var b=m.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var w=new CS({shape:{x:g.x-b[3],y:g.y-b[0],width:g.width+b[1]+b[3],height:g.height+b[0]+b[2],r:e.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});r.add(w)}},t.type="title",t}(LT);var m3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return og(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,n=t.data||[],r=t.axisType,i=this._names=[];"category"===r?(e=[],Lg(n,(function(t,n){var r,o=fw(aw(t),"");Yg(t)?(r=Mg(t)).value=n:r=n,e.push(r),i.push(o)}))):e=n;var o={category:"ordinal",time:"time",value:"number"}[r]||"number";(this._data=new hB([{name:"value",type:o}],this)).initData(e,i)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(zk),y3=m3,b3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="timeline.slider",t.defaultOption=IC(y3.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(y3);Pg(b3,_I.prototype);var x3=b3,w3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="timeline",t}(LT),_3=w3,S3=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.type=i||"value",o}return og(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Jj),E3=S3,C3=Math.PI,k3=gw(),M3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),i=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){return cT("nameValue",{noName:!0,value:a.scale.getLabel({value:e})})},Lg(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](r,i,a,e)}),this),this._renderAxisLabel(r,o,a,e),this._position(r,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,r,i,o,a=e.get(["label","position"]),s=e.get("orient"),u=function(e,t){return Ak(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t),l={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?u.y+u.height/2<t.getHeight()/2?"-":"+":u.x+u.width/2<t.getWidth()/2?"+":"-":Wg(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:C3/2},d="vertical"===s?u.height:u.width,h=e.getModel("controlStyle"),p=h.get("show",!0),g=p?h.get("itemSize"):0,v=p?h.get("itemGap"):0,m=g+v,y=e.get(["label","rotate"])||0;y=y*C3/180;var b=h.get("position",!0),x=p&&h.get("showPlayBtn",!0),w=p&&h.get("showPrevBtn",!0),_=p&&h.get("showNextBtn",!0),S=0,E=d;"left"===b||"bottom"===b?(x&&(r=[0,0],S+=m),w&&(i=[S,0],S+=m),_&&(o=[E-g,0],E-=m)):(x&&(r=[E-g,0],E-=m),w&&(i=[0,0],S+=m),_&&(o=[E-g,0],E-=m));var C=[S,E];return e.get("inverse")&&C.reverse(),{viewRect:u,mainLength:d,orient:s,rotation:f[s],labelRotation:y,labelPosOpt:n,labelAlign:e.get(["label","align"])||l[s],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[s],playPosition:r,prevBtnPosition:i,nextBtnPosition:o,axisExtent:C,controlSize:g,controlGap:v}},t.prototype._position=function(e,t){var n=this._mainGroup,r=this._labelGroup,i=e.viewRect;if("vertical"===e.orient){var o=[1,0,0,1,0,0],a=i.x,s=i.y+i.height;Db(o,o,[-a,-s]),Pb(o,o,-C3/2),Db(o,o,[a,s]),(i=i.clone()).applyTransform(o)}var u=v(i),l=v(n.getBoundingRect()),c=v(r.getBoundingRect()),f=[n.x,n.y],d=[r.x,r.y];d[0]=f[0]=u[0][0];var h,p=e.labelPosOpt;null==p||Wg(p)?(m(f,l,u,1,h="+"===p?0:1),m(d,c,u,1,1-h)):(m(f,l,u,1,h=p>=0?0:1),d[1]=f[1]+p);function g(e){e.originX=u[0][0]-e.x,e.originY=u[1][0]-e.y}function v(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function m(e,t,n,r,i){e[r]+=n[r][i]-t[r][i]}n.setPosition(f),r.setPosition(d),n.rotation=r.rotation=e.rotation,g(n),g(r)},t.prototype._createAxis=function(e,t){var n=t.getData(),r=t.get("axisType"),i=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new QF({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new cj({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new tj}}(t,r);i.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))};var o=n.getDataExtent("value");i.setExtent(o[0],o[1]),i.calcNiceTicks();var a=new E3("value",i,e.axisExtent,r);return a.model=t,a},t.prototype._createGroup=function(e){var t=this[e]=new Mx;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,r){var i=n.getExtent();if(r.get(["lineStyle","show"])){var o=new zA({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:Ag({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(o);var a=this._progressLine=new zA({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:Ng({lineCap:"round",lineWidth:o.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(a)}},t.prototype._renderAxisTick=function(e,t,n,r){var i=this,o=r.getData(),a=n.scale.getTicks();this._tickSymbols=[],Lg(a,(function(e){var a=n.dataToCoord(e.value),s=o.getItemModel(e.value),u=s.getModel("itemStyle"),l=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),f={x:a,y:0,onclick:jg(i._changeTimeline,i,e.value)},d=I3(s,u,t,f);d.ensureState("emphasis").style=l.getItemStyle(),d.ensureState("progress").style=c.getItemStyle(),DE(d);var h=VS(d);s.get("tooltip")?(h.dataIndex=e.value,h.dataModel=r):h.dataIndex=h.dataModel=null,i._tickSymbols.push(d)}))},t.prototype._renderAxisLabel=function(e,t,n,r){var i=this;if(n.getLabelModel().get("show")){var o=r.getData(),a=n.getViewLabels();this._tickLabels=[],Lg(a,(function(r){var a=r.tickValue,s=o.getItemModel(a),u=s.getModel("label"),l=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),f=n.dataToCoord(r.tickValue),d=new GS({x:f,y:0,rotation:e.labelRotation-e.rotation,onclick:jg(i._changeTimeline,i,a),silent:!1,style:rC(u,{text:r.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});d.ensureState("emphasis").style=rC(l),d.ensureState("progress").style=rC(c),t.add(d),DE(d),k3(d).dataIndex=a,i._tickLabels.push(d)}))}},t.prototype._renderControl=function(e,t,n,r){var i=e.controlSize,o=e.rotation,a=r.getModel("controlStyle").getItemStyle(),s=r.getModel(["emphasis","controlStyle"]).getItemStyle(),u=r.getPlayState(),l=r.get("inverse",!0);function c(e,n,u,l){if(e){var c=dx(ev(r.get(["controlStyle",n+"BtnSize"]),i),i),f=function(e,t,n,r){var i=r.style,o=DN(e.get(["controlStyle",t]),r||{},new ix(n[0],n[1],n[2],n[3]));i&&o.setStyle(i);return o}(r,n+"Icon",[0,-c/2,c,c],{x:e[0],y:e[1],originX:i/2,originY:0,rotation:l?-o:0,rectHover:!0,style:a,onclick:u});f.ensureState("emphasis").style=s,t.add(f),DE(f)}}c(e.nextBtnPosition,"next",jg(this._changeTimeline,this,l?"-":"+")),c(e.prevBtnPosition,"prev",jg(this._changeTimeline,this,l?"+":"-")),c(e.playPosition,u?"stop":"play",jg(this._handlePlayClick,this,!u),!0)},t.prototype._renderCurrentPointer=function(e,t,n,r){var i=r.getData(),o=r.getCurrentIndex(),a=i.getItemModel(o).getModel("checkpointStyle"),s=this,u={onCreate:function(e){e.draggable=!0,e.drift=jg(s._handlePointerDrag,s),e.ondragend=jg(s._handlePointerDragend,s),T3(e,s._progressLine,o,n,r,!0)},onUpdate:function(e){T3(e,s._progressLine,o,n,r)}};this._currentPointer=I3(a,a,this._mainGroup,{},this._currentPointer,u)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],r=Rx(this._axis.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var i=this._findNearestTick(n),o=this.model;(t||i!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(i)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return kN(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],(function(n,o){var a=i.dataToCoord(n),s=Math.abs(a-e);s<r&&(r=s,t=o)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var r=0;r<t.length;r++)t&&t[r]&&t[r].toggleState("progress",r<e);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",k3(n[r]).dataIndex<=e)},t.type="timeline.slider",t}(_3);function I3(e,t,n,r,i,o){var a=t.get("color");i?(i.setColor(a),n.add(i),o&&o.onUpdate(i)):((i=rP(e.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i));var s=t.getItemStyle(["color"]);i.setStyle(s),r=Ig({rectHover:!0,z2:100},r,!0);var u=iP(e.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var l=oP(e.get("symbolOffset"),u);l&&(r.x=(r.x||0)+l[0],r.y=(r.y||0)+l[1]);var c=e.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function T3(e,t,n,r,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(o||!a.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var u={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},u),t&&t.animateTo({shape:{x2:s}},u)}}}var A3=M3;function N3(e){var t=e&&e.timeline;Vg(t)||(t=t?[t]:[]),Lg(t,(function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};n[t]&&(e.axisType=n[t],delete e.type);if(D3(e),P3(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});P3(r,"position")||(r.position=e.controlPosition),"none"!==r.position||P3(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}Lg(e.data||[],(function(e){Yg(e)&&!Vg(e)&&(!P3(e,"value")&&P3(e,"name")&&(e.value=e.name),D3(e))}))}(e)}))}function D3(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};Lg(r,(function(e,t){o[t]||P3(i,t)||(i[t]=e)})),n.label&&!P3(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function P3(e,t){return e.hasOwnProperty(t)}function O3(e,t){if(!e)return!1;for(var n=Vg(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function L3(e){iw(e,"label",["show"])}var R3=gw(),B3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return og(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ug.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,r){var i=this.mainType;n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),o=R3(e)[i];n&&n.data?(o?o._mergeOption(n,t,!0):(r&&L3(n),Lg(n.data,(function(e){e instanceof Array?(L3(e[0]),L3(e[1])):L3(e)})),Ag(o=this.createMarkerModelFromSeries(n,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),o.__hostSeries=e),R3(e)[i]=o):R3(e)[i]=null}),this)},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.getRawValue(e),o=r.getName(e);return cT("section",{header:this.name,blocks:[cT("nameValue",{name:o,value:i,noName:!o,noValue:null==i})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,t){return R3(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(zk);Pg(B3,_I.prototype);var z3=B3,F3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(z3),j3=F3;function G3(e,t,n,r,i,o){var a=[],s=xB(t,r)?t.getCalculationInfo("stackResultDimension"):r,u=Y3(t,s,e),l=t.indicesOfNearest(s,u)[0];a[i]=t.get(n,l),a[o]=t.get(s,l);var c=t.get(r,l),f=Bx(t.get(r,l));return(f=Math.min(f,20))>=0&&(a[o]=+a[o].toFixed(f)),[a,c]}var V3={min:Gg(G3,"min"),max:Gg(G3,"max"),average:Gg(G3,"average"),median:Gg(G3,"median")};function U3(e,t){var n=e.getData(),r=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!Vg(t.coord)&&r){var i=r.dimensions,o=W3(t,n,r,e);if((t=Mg(t)).type&&V3[t.type]&&o.baseAxis&&o.valueAxis){var a=Dg(i,o.baseAxis.dim),s=Dg(i,o.valueAxis.dim),u=V3[t.type](n,o.baseDataDim,o.valueDataDim,a,s);t.coord=u[0],t.value=u[1]}else{for(var l=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)V3[l[c]]&&(l[c]=Y3(n,n.mapDimension(i[c]),l[c]));t.coord=l}}return t}function W3(e,t,n,r){var i={};return null!=e.valueIndex||null!=e.valueDim?(i.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=n.getAxis(function(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Z3(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)}function H3(e,t){return e?function(e,n,r,i){return TI(i<2?e.coord&&e.coord[i]:e.value,t[i])}:function(e,n,r,i){return TI(e.value,t[i])}}function Y3(e,t,n){if("average"===n){var r=0,i=0;return e.each(t,(function(e,t){isNaN(e)||(r+=e,i++)})),r/i}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var X3=gw(),K3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.init=function(){this.markerGroupMap=cv()},t.prototype.render=function(e,t,n){var r=this,i=this.markerGroupMap;i.each((function(e){X3(e).keep=!1})),t.eachSeries((function(e){var i=z3.getMarkerModelFromSeries(e,r.type);i&&r.renderSeries(e,i,t,n)})),i.each((function(e){!X3(e).keep&&r.group.remove(e.group)}))},t.prototype.markKeep=function(e){X3(e).keep=!0},t.prototype.blurSeries=function(e){var t=this;Lg(e,(function(e){var n=z3.getMarkerModelFromSeries(e,t.type);n&&n.getData().eachItemGraphicEl((function(e){e&&wE(e)}))}))},t.type="marker",t}(LT),q3=K3;function $3(e,t,n){var r=t.coordinateSystem;e.each((function(i){var o,a=e.getItemModel(i),s=Ox(a.get("x"),n.getWidth()),u=Ox(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var l=e.get(r.dimensions[0],i),c=e.get(r.dimensions[1],i);o=r.dataToPoint([l,c])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),e.setItemLayout(i,o)}))}var Q3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=z3.getMarkerModelFromSeries(e,"markPoint");t&&($3(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new OB),l=function(e,t,n){var r;r=e?Rg(e&&e.dimensions,(function(e){return Ag(Ag({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new hB(r,n),o=Rg(n.get("data"),Gg(U3,t));e&&(o=zg(o,Gg(Z3,e)));var a=H3(!!e,r);return i.initData(o,null,a),i}(i,e,t);t.setData(l),$3(t.getData(),e,r),l.each((function(e){var n=l.getItemModel(e),r=n.getShallow("symbol"),i=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),u=n.getShallow("symbolKeepAspect");if(Ug(r)||Ug(i)||Ug(o)||Ug(s)){var c=t.getRawValue(e),f=t.getDataParams(e);Ug(r)&&(r=r(c,f)),Ug(i)&&(i=i(c,f)),Ug(o)&&(o=o(c,f)),Ug(s)&&(s=s(c,f))}var d=n.getModel("itemStyle").getItemStyle(),h=jD(a,"color");d.fill||(d.fill=h),l.setItemVisual(e,{symbol:r,symbolSize:i,symbolRotate:o,symbolOffset:s,symbolKeepAspect:u,style:d})})),u.updateData(l),this.group.add(u.group),l.eachItemGraphicEl((function(e){e.traverse((function(e){VS(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(q3);var J3=Q3;var e4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(z3),t4=e4,n4=gw(),r4=function(e,t,n,r){var i,o=e.getData();if(Vg(r))i=r;else{var a=r.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=r.xAxis||null!=r.yAxis){var s=void 0,u=void 0;if(null!=r.yAxis||null!=r.xAxis)s=t.getAxis(null!=r.yAxis?"y":"x"),u=Jg(r.yAxis,r.xAxis);else{var l=W3(r,o,t,e);s=l.valueAxis,u=Y3(o,wB(o,l.valueDataDim),a)}var c="x"===s.dim?0:1,f=1-c,d=Mg(r),h={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,h.coord[f]=1/0;var p=n.get("precision");p>=0&&Hg(u)&&(u=+u.toFixed(Math.min(p,20))),d.coord[c]=h.coord[c]=u,i=[d,h,{type:a,valueIndex:r.valueIndex,value:u}]}else i=[]}var g=[U3(e,i[0]),U3(e,i[1]),Ag({},i[2])];return g[2].type=g[2].type||null,Ig(g[2],g[0]),Ig(g[2],g[1]),g};function i4(e){return!isNaN(e)&&!isFinite(e)}function o4(e,t,n,r){var i=1-e,o=r.dimensions[e];return i4(t[i])&&i4(n[i])&&t[e]===n[e]&&r.getAxis(o).containData(t[e])}function a4(e,t){if("cartesian2d"===e.type){var n=t[0].coord,r=t[1].coord;if(n&&r&&(o4(1,n,r,e)||o4(0,n,r,e)))return!0}return Z3(e,t[0])&&Z3(e,t[1])}function s4(e,t,n,r,i){var o,a=r.coordinateSystem,s=e.getItemModel(t),u=Ox(s.get("x"),i.getWidth()),l=Ox(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)o=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,f=e.get(c[0],t),d=e.get(c[1],t);o=a.dataToPoint([f,d])}if($B(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;i4(e.get(c[0],t))?o[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):i4(e.get(c[1],t))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];e.setItemLayout(t,o)}var u4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=z3.getMarkerModelFromSeries(e,"markLine");if(t){var r=t.getData(),i=n4(t).from,o=n4(t).to;i.each((function(t){s4(i,t,!0,e,n),s4(o,t,!1,e,n)})),r.each((function(e){r.setItemLayout(e,[i.getItemLayout(e),o.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new AH);this.group.add(u.group);var l=function(e,t,n){var r;r=e?Rg(e&&e.dimensions,(function(e){return Ag(Ag({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new hB(r,n),o=new hB(r,n),a=new hB([],n),s=Rg(n.get("data"),Gg(r4,t,e,n));e&&(s=zg(s,Gg(a4,e)));var u=H3(!!e,r);return i.initData(Rg(s,(function(e){return e[0]})),null,u),o.initData(Rg(s,(function(e){return e[1]})),null,u),a.initData(Rg(s,(function(e){return e[2]}))),a.hasItemOption=!0,{from:i,to:o,line:a}}(i,e,t),c=l.from,f=l.to,d=l.line;n4(t).from=c,n4(t).to=f,t.setData(d);var h=t.get("symbol"),p=t.get("symbolSize"),g=t.get("symbolRotate"),v=t.get("symbolOffset");function m(t,n,i){var o=t.getItemModel(n);s4(t,n,i,e,r);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=jD(a,"color")),t.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:ev(o.get("symbolOffset",!0),v[i?0:1]),symbolRotate:ev(o.get("symbolRotate",!0),g[i?0:1]),symbolSize:ev(o.get("symbolSize"),p[i?0:1]),symbol:ev(o.get("symbol",!0),h[i?0:1]),style:s})}Vg(h)||(h=[h,h]),Vg(p)||(p=[p,p]),Vg(g)||(g=[g,g]),Vg(v)||(v=[v,v]),l.from.each((function(e){m(c,e,!0),m(f,e,!1)})),d.each((function(e){var t=d.getItemModel(e).getModel("lineStyle").getLineStyle();d.setItemLayout(e,[c.getItemLayout(e),f.getItemLayout(e)]),null==t.stroke&&(t.stroke=c.getItemVisual(e,"style").fill),d.setItemVisual(e,{fromSymbolKeepAspect:c.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(e,"symbolOffset"),fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolKeepAspect:f.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(e,"symbolOffset"),toSymbolRotate:f.getItemVisual(e,"symbolRotate"),toSymbolSize:f.getItemVisual(e,"symbolSize"),toSymbol:f.getItemVisual(e,"symbol"),style:t})})),u.updateData(d),l.line.eachItemGraphicEl((function(e,n){e.traverse((function(e){VS(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(q3);var l4=u4;var c4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(z3),f4=c4,d4=gw(),h4=function(e,t,n,r){var i=U3(e,r[0]),o=U3(e,r[1]),a=i.coord,s=o.coord;a[0]=Jg(a[0],-1/0),a[1]=Jg(a[1],-1/0),s[0]=Jg(s[0],1/0),s[1]=Jg(s[1],1/0);var u=Tg([{},i,o]);return u.coord=[i.coord,o.coord],u.x0=i.x,u.y0=i.y,u.x1=o.x,u.y1=o.y,u};function p4(e){return!isNaN(e)&&!isFinite(e)}function g4(e,t,n,r){var i=1-e;return p4(t[i])&&p4(n[i])}function v4(e,t){var n=t.coord[0],r=t.coord[1];return!!($B(e,"cartesian2d")&&n&&r&&(g4(1,n,r)||g4(0,n,r)))||(Z3(e,{coord:n,x:t.x0,y:t.y0})||Z3(e,{coord:r,x:t.x1,y:t.y1}))}function m4(e,t,n,r,i){var o,a=r.coordinateSystem,s=e.getItemModel(t),u=Ox(s.get(n[0]),i.getWidth()),l=Ox(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)o=r.getMarkerPosition(e.getValues(n,t));else{var c=[h=e.get(n[0],t),p=e.get(n[1],t)];a.clampData&&a.clampData(c,c),o=a.dataToPoint(c,!0)}if($B(a,"cartesian2d")){var f=a.getAxis("x"),d=a.getAxis("y"),h=e.get(n[0],t),p=e.get(n[1],t);p4(h)?o[0]=f.toGlobalCoord(f.getExtent()["x0"===n[0]?0:1]):p4(p)&&(o[1]=d.toGlobalCoord(d.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];return o}var y4=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],b4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=z3.getMarkerModelFromSeries(e,"markArea");if(t){var r=t.getData();r.each((function(t){var i=Rg(y4,(function(i){return m4(r,t,i,e,n)}));r.setItemLayout(t,i),r.getItemGraphicEl(t).setShape("points",i)}))}}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,{group:new Mx});this.group.add(u.group),this.markKeep(u);var l=function(e,t,n){var r,i,o=["x0","y0","x1","y1"];if(e){var a=Rg(e&&e.dimensions,(function(e){var n=t.getData();return Ag(Ag({},n.getDimensionInfo(n.mapDimension(e))||{}),{name:e,ordinalMeta:null})}));i=Rg(o,(function(e,t){return{name:e,type:a[t%2].type}})),r=new hB(i,n)}else r=new hB(i=[{name:"value",type:"float"}],n);var s=Rg(n.get("data"),Gg(h4,t,e,n));e&&(s=zg(s,Gg(v4,e)));var u=e?function(e,t,n,r){return TI(e.coord[Math.floor(r/2)][r%2],i[r])}:function(e,t,n,r){return TI(e.value,i[r])};return r.initData(s,null,u),r.hasItemOption=!0,r}(i,e,t);t.setData(l),l.each((function(t){var n=Rg(y4,(function(n){return m4(l,t,n,e,r)})),o=i.getAxis("x").scale,s=i.getAxis("y").scale,u=o.getExtent(),c=s.getExtent(),f=[o.parse(l.get("x0",t)),o.parse(l.get("x1",t))],d=[s.parse(l.get("y0",t)),s.parse(l.get("y1",t))];Rx(f),Rx(d);var h=!!(u[0]>f[1]||u[1]<f[0]||c[0]>d[1]||c[1]<d[0]);l.setItemLayout(t,{points:n,allClipped:h});var p=l.getItemModel(t).getModel("itemStyle").getItemStyle(),g=jD(a,"color");p.fill||(p.fill=g,Wg(p.fill)&&(p.fill=ky(p.fill,.4))),p.stroke||(p.stroke=g),l.setItemVisual(t,"style",p)})),l.diff(d4(u).data).add((function(e){var t=l.getItemLayout(e);if(!t.allClipped){var n=new NA({shape:{points:t.points}});l.setItemGraphicEl(e,n),u.group.add(n)}})).update((function(e,n){var r=d4(u).data.getItemGraphicEl(n),i=l.getItemLayout(e);i.allClipped?r&&u.group.remove(r):(r?ZE(r,{shape:{points:i.points}},t,e):r=new NA({shape:{points:i.points}}),l.setItemGraphicEl(e,r),u.group.add(r))})).remove((function(e){var t=d4(u).data.getItemGraphicEl(e);u.group.remove(t)})).execute(),l.eachItemGraphicEl((function(e,n){var r=l.getItemModel(n),i=l.getItemVisual(n,"style");e.useStyle(l.getItemVisual(n,"style")),tC(e,nC(r),{labelFetcher:t,labelDataIndex:n,defaultText:l.getName(n)||"",inheritColor:Wg(i.fill)?ky(i.fill,1):"#000"}),BE(e,r),PE(e,null,null,r.get(["emphasis","disabled"])),VS(e).dataModel=t})),d4(u).data=l,u.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(q3);var x4=b4;var w4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return og(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),Vg(t)&&Lg(t,(function(e,r){Wg(e)&&(e={type:e}),t[r]=Ig(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(r){var i,o=r.name;if(n.push(o),r.legendVisualProvider){var a=r.legendVisualProvider.getAllNames();e.isSeriesFiltered(r)||(n=n.concat(a)),a.length?t=t.concat(a):i=!0}else i=!0;i&&dw(r)&&t.push(r.name)})),this._availableNames=n;var r=Rg(this.get("data")||t,(function(e){return(Wg(e)||Hg(e))&&(e={name:e}),new CC(e,this,this.ecModel)}),this);this._data=r},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&Lg(this._data,(function(e){t[e.get("name")]=!1}));t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;Lg(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;Lg(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&Dg(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(zk),_4=w4,S4=Gg,E4=Lg,C4=Mx,k4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return og(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new C4),this.group.add(this._selectorGroup=new C4),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var i=e.get("align"),o=e.get("orient");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===o?"right":"left");var a=e.get("selector",!0),s=e.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(i,e,t,n,a,o,s);var u=e.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),f=Ak(u,l,c),d=this.layoutInner(e,i,f,r,a,s),h=Ak(Ng({width:d.width,height:d.height},u),l,c);this.group.x=h.x-d.x,this.group.y=h.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=M1(d,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,r,i,o,a){var s=this.getContentGroup(),u=cv(),l=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),E4(t.getData(),(function(i,o){var a=i.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var f=new C4;return f.newline=!0,void s.add(f)}var d=n.getSeriesByName(a)[0];if(!u.get(a)){if(d){var h=d.getData(),p=h.getVisual("legendLineStyle")||{},g=h.getVisual("legendIcon"),v=h.getVisual("style");this._createItem(d,a,o,i,t,e,p,v,g,l).on("click",S4(M4,a,null,r,c)).on("mouseover",S4(T4,d.name,null,r,c)).on("mouseout",S4(A4,d.name,null,r,c)),u.set(a,!0)}else n.eachRawSeries((function(n){if(!u.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var f=s.indexOfName(a),d=s.getItemVisual(f,"style"),h=s.getItemVisual(f,"legendIcon"),p=xy(d.fill);p&&0===p[3]&&(p[3]=.2,d=Ag(Ag({},d),{fill:My(p,"rgba")})),this._createItem(n,a,o,i,t,e,{},d,h,l).on("click",S4(M4,null,a,r,c)).on("mouseover",S4(T4,null,a,r,c)).on("mouseout",S4(A4,null,a,r,c)),u.set(a,!0)}}),this);0}}),this),i&&this._createSelector(i,t,r,o,a)},t.prototype._createSelector=function(e,t,n,r,i){var o=this.getSelectorGroup();E4(e,(function(e){var r=e.type,i=new GS({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});o.add(i),tC(i,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:e.title}),DE(i)}))},t.prototype._createItem=function(e,t,n,r,i,o,a,s,u,l){var c=e.visualDrawType,f=i.get("itemWidth"),d=i.get("itemHeight"),h=i.isSelected(t),p=r.get("symbolRotate"),g=r.get("symbolKeepAspect"),v=r.get("icon"),m=function(e,t,n,r,i,o){function a(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),E4(e,(function(n,r){"inherit"===e[r]&&(e[r]=t[r])}))}var s=t.getModel("itemStyle").getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke";s.decal=r.decal,"inherit"===s.fill&&(s.fill=r[i]);"inherit"===s.stroke&&(s.stroke=r[u]);"inherit"===s.opacity&&(s.opacity=("fill"===i?r:n).opacity);a(s,r);var l=t.getModel("lineStyle"),c=l.getLineStyle();if(a(c,n),"auto"===s.fill&&(s.fill=r.fill),"auto"===s.stroke&&(s.stroke=r.fill),"auto"===c.stroke&&(c.stroke=r.fill),!o){var f=t.get("inactiveBorderWidth"),d=s[u];s.lineWidth="auto"===f?r.lineWidth>0&&d?2:0:s.lineWidth,s.fill=t.get("inactiveColor"),s.stroke=t.get("inactiveBorderColor"),c.stroke=l.get("inactiveColor"),c.lineWidth=l.get("inactiveWidth")}return{itemStyle:s,lineStyle:c}}(u=v||u||"roundRect",r,a,s,c,h),y=new C4,b=r.getModel("textStyle");if(!Ug(e.getLegendIcon)||v&&"inherit"!==v){var x="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===p?e.getData().getVisual("symbolRotate"):p:0;y.add(function(e){var t=e.icon||"roundRect",n=rP(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:f,itemHeight:d,icon:u,iconRotate:x,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}else y.add(e.getLegendIcon({itemWidth:f,itemHeight:d,icon:u,iconRotate:p,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}));var w="left"===o?f+5:-5,_=o,S=i.get("formatter"),E=t;Wg(S)&&S?E=S.replace("{name}",null!=t?t:""):Ug(S)&&(E=S(t));var C=r.get("inactiveColor");y.add(new GS({style:rC(b,{text:E,x:w,y:d/2,fill:h?b.getTextColor():C,align:_,verticalAlign:"middle"})}));var k=new CS({shape:y.getBoundingRect(),invisible:!0}),M=r.getModel("tooltip");return M.get("show")&&RN({el:k,componentModel:i,itemName:t,itemTooltipOption:M.option}),y.add(k),y.eachChild((function(e){e.silent=!0})),k.silent=!l,this.getContentGroup().add(y),DE(y),y.__legendDataIndex=n,y},t.prototype.layoutInner=function(e,t,n,r,i,o){var a=this.getContentGroup(),s=this.getSelectorGroup();Tk(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var u=a.getBoundingRect(),l=[-u.x,-u.y];if(s.markRedraw(),a.markRedraw(),i){Tk("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),f=[-c.x,-c.y],d=e.get("selectorButtonGap",!0),h=e.getOrient().index,p=0===h?"width":"height",g=0===h?"height":"width",v=0===h?"y":"x";"end"===o?f[h]+=u[p]+d:l[h]+=c[p]+d,f[1-h]+=u[g]/2-c[g]/2,s.x=f[0],s.y=f[1],a.x=l[0],a.y=l[1];var m={x:0,y:0};return m[p]=u[p]+d+c[p],m[g]=Math.max(u[g],c[g]),m[v]=Math.min(0,c[v]+f[1-h]),m}return a.x=l[0],a.y=l[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(LT);function M4(e,t,n,r){A4(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),T4(e,t,n,r)}function I4(e){for(var t,n=e.getZr().storage.getDisplayList(),r=0,i=n.length;r<i&&!(t=n[r].states.emphasis);)r++;return t&&t.hoverLayer}function T4(e,t,n,r){I4(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function A4(e,t,n,r){I4(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}var N4=k4;function D4(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}function P4(e,t,n){var r,i={},o="toggleSelected"===e;return n.eachComponent("legend",(function(n){o&&null!=r?n[r?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),r=n.isSelected(t.name)),Lg(n.getData(),(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var r=n.isSelected(t);i.hasOwnProperty(t)?i[t]=i[t]&&r:i[t]=r}}))})),"allSelect"===e||"inverseSelect"===e?{selected:i}:{name:t.name,selected:i}}function O4(e){e.registerComponentModel(_4),e.registerComponentView(N4),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,D4),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){e.registerAction("legendToggleSelect","legendselectchanged",Gg(P4,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",Gg(P4,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",Gg(P4,"inverseSelect")),e.registerAction("legendSelect","legendselected",Gg(P4,"select")),e.registerAction("legendUnSelect","legendunselected",Gg(P4,"unSelect"))}(e)}var L4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,r){var i=Ok(t);e.prototype.init.call(this,t,n,r),R4(this,t,i)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),R4(this,this.option,t)},t.type="legend.scroll",t.defaultOption=IC(_4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(_4);function R4(e,t,n){var r=[1,1];r[e.getOrient().index]=0,Pk(t,n,{type:"box",ignoreSize:!!r})}var B4=L4,z4=Mx,F4=["width","height"],j4=["x","y"],G4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return og(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new z4),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new z4)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,r,i,o,a,s){var u=this;e.prototype.renderInner.call(this,t,n,r,i,o,a,s);var l=this._controllerGroup,c=n.get("pageIconSize",!0),f=Vg(c)?c:[c,c];h("pagePrev",0);var d=n.getModel("pageTextStyle");function h(e,t){var r=e+"DataIndex",o=DN(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:jg(u._pageGo,u,r,n,i)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});o.name=e,l.add(o)}l.add(new GS({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},t.prototype.layoutInner=function(e,t,n,r,i,o){var a=this.getSelectorGroup(),s=e.getOrient().index,u=F4[s],l=j4[s],c=F4[1-s],f=j4[1-s];i&&Tk("horizontal",a,e.get("selectorItemGap",!0));var d=e.get("selectorButtonGap",!0),h=a.getBoundingRect(),p=[-h.x,-h.y],g=Mg(n);i&&(g[u]=n[u]-h[u]-d);var v=this._layoutContentAndController(e,r,g,s,u,c,f,l);if(i){if("end"===o)p[s]+=v[u]+d;else{var m=h[u]+d;p[s]-=m,v[l]-=m}v[u]+=h[u]+d,p[1-s]+=v[f]+v[c]/2-h[c]/2,v[c]=Math.max(v[c],h[c]),v[f]=Math.min(v[f],h[f]+p[1-s]),a.x=p[0],a.y=p[1],a.markRedraw()}return v},t.prototype._layoutContentAndController=function(e,t,n,r,i,o,a,s){var u=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;Tk(e.get("orient"),u,e.get("itemGap"),r?n.width:null,r?null:n.height),Tk("horizontal",c,e.get("pageButtonItemGap",!0));var f=u.getBoundingRect(),d=c.getBoundingRect(),h=this._showController=f[i]>n[i],p=[-f.x,-f.y];t||(p[r]=u[s]);var g=[0,0],v=[-d.x,-d.y],m=ev(e.get("pageButtonGap",!0),e.get("itemGap",!0));h&&("end"===e.get("pageButtonPosition",!0)?v[r]+=n[i]-d[i]:g[r]+=d[i]+m);v[1-r]+=f[o]/2-d[o]/2,u.setPosition(p),l.setPosition(g),c.setPosition(v);var y={x:0,y:0};if(y[i]=h?n[i]:f[i],y[o]=Math.max(f[o],d[o]),y[a]=Math.min(0,d[a]+v[1-r]),l.__rectSize=n[i],h){var b={x:0,y:0};b[i]=Math.max(n[i]-d[i]-m,0),b[o]=y[o],l.setClipPath(new CS({shape:b})),l.__rectSize=b[i]}else c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var x=this._getPageInfo(e);return null!=x.pageIndex&&ZE(u,{x:x.contentPosition[0],y:x.contentPosition[1]},h?e:null),this._updatePageInfoView(e,x),y},t.prototype._pageGo=function(e,t,n){var r=this._getPageInfo(t)[e];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;Lg(["pagePrev","pageNext"],(function(r){var i=null!=t[r+"DataIndex"],o=n.childOfName(r);o&&(o.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")}));var r=n.childOfName("pageText"),i=e.get("pageFormatter"),o=t.pageIndex,a=null!=o?o+1:0,s=t.pageCount;r&&i&&r.setStyle("text",Wg(i)?i.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):i({current:a,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,i=e.getOrient().index,o=F4[i],a=j4[i],s=this._findTargetItemIndex(t),u=n.children(),l=u[s],c=u.length,f=c?1:0,d={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return d;var h=y(l);d.contentPosition[i]=-h.s;for(var p=s+1,g=h,v=h,m=null;p<=c;++p)(!(m=y(u[p]))&&v.e>g.s+r||m&&!b(m,g.s))&&(g=v.i>g.i?v:m)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),v=m;for(p=s-1,g=h,v=h,m=null;p>=-1;--p)(m=y(u[p]))&&b(v,m.s)||!(g.i<v.i)||(v=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=m;return d;function y(e){if(e){var t=e.getBoundingRect(),n=t[a]+e[a];return{s:n,e:n+t[o],i:e.__legendDataIndex}}}function b(e,t){return e.e>=t&&e.s<=t+r}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(r,i){var o=r.__legendDataIndex;null==n&&null!=o&&(n=i),o===e&&(t=i)})),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(N4),V4=G4;function U4(e){FO(O4),e.registerComponentModel(B4),e.registerComponentView(V4),function(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}(e)}var W4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="dataZoom.inside",t.defaultOption=IC(o1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(o1),Z4=W4,H4=gw();function Y4(e,t,n){H4(e).coordSysRecordMap.each((function(e){var r=e.dataZoomInfoMap.get(t.uid);r&&(r.getRange=n)}))}function X4(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function K4(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function q4(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function $4(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=H4(t),r=n.coordSysRecordMap||(n.coordSysRecordMap=cv());r.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){Lg(t1(e).infoList,(function(n){var i=n.model.uid,o=r.get(i)||r.set(i,function(e,t){var n={model:t,containsPoint:Gg(q4,t),dispatchAction:Gg(K4,e),dataZoomInfoMap:null,controller:null},r=n.controller=new pV(e.getZr());return Lg(["pan","zoom","scrollMove"],(function(e){r.on(e,(function(t){var r=[];n.dataZoomInfoMap.each((function(i){if(t.isAvailableBehavior(i.model.option)){var o=(i.getRange||{})[e],a=o&&o(i.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!i.model.get("disabled",!0)&&a&&r.push({dataZoomId:i.model.id,start:a[0],end:a[1]})}})),r.length&&n.dispatchAction(r)}))})),n}(t,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=cv())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),r.each((function(e){var t,n=e.controller,i=e.dataZoomInfoMap;if(i){var o=i.keys()[0];null!=o&&(t=i.get(o))}if(t){var a=function(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each((function(e){var o=e.model,a=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");r[n+a]>r[n+t]&&(t=a),i=i&&o.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(i);n.enable(a.controlType,a.opt),n.setPointerChecker(e.containsPoint),QN(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else X4(r,e)}))}))}var Q4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return og(t,e),t.prototype.render=function(t,n,r){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),Y4(r,t,{pan:jg(J4.pan,this),zoom:jg(J4.zoom,this),scrollMove:jg(J4.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var n=H4(e).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var o=r[i],a=n.get(o),s=a.dataZoomInfoMap;if(s){var u=t.uid;s.get(u)&&(s.removeKey(u),s.keys().length||X4(n,a))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(l1),J4={zoom:function(e,t,n,r){var i=this.range,o=i.slice(),a=e.axisModels[0];if(a){var s=t5[t](null,[r.originX,r.originY],a,n,e),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],l=Math.max(1/r.scale,0);o[0]=(o[0]-u)*l+u,o[1]=(o[1]-u)*l+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return OY(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1]?o:void 0}},pan:e5((function(e,t,n,r,i,o){var a=t5[r]([o.oldX,o.oldY],[o.newX,o.newY],t,i,n);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength})),scrollMove:e5((function(e,t,n,r,i,o){return t5[r]([0,0],[o.scrollDelta,o.scrollDelta],t,i,n).signal*(e[1]-e[0])*o.scrollDelta}))};function e5(e){return function(t,n,r,i){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return OY(e(a,s,t,n,r,i),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var t5={grid:function(e,t,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},n5=Q4;function r5(e){b1(e),e.registerComponentModel(Z4),e.registerComponentView(n5),$4(e)}var i5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=IC(o1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(o1),o5=i5,a5=CS,s5="horizontal",u5="vertical",l5=["line","bar","candlestick","scatter"],c5={easing:"cubicOut",duration:100,delay:0},f5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return og(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=jg(this._onBrush,this),this._onBrushEnd=jg(this._onBrushEnd,this)},t.prototype.render=function(t,n,r,i){if(e.prototype.render.apply(this,arguments),QN(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){JN(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new Mx;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,r=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===s5?{right:i.width-r.x-r.width,top:i.height-30-7-n,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},a=Ok(e.option);Lg(["right","top","width","height"],(function(e){"ph"===a[e]&&(a[e]=o[e])}));var s=Ak(a,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===u5&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==s5||i?n===s5&&i?{scaleY:a?1:-1,scaleX:-1}:n!==u5||i?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=e.getBoundingRect([o]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,r=e.get("brushSelect");n.add(new a5({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var i=new a5({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:jg(this._onClickPanel,this)}),o=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(i)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],r=e.series,i=r.getRawData(),o=r.getShadowDim?r.getShadowDim():e.otherDim;if(null!=o){var a=this._shadowPolygonPts,s=this._shadowPolylinePts;if(i!==this._shadowData||o!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var u=i.getDataExtent(o),l=.3*(u[1]-u[0]);u=[u[0]-l,u[1]+l];var c,f=[0,t[1]],d=[0,t[0]],h=[[t[0],0],[0,0]],p=[],g=d[1]/(i.count()-1),v=0,m=Math.round(i.count()/t[0]);i.each([o],(function(e,t){if(m>0&&t%m)v+=g;else{var n=null==e||isNaN(e)||""===e,r=n?0:Px(e,u,f,!0);n&&!c&&t?(h.push([h[h.length-1][0],0]),p.push([p[p.length-1][0],0])):!n&&c&&(h.push([v,0]),p.push([v,0])),h.push([v,r]),p.push([v,r]),v+=g,c=n}})),a=this._shadowPolygonPts=h,s=this._shadowPolylinePts=p}this._shadowData=i,this._shadowDim=o,this._shadowSize=[t[0],t[1]];for(var y=this.dataZoomModel,b=0;b<3;b++){var x=w(1===b);this._displayables.sliderGroup.add(x),this._displayables.dataShadowSegs.push(x)}}}function w(e){var t=y.getModel(e?"selectedDataBackground":"dataBackground"),n=new Mx,r=new NA({shape:{points:a},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new OA({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(i),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,r=this.ecModel;return e.eachTargetAxis((function(i,o){Lg(e.getAxisProxy(i,o).getTargetSeriesModels(),(function(e){if(!n&&!(!0!==t&&Dg(l5,e.get("type"))<0)){var a,s=r.getComponent(J0(i),o).axis,u={x:"y",y:"x",radius:"angle",angle:"radius"}[i],l=e.coordinateSystem;null!=u&&l.getOtherAxis&&(a=l.getOtherAxis(s).inverse),u=e.getData().mapDimension(u),n={thisAxis:s,series:e,thisDim:i,otherDim:u,otherAxisInverse:a}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],r=t.handleLabels=[null,null],i=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,u=a.get("borderRadius")||0,l=a.get("brushSelect"),c=t.filler=new a5({silent:l,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});i.add(c),i.add(new a5({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:u},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Lg([0,1],(function(t){var o=a.get("handleIcon");!eP[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s=rP(o,-1,0,2,2,null,!0);s.attr({cursor:d5(this._orient),draggable:!0,drift:jg(this._onDragMove,this,t),ondragend:jg(this._onDragEnd,this),onmouseover:jg(this._showDataInfo,this,!0),onmouseout:jg(this._showDataInfo,this,!1),z2:5});var u=s.getBoundingRect(),l=a.get("handleSize");this._handleHeight=Ox(l,this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),DE(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),i.add(n[t]=s);var f=a.getModel("textStyle");e.add(r[t]=new GS({silent:!0,invisible:!0,style:rC(f,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:f.getTextColor(),font:f.getFont()}),z2:10}))}),this);var f=c;if(l){var d=Ox(a.get("moveHandleSize"),o[1]),h=t.moveHandle=new CS({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),p=.8*d,g=t.moveHandleIcon=rP(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);g.silent=!0,g.y=o[1]+d/2-.5,h.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var v=Math.min(o[1]/2,Math.max(d,10));(f=t.moveZone=new CS({invisible:!0,shape:{y:o[1]-v,height:d+v}})).on("mouseover",(function(){s.enterEmphasis(h)})).on("mouseout",(function(){s.leaveEmphasis(h)})),i.add(h),i.add(g),i.add(f)}f.attr({draggable:!0,cursor:d5(this._orient),drift:jg(this._onDragMove,this,"all"),ondragstart:jg(this._showDataInfo,this,!0),ondragend:jg(this._onDragEnd,this),onmouseover:jg(this._showDataInfo,this,!0),onmouseout:jg(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[Px(e[0],[0,100],t,!0),Px(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];OY(t,r,i,n.get("zoomLock")?"all":e,null!=o.minSpan?Px(o.minSpan,a,i,!0):null,null!=o.maxSpan?Px(o.maxSpan,a,i,!0):null);var s=this._range,u=this._range=Rx([Px(r[0],i,a,!0),Px(r[1],i,a,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,r=Rx(n.slice()),i=this._size;Lg([0,1],(function(e){var r=t.handles[e],o=this._handleHeight;r.attr({scaleX:o/2,scaleY:o/2,x:n[e]+(e?-1:1),y:i[1]/2-o/2})}),this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var o={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(o),t.moveZone.setShape(o),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=t.dataShadowSegs,s=[0,r[0],r[1],i[0]],u=0;u<a.length;u++){var l=a[u],c=l.getClipPath();c||(c=new CS,l.setClipPath(c)),c.setShape({x:s[u],y:0,width:s[u+1]-s[u],height:i[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,r=n.handleLabels,i=this._orient,o=["",""];if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,u=this._range,l=e?a.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(l[0],s),this._formatLabel(l[1],s)]}}var c=Rx(this._handleEnds.slice());function f(e){var t=CN(n.handles[e].parent,this.group),a=MN(0===e?"right":"left",t),s=this._handleWidth/2+5,u=kN([c[e]+(0===e?-s:s),this._size[1]/2],t);r[e].setStyle({x:u[0],y:u[1],verticalAlign:i===s5?"middle":a,align:i===s5?a:"center",text:o[e]})}f.call(this,0),f.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(i,20));return Ug(r)?r(e,o):Wg(r)?r.replace("{value}",o):o},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,r){this._dragging=!0,rm(r.event);var i=kN([t,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(e,i[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new Xb(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var r=this._getViewExtent(),i=[0,100];this._range=Rx([Px(n.x,r,i,!0),Px(n.x+n.width,r,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(rm(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,r=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new a5({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(e,t),u=a.transformCoordToLocal(o.x,o.y),l=this._size;s[0]=Math.max(Math.min(l[0],s[0]),0),i.setShape({x:u[0],y:0,width:s[0]-u[0],height:l[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?c5:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=t1(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var r=this.api.getWidth(),i=this.api.getHeight();e={x:.2*r,y:.2*i,width:.6*r,height:.6*i}}return e},t.type="dataZoom.slider",t}(l1);function d5(e){return"vertical"===e?"ns-resize":"ew-resize"}var h5=f5;function p5(e){e.registerComponentModel(o5),e.registerComponentView(h5),b1(e)}var g5={get:function(e,t,n){var r=Mg((v5[e]||{})[t]);return n&&Vg(r)?r[r.length-1]:r}},v5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},m5=g5,y5=SZ.mapVisual,b5=SZ.eachVisual,x5=Vg,w5=Lg,_5=Rx,S5=Px,E5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return og(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&X2(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=jg(e,this),this.controllerVisuals=Y2(this.option.controller,t,e),this.targetVisuals=Y2(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=rw(e),t},t.prototype.eachTargetSeries=function(e,t){Lg(this.getTargetSeriesIndices(),(function(n){var r=this.ecModel.getSeriesByIndex(n);r&&e.call(t,r)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,n){var r,i=this.option,o=i.precision,a=this.dataBound,s=i.formatter;n=n||["<",">"],Vg(e)&&(e=e.slice(),r=!0);var u=t?e:r?[l(e[0]),l(e[1])]:l(e);return Wg(s)?s.replace("{value}",r?u[0]:u).replace("{value2}",r?u[1]:u):Ug(s)?r?s(e[0],e[1]):s(e):r?e[0]===a[0]?n[0]+" "+u[1]:e[1]===a[1]?n[1]+" "+u[0]:u[0]+" - "+u[1]:u;function l(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=_5([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,r=n.length-1;r>=0;r--){var i=n[r],o=e.getDimensionInfo(i);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||(t.target={}),i=t.controller||(t.controller={});Ig(r,n),Ig(i,n);var o=this.isCategory();function a(n){x5(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}a.call(this,r),a.call(this,i),function(e,t,n){var r=e[t],i=e[n];r&&!i&&(i=e[n]={},w5(r,(function(e,t){if(SZ.isValidType(t)){var n=m5.get(t,"inactive",o);null!=n&&(i[t]=n,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}.call(this,r,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol()||"roundRect";w5(this.stateList,(function(a){var s=this.itemSize,u=e[a];u||(u=e[a]={color:o?r:[r]}),null==u.symbol&&(u.symbol=t&&Mg(t)||(o?i:[i])),null==u.symbolSize&&(u.symbolSize=n&&Mg(n)||(o?s[0]:[s[0],s[0]])),u.symbol=y5(u.symbol,(function(e){return"none"===e?i:e}));var l=u.symbolSize;if(null!=l){var c=-1/0;b5(l,(function(e){e>c&&(c=e)})),u.symbolSize=y5(l,(function(e){return S5(e,[0,c],[0,s[0]],!0)}))}}),this)}.call(this,i)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(zk),C5=E5,k5=[20,140],M5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=k5[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=k5[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):Vg(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),Lg(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=Rx((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),(function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)}),this),t.push({seriesId:n.id,dataIndex:r})}),this),t},t.prototype.getVisualMeta=function(e){var t=I5(this,"outOfRange",this.getExtent()),n=I5(this,"inRange",this.option.range.slice()),r=[];function i(t,n){r.push({value:t,color:e(t,n)})}for(var o=0,a=0,s=n.length,u=t.length;a<u&&(!n.length||t[a]<=n[0]);a++)t[a]<n[o]&&i(t[a],"outOfRange");for(var l=1;o<s;o++,l=0)l&&r.length&&i(n[o],"outOfRange"),i(n[o],"inRange");for(l=1;a<u;a++)(!n.length||n[n.length-1]<t[a])&&(l&&(r.length&&i(r[r.length-1].value,"outOfRange"),l=0),i(t[a],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=IC(C5.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(C5);function I5(e,t,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],o=[],a=0;a<=200&&i<n[1];a++)o.push(i),i+=r;return o.push(n[1]),o}var T5=M5,A5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return og(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,r){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,r):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=gk(t.get("padding")||0),r=e.getBoundingRect();e.add(new CS({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){var r=(n=n||{}).forceState,i=this.visualMapModel,o={};if("color"===t){var a=i.get("contentColor");o.color=a}function s(e){return o[e]}function u(e,t){o[e]=t}var l=i.controllerVisuals[r||i.getValueState(e)];return Lg(SZ.prepareVisualTypes(l),(function(r){var i=l[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=l.__alphaForOpacity),SZ.dependsOn(r,t)&&i&&i.applyVisual(e,s,u)})),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;Nk(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,r){},t.type="visualMap",t}(LT),N5=A5,D5=[["left","right","width"],["top","bottom","height"]];function P5(e,t,n){var r=e.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===r.orient?1:0,s=D5[a],u=[0,null,10],l={},c=0;c<3;c++)l[D5[1-a][c]]=u[c],l[s[c]]=2===c?n[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][a],d=Ak(l,o,r.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*o[f[1]]?0:1]}function O5(e,t){return Lg(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var L5=Px,R5=Lg,B5=Math.min,z5=Math.max,F5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return og(t,e),t.prototype.doRender=function(e,t,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var r=t[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,o=i.get("textGap"),a=i.itemSize,s=this._shapes.mainGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),l=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new GS({style:{x:u[0],y:u[1],verticalAlign:"horizontal"===c?"middle":l,align:"horizontal"===c?l:"center",text:r,font:f.getFont(),fill:f.getTextColor()}}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,i=this._orient,o=this._useHandle,a=P5(t,this.api,r),s=n.mainGroup=this._createBarGroup(a),u=new Mx;s.add(u),u.add(n.outOfRange=j5()),u.add(n.inRange=j5(null,o?V5(this._orient):null,jg(this._dragHandle,this,"all",!1),jg(this._dragHandle,this,"all",!0))),u.setClipPath(new CS({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=t.textStyleModel.getTextRect("\u56fd"),c=z5(l.width,l.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,r,c,i),this._createHandle(t,s,1,r,c,i)),this._createIndicator(t,s,r,c,i),e.add(s)},t.prototype._createHandle=function(e,t,n,r,i,o){var a=jg(this._dragHandle,this,n,!1),s=jg(this._dragHandle,this,n,!0),u=dx(e.get("handleSize"),r[0]),l=rP(e.get("handleIcon"),-u/2,-u/2,u,u,null,!0),c=V5(this._orient);l.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){rm(e.event)}}),l.x=r[0]/2,l.useStyle(e.getModel("handleStyle").getItemStyle()),l.setStyle({strokeNoScale:!0,strokeFirst:!0}),l.style.lineWidth*=2,l.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),zE(l,!0),t.add(l);var f=this.visualMapModel.textStyleModel,d=new GS({cursor:c,draggable:!0,drift:a,onmousemove:function(e){rm(e.event)},ondragend:s,style:{x:0,y:0,text:"",font:f.getFont(),fill:f.getTextColor()}});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var h=[u,0],p=this._shapes;p.handleThumbs[n]=l,p.handleLabelPoints[n]=h,p.handleLabels[n]=d},t.prototype._createIndicator=function(e,t,n,r,i){var o=dx(e.get("indicatorSize"),n[0]),a=rP(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(a instanceof mS){var u=a.style;a.useStyle(Ag({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},s))}else a.useStyle(s);t.add(a);var l=this.visualMapModel.textStyleModel,c=new GS({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:l.getFont(),fill:l.getTextColor()}});this.group.add(c);var f=[("horizontal"===i?r/2:6)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=c,d.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(e,i[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():G5(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[L5(t[0],n,r,!0),L5(t[1],n,r,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];OY(t,r,i,e,0);var o=n.getExtent();this._dataInterval=[L5(r[0],i,o,!0),L5(r[1],i,o,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],o=e?i:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},t.prototype._createBarVisual=function(e,t,n,r){var i={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,i),a=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],s=this._createBarPoints(n,a);return{barColor:new $A(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=[],r=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var i=1;i<100;i++){var o=e[0]+r*i;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:i/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Mx("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,o=n.handleLabels,a=r.itemSize,s=r.getExtent();R5([0,1],(function(u){var l=i[u];l.setStyle("fill",t.handlesColor[u]),l.y=e[u];var c=L5(e[u],[0,a[1]],s,!0),f=this.getControllerVisual(c,"symbolSize");l.scaleX=l.scaleY=f/a[0],l.x=a[0]-f/2;var d=kN(n.handleLabelPoints[u],CN(l,this.group));o[u].setStyle({x:d[0],y:d[1],text:r.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,r){var i=this.visualMapModel,o=i.getExtent(),a=i.itemSize,s=[0,a[1]],u=this._shapes,l=u.indicator;if(l){l.attr("invisible",!1);var c=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),f=this.getControllerVisual(e,"symbolSize"),d=L5(e,o,s,!0),h=a[0]-f/2,p={x:l.x,y:l.y};l.y=d,l.x=h;var g=kN(u.indicatorLabelPoint,CN(l,this.group)),v=u.indicatorLabel;v.attr("invisible",!1);var m=this._applyTransform("left",u.mainGroup),y="horizontal"===this._orient;v.setStyle({text:(n||"")+i.formatValueText(t),verticalAlign:y?m:"middle",align:y?"center":m});var b={x:h,y:d,style:{fill:c}},x={style:{x:g[0],y:g[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};l.x=p.x,l.y=p.y,l.animateTo(b,w),v.animateTo(x,w)}else l.attr(b),v.attr(x);this._firstShowIndicator=!1;var _=this._shapes.handleLabels;if(_)for(var S=0;S<_.length;S++)this._api.enterBlur(_[S])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=B5(z5(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],o=n.getExtent();e=B5(z5(i[0],e),i[1]);var a=function(e,t,n){var r=6,i=e.get("hoverLinkDataSize");i&&(r=L5(i,t,n,!0)/2);return r}(n,o,i),s=[e-a,e+a],u=L5(e,i,o,!0),l=[L5(s[0],i,o,!0),L5(s[1],i,o,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(u,l[1],"< ",a):l[1]===1/0?this._showIndicator(u,l[0],"> ",a):this._showIndicator(u,u,"\u2248 ",a));var c=this._hoverLinkDataIndices,f=[];(t||G5(n))&&(f=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var d=function(e,t){var n={},r={};return i(e||[],n),i(t||[],r,n),[o(n),o(r)];function i(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=fw(e[r].seriesId,null);if(null==o)return;for(var a=rw(e[r].dataIndex),s=n&&n[o],u=0,l=a.length;u<l;u++){var c=a[u];s&&s[c]?s[c]=null:(t[o]||(t[o]={}))[c]=1}}}function o(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var i=o(e[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}(c,f);this._dispatchHighDown("downplay",O5(d[0],n)),this._dispatchHighDown("highlight",O5(d[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=VS(t).dataIndex){var r=VS(t),i=this.ecModel.getSeriesByIndex(r.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(r.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),r.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",O5(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,r){var i=CN(t,r?null:this.group);return Vg(e)?kN(e,i,n):MN(e,i,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(N5);function j5(e,t,n,r){return new NA({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){rm(e.event)},ondragend:r})}function G5(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function V5(e){return"vertical"===e?"ns-resize":"ew-resize"}var U5=F5,W5={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Z5=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},H5=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||n.push(function(e,t,n,r){var i={};return Lg(e,(function(e){var n=SZ.prepareVisualTypes(t[e]);i[e]=n})),{progress:function(e,o){var a,s;function u(e){return FD(o,s,e)}function l(e,t){GD(o,s,e,t)}null!=r&&(a=o.getDimensionIndex(r));for(var c=o.getStore();null!=(s=e.next());){var f=o.getRawDataItem(s);if(!f||!1!==f.visualMap)for(var d=null!=r?c.get(a,s):s,h=n(d),p=t[h],g=i[h],v=0,m=g.length;v<m;v++){var y=g[v];p[y]&&p[y].applyVisual(d,u,l)}}}}}(t.stateList,t.targetVisuals,jg(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var i=t.getVisualMeta(jg(Y5,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(n);o>=0&&(i.dimension=o,r.push(i))}})),e.getData().setVisual("visualMeta",r)}}];function Y5(e,t,n,r){for(var i=t.targetVisuals[r],o=SZ.prepareVisualTypes(i),a={color:jD(e.getData(),"color")},s=0,u=o.length;s<u;s++){var l=o[s],c=i["opacity"===l?"__alphaForOpacity":l];c&&c.applyVisual(n,f,d)}return a.color;function f(e){return a[e]}function d(e,t){a[e]=t}}var X5=Lg;function K5(e){var t=e&&e.visualMap;Vg(t)||(t=t?[t]:[]),X5(t,(function(e){if(e){q5(e,"splitList")&&!q5(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&Vg(t)&&X5(t,(function(e){Yg(e)&&(q5(e,"start")&&!q5(e,"min")&&(e.min=e.start),q5(e,"end")&&!q5(e,"max")&&(e.max=e.end))}))}}))}function q5(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var $5=!1;function Q5(e){$5||($5=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(W5,Z5),Lg(H5,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(K5))}function J5(e){e.registerComponentModel(T5),e.registerComponentView(U5),Q5(e)}var e6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return og(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],t6[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var i=this.option.categories;this.resetVisual((function(e,t){"categories"===r?(e.mappingMethod="category",e.categories=Mg(i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=Rg(this._pieceList,(function(e){return e=Mg(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,n={},r=SZ.listVisualTypes(),i=this.isCategory();function o(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}Lg(t.pieces,(function(e){Lg(r,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),Lg(n,(function(e,n){var r=!1;Lg(this.stateList,(function(e){r=r||o(t,e,n)||o(t.target,e,n)}),this),!r&&Lg(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=m5.get(n,"inRange"===e?"active":"inactive",i)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,r=this._pieceList,i=(t?n:e).selected||{};if(n.selected=i,Lg(r,(function(e,t){var n=this.getSelectedMapKey(e);i.hasOwnProperty(n)||(i[n]=!0)}),this),"single"===n.selectedMode){var o=!1;Lg(r,(function(e,t){var n=this.getSelectedMapKey(e);i[n]&&(o?i[n]=!1:o=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Mg(e)},t.prototype.getValueState=function(e){var t=SZ.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(r){var i=[],o=r.getData();o.each(this.getDataDimensionIndex(o),(function(t,r){SZ.findPieceIndex(t,n)===e&&i.push(r)}),this),t.push({seriesId:r.id,dataIndex:i})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],r=this,i=this._pieceList.slice();if(i.length){var o=i[0].interval[0];o!==-1/0&&i.unshift({interval:[-1/0,o]}),(o=i[i.length-1].interval[1])!==1/0&&i.push({interval:[o,1/0]})}else i.push({interval:[-1/0,1/0]});var a=-1/0;return Lg(i,(function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])}),this),{stops:t,outerColors:n}}function s(i,o){var a=r.getRepresentValue({interval:i});o||(o=r.getValueState(a));var s=e(a,o);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=IC(C5.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(C5),t6={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<i;s+=o,a++){var u=a===i-1?r[1]:s+o;e.push({interval:[s,u],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),Xx(e),Lg(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;Lg(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),n6(t,e)},pieces:function(e){var t=this.option;Lg(t.pieces,(function(t,n){Yg(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var o=r.interval=[],a=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],l=[],c=0;c<2;c++){for(var f=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=t[f[d]],a[c]=s[d],l[c]=2===d;null==o[c]&&(o[c]=u[c])}l[0]&&o[1]===1/0&&(a[0]=0),l[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(r.value=o[0])}r.visual=SZ.retrieveVisuals(t),e.push(r)}),this),n6(t,e),Xx(e),Lg(e,(function(e){var t=e.close,n=[["<","\u2264"][t[1]],[">","\u2265"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function n6(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var r6=e6,i6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return og(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),r=t.textStyleModel,i=r.getFont(),o=r.getTextColor(),a=this._getItemAlign(),s=t.itemSize,u=this._getViewData(),l=u.endsText,c=Jg(t.get("showLabel",!0),!l);l&&this._renderEndsText(e,l[0],s,c,a),Lg(u.viewPieceList,(function(r){var u=r.piece,l=new Mx;l.onclick=jg(this._onItemClick,this,u),this._enableHoverLink(l,r.indexInModelPieceList);var f=t.getRepresentValue(u);if(this._createItemSymbol(l,f,[0,0,s[0],s[1]]),c){var d=this.visualMapModel.getValueState(f);l.add(new GS({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:u.text,verticalAlign:"middle",align:a,font:i,fill:o,opacity:"outOfRange"===d?.5:1}}))}e.add(l)}),this),l&&this._renderEndsText(e,l[1],s,c,a),Tk(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(e){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:e,batch:O5(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return P5(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,r,i){if(t){var o=new Mx,a=this.visualMapModel.textStyleModel;o.add(new GS({style:{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?i:"center",text:t,font:a.getFont(),fill:a.getTextColor()}})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=Rg(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),r=e.get("orient"),i=e.get("inverse");return("horizontal"===r?i:!i)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add(rP(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,r=Mg(n.selected),i=t.getSelectedMapKey(e);"single"===n.selectedMode?(r[i]=!0,Lg(r,(function(e,t){r[t]=t===i}))):r[i]=!r[i],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})},t.type="visualMap.piecewise",t}(N5),o6=i6;function a6(e){e.registerComponentModel(r6),e.registerComponentView(o6),Q5(e)}var s6={label:{enabled:!0},decal:{show:!1}},u6=gw(),l6={};function c6(e,t){var n=e.getModel("aria");if(n.get("enabled")){var r=Mg(s6);Ig(r.label,e.getLocaleModel().get("aria"),!1),Ig(n.option,r,!1),function(){if(n.getModel("decal").get("show")){var t=cv();e.eachSeries((function(e){if(!e.isColorBySeries()){var n=t.get(e.type);n||(n={},t.set(e.type,n)),u6(e).scope=n}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if(Ug(t.enableAriaDecal))t.enableAriaDecal();else{var n=t.getData();if(t.isColorBySeries()){var r=hM(t.ecModel,t.name,l6,e.getSeriesCount()),i=n.getVisual("decal");n.setVisual("decal",l(i,r))}else{var o=t.getRawData(),a={},s=u6(t).scope;n.each((function(e){var t=n.getRawIndex(e);a[t]=e}));var u=o.count();o.each((function(e){var r=a[e],i=o.getName(e)||e+"",c=hM(t.ecModel,i,s,u),f=n.getItemVisual(r,"decal");n.setItemVisual(r,"decal",l(f,c))}))}}function l(e,t){var n=e?Ag(Ag({},t),e):t;return n.dirty=!0,n}}))}}(),function(){var r=e.getLocaleModel().get("aria"),a=n.getModel("label");if(a.option=Ng(a.option,r),!a.get("enabled"))return;var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var u,l=e.getSeriesCount(),c=a.get(["data","maxCount"])||10,f=a.get(["series","maxCount"])||10,d=Math.min(l,f);if(l<1)return;var h=function(){var t=e.get("title");t&&t.length&&(t=t[0]);return t&&t.text}();if(h){var p=a.get(["general","withTitle"]);u=i(p,{title:h})}else u=a.get(["general","withoutTitle"]);var g=[],v=l>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);u+=i(v,{seriesCount:l}),e.eachSeries((function(e,t){if(t<d){var n=void 0,r=e.get("name")?"withName":"withoutName";n=i(n=l>1?a.get(["series","multiple",r]):a.get(["series","single",r]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:o(e.subType)});var s=e.getData();if(s.count()>c)n+=i(a.get(["data","partialData"]),{displayCnt:c});else n+=a.get(["data","allData"]);for(var u=a.get(["data","separator","middle"]),f=a.get(["data","separator","end"]),h=[],p=0;p<s.count();p++)if(p<c){var v=s.getName(p),m=s.getValues(p),y=a.get(["data",v?"withName":"withoutName"]);h.push(i(y,{name:v,value:m.join(u)}))}n+=h.join(u)+f,g.push(n)}}));var m=a.getModel(["series","multiple","separator"]),y=m.get("middle"),b=m.get("end");u+=g.join(y)+b,s.setAttribute("aria-label",u)}()}function i(e,t){if(!Wg(e))return e;var n=e;return Lg(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}function o(t){return e.getLocaleModel().get(["series","typeNames"])[t]||"\u81ea\u5b9a\u4e49\u56fe"}}function f6(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},Lg(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}var d6={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},h6=function(){function e(e){var t=this._condVal=Wg(e)?new RegExp(e):function(e){return"[object RegExp]"===gg.call(e)}(e)?e:null;if(null==t){0,II("")}}return e.prototype.evaluate=function(e){var t=typeof e;return Wg(t)?this._condVal.test(e):!!Hg(t)&&this._condVal.test(e+"")},e}(),p6=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),g6=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),v6=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),m6=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),y6=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?n:t))return!1;return!0},e}();function b6(e,t){if(!0===e||!1===e){var n=new p6;return n.value=e,n}return w6(e)||II(""),e.and?x6("and",e,t):e.or?x6("or",e,t):e.not?function(e,t){var n=e.not,r="";0;w6(n)||II(r);var i=new m6;i.child=b6(n,t),i.child||II(r);return i}(e,t):function(e,t){for(var n="",r=t.prepareGetValue(e),i=[],o=Fg(e),a=e.parser,s=a?NI(a):null,u=0;u<o.length;u++){var l=o[u];if("parser"!==l&&!t.valueGetterAttrMap.get(l)){var c=pv(d6,l)?d6[l]:l,f=e[l],d=s?s(f):f,h=RI(c,d)||"reg"===c&&new h6(d);h||II(n),i.push(h)}}i.length||II(n);var p=new y6;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=i,p}(e,t)}function x6(e,t,n){var r=t[e];Vg(r)||II(""),r.length||II("");var i="and"===e?new g6:new v6;return i.children=Rg(r,(function(e){return b6(e,n)})),i.children.length||II(""),i}function w6(e){return Yg(e)&&!Og(e)}var _6=function(){function e(e,t){this._cond=b6(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();var S6={type:"echarts:filter",transform:function(e){for(var t,n,r,i=e.upstream,o=(n=e.config,r={valueGetterAttrMap:cv({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;pv(e,"dimension")||II("");var n=i.getDimensionInfo(t);return n||II(""),{dimIdx:n.index}},getValue:function(e){return i.retrieveValueFromItem(t,e.dimIdx)}},new _6(n,r)),a=[],s=0,u=i.count();s<u;s++)t=i.getRawDataItem(s),o.evaluate()&&a.push(t);return{data:a}}};var E6={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",i=rw(n);i.length||II(r);var o=[];Lg(i,(function(e){var n=e.dimension,i=e.order,a=e.parser,s=e.incomparable;if(null==n&&II(r),"asc"!==i&&"desc"!==i&&II(r),s&&"min"!==s&&"max"!==s){0,II("")}if("asc"!==i&&"desc"!==i){0,II("")}var u=t.getDimensionInfo(n);u||II(r);var l=a?NI(a):null;a&&!l&&II(r),o.push({dimIdx:u.index,parser:l,comparator:new OI(i,s)})}));var a=t.sourceFormat;a!==Wk&&a!==Zk&&II(r);for(var s=[],u=0,l=t.count();u<l;u++)s.push(t.getRawDataItem(u));return s.sort((function(e,n){for(var r=0;r<o.length;r++){var i=o[r],a=t.retrieveValueFromItem(e,i.dimIdx),s=t.retrieveValueFromItem(n,i.dimIdx);i.parser&&(a=i.parser(a),s=i.parser(s));var u=i.comparator.evaluate(a,s);if(0!==u)return u}return 0})),{data:s}}};var C6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return og(t,e),t.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),this._sourceManager=new rT(this),iT(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),iT(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Kk},t}(zk),k6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return og(t,e),t.type="dataset",t}(LT);var M6=V_.CMD;function I6(e,t){return Math.abs(e-t)<1e-5}function T6(e){var t,n,r,i,o,a=e.data,s=e.len(),u=[],l=0,c=0,f=0,d=0;function h(e,n){t&&t.length>2&&u.push(t),t=[e,n]}function p(e,n,r,i){I6(e,r)&&I6(n,i)||t.push(e,n,r,i,r,i)}function g(e,n,r,i,o,a){var s=Math.abs(n-e),u=4*Math.tan(s/4)/3,l=n<e?-1:1,c=Math.cos(e),f=Math.sin(e),d=Math.cos(n),h=Math.sin(n),p=c*o+r,g=f*a+i,v=d*o+r,m=h*a+i,y=o*u*l,b=a*u*l;t.push(p-y*f,g+b*c,v+y*h,m-b*d,v,m)}for(var v=0;v<s;){var m=a[v++],y=1===v;switch(y&&(f=l=a[v],d=c=a[v+1],m!==M6.L&&m!==M6.C&&m!==M6.Q||(t=[f,d])),m){case M6.M:l=f=a[v++],c=d=a[v++],h(f,d);break;case M6.L:p(l,c,n=a[v++],r=a[v++]),l=n,c=r;break;case M6.C:t.push(a[v++],a[v++],a[v++],a[v++],l=a[v++],c=a[v++]);break;case M6.Q:n=a[v++],r=a[v++],i=a[v++],o=a[v++],t.push(l+2/3*(n-l),c+2/3*(r-c),i+2/3*(n-i),o+2/3*(r-o),i,o),l=i,c=o;break;case M6.A:var b=a[v++],x=a[v++],w=a[v++],_=a[v++],S=a[v++],E=a[v++]+S;v+=1;var C=!a[v++];n=Math.cos(S)*w+b,r=Math.sin(S)*_+x,y?h(f=n,d=r):p(l,c,n,r),l=Math.cos(E)*w+b,c=Math.sin(E)*_+x;for(var k=(C?-1:1)*Math.PI/2,M=S;C?M>E:M<E;M+=k){g(M,C?Math.max(M+k,E):Math.min(M+k,E),b,x,w,_)}break;case M6.R:f=l=a[v++],d=c=a[v++],n=f+a[v++],r=d+a[v++],h(n,d),p(n,d,n,r),p(n,r,f,r),p(f,r,f,d),p(f,d,n,d);break;case M6.Z:t&&p(l,c,f,d),l=f,c=d}}return t&&t.length>2&&u.push(t),u}function A6(e,t,n,r,i,o,a,s,u,l){if(I6(e,n)&&I6(t,r)&&I6(i,a)&&I6(o,s))u.push(a,s);else{var c=2/l,f=c*c,d=a-e,h=s-t,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var g=n-e,v=r-t,m=i-a,y=o-s,b=g*g+v*v,x=m*m+y*y;if(b<f&&x<f)u.push(a,s);else{var w=d*g+h*v,_=-d*m-h*y;if(b-w*w<f&&w>=0&&x-_*_<f&&_>=0)u.push(a,s);else{var S=[],E=[];Hm(e,n,i,a,.5,S),Hm(t,r,o,s,.5,E),A6(S[0],E[0],S[1],E[1],S[2],E[2],S[3],E[3],u,l),A6(S[4],E[4],S[5],E[5],S[6],E[6],S[7],E[7],u,l)}}}}function N6(e,t,n){var r=e[t],i=e[1-t],o=Math.abs(r/i),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var u=[],l=0;l<a;l++)u.push(s);var c=n-a*s;if(c>0)for(l=0;l<c;l++)u[l%a]+=1;return u}function D6(e,t,n){for(var r=e.r0,i=e.r,o=e.startAngle,a=e.endAngle,s=Math.abs(a-o),u=s*i,l=i-r,c=u>Math.abs(l),f=N6([u,l],c?0:1,t),d=(c?s:l)/f.length,h=0;h<f.length;h++)for(var p=(c?l:s)/f[h],g=0;g<f[h];g++){var v={};c?(v.startAngle=o+d*h,v.endAngle=o+d*(h+1),v.r0=r+p*g,v.r=r+p*(g+1)):(v.startAngle=o+p*g,v.endAngle=o+p*(g+1),v.r0=r+d*h,v.r=r+d*(h+1)),v.clockwise=e.clockwise,v.cx=e.cx,v.cy=e.cy,n.push(v)}}function P6(e,t,n,r){return e*r-n*t}function O6(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,d=P6(c,f,u,l);if(Math.abs(d)<1e-6)return null;var h=P6(e-i,t-o,c,f)/d;return h<0||h>1?null:new Xb(h*u+e,h*l+t)}function L6(e,t,n){var r=new Xb;Xb.sub(r,n,t),r.normalize();var i=new Xb;return Xb.sub(i,e,t),i.dot(r)}function R6(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function B6(e){var t=e.points,n=[],r=[];m_(t,n,r);var i=new ix(n[0],n[1],r[0]-n[0],r[1]-n[1]),o=i.width,a=i.height,s=i.x,u=i.y,l=new Xb,c=new Xb;return o>a?(l.x=c.x=s+o/2,l.y=u,c.y=u+a):(l.y=c.y=u+a/2,l.x=s,c.x=s+o),function(e,t,n){for(var r=e.length,i=[],o=0;o<r;o++){var a=e[o],s=e[(o+1)%r],u=O6(a[0],a[1],s[0],s[1],t.x,t.y,n.x,n.y);u&&i.push({projPt:L6(u,t,n),pt:u,idx:o})}if(i.length<2)return[{points:e},{points:e}];i.sort((function(e,t){return e.projPt-t.projPt}));var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var f=l;l=c,c=f}var d=[l.pt.x,l.pt.y],h=[c.pt.x,c.pt.y],p=[d],g=[h];for(o=l.idx+1;o<=c.idx;o++)R6(p,e[o].slice());for(R6(p,h),R6(p,d),o=c.idx+1;o<=l.idx+r;o++)R6(g,e[o%r].slice());return R6(g,d),R6(g,h),[{points:p},{points:g}]}(t,l,c)}function z6(e,t,n,r){if(1===n)r.push(t);else{var i=Math.floor(n/2),o=e(t);z6(e,o[0],i,r),z6(e,o[1],n-i,r)}return r}function F6(e,t){var n,r=[],i=e.shape;switch(e.type){case"rect":!function(e,t,n){for(var r=e.width,i=e.height,o=r>i,a=N6([r,i],o?0:1,t),s=o?"width":"height",u=o?"height":"width",l=o?"x":"y",c=o?"y":"x",f=e[s]/a.length,d=0;d<a.length;d++)for(var h=e[u]/a[d],p=0;p<a[d];p++){var g={};g[l]=d*f,g[c]=p*h,g[s]=f,g[u]=h,g.x+=e.x,g.y+=e.y,n.push(g)}}(i,t,r),n=CS;break;case"sector":D6(i,t,r),n=EA;break;case"circle":D6({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},t,r),n=EA;break;default:var o=e.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=Rg(function(e,t){var n=T6(e),r=[];t=t||1;for(var i=0;i<n.length;i++){var o=n[i],a=[],s=o[0],u=o[1];a.push(s,u);for(var l=2;l<o.length;){var c=o[l++],f=o[l++],d=o[l++],h=o[l++],p=o[l++],g=o[l++];A6(s,u,c,f,d,h,p,g,a,t),s=p,u=g}r.push(a)}return r}(e.getUpdatedPathProxy(),a),(function(e){return function(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}(e)})),u=s.length;if(0===u)z6(B6,{points:s[0]},t,r);else if(u===t)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,f=Rg(s,(function(e){var t=[],n=[];m_(e,t,n);var r=(n[1]-t[1])*(n[0]-t[0]);return c+=r,{poly:e,area:r}}));f.sort((function(e,t){return t.area-e.area}));var d=t;for(l=0;l<u;l++){var h=f[l];if(d<=0)break;var p=l===u-1?d:Math.ceil(h.area/c*t);p<0||(z6(B6,{points:h.poly},p,r),d-=p)}}n=NA}if(!n)return function(e,t){for(var n=[],r=0;r<t;r++)n.push(nA(e));return n}(e,t);var g,v,m=[];for(l=0;l<r.length;l++){var y=new n;y.setShape(r[l]),g=e,(v=y).setStyle(g.style),v.z=g.z,v.z2=g.z2,v.zlevel=g.zlevel,m.push(y)}return m}function j6(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var i=[],o=[],a=n<r?e:t,s=Math.min(n,r),u=Math.abs(r-n)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,f=[a[0],a[1]],d=u,h=2;h<s;){var p=a[h-2],g=a[h-1],v=a[h++],m=a[h++],y=a[h++],b=a[h++],x=a[h++],w=a[h++];if(d<=0)f.push(v,m,y,b,x,w);else{for(var _=Math.min(d,c-1)+1,S=1;S<=_;S++){var E=S/_;Hm(p,v,y,x,E,i),Hm(g,m,b,w,E,o),p=i[3],g=o[3],f.push(i[1],o[1],i[2],o[2],p,g),v=i[5],m=o[5],y=i[6],b=o[6]}d-=_-1}}return a===e?[f,t]:[e,f]}function G6(e,t){for(var n=e.length,r=e[n-2],i=e[n-1],o=[],a=0;a<t.length;)o[a++]=r,o[a++]=i;return o}function V6(e){for(var t=0,n=0,r=0,i=e.length,o=0,a=i-2;o<i;a=o,o+=2){var s=e[a],u=e[a+1],l=e[o],c=e[o+1],f=s*c-l*u;t+=f,n+=(s+l)*f,r+=(u+c)*f}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function U6(e,t,n,r){for(var i=(e.length-2)/6,o=1/0,a=0,s=e.length,u=s-2,l=0;l<i;l++){for(var c=6*l,f=0,d=0;d<s;d+=2){var h=0===d?c:(c+d-2)%u+2,p=e[h]-n[0],g=e[h+1]-n[1],v=t[d]-r[0]-p,m=t[d+1]-r[1]-g;f+=v*v+m*m}f<o&&(o=f,a=l)}return a}function W6(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function Z6(e){return e.__isCombineMorphing}var H6="__mOriginal_";function Y6(e,t,n){var r=H6+t,i=e[r]||e[t];e[r]||(e[r]=e[t]);var o=n.replace,a=n.after,s=n.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=o?o.apply(this,t):i.apply(this,t),a&&a.apply(this,t),e}}function X6(e,t){var n=H6+t;e[n]&&(e[t]=e[n],e[n]=null)}function K6(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;){var o=r[i],a=r[i+1];r[i++]=t[0]*o+t[2]*a+t[4],r[i++]=t[1]*o+t[3]*a+t[5]}}function q6(e,t){var n=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=function(e,t){for(var n,r,i,o=[],a=[],s=0;s<Math.max(e.length,t.length);s++){var u=e[s],l=t[s],c=void 0,f=void 0;u?l?(r=c=(n=j6(u,l))[0],i=f=n[1]):(f=G6(i||u,u),c=u):(c=G6(r||l,l),f=l),o.push(c),a.push(f)}return[o,a]}(T6(n),T6(r)),o=i[0],a=i[1],s=e.getComputedTransform(),u=t.getComputedTransform();s&&K6(o,s),u&&K6(a,u),Y6(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var l=function(e,t,n,r){for(var i,o=[],a=0;a<e.length;a++){var s=e[a],u=t[a],l=V6(s),c=V6(u);null==i&&(i=l[2]<0!==c[2]<0);var f=[],d=[],h=0,p=1/0,g=[],v=s.length;i&&(s=W6(s));for(var m=6*U6(s,u,l,c),y=v-2,b=0;b<y;b+=2){var x=(m+b)%y+2;f[b+2]=s[x]-l[0],f[b+3]=s[x+1]-l[1]}if(f[0]=s[m]-l[0],f[1]=s[m+1]-l[1],n>0)for(var w=r/n,_=-r/2;_<=r/2;_+=w){var S=Math.sin(_),E=Math.cos(_),C=0;for(b=0;b<s.length;b+=2){var k=f[b],M=f[b+1],I=u[b]-c[0],T=u[b+1]-c[1],A=I*E-T*S,N=I*S+T*E;g[b]=A,g[b+1]=N;var D=A-k,P=N-M;C+=D*D+P*P}if(C<p){p=C,h=_;for(var O=0;O<g.length;O++)d[O]=g[O]}}else for(var L=0;L<v;L+=2)d[L]=u[L]-c[0],d[L+1]=u[L+1]-c[1];o.push({from:f,to:d,fromCp:l,toCp:c,rotation:-h})}return o}(o,a,10,Math.PI),c=[];Y6(t,"buildPath",{replace:function(e){for(var n=t.__morphT,r=1-n,i=[],o=0;o<l.length;o++){var a=l[o],s=a.from,u=a.to,f=a.rotation*n,d=a.fromCp,h=a.toCp,p=Math.sin(f),g=Math.cos(f);Pv(i,d,h,n);for(var v=0;v<s.length;v+=2){var m=s[v],y=s[v+1],b=m*r+(S=u[v])*n,x=y*r+(E=u[v+1])*n;c[v]=b*g-x*p+i[0],c[v+1]=b*p+x*g+i[1]}var w=c[0],_=c[1];e.moveTo(w,_);for(v=2;v<s.length;){var S=c[v++],E=c[v++],C=c[v++],k=c[v++],M=c[v++],I=c[v++];w===S&&_===E&&C===M&&k===I?e.lineTo(M,I):e.bezierCurveTo(S,E,C,k,M,I),w=M,_=I}}}})}function $6(e,t,n){if(!e||!t)return t;var r=n.done,i=n.during;return q6(e,t),t.__morphT=0,t.animateTo({__morphT:1},Ng({during:function(e){t.dirtyShape(),i&&i(e)},done:function(){X6(t,"buildPath"),X6(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),r&&r()}},n)),t}function Q6(e,t,n,r,i,o){e=i===n?0:Math.round(32767*(e-n)/(i-n)),t=o===r?0:Math.round(32767*(t-r)/(o-r));for(var a,s=0,u=32768;u>0;u/=2){var l=0,c=0;(e&u)>0&&(l=1),(t&u)>0&&(c=1),s+=u*u*(3*l^c),0===c&&(1===l&&(e=u-1-e,t=u-1-t),a=e,e=t,t=a)}return s}function J6(e){var t=1/0,n=1/0,r=-1/0,i=-1/0,o=Rg(e,(function(e){var o=e.getBoundingRect(),a=e.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),u=o.y+o.height/2+(a?a[5]:0);return t=Math.min(s,t),n=Math.min(u,n),r=Math.max(s,r),i=Math.max(u,i),[s,u]}));return Rg(o,(function(o,a){return{cp:o,z:Q6(o[0],o[1],t,n,r,i),path:e[a]}})).sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function e8(e){return F6(e.path,e.count)}function t8(e){return Vg(e[0])}function n8(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push({one:e[i],many:[]});for(i=0;i<t.length;i++){var o=t[i].length,a=void 0;for(a=0;a<o;a++)n[a%r].many.push(t[i][a])}var s=0;for(i=r-1;i>=0;i--)if(!n[i].many.length){var u=n[s].many;if(u.length<=1){if(!s)return n;s=0}o=u.length;var l=Math.ceil(o/2);n[i].many=u.slice(l,o),n[s].many=u.slice(0,l),s++}return n}var r8={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var i=nA(e.path);i.setStyle("opacity",n),t.push(i)}return t},split:null};function i8(e,t,n,r,i,o){if(e.length&&t.length){var a=UE("update",r,i);if(a&&a.duration>0){var s,u,l=r.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},a);t8(e)&&(s=e,u=t),t8(t)&&(s=t,u=e);for(var f=s?s===e:e.length>t.length,d=s?n8(u,s):n8(f?t:e,[f?e:t]),h=0,p=0;p<d.length;p++)h+=d[p].many.length;var g=0;for(p=0;p<d.length;p++)v(d[p],f,g,h),g+=d[p].many.length}}function v(e,t,r,i,a){var s=e.many,u=e.one;if(1!==s.length||a)for(var f=Ng({dividePath:r8[n],individualDelay:l&&function(e,t,n,o){return l(e+r,i)}},c),d=t?function(e,t,n){var r=[];!function e(t){for(var n=0;n<t.length;n++){var i=t[n];Z6(i)?e(i.childrenRef()):i instanceof cS&&r.push(i)}}(e);var i=r.length;if(!i)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||e8)({path:t,count:i});if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=J6(r),o=J6(o);for(var a=n.done,s=n.during,u=n.individualDelay,l=new Hb,c=0;c<i;c++){var f=r[c],d=o[c];d.parent=t,d.copyTransform(l),u||q6(f,d)}function h(e){for(var t=0;t<o.length;t++)o[t].addSelfToZr(e)}function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,X6(t,"addSelfToZr"),X6(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return o},Y6(t,"addSelfToZr",{after:function(e){h(e)}}),Y6(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<o.length;t++)o[t].removeSelfFromZr(e)}});var g=o.length;if(u){var v=g,m=function(){0===--v&&(p(),a&&a())};for(c=0;c<g;c++){var y=u?Ng({delay:(n.delay||0)+u(c,g,r[c],o[c]),done:m},n):n;$6(r[c],o[c],y)}}else t.__morphT=0,t.animateTo({__morphT:1},Ng({during:function(e){for(var n=0;n<g;n++){var r=o[n];r.__morphT=t.__morphT,r.dirtyShape()}s&&s(e)},done:function(){p();for(var t=0;t<e.length;t++)X6(e[t],"updateTransform");a&&a()}},n));return t.__zr&&h(t.__zr),{fromIndividuals:r,toIndividuals:o,count:g}}(s,u,f):function(e,t,n){var r=t.length,i=[],o=n.dividePath||e8;if(Z6(e)){!function e(t){for(var n=0;n<t.length;n++){var r=t[n];Z6(r)?e(r.childrenRef()):r instanceof cS&&i.push(r)}}(e.childrenRef());var a=i.length;if(a<r)for(var s=0,u=a;u<r;u++)i.push(nA(i[s++%a]));i.length=r}else{i=o({path:e,count:r});var l=e.getComputedTransform();for(u=0;u<i.length;u++)i[u].setLocalTransform(l);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=J6(i),t=J6(t);var c=n.individualDelay;for(u=0;u<r;u++){var f=c?Ng({delay:(n.delay||0)+c(u,r,i[u],t[u])},n):n;$6(i[u],t[u],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}(u,s,f),h=d.fromIndividuals,p=d.toIndividuals,g=h.length,m=0;m<g;m++){y=l?Ng({delay:l(m,g)},c):c;o(h[m],p[m],t?s[m]:e.one,t?e.one:s[m],y)}else{var y,b=t?s[0]:u,x=t?u:s[0];if(Z6(b))v({many:[b],one:x},!0,r,i,!0);else $6(b,x,y=l?Ng({delay:l(r,i)},c):c),o(b,x,b,x,y)}}}function o8(e){if(!e)return[];if(Vg(e)){for(var t=[],n=0;n<e.length;n++)t.push(o8(e[n]));return t}var r=[];return e.traverse((function(e){e instanceof cS&&!e.disableMorphing&&!e.invisible&&!e.ignore&&r.push(e)})),r}var a8=gw();function s8(e){var t=[];return Lg(e,(function(e){var n=e.data;if(!(n.count()>1e4))for(var r=n.getIndices(),i=function(e){for(var t=e.dimensions,n=0;n<t.length;n++){var r=e.getDimensionInfo(t[n]);if(r&&0===r.otherDims.itemGroupId)return t[n]}}(n),o=0;o<r.length;o++)t.push({data:n,dim:e.dim||i,divide:e.divide,dataIndex:o})})),t}function u8(e,t,n){e.traverse((function(e){e instanceof cS&&HE(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function l8(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function c8(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function f8(e,t,n){var r=UE("update",n,t);r&&e.traverse((function(e){if(e instanceof u_){var t=function(e){return VE(e).oldStyle}(e);t&&e.animateFrom({style:t},r)}}))}function d8(e,t,n){var r=s8(e),i=s8(t);function o(e,t,n,r,i){(n||e)&&t.animateFrom({style:n&&n!==e?Ag(Ag({},n.style),e.style):e.style},i)}function a(e){for(var t=0;t<e.length;t++)if(e[t].dim)return e[t].dim}var s=a(r),u=a(i),l=!1;function c(e,t){return function(n){var r=n.data,i=n.dataIndex;if(t)return r.getId(i);var o=r.hostModel&&r.hostModel.get("dataGroupId"),a=e?s||u:u||s,l=a&&r.getDimensionInfo(a),c=l&&l.ordinalMeta;if(l){var f=r.get(l.name,i);return c&&c.categories[f]||f+""}var d=r.getRawDataItem(i);return d&&d.groupId?d.groupId+"":o||r.getId(i)}}var f=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++){var i=e[r],o=t[r];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(r,i),d={};if(!f)for(var h=0;h<i.length;h++){var p=i[h],g=p.data.getItemGraphicEl(p.dataIndex);g&&(d[g.id]=!0)}function v(e,t){var n=r[t],a=i[e],s=a.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),c=a.data.getItemGraphicEl(a.dataIndex);u!==c?u&&d[u.id]||c&&(c8(c),u?(c8(u),l8(u),l=!0,i8(o8(u),o8(c),a.divide,s,e,o)):u8(c,s,e)):c&&f8(c,a.dataIndex,s)}new VR(r,i,c(!0,f),c(!1,f),null,"multiple").update(v).updateManyToOne((function(e,t){var n=i[e],a=n.data,s=a.hostModel,u=a.getItemGraphicEl(n.dataIndex),c=zg(Rg(t,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==u&&!d[e.id]}));u&&(c8(u),c.length?(Lg(c,(function(e){c8(e),l8(e)})),l=!0,i8(o8(c),o8(u),n.divide,s,e,o)):u8(u,s,n.dataIndex))})).updateOneToMany((function(e,t){var n=r[t],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!d[a.id]){var s=zg(Rg(e,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==a})),u=i[e[0]].data.hostModel;s.length&&(Lg(s,(function(e){return c8(e)})),a?(c8(a),l8(a),l=!0,i8(o8(a),o8(s),n.divide,u,e[0],o)):Lg(s,(function(t){return u8(t,u,e[0])})))}})).updateManyToMany((function(e,t){new VR(t,e,(function(e){return r[e].data.getId(r[e].dataIndex)}),(function(e){return i[e].data.getId(i[e].dataIndex)})).update((function(n,r){v(e[n],t[r])})).execute()})).execute(),l&&Lg(t,(function(e){var t=e.data.hostModel,r=t&&n.getViewOfSeriesModel(t),i=UE("update",t,0);r&&t.isAnimationEnabled()&&i&&i.duration>0&&r.group.traverse((function(e){e instanceof cS&&!e.animators.length&&e.animateFrom({style:{opacity:0}},i)}))}))}function h8(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function p8(e){return Vg(e)?e.sort().join(","):e}function g8(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function v8(e,t){var n=cv(),r=cv(),i=cv();return Lg(e.oldSeries,(function(t,n){var o=e.oldData[n],a=h8(t),s=p8(a);r.set(s,o),Vg(a)&&Lg(a,(function(e){i.set(e,{data:o,key:s})}))})),Lg(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.getData(),o=h8(e),a=p8(o),s=r.get(a);if(s)n.set(a,{oldSeries:[{divide:g8(s),data:s}],newSeries:[{divide:g8(t),data:t}]});else if(Vg(o)){0;var u=[];Lg(o,(function(e){var t=r.get(e);t&&u.push({divide:g8(t),data:t})})),u.length&&n.set(a,{oldSeries:u,newSeries:[{data:t,divide:g8(t)}]})}else{var l=i.get(o);if(l){var c=n.get(l.key);c||(c={oldSeries:[{data:l.data,divide:g8(l.data)}],newSeries:[]},n.set(l.key,c)),c.newSeries.push({data:t,divide:g8(t)})}}}})),n}function m8(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}FO([function(e){e.registerPainter("canvas",PL)}]),FO([function(e){e.registerPainter("svg",zR)}]),FO([function(e){e.registerChartView(lz),e.registerSeriesModel(EB),e.registerLayout(cz("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,hz("line"))},function(e){e.registerChartView($z),e.registerSeriesModel(Mz),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Gg(xz,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,wz("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,hz("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},function(e){e.registerChartView(dF),e.registerSeriesModel(mF),VD("pie",e.registerAction),e.registerLayout(Gg(nF,"pie")),e.registerProcessor(rF("pie")),e.registerProcessor(function(e){return{seriesType:e,reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value"),r=n.get(t,e);return!(Hg(r)&&!isNaN(r)&&r<0)}))}}}("pie"))},function(e){FO(jG),e.registerSeriesModel(bF),e.registerChartView(CF),e.registerLayout(cz("scatter"))},function(e){FO(aV),e.registerChartView(HG),e.registerSeriesModel(XG),e.registerLayout(GG),e.registerProcessor(rF("radar")),e.registerPreprocessor(WG)},function(e){FO(nW),e.registerChartView(DU),e.registerSeriesModel(OU),e.registerLayout(RU),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,LU),VD("map",e.registerAction)},function(e){e.registerChartView(wW),e.registerSeriesModel(FW),e.registerLayout(GW),e.registerVisual(VW),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,r=t.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=QU(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))}(e)},function(e){e.registerSeriesModel(YW),e.registerChartView(sZ),e.registerVisual(CZ),e.registerLayout(zZ),function(e){for(var t=0;t<UW.length;t++)e.registerAction({type:UW[t],update:"updateView"},gv);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var r=OW(e,["treemapZoomToNode","treemapRootToNode"],t);if(r){var i=t.getViewRoot();i&&(e.direction=RW(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}))}))}(e)},function(e){e.registerChartView(GH),e.registerSeriesModel(qH),e.registerProcessor(WZ),e.registerVisual(ZZ),e.registerVisual(YZ),e.registerLayout(rH),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,cH),e.registerLayout(dH),e.registerCoordinateSystem("graphView",{dimensions:jU.dimensions,create:hH}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},gv),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},gv),e.registerAction($H,(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var n=QU(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))},function(e){e.registerChartView(iY),e.registerSeriesModel(aY)},function(e){e.registerChartView(cY),e.registerSeriesModel(dY),e.registerLayout(hY),e.registerProcessor(rF("funnel"))},function(e){FO(KX),e.registerChartView(bY),e.registerSeriesModel(_Y),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,EY)},function(e){e.registerChartView(JX),e.registerSeriesModel(tK),e.registerLayout(nK),e.registerVisual(pK),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},function(e){e.registerSeriesModel(mK),e.registerChartView(EK),e.registerVisual(CK),e.registerLayout(MK),e.registerTransform(IK)},function(e){e.registerChartView(GK),e.registerSeriesModel(UK),e.registerPreprocessor(WK),e.registerVisual(qK),e.registerLayout(JK)},function(e){e.registerChartView(iq),e.registerSeriesModel(aq),e.registerLayout(cz("effectScatter"))},function(e){e.registerChartView(xq),e.registerSeriesModel(Cq),e.registerLayout(yq),e.registerVisual(Mq)},function(e){e.registerChartView(Dq),e.registerSeriesModel(Oq)},function(e){e.registerChartView(n$),e.registerSeriesModel(i$),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Gg(xz,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,wz("pictorialBar"))},function(e){e.registerChartView(a$),e.registerSeriesModel(u$),e.registerLayout(l$),e.registerProcessor(rF("themeRiver"))},function(e){e.registerChartView(v$),e.registerSeriesModel(b$),e.registerLayout(Gg(w$,"sunburst")),e.registerProcessor(Gg(rF,"sunburst")),e.registerVisual(S$),function(e){e.registerAction({type:h$,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var r=OW(e,[h$],t);if(r){var i=t.getViewRoot();i&&(e.direction=RW(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}))})),e.registerAction({type:p$,update:"none"},(function(e,t,n){e=Ag({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=OW(e,[p$],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction(Ag(e,{type:"highlight"}))})),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t,n){e=Ag({},e),n.dispatchAction(Ag(e,{type:"downplay"}))}))}(e)},function(e){e.registerChartView(vQ),e.registerSeriesModel(I$)}]),FO((function(e){FO(jG),FO(xJ)})),FO((function(e){FO(xJ),IG.registerAxisPointerClass("PolarAxisPointer",SJ),e.registerCoordinateSystem("polar",GJ),e.registerComponentModel(CJ),e.registerComponentView(o0),FF(e,"angle",MJ,r0),FF(e,"radius",IJ,i0),e.registerComponentView(XJ),e.registerComponentView(JJ),e.registerLayout(Gg(n0,"bar"))})),FO(nW),FO((function(e){FO(xJ),IG.registerAxisPointerClass("SingleAxisPointer",I0),e.registerComponentView(T0),e.registerComponentView(f0),e.registerComponentModel(h0),FF(e,"single",h0,h0.defaultOption),e.registerCoordinateSystem("single",w0)})),FO(KX),FO((function(e){e.registerComponentModel(D0),e.registerComponentView(O0),e.registerCoordinateSystem("calendar",z0)})),FO((function(e){e.registerComponentModel(U0),e.registerComponentView(H0),e.registerPreprocessor((function(e){var t=e.graphic;Vg(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))})),FO((function(e){e.registerComponentModel(k1),e.registerComponentView(T1),S1("saveAsImage",N1),S1("magicType",R1),S1("dataView",Z1),S1("dataZoom",m2),S1("restore",q1),FO(x1)})),FO((function(e){FO(xJ),e.registerComponentModel(b2),e.registerComponentView(V2),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},gv),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},gv)})),FO(xJ),FO((function(e){e.registerComponentView(u3),e.registerComponentModel(f3),e.registerPreprocessor(W2),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,n3),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},gv),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},gv),S1("brush",p3)})),FO((function(e){e.registerComponentModel(g3),e.registerComponentView(v3)})),FO((function(e){e.registerComponentModel(x3),e.registerComponentView(A3),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,n){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Ng({currentIndex:r.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}))}(e),e.registerPreprocessor(N3)})),FO((function(e){e.registerComponentModel(j3),e.registerComponentView(J3),e.registerPreprocessor((function(e){O3(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))})),FO((function(e){e.registerComponentModel(t4),e.registerComponentView(l4),e.registerPreprocessor((function(e){O3(e.series,"markLine")&&(e.markLine=e.markLine||{})}))})),FO((function(e){e.registerComponentModel(f4),e.registerComponentView(x4),e.registerPreprocessor((function(e){O3(e.series,"markArea")&&(e.markArea=e.markArea||{})}))})),FO((function(e){FO(O4),FO(U4)})),FO((function(e){FO(r5),FO(p5)})),FO(r5),FO(p5),FO((function(e){FO(J5),FO(a6)})),FO(J5),FO(a6),FO((function(e){e.registerPreprocessor(f6),e.registerVisual(e.PRIORITY.VISUAL.ARIA,c6)})),FO((function(e){e.registerTransform(S6),e.registerTransform(E6)})),FO((function(e){e.registerComponentModel(C6),e.registerComponentView(k6)})),FO((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){Lg(rw(n.seriesTransition),(function(e){Lg(rw(e.to),(function(e){for(var t=n.updatedSeries,r=0;r<t.length;r++)(null!=e.seriesIndex&&e.seriesIndex===t[r].seriesIndex||null!=e.seriesId&&e.seriesId===t[r].id)&&(t[r].__universalTransitionEnabled=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){var r=a8(t);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)Lg(rw(i),(function(e){!function(e,t,n,r){var i=[],o=[];Lg(rw(e.from),(function(e){var n=m8(t.oldSeries,e);n>=0&&i.push({data:t.oldData[n],divide:g8(t.oldData[n]),dim:e.dimension})})),Lg(rw(e.to),(function(e){var t=m8(n.updatedSeries,e);if(t>=0){var r=n.updatedSeries[t].getData();o.push({data:r,divide:g8(r),dim:e.dimension})}})),i.length>0&&o.length>0&&d8(i,o,r)}(e,r,n,t)}));else{var o=v8(r,n);Lg(o.keys(),(function(e){var n=o.get(e);d8(n.oldSeries,n.newSeries,t)}))}Lg(n.updatedSeries,(function(e){e.__universalTransitionEnabled&&(e.__universalTransitionEnabled=!1)}))}for(var a=e.getSeries(),s=r.oldSeries=[],u=r.oldData=[],l=0;l<a.length;l++){var c=a[l].getData();c.count()<1e4&&(s.push(a[l]),u.push(c))}}))})),FO(CL);var y8=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={pending:{work:{value:20},message:{value:10},monthly:{value:99},yesterday:{value:10}},option:{title:{text:"\u8868\u683c\u6d4b\u8bd5"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["\u5269\u4f59\u5f85\u5904\u7406","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Email",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:[820,932,901,934,1290,1330,1320]}]},cake:{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:20,name:"\u5269\u4f59\u5f85\u5904\u7406\u5de5\u4f5c"},{value:10,name:"\u5269\u4f59\u672a\u5904\u7406\u4fe1\u606f"},{value:99,name:"\u672c\u6708\u5904\u7406\u5de5\u4f5c"},{value:10,name:"\u6628\u65e5\u5904\u7406\u5de5\u4f5c"}]}]}},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){var e=CO(document.getElementById("main"),"dark"),t=this.state.option;t&&e.setOption(t);var n=CO(document.getElementById("cake")),r=this.state.cake;r&&n.setOption(r)}},{key:"render",value:function(){var e=this.state.pending;return(0,J.jsxs)("div",{className:"home",children:[(0,J.jsx)("div",{children:(0,J.jsxs)(En,{gutter:16,children:[(0,J.jsx)(Tn,{span:6,children:(0,J.jsx)("div",{className:"pandect",children:(0,J.jsxs)("div",{className:"message",children:[(0,J.jsx)("div",{className:"value",children:e.work.value}),(0,J.jsx)("br",{}),(0,J.jsx)("div",{children:"\u5269\u4f59\u5f85\u5904\u7406\u5de5\u4f5c"})]})})}),(0,J.jsx)(Tn,{span:6,children:(0,J.jsx)("div",{className:"pandect",children:(0,J.jsxs)("div",{className:"message",children:[(0,J.jsx)("div",{className:"value",children:e.message.value}),(0,J.jsx)("br",{}),(0,J.jsx)("div",{children:"\u5269\u4f59\u672a\u5904\u7406\u4fe1\u606f"})]})})}),(0,J.jsx)(Tn,{span:6,children:(0,J.jsx)("div",{className:"pandect",children:(0,J.jsxs)("div",{className:"message",children:[(0,J.jsx)("div",{className:"value",children:e.monthly.value}),(0,J.jsx)("br",{}),(0,J.jsx)("div",{children:"\u672c\u6708\u5904\u7406\u5de5\u4f5c"})]})})}),(0,J.jsx)(Tn,{span:6,children:(0,J.jsx)("div",{className:"pandect",children:(0,J.jsxs)("div",{className:"message",children:[(0,J.jsx)("div",{className:"value",children:e.yesterday.value}),(0,J.jsx)("br",{}),(0,J.jsx)("div",{children:"\u6628\u65e5\u5904\u7406\u5de5\u4f5c"})]})})})]})}),(0,J.jsx)("br",{}),(0,J.jsx)("div",{children:(0,J.jsxs)(En,{gutter:16,children:[(0,J.jsx)(Tn,{span:16,children:(0,J.jsx)("div",{className:"chart",children:(0,J.jsx)("div",{id:"main",style:{height:"100%",width:"100%"}})})}),(0,J.jsx)(Tn,{span:8,children:(0,J.jsx)("div",{className:"chart",children:(0,J.jsx)("div",{id:"cake",style:{height:"100%",width:"100%"}})})})]})})]})}}]),n}(b.Component),b8=y8;function x8(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function w8(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function _8(e){var t=Oe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return _t(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var S8=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],E8=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,o=e.popupElement,a=e.containerWidth,s=e.animation,u=e.transitionName,l=e.dropdownStyle,c=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,h=e.placement,p=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,m=e.getPopupContainer,y=e.empty,w=e.getTriggerDOMNode,_=e.onPopupVisibleChange,S=e.onPopupMouseEnter,E=ze(e,S8),C="".concat(n,"-dropdown"),k=o;g&&(k=g(o));var M=b.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(p)}),[p]),I=s?"".concat(C,"-").concat(s):u,T=b.useRef(null);b.useImperativeHandle(t,(function(){return{getPopupElement:function(){return T.current}}}));var A=Oe({minWidth:a},l);return"number"===typeof p?A.width=p:p&&(A.width=a),b.createElement(Is,x({},E,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:M,prefixCls:C,popupTransitionName:I,popup:b.createElement("div",{ref:T,onMouseEnter:S},k),popupAlign:v,popupVisible:r,getPopupContainer:m,popupClassName:oe()(c,(0,re.Z)({},"".concat(C,"-empty"),y)),popupStyle:A,getTriggerDOMNode:w,onPopupVisibleChange:_}),i)},C8=b.forwardRef(E8);C8.displayName="SelectTrigger";var k8=C8,M8="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),I8="aria-",T8="data-";function A8(e,t){return 0===e.indexOf(t)}function N8(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Oe({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||A8(n,I8))||t.data&&A8(n,T8)||t.attr&&M8.includes(n))&&(r[n]=e[n])})),r}var D8=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children;return t="function"===typeof r?r(i):r,b.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:b.createElement("span",{className:oe()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},P8=function(e,t){var n,r,i=e.prefixCls,o=e.id,a=e.inputElement,s=e.disabled,u=e.tabIndex,l=e.autoFocus,c=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,p=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,m=e.onChange,y=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,_=e.open,S=e.attrs,E=a||b.createElement("input",null),C=E,k=C.ref,M=C.props,I=M.onKeyDown,T=M.onChange,A=M.onMouseDown,N=M.onCompositionStart,D=M.onCompositionEnd,P=M.style;return E=b.cloneElement(E,Oe(Oe({id:o,ref:Ii(t,k),disabled:s,tabIndex:u,autoComplete:c||"off",type:"search",autoFocus:l,className:oe()("".concat(i,"-selection-search-input"),null===(n=E)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),style:Oe(Oe({},P),{},{opacity:f?null:0}),role:"combobox","aria-expanded":_,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":d},S),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",onKeyDown:function(e){g(e),I&&I(e)},onMouseDown:function(e){v(e),A&&A(e)},onChange:function(e){m(e),T&&T(e)},onCompositionStart:function(e){x(e),N&&N(e)},onCompositionEnd:function(e){w(e),D&&D(e)},onPaste:y}))},O8=b.forwardRef(P8);O8.displayName="Input";var L8=O8;function R8(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var B8="undefined"!==typeof window&&window.document&&window.document.documentElement;var z8=function(e){e.preventDefault(),e.stopPropagation()},F8=function(e){var t,n,r=e.id,i=e.prefixCls,o=e.values,a=e.open,s=e.searchValue,u=e.inputRef,l=e.placeholder,c=e.disabled,f=e.mode,d=e.showSearch,h=e.autoFocus,p=e.autoComplete,g=e.activeDescendantId,v=e.tabIndex,m=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,_=e.maxTagPlaceholder,S=void 0===_?function(e){return"+ ".concat(e.length," ...")}:_,E=e.tagRender,C=e.onToggleOpen,k=e.onRemove,M=e.onInputChange,I=e.onInputPaste,T=e.onInputKeyDown,A=e.onInputMouseDown,N=e.onInputCompositionStart,D=e.onInputCompositionEnd,P=b.useRef(null),O=(0,b.useState)(0),L=(0,y.Z)(O,2),R=L[0],B=L[1],z=(0,b.useState)(!1),F=(0,y.Z)(z,2),j=F[0],G=F[1],V="".concat(i,"-selection"),U=a||"tags"===f?s:"",W="tags"===f||d&&(a||j);function Z(e,t,n,r,i){return b.createElement("span",{className:oe()("".concat(V,"-item"),(0,re.Z)({},"".concat(V,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},b.createElement("span",{className:"".concat(V,"-item-content")},t),r&&b.createElement(D8,{className:"".concat(V,"-item-remove"),onMouseDown:z8,onClick:i,customizeIcon:m},"\xd7"))}t=function(){B(P.current.scrollWidth)},n=[U],B8?b.useLayoutEffect(t,n):b.useEffect(t,n);var H=b.createElement("div",{className:"".concat(V,"-search"),style:{width:R},onFocus:function(){G(!0)},onBlur:function(){G(!1)}},b.createElement(L8,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:c,autoFocus:h,autoComplete:p,editable:W,activeDescendantId:g,value:U,onKeyDown:T,onMouseDown:A,onChange:M,onPaste:I,onCompositionStart:N,onCompositionEnd:D,tabIndex:v,attrs:N8(e,!0)}),b.createElement("span",{ref:P,className:"".concat(V,"-search-mirror"),"aria-hidden":!0},U,"\xa0")),Y=b.createElement(Ed,{prefixCls:"".concat(V,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!c&&!t,o=n;if("number"===typeof w&&("string"===typeof n||"number"===typeof n)){var s=String(o);s.length>w&&(o="".concat(s.slice(0,w),"..."))}var u=function(t){t&&t.stopPropagation(),k(e)};return"function"===typeof E?function(e,t,n,r,i){return b.createElement("span",{onMouseDown:function(e){z8(e),C(!a)}},E({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,o,t,i,u):Z(n,o,t,i,u)},renderRest:function(e){var t="function"===typeof S?S(e):S;return Z(t,t,!1)},suffix:H,itemKey:"key",maxCount:x});return b.createElement(b.Fragment,null,Y,!o.length&&!U&&b.createElement("span",{className:"".concat(V,"-placeholder")},l))},j8=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,o=e.disabled,a=e.autoFocus,s=e.autoComplete,u=e.activeDescendantId,l=e.mode,c=e.open,f=e.values,d=e.placeholder,h=e.tabIndex,p=e.showSearch,g=e.searchValue,v=e.activeValue,m=e.maxLength,x=e.onInputKeyDown,w=e.onInputMouseDown,_=e.onInputChange,S=e.onInputPaste,E=e.onInputCompositionStart,C=e.onInputCompositionEnd,k=b.useState(!1),M=(0,y.Z)(k,2),I=M[0],T=M[1],A="combobox"===l,N=A||p,D=f[0],P=g||"";A&&v&&!I&&(P=v),b.useEffect((function(){A&&T(!1)}),[A,v]);var O=!("combobox"!==l&&!c&&!p)&&!!P,L=!D||"string"!==typeof D.label&&"number"!==typeof D.label?void 0:D.label.toString();return b.createElement(b.Fragment,null,b.createElement("span",{className:"".concat(n,"-selection-search")},b.createElement(L8,{ref:i,prefixCls:n,id:r,open:c,inputElement:t,disabled:o,autoFocus:a,autoComplete:s,editable:N,activeDescendantId:u,value:P,onKeyDown:x,onMouseDown:w,onChange:function(e){T(!0),_(e)},onPaste:S,onCompositionStart:E,onCompositionEnd:C,tabIndex:h,attrs:N8(e,!0),maxLength:A?m:void 0})),!A&&D&&!O&&b.createElement("span",{className:"".concat(n,"-selection-item"),title:L},D.label),function(){if(D)return null;var e=O?{visibility:"hidden"}:void 0;return b.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},d)}())};function G8(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=b.useRef(null),n=b.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return b.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var V8=function(e,t){var n=(0,b.useRef)(null),r=(0,b.useRef)(!1),i=e.prefixCls,o=e.open,a=e.mode,s=e.showSearch,u=e.tokenWithEnter,l=e.onSearch,c=e.onSearchSubmit,f=e.onToggleOpen,d=e.onInputKeyDown,h=e.domRef;b.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=G8(0),g=(0,y.Z)(p,2),v=g[0],m=g[1],w=(0,b.useRef)(null),_=function(e){!1!==l(e,!0,r.current)&&f(!0)},S={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==ed.UP&&n!==ed.DOWN||e.preventDefault(),d&&d(e),n!==ed.ENTER||"tags"!==a||r.current||o||null===c||void 0===c||c(e.target.value),t=n,[ed.ESC,ed.SHIFT,ed.BACKSPACE,ed.TAB,ed.WIN_KEY,ed.ALT,ed.META,ed.WIN_KEY_RIGHT,ed.CTRL,ed.SEMICOLON,ed.EQUALS,ed.CAPS_LOCK,ed.CONTEXT_MENU,ed.F1,ed.F2,ed.F3,ed.F4,ed.F5,ed.F6,ed.F7,ed.F8,ed.F9,ed.F10,ed.F11,ed.F12].includes(t)||f(!0)},onInputMouseDown:function(){m(!0)},onInputChange:function(e){var t=e.target.value;if(u&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,_(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");w.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&_(e.target.value)}},E="multiple"===a||"tags"===a?b.createElement(F8,x({},e,S)):b.createElement(j8,x({},e,S));return b.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=v();e.target===n.current||t||e.preventDefault(),("combobox"===a||s&&t)&&o||(o&&l("",!0,!1),f())}},E)},U8=b.forwardRef(V8);U8.displayName="Selector";var W8=U8;var Z8=b.createContext(null);var H8=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Y8=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function X8(e){return"tags"===e||"multiple"===e}var K8=b.forwardRef((function(e,t){var n,r,i=e.id,o=e.prefixCls,a=e.className,s=e.showSearch,u=e.tagRender,l=e.direction,c=e.omitDomProps,f=e.displayValues,d=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,g=void 0===p?"Not Found":p,v=e.onClear,m=e.mode,w=e.disabled,_=e.loading,S=e.getInputElement,E=e.getRawInputElement,C=e.open,k=e.defaultOpen,M=e.onDropdownVisibleChange,I=e.activeValue,T=e.onActiveValueChange,A=e.activeDescendantId,N=e.searchValue,D=e.onSearch,P=e.onSearchSplit,O=e.tokenSeparators,L=e.allowClear,R=e.showArrow,B=e.inputIcon,z=e.clearIcon,F=e.OptionList,j=e.animation,G=e.transitionName,V=e.dropdownStyle,U=e.dropdownClassName,W=e.dropdownMatchSelectWidth,Z=e.dropdownRender,H=e.dropdownAlign,Y=e.placement,X=e.getPopupContainer,K=e.showAction,q=void 0===K?[]:K,$=e.onFocus,Q=e.onBlur,J=e.onKeyUp,ee=e.onKeyDown,te=e.onMouseDown,ie=ze(e,H8),ae=X8(m),se=(void 0!==s?s:ae)||"combobox"===m,ue=Oe({},ie);Y8.forEach((function(e){delete ue[e]})),null===c||void 0===c||c.forEach((function(e){delete ue[e]}));var le=b.useState(!1),ce=(0,y.Z)(le,2),fe=ce[0],de=ce[1];b.useEffect((function(){de(Hi())}),[]);var he=b.useRef(null),pe=b.useRef(null),ge=b.useRef(null),ve=b.useRef(null),me=b.useRef(null),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=b.useState(!1),n=(0,y.Z)(t,2),r=n[0],i=n[1],o=b.useRef(null),a=function(){window.clearTimeout(o.current)};b.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),be=(0,y.Z)(ye,3),xe=be[0],we=be[1],_e=be[2];b.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=ve.current)||void 0===e?void 0:e.focus,blur:null===(t=ve.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=me.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Se=b.useMemo((function(){var e;if("combobox"!==m)return N;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[N,m,f]),Ee="combobox"===m&&"function"===typeof S&&S()||null,Ce="function"===typeof E&&E(),ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ki((function(){return Ii.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(pe,null===Ce||void 0===Ce||null===(n=Ce.props)||void 0===n?void 0:n.ref),Me=Ls(void 0,{defaultValue:k,value:C}),Ie=(0,y.Z)(Me,2),Te=Ie[0],Ae=Ie[1],Ne=Te,De=!g&&h;(w||De&&Ne&&"combobox"===m)&&(Ne=!1);var Pe=!De&&Ne,Le=b.useCallback((function(e){var t=void 0!==e?e:!Ne;Ne===t||w||(Ae(t),null===M||void 0===M||M(t))}),[w,Ne,Ae,M]),Re=b.useMemo((function(){return(O||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[O]),Be=function(e,t,n){var r=!0,i=e;null===T||void 0===T||T(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=mr(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,ne.Z)(t),(0,ne.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,O);return"combobox"!==m&&o&&(i="",null===P||void 0===P||P(o),Le(!1),r=!1),D&&Se!==i&&D(i,{source:t?"typing":"effect"}),r};b.useEffect((function(){Ne||ae||"combobox"===m||Be("",!1,!1)}),[Ne]),b.useEffect((function(){Te&&w&&Ae(!1),w&&we(!1)}),[w]);var Fe=G8(),Ge=(0,y.Z)(Fe,2),Ve=Ge[0],Ue=Ge[1],We=b.useRef(!1),Ze=[];b.useEffect((function(){return function(){Ze.forEach((function(e){return clearTimeout(e)})),Ze.splice(0,Ze.length)}}),[]);var He,Ye=b.useState(null),Xe=(0,y.Z)(Ye,2),Ke=Xe[0],qe=Xe[1],$e=b.useState({}),Qe=(0,y.Z)($e,2)[1];od((function(){if(Pe){var e,t=Math.ceil(null===(e=he.current)||void 0===e?void 0:e.offsetWidth);Ke===t||Number.isNaN(t)||qe(t)}}),[Pe]),Ce&&(He=function(e){Le(e)}),function(e,t,n){var r=b.useRef(null);r.current={open:t,triggerOpen:n},b.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[he.current,null===(e=ge.current)||void 0===e?void 0:e.getPopupElement()]}),Pe,Le);var Je,et,tt=b.useMemo((function(){return Oe(Oe({},e),{},{notFoundContent:g,open:Ne,triggerOpen:Pe,id:i,showSearch:se,multiple:ae,toggleOpen:Le})}),[e,g,Pe,Ne,i,se,ae,Le]),nt=void 0!==R?R:_||!ae&&"combobox"!==m;nt&&(Je=b.createElement(D8,{className:oe()("".concat(o,"-arrow"),(0,re.Z)({},"".concat(o,"-arrow-loading"),_)),customizeIcon:B,customizeIconProps:{loading:_,searchValue:Se,open:Ne,focused:xe,showSearch:se}}));!w&&L&&(f.length||Se)&&(et=b.createElement(D8,{className:"".concat(o,"-clear"),onMouseDown:function(){null===v||void 0===v||v(),d([],{type:"clear",values:f}),Be("",!1,!1)},customizeIcon:z},"\xd7"));var rt,it=b.createElement(F,{ref:me}),ot=oe()(o,a,(r={},(0,re.Z)(r,"".concat(o,"-focused"),xe),(0,re.Z)(r,"".concat(o,"-multiple"),ae),(0,re.Z)(r,"".concat(o,"-single"),!ae),(0,re.Z)(r,"".concat(o,"-allow-clear"),L),(0,re.Z)(r,"".concat(o,"-show-arrow"),nt),(0,re.Z)(r,"".concat(o,"-disabled"),w),(0,re.Z)(r,"".concat(o,"-loading"),_),(0,re.Z)(r,"".concat(o,"-open"),Ne),(0,re.Z)(r,"".concat(o,"-customize-input"),Ee),(0,re.Z)(r,"".concat(o,"-show-search"),se),r)),at=b.createElement(k8,{ref:ge,disabled:w,prefixCls:o,visible:Pe,popupElement:it,containerWidth:Ke,animation:j,transitionName:G,dropdownStyle:V,dropdownClassName:U,direction:l,dropdownMatchSelectWidth:W,dropdownRender:Z,dropdownAlign:H,placement:Y,getPopupContainer:X,empty:h,getTriggerDOMNode:function(){return pe.current},onPopupVisibleChange:He,onPopupMouseEnter:function(){Qe({})}},Ce?b.cloneElement(Ce,{ref:ke}):b.createElement(W8,x({},e,{domRef:pe,prefixCls:o,inputElement:Ee,ref:ve,id:i,showSearch:se,mode:m,activeDescendantId:A,tagRender:u,values:f,open:Ne,onToggleOpen:Le,activeValue:I,searchValue:Se,onSearch:Be,onSearchSubmit:function(e){e&&e.trim()&&D(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:Re})));return rt=Ce?at:b.createElement("div",x({className:ot},ue,{ref:he,onMouseDown:function(e){var t,n=e.target,r=null===(t=ge.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=Ze.indexOf(i);-1!==t&&Ze.splice(t,1),_e(),fe||r.contains(document.activeElement)||null===(e=ve.current)||void 0===e||e.focus()}));Ze.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===te||void 0===te||te.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Ve(),r=e.which;if(r===ed.ENTER&&("combobox"!==m&&e.preventDefault(),Ne||Le(!0)),Ue(!!Se),r===ed.BACKSPACE&&!n&&ae&&!Se&&f.length){for(var i=(0,ne.Z)(f),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&d(i,{type:"remove",values:[o]})}for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];Ne&&me.current&&(t=me.current).onKeyDown.apply(t,[e].concat(l)),null===ee||void 0===ee||ee.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ne&&me.current&&(i=me.current).onKeyUp.apply(i,[e].concat(n)),null===J||void 0===J||J.apply(void 0,[e].concat(n))},onFocus:function(){we(!0),w||($&&!We.current&&$.apply(void 0,arguments),q.includes("focus")&&Le(!0)),We.current=!0},onBlur:function(){we(!1,(function(){We.current=!1,Le(!1)})),w||(Se&&("tags"===m?D(Se,{source:"submit"}):"multiple"===m&&D("",{source:"blur"})),Q&&Q.apply(void 0,arguments))}}),xe&&!Ne&&b.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,je.Z)(t))?t:n})).join(", "))),at,Je,et),b.createElement(Z8.Provider,{value:tt},rt)}));var q8=K8;function $8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$8(Object(n),!0).forEach((function(t){J8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e7=b.forwardRef((function(e,t){var n=e.height,r=e.offset,i=e.children,o=e.prefixCls,a=e.onInnerResize,s={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(s={height:n,position:"relative",overflow:"hidden"},u=Q8(Q8({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),b.createElement("div",{style:s},b.createElement(wl,{onResize:function(e){e.offsetHeight&&a&&a()}},b.createElement("div",{style:u,className:oe()(J8({},"".concat(o,"-holder-inner"),o)),ref:t},i)))}));e7.displayName="Filler";var t7=e7;function n7(e){return n7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n7(e)}function r7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a7(e,t){return a7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a7(e,t)}function s7(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(li){return!1}}();return function(){var n,r=l7(e);if(t){var i=l7(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u7(this,n)}}function u7(e,t){if(t&&("object"===n7(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l7(e){return l7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l7(e)}function c7(e){return"touches"in e?e.touches[0].pageY:e.pageY}var f7=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a7(e,t)}(o,e);var t,n,r,i=s7(o);function o(){var e;i7(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).moveRaf=null,e.scrollbarRef=b.createRef(),e.thumbRef=b.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),Fi.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:c7(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(Fi.cancel(e.moveRaf),r){var s=o+(c7(t)-i),u=e.getEnableScrollRange(),l=e.getEnableHeightRange(),c=l?s/l:0,f=Math.ceil(c*u);e.moveRaf=Fi((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),o=this.getTop(),a=this.showScroll(),s=a&&n;return b.createElement("div",{ref:this.scrollbarRef,className:oe()("".concat(r,"-scrollbar"),r7({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:s?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},b.createElement("div",{ref:this.thumbRef,className:oe()("".concat(r,"-scrollbar-thumb"),r7({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&o7(t.prototype,n),r&&o7(t,r),o}(b.Component);function d7(e){var t=e.children,n=e.setRef,r=b.useCallback((function(e){n(e)}),[]);return b.cloneElement(t,{ref:r})}function h7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p7=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&h7(t.prototype,n),r&&h7(t,r),e}(),g7=p7;function v7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y7(e){return y7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y7(e)}function b7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w7(e,t,n){var r=b7(b.useState(e),2),i=r[0],o=r[1],a=b7(b.useState(null),2),s=a[0],u=a[1];return b.useEffect((function(){var r=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var l=null,c=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var d=u(r[f]);if(d!==u(i[f])){l=f,c=c||d!==u(i[f+1]);break}}return null===l?null:{index:l,multiple:c}}(i||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),o(e)}),[e]),[s]}function _7(e){return _7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_7(e)}var S7="object"===("undefined"===typeof navigator?"undefined":_7(navigator))&&/Firefox/i.test(navigator.userAgent),E7=function(e,t){var n=(0,b.useRef)(!1),r=(0,b.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=(0,b.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&o.current.top||e>0&&o.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};var C7=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function k7(){return k7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k7.apply(this,arguments)}function M7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M7(Object(n),!0).forEach((function(t){T7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var P7=[],O7={overflowY:"auto",overflowAnchor:"none"};function L7(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,o=e.height,a=e.itemHeight,s=e.fullHeight,u=void 0===s||s,l=e.style,c=e.data,f=e.children,d=e.itemKey,h=e.virtual,p=e.component,g=void 0===p?"div":p,v=e.onScroll,m=e.onVisibleChange,y=D7(e,C7),x=!(!1===h||!o||!a),w=x&&c&&a*c.length>o,_=A7((0,b.useState)(0),2),S=_[0],E=_[1],C=A7((0,b.useState)(!1),2),k=C[0],M=C[1],I=oe()(r,i),T=c||P7,A=(0,b.useRef)(),N=(0,b.useRef)(),D=(0,b.useRef)(),P=b.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),O={getKey:P};function L(e){E((function(t){var n=function(e){var t=e;Number.isNaN($.current)||(t=Math.min(t,$.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return A.current.scrollTop=n,n}))}var R=(0,b.useRef)({start:0,end:T.length}),B=(0,b.useRef)(),z=A7(w7(T,P),1)[0];B.current=z;var F=function(e,t,n){var r=v7(b.useState(0),2),i=r[0],o=r[1],a=(0,b.useRef)(new Map),s=(0,b.useRef)(new g7),u=(0,b.useRef)(0);function l(){u.current+=1;var e=u.current;Promise.resolve().then((function(){e===u.current&&(a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Gi(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),o((function(e){return e+1})))}))}return[function(r,i){var o=e(r),s=a.current.get(o);i?(a.current.set(o,i),l()):a.current.delete(o),!s!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},l,s.current,i]}(P,null,null),j=A7(F,4),G=j[0],V=j[1],U=j[2],W=j[3],Z=b.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=N.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:T.length-1,offset:void 0};for(var t,n,r,i=0,s=T.length,u=0;u<s;u+=1){var l=T[u],c=P(l),f=U.get(c),d=i+(void 0===f?a:f);d>=S&&void 0===t&&(t=u,n=i),d>S+o&&void 0===r&&(r=u),i=d}return void 0===t&&(t=0,n=0),void 0===r&&(r=T.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,T.length),offset:n}}),[w,x,S,T,W,o]),H=Z.scrollHeight,Y=Z.start,X=Z.end,K=Z.offset;R.current.start=Y,R.current.end=X;var q=H-o,$=(0,b.useRef)(q);$.current=q;var Q=S<=0,J=S>=q,ee=E7(Q,J);var te=function(e,t,n,r){var i=(0,b.useRef)(0),o=(0,b.useRef)(null),a=(0,b.useRef)(null),s=(0,b.useRef)(!1),u=E7(t,n);return[function(t){if(e){Fi.cancel(o.current);var n=t.deltaY;i.current+=n,a.current=n,u(n)||(S7||t.preventDefault(),o.current=Fi((function(){var e=s.current?10:1;r(i.current*e),i.current=0})))}},function(t){e&&(s.current=t.detail===a.current)}]}(x,Q,J,(function(e){L((function(t){return t+e}))})),ne=A7(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var r,i=(0,b.useRef)(!1),o=(0,b.useRef)(0),a=(0,b.useRef)(null),s=(0,b.useRef)(null),u=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},l=function(){i.current=!1,r()},c=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,o.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",l))};r=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",l))},b.useLayoutEffect((function(){return e&&t.current.addEventListener("touchstart",c),function(){t.current.removeEventListener("touchstart",c),r(),clearInterval(s.current)}}),[e])}(x,A,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),(0,b.useLayoutEffect)((function(){function e(e){x&&e.preventDefault()}return A.current.addEventListener("wheel",re),A.current.addEventListener("DOMMouseScroll",ie),A.current.addEventListener("MozMousePixelScroll",e),function(){A.current.removeEventListener("wheel",re),A.current.removeEventListener("DOMMouseScroll",ie),A.current.removeEventListener("MozMousePixelScroll",e)}}),[x]);var ae=function(e,t,n,r,i,o,a,s){var u=b.useRef();return function(l){if(null!==l&&void 0!==l){if(Fi.cancel(u.current),"number"===typeof l)a(l);else if(l&&"object"===y7(l)){var c,f=l.align;c="index"in l?l.index:t.findIndex((function(e){return i(e)===l.key}));var d=l.offset,h=void 0===d?0:d;!function s(l,d){if(!(l<0)&&e.current){var p=e.current.clientHeight,g=!1,v=d;if(p){for(var m=d||f,y=0,b=0,x=0,w=Math.min(t.length,c),_=0;_<=w;_+=1){var S=i(t[_]);b=y;var E=n.get(S);y=x=b+(void 0===E?r:E),_===c&&void 0===E&&(g=!0)}var C=null;switch(m){case"top":C=b-h;break;case"bottom":C=x-p+h;break;default:var k=e.current.scrollTop;b<k?v="top":x>k+p&&(v="bottom")}null!==C&&C!==e.current.scrollTop&&a(C)}u.current=Fi((function(){g&&o(),s(l-1,v)}))}}(3)}}else s()}}(A,T,U,a,P,V,L,(function(){var e;null===(e=D.current)||void 0===e||e.delayHidden()}));b.useImperativeHandle(t,(function(){return{scrollTo:ae}})),(0,b.useLayoutEffect)((function(){if(m){var e=T.slice(Y,X+1);m(e,T)}}),[Y,X,T]);var se=function(e,t,n,r,i,o){var a=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=i(e,t+n,{}),s=a(e);return b.createElement(d7,{key:s,setRef:function(t){return r(e,t)}},o)}))}(T,Y,X,G,f,O),ue=null;return o&&(ue=I7(T7({},u?"height":"maxHeight",o),O7),x&&(ue.overflowY="hidden",k&&(ue.pointerEvents="none"))),b.createElement("div",k7({style:I7(I7({},l),{},{position:"relative"}),className:I},y),b.createElement(g,{className:"".concat(r,"-holder"),style:ue,ref:A,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==S&&L(t),null===v||void 0===v||v(e)}},b.createElement(t7,{prefixCls:r,height:H,offset:K,onInnerResize:V,ref:N},se)),x&&b.createElement(f7,{ref:D,prefixCls:r,scrollTop:S,height:o,scrollHeight:H,count:T.length,onScroll:function(e){L(e)},onStartMove:function(){M(!0)},onStopMove:function(){M(!1)}}))}var R7=b.forwardRef(L7);R7.displayName="List";var B7=R7;var z7=b.createContext(null),F7=["disabled","title","children","style","className"],j7=function(e,t){var n=b.useContext(Z8),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,s=n.searchValue,u=n.toggleOpen,l=n.notFoundContent,c=n.onPopupScroll,f=b.useContext(z7),d=f.flattenOptions,h=f.onActiveValue,p=f.defaultActiveFirstOption,g=f.onSelect,v=f.menuItemSelectedIcon,m=f.rawValues,w=f.fieldNames,_=f.virtual,S=f.listHeight,E=f.listItemHeight,C="".concat(r,"-item"),k=ki((function(){return d}),[o,d],(function(e,t){return t[0]&&e[1]!==t[1]})),M=b.useRef(null),I=function(e){e.preventDefault()},T=function(e){M.current&&M.current.scrollTo({index:e})},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=k.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=k[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},N=b.useState((function(){return A(0)})),D=(0,y.Z)(N,2),P=D[0],O=D[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(e);var n={source:t?"keyboard":"mouse"},r=k[e];r?h(r.value,e,n):h(null,-1,n)};(0,b.useEffect)((function(){L(!1!==p?A(0):-1)}),[k.length,s]),(0,b.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&o&&1===m.size){var e=Array.from(m)[0],t=k.findIndex((function(t){return t.data.value===e}));-1!==t&&(L(t),T(t))}}));o&&(null===(e=M.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,s]);var R=function(e){void 0!==e&&g(e,{selected:!m.has(e)}),a||u(!1)};if(b.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case ed.N:case ed.P:case ed.UP:case ed.DOWN:var r=0;if(t===ed.UP?r=-1:t===ed.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===ed.N?r=1:t===ed.P&&(r=-1)),0!==r){var i=A(P+r,r);T(i),L(i,!0)}break;case ed.ENTER:var a=k[P];a&&!a.data.disabled?R(a.value):R(void 0),o&&e.preventDefault();break;case ed.ESC:u(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){T(e)}}})),0===k.length)return b.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(C,"-empty"),onMouseDown:I},l);var B=Object.keys(w).map((function(e){return w[e]})),z=function(e){return e.label},F=function(e){var t=k[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,a=N8(n,!0),s=z(t);return t?b.createElement("div",x({"aria-label":"string"!==typeof s||o?null:s},a,{key:e,role:o?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":m.has(r)}),r):null};return b.createElement(b.Fragment,null,b.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},F(P-1),F(P),F(P+1)),b.createElement(B7,{itemKey:"key",ref:M,data:k,height:S,itemHeight:E,fullHeight:!1,onMouseDown:I,onScroll:c,virtual:_},(function(e,t){var n,r=e.group,i=e.groupOption,o=e.data,a=e.label,s=e.value,u=o.key;if(r)return b.createElement("div",{className:oe()(C,"".concat(C,"-group"))},void 0!==a?a:u);var l=o.disabled,c=o.title,f=(o.children,o.style),d=o.className,h=Le(ze(o,F7),B),p=m.has(s),g="".concat(C,"-option"),y=oe()(C,g,d,(n={},(0,re.Z)(n,"".concat(g,"-grouped"),i),(0,re.Z)(n,"".concat(g,"-active"),P===t&&!l),(0,re.Z)(n,"".concat(g,"-disabled"),l),(0,re.Z)(n,"".concat(g,"-selected"),p),n)),w=z(e),_=!v||"function"===typeof v||p,S="number"===typeof w?w:w||s,E="string"===typeof S||"number"===typeof S?S.toString():void 0;return void 0!==c&&(E=c),b.createElement("div",x({},h,{"aria-selected":p,className:y,title:E,onMouseMove:function(){P===t||l||L(t)},onClick:function(){l||R(s)},style:f}),b.createElement("div",{className:"".concat(g,"-content")},S),b.isValidElement(v)||p,_&&b.createElement(D8,{className:"".concat(C,"-option-state"),customizeIcon:v,customizeIconProps:{isSelected:p}},p?"\u2713":null))})))},G7=b.forwardRef(j7);G7.displayName="OptionList";var V7=G7,U7=function(){return null};U7.isSelectOption=!0;var W7=U7,Z7=function(){return null};Z7.isSelectOptGroup=!0;var H7=Z7,Y7=["children","value"],X7=["children"];function K7(e){var t=e.key,n=e.props,r=n.children,i=n.value;return Oe({key:t,value:void 0!==i?i:t,children:r},ze(n,Y7))}function q7(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Dn(e).map((function(e,n){if(!b.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,o=e.props,a=o.children,s=ze(o,X7);return t||!r?K7(e):Oe(Oe({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:q7(a)})})).filter((function(e){return e}))}function $7(e,t,n){return b.useMemo((function(){var r=e;!e&&(r=q7(t));var i=new Map,o=new Map;return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<t.length;a+=1){var s=t[a];!s[n.options]||r?(i.set(s[n.value],s),o.set(s[n.label],s)):e(s[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:o}}),[e,t,n])}var Q7=0,J7=St();function e9(e){var t=b.useState(),n=(0,y.Z)(t,2),r=n[0],i=n[1];return b.useEffect((function(){i("rc_select_".concat(function(){var e;return J7?(e=Q7,Q7+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}function t9(e){var t=b.useRef();t.current=e;var n=b.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}function n9(e,t){return R8(e).join("").toUpperCase().includes(t)}var r9=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],i9=["inputValue"];var o9=b.forwardRef((function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,o=void 0===i?"rc-select":i,a=e.backfill,s=e.fieldNames,u=e.inputValue,l=e.searchValue,c=e.onSearch,f=e.autoClearSearchValue,d=void 0===f||f,h=e.onSelect,p=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,m=e.filterOption,w=e.filterSort,_=e.optionFilterProp,S=e.optionLabelProp,E=e.options,C=e.children,k=e.defaultActiveFirstOption,M=e.menuItemSelectedIcon,I=e.virtual,T=e.listHeight,A=void 0===T?200:T,N=e.listItemHeight,D=void 0===N?20:N,P=e.value,O=e.defaultValue,L=e.labelInValue,R=e.onChange,B=ze(e,r9),z=e9(n),F=X8(r),j=!(E||!C),G=b.useMemo((function(){return(void 0!==m||"combobox"!==r)&&m}),[m,r]),V=b.useMemo((function(){return w8(s,j)}),[JSON.stringify(s),j]),U=Ls("",{value:void 0!==l?l:u,postState:function(e){return e||""}}),W=(0,y.Z)(U,2),Z=W[0],H=W[1],Y=$7(E,C,V),X=Y.valueOptions,K=Y.labelOptions,q=Y.options,$=b.useCallback((function(e){return R8(e).map((function(e){var t,n,r,i,o;(function(e){return!e||"object"!==(0,je.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var a,s=X.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[S||V.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[V,S,X]),Q=Ls(O,{value:P}),J=(0,y.Z)(Q,2),ee=J[0],te=J[1],ie=b.useMemo((function(){var e,t=$(ee);return"combobox"!==r||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[ee,$,r]),oe=function(e,t){var n=b.useRef({values:new Map,options:new Map}),r=b.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=e.map((function(e){var t;return void 0===e.label?Oe(Oe({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]);return[r,b.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ie,X),ae=(0,y.Z)(oe,2),se=ae[0],ue=ae[1],le=b.useMemo((function(){if(!r&&1===se.length){var e=se[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return se.map((function(e){var t;return Oe(Oe({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,se]),ce=b.useMemo((function(){return new Set(se.map((function(e){return e.value})))}),[se]);b.useEffect((function(){if("combobox"===r){var e,t=null===(e=se[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&H(String(t))}}),[se]);var fe=t9((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,re.Z)(n,V.value,e),(0,re.Z)(n,V.label,r),n})),de=b.useMemo((function(){if("tags"!==r)return q;var e=(0,ne.Z)(q);return(0,ne.Z)(se).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return X.has(e)})(n)||e.push(fe(n,t.label))})),e}),[fe,q,X,se,r]),he=function(e,t,n,r,i){return b.useMemo((function(){if(!n||!1===r)return e;var o=t.options,a=t.label,s=t.value,u=[],l="function"===typeof r,c=n.toUpperCase(),f=l?r:function(e,t){return i?n9(t[i],c):t[o]?n9(t["children"!==a?a:"label"],c):n9(t[s],c)},d=l?function(e){return _8(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(f(n,d(e)))u.push(e);else{var t=e[o].filter((function(e){return f(n,d(e))}));t.length&&u.push(Oe(Oe({},e),{},(0,re.Z)({},o,t)))}else f(n,d(e))&&u.push(e)})),u}),[e,r,i,n,t])}(de,V,Z,G,_),pe=b.useMemo((function(){return"tags"!==r||!Z||he.some((function(e){return e[_||"value"]===Z}))?he:[fe(Z)].concat((0,ne.Z)(he))}),[fe,_,r,he,Z]),ge=b.useMemo((function(){return w?(0,ne.Z)(pe).sort((function(e,t){return w(e,t)})):pe}),[pe,w]),ve=b.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=w8(n,!1),a=o.label,s=o.value,u=o.options;function l(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:x8(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var c=n;void 0===c&&r&&(c=e.label),i.push({key:x8(e,i.length),group:!0,data:e,label:c}),l(e[u],!0)}}))}return l(e,!1),i}(ge,{fieldNames:V,childrenAsData:j})}),[ge,V,j]),me=function(e){var t=$(e);if(te(t),R&&(t.length!==se.length||t.some((function(e,t){var n;return(null===(n=se[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=L?t:t.map((function(e){return e.value})),r=t.map((function(e){return _8(ue(e.value))}));R(F?n:n[0],F?r:r[0])}},ye=b.useState(null),be=(0,y.Z)(ye,2),xe=be[0],we=be[1],_e=b.useState(0),Se=(0,y.Z)(_e,2),Ee=Se[0],Ce=Se[1],ke=void 0!==k?k:"combobox"!==r,Me=b.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;Ce(t),a&&"combobox"===r&&null!==e&&"keyboard"===o&&we(String(e))}),[a,r]),Ie=function(e,t){var n=function(){var t,n=ue(e);return[L?{label:null===n||void 0===n?void 0:n[V.label],value:e,key:null!==(t=n.key)&&void 0!==t?t:e}:e,_8(n)]};if(t&&h){var r=n(),i=(0,y.Z)(r,2),o=i[0],a=i[1];h(o,a)}else if(!t&&p){var s=n(),u=(0,y.Z)(s,2),l=u[0],c=u[1];p(l,c)}},Te=t9((function(e,t){var n,i=!F||t.selected;n=i?F?[].concat((0,ne.Z)(se),[e]):[e]:se.filter((function(t){return t.value!==e})),me(n),Ie(e,i),"combobox"===r?we(""):X8&&!d||(H(""),we(""))})),Ae=b.useMemo((function(){var e=!1!==I&&!1!==v;return Oe(Oe({},Y),{},{flattenOptions:ve,onActiveValue:Me,defaultActiveFirstOption:ke,onSelect:Te,menuItemSelectedIcon:M,rawValues:ce,fieldNames:V,virtual:e,listHeight:A,listItemHeight:D,childrenAsData:j})}),[Y,ve,Me,ke,Te,M,ce,V,I,v,A,D,j]);return b.createElement(z7.Provider,{value:Ae},b.createElement(q8,x({},B,{id:z,prefixCls:o,ref:t,omitDomProps:i9,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){me(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Ie(e.value,!1)}))},searchValue:Z,onSearch:function(e,t){if(H(e),we(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&me(e),null===c||void 0===c||c(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat((0,ne.Z)(ce),[n])));me(i),Ie(n,!0),H("")}}},onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=K.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,ne.Z)(ce),(0,ne.Z)(t))));me(n),n.forEach((function(e){Ie(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:V7,emptyOptions:!ve.length,activeValue:xe,activeDescendantId:"".concat(z,"_list_").concat(Ee)})))}));var a9=o9;a9.Option=W7,a9.OptGroup=H7;var s9=a9,u9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},l9=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:u9}))};l9.displayName="DownOutlined";var c9=b.forwardRef(l9),f9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},d9=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:f9}))};d9.displayName="CheckOutlined";var h9=b.forwardRef(d9);var p9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},g9="SECRET_COMBOBOX_MODE_DO_NOT_USE",v9=function(e,t){var n,r,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.className,u=e.getPopupContainer,l=e.dropdownClassName,c=e.listHeight,f=void 0===c?256:c,d=e.listItemHeight,h=void 0===d?24:d,p=e.size,g=e.notFoundContent,v=p9(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),m=b.useContext(_e),y=m.getPopupContainer,w=m.getPrefixCls,_=m.renderEmpty,S=m.direction,E=m.virtual,C=m.dropdownMatchSelectWidth,k=b.useContext(_i),M=w("select",i),I=w(),T=b.useMemo((function(){var e=v.mode;if("combobox"!==e)return e===g9?"combobox":e}),[v.mode]),A="multiple"===T||"tags"===T;r=void 0!==g?g:"combobox"===T?null:_("Select");var N=function(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,i=e.removeIcon,o=e.loading,a=e.multiple,s=e.prefixCls,u=n;n||(u=b.createElement(uu,null));var l=null;if(void 0!==t)l=t;else if(o)l=b.createElement(ou,{spin:!0});else{var c="".concat(s,"-suffix");l=function(e){var t=e.open,n=e.showSearch;return t&&n?b.createElement(Uu,{className:c}):b.createElement(c9,{className:c})}}return{clearIcon:u,suffixIcon:l,itemIcon:void 0!==r?r:a?b.createElement(h9,null):null,removeIcon:void 0!==i?i:b.createElement(Rc,null)}}(x(x({},v),{multiple:A,prefixCls:M})),D=N.suffixIcon,P=N.itemIcon,O=N.removeIcon,L=N.clearIcon,R=Le(v,["suffixIcon","itemIcon"]),B=oe()(l,(0,re.Z)({},"".concat(M,"-dropdown-").concat(S),"rtl"===S)),z=p||k,F=oe()((n={},(0,re.Z)(n,"".concat(M,"-lg"),"large"===z),(0,re.Z)(n,"".concat(M,"-sm"),"small"===z),(0,re.Z)(n,"".concat(M,"-rtl"),"rtl"===S),(0,re.Z)(n,"".concat(M,"-borderless"),!a),n),s);return b.createElement(s9,x({ref:t,virtual:E,dropdownMatchSelectWidth:C},R,{transitionName:Xs(I,"slide-up",v.transitionName),listHeight:f,listItemHeight:h,mode:T,prefixCls:M,direction:S,inputIcon:D,menuItemSelectedIcon:P,removeIcon:O,clearIcon:L,notFoundContent:r,className:F,getPopupContainer:u||y,dropdownClassName:B}))},m9=b.forwardRef(v9);m9.SECRET_COMBOBOX_MODE_DO_NOT_USE=g9,m9.Option=W7,m9.OptGroup=H7;var y9,b9=m9;function x9(e){if("undefined"===typeof document)return 0;if(e||void 0===y9){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),y9=i-o}return y9}function w9(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?x9():n}var _9=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},o=Object.keys(e);return o.forEach((function(e){i[e]=r.style[e]})),o.forEach((function(t){r.style[t]=e[t]})),i};var S9={},E9=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return _9(S9),S9={},void(document.body.className=r.replace(n,"").trim())}var i=x9();if(i&&(S9=_9({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(t);document.body.className=o.trim()}}},C9=[],k9="ant-scrolling-effect",M9=new RegExp("".concat(k9),"g"),I9=0,T9=new Map,A9=(0,q.Z)((function e(t){var n=this;(0,K.Z)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=C9.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!C9.some((function(e){return e.target===n.lockTarget})))if(C9.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))C9=[].concat((0,ne.Z)(C9),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=x9());var i=r.className;if(0===C9.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&T9.set(r,_9({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!M9.test(i)){var o="".concat(i," ").concat(k9);r.className=o.trim()}C9=[].concat((0,ne.Z)(C9),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=C9.find((function(e){return e.target===n.lockTarget}));if(C9=C9.filter((function(e){return e.target!==n.lockTarget})),t&&!C9.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;M9.test(i)&&(_9(T9.get(r),{element:r}),T9.delete(r),r.className=r.className.replace(M9,"").trim())}},this.lockTarget=I9++,this.options=t})),N9=0,D9=St();var P9={},O9=function(e){if(!D9)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,je.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},L9=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).container=void 0,r.componentRef=b.createRef(),r.rafId=void 0,r.scrollLocker=void 0,r.renderComponent=void 0,r.updateScrollLocker=function(e){var t=(e||{}).visible,n=r.props,i=n.getContainer,o=n.visible;o&&o!==t&&D9&&O9(i)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:O9(i)})},r.updateOpenCount=function(e){var t=e||{},n=t.visible,i=t.getContainer,o=r.props,a=o.visible,s=o.getContainer;a!==n&&D9&&O9(s)===document.body&&(a&&!n?N9+=1:e&&(N9-=1)),("function"===typeof s&&"function"===typeof i?s.toString()!==i.toString():s!==i)&&r.removeCurrentContainer()},r.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||r.container&&!r.container.parentNode){var t=O9(r.props.getContainer);return!!t&&(t.appendChild(r.container),!0)}return!0},r.getContainer=function(){return D9?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null},r.setWrapperClassName=function(){var e=r.props.wrapperClassName;r.container&&e&&e!==r.container.className&&(r.container.className=e)},r.removeCurrentContainer=function(){var e,t;null===(e=r.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(r.container)},r.switchScrollingEffect=function(){1!==N9||Object.keys(P9).length?N9||(_9(P9),P9={},E9(!0)):(E9(),P9=_9({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},r.scrollLocker=new A9({container:O9(e.getContainer)}),r}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Fi((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;D9&&O9(n)===document.body&&(N9=t&&N9?N9-1:N9),this.removeCurrentContainer(),Fi.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,i=null,o={getOpenCount:function(){return N9},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(i=b.createElement(Wi,{getContainer:this.getContainer,ref:this.componentRef},t(o))),i}}]),n}(b.Component),R9=L9;function B9(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,o=e.motionName;return b.createElement(Lo,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var r=e.className,o=e.style;return b.createElement("div",x({style:Oe(Oe({},o),n),className:oe()("".concat(t,"-mask"),r)},i))}))}function z9(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}var F9=-1;function j9(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var G9=b.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),V9={width:0,height:0,overflow:"hidden",outline:"none"},U9=b.forwardRef((function(e,t){var n=e.closable,r=e.prefixCls,i=e.width,o=e.height,a=e.footer,s=e.title,u=e.closeIcon,l=e.style,c=e.className,f=e.visible,d=e.forceRender,h=e.bodyStyle,p=e.bodyProps,g=e.children,v=e.destroyOnClose,m=e.modalRender,w=e.motionName,_=e.ariaId,S=e.onClose,E=e.onVisibleChanged,C=e.onMouseDown,k=e.onMouseUp,M=e.mousePosition,I=(0,b.useRef)(),T=(0,b.useRef)(),A=(0,b.useRef)();b.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=I.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===T.current?I.current.focus():e||t!==I.current||T.current.focus()}}}));var N,D,P,O=b.useState(),L=(0,y.Z)(O,2),R=L[0],B=L[1],z={};function F(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=j9(i),n.top+=j9(i,!0),n}(A.current);B(M?"".concat(M.x-e.left,"px ").concat(M.y-e.top,"px"):"")}void 0!==i&&(z.width=i),void 0!==o&&(z.height=o),R&&(z.transformOrigin=R),a&&(N=b.createElement("div",{className:"".concat(r,"-footer")},a)),s&&(D=b.createElement("div",{className:"".concat(r,"-header")},b.createElement("div",{className:"".concat(r,"-title"),id:_},s))),n&&(P=b.createElement("button",{type:"button",onClick:S,"aria-label":"Close",className:"".concat(r,"-close")},u||b.createElement("span",{className:"".concat(r,"-close-x")})));var j=b.createElement("div",{className:"".concat(r,"-content")},P,D,b.createElement("div",x({className:"".concat(r,"-body"),style:h},p),g),N);return b.createElement(Lo,{visible:f,onVisibleChanged:E,onAppearPrepare:F,onEnterPrepare:F,forceRender:d,motionName:w,removeOnLeave:v,ref:A},(function(e,t){var n=e.className,i=e.style;return b.createElement("div",{key:"dialog-element",role:"document",ref:t,style:Oe(Oe(Oe({},i),l),z),className:oe()(r,c,n),onMouseDown:C,onMouseUp:k},b.createElement("div",{tabIndex:0,ref:I,style:V9,"aria-hidden":"true"}),b.createElement(G9,{shouldUpdate:f||d},m?m(j):j),b.createElement("div",{tabIndex:0,ref:T,style:V9,"aria-hidden":"true"}))}))}));U9.displayName="Content";var W9=U9;function Z9(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,i=e.visible,o=void 0!==i&&i,a=e.keyboard,s=void 0===a||a,u=e.focusTriggerAfterClose,l=void 0===u||u,c=e.scrollLocker,f=e.title,d=e.wrapStyle,h=e.wrapClassName,p=e.wrapProps,g=e.onClose,v=e.afterClose,m=e.transitionName,w=e.animation,_=e.closable,S=void 0===_||_,E=e.mask,C=void 0===E||E,k=e.maskTransitionName,M=e.maskAnimation,I=e.maskClosable,T=void 0===I||I,A=e.maskStyle,N=e.maskProps,D=(0,b.useRef)(),P=(0,b.useRef)(),O=(0,b.useRef)(),L=b.useState(o),R=(0,y.Z)(L,2),B=R[0],z=R[1],F=(0,b.useRef)();function j(e){null===g||void 0===g||g(e)}F.current||(F.current="rcDialogTitle".concat(F9+=1));var G=(0,b.useRef)(!1),V=(0,b.useRef)(),U=null;return T&&(U=function(e){G.current?G.current=!1:P.current===e.target&&j(e)}),(0,b.useEffect)((function(){return o&&z(!0),function(){}}),[o]),(0,b.useEffect)((function(){return function(){clearTimeout(V.current)}}),[]),(0,b.useEffect)((function(){return B?(null===c||void 0===c||c.lock(),null===c||void 0===c?void 0:c.unLock):function(){}}),[B,c]),b.createElement("div",x({className:"".concat(n,"-root")},N8(e,{data:!0})),b.createElement(B9,{prefixCls:n,visible:C&&o,motionName:z9(n,k,M),style:Oe({zIndex:r},A),maskProps:N}),b.createElement("div",x({tabIndex:-1,onKeyDown:function(e){if(s&&e.keyCode===ed.ESC)return e.stopPropagation(),void j(e);o&&e.keyCode===ed.TAB&&O.current.changeActive(!e.shiftKey)},className:oe()("".concat(n,"-wrap"),h),ref:P,onClick:U,role:"dialog","aria-labelledby":f?F.current:null,style:Oe(Oe({zIndex:r},d),{},{display:B?null:"none"})},p),b.createElement(W9,x({},e,{onMouseDown:function(){clearTimeout(V.current),G.current=!0},onMouseUp:function(){V.current=setTimeout((function(){G.current=!1}))},ref:O,closable:S,ariaId:F.current,prefixCls:n,visible:o,onClose:j,onVisibleChanged:function(e){if(e){var t;if(!ji(P.current,document.activeElement))D.current=document.activeElement,null===(t=O.current)||void 0===t||t.focus()}else{if(z(!1),C&&D.current&&l){try{D.current.focus({preventScroll:!0})}catch(li){}D.current=null}B&&(null===v||void 0===v||v())}},motionName:z9(n,m,w)}))))}var H9=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,i=e.destroyOnClose,o=void 0!==i&&i,a=e.afterClose,s=b.useState(t),u=(0,y.Z)(s,2),l=u[0],c=u[1];return b.useEffect((function(){t&&c(!0)}),[t]),!1===n?b.createElement(Z9,x({},e,{getOpenCount:function(){return 2}})):r||!o||l?b.createElement(R9,{visible:t,forceRender:r,getContainer:n},(function(t){return b.createElement(Z9,x({},e,{destroyOnClose:o,afterClose:function(){null===a||void 0===a||a(),c(!1)}},t))})):null};H9.displayName="Dialog";var Y9,X9=H9,K9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};bn()&&document.documentElement.addEventListener("click",(function(e){Y9={x:e.pageX,y:e.pageY},setTimeout((function(){Y9=null}),100)}),!0);var q9=function(e){var t,n=b.useContext(_e),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},s=function(t){var n=e.onOk;null===n||void 0===n||n(t)},u=function(t){var n=e.okText,r=e.okType,i=e.cancelText,o=e.confirmLoading;return b.createElement(b.Fragment,null,b.createElement(cl,x({onClick:a},e.cancelButtonProps),i||t.cancelText),b.createElement(cl,x({},sl(r),{loading:o,onClick:s},e.okButtonProps),n||t.okText))},l=e.prefixCls,c=e.footer,f=e.visible,d=e.wrapClassName,h=e.centered,p=e.getContainer,g=e.closeIcon,v=e.focusTriggerAfterClose,m=void 0===v||v,y=K9(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),w=i("modal",l),_=i(),S=b.createElement(he,{componentName:"Modal",defaultLocale:Nc()},u),E=b.createElement("span",{className:"".concat(w,"-close-x")},g||b.createElement(Rc,{className:"".concat(w,"-close-icon")})),C=oe()(d,(t={},(0,re.Z)(t,"".concat(w,"-centered"),!!h),(0,re.Z)(t,"".concat(w,"-wrap-rtl"),"rtl"===o),t));return b.createElement(X9,x({},y,{getContainer:void 0===p?r:p,prefixCls:w,wrapClassName:C,footer:void 0===c?S:c,visible:f,mousePosition:Y9,onClose:a,closeIcon:E,focusTriggerAfterClose:m,transitionName:Xs(_,"zoom",e.transitionName),maskTransitionName:Xs(_,"fade",e.maskTransitionName)}))};q9.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var $9=q9;function Q9(e){return!(!e||!e.then)}var J9=function(e){var t=b.useRef(!1),n=b.useRef(),r=function(){var e=b.useRef(!0);return b.useEffect((function(){return function(){e.current=!1}}),[]),function(){return!e.current}}(),i=b.useState(!1),o=(0,y.Z)(i,2),a=o[0],s=o[1];b.useEffect((function(){var t;if(e.autoFocus){var r=n.current;t=setTimeout((function(){return r.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var u=e.type,l=e.children,c=e.prefixCls,f=e.buttonProps;return b.createElement(cl,x({},sl(u),{onClick:function(n){var i=e.actionFn,o=e.close;if(!t.current)if(t.current=!0,i){var a;if(e.emitEvent){if(a=i(n),e.quitOnNullishReturnValue&&!Q9(a))return t.current=!1,void o(n)}else if(i.length)a=i(o),t.current=!1;else if(!(a=i()))return void o();!function(n){var i=e.close;Q9(n)&&(s(!0),n.then((function(){r()||s(!1),i.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),r()||s(!1),t.current=!1})))}(a)}else o()},loading:a,prefixCls:c},f,{ref:n}),l)},eee=function(e){var t=e.icon,n=e.onCancel,r=e.onOk,i=e.close,o=e.zIndex,a=e.afterClose,s=e.visible,u=e.keyboard,l=e.centered,c=e.getContainer,f=e.maskStyle,d=e.okText,h=e.okButtonProps,p=e.cancelText,g=e.cancelButtonProps,v=e.direction,m=e.prefixCls,y=e.wrapClassName,x=e.rootPrefixCls,w=e.iconPrefixCls,_=e.bodyStyle,S=e.closable,E=void 0!==S&&S,C=e.closeIcon,k=e.modalRender,M=e.focusTriggerAfterClose;Ai(!("string"===typeof t&&t.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(t,"` at https://ant.design/components/icon"));var I=e.okType||"primary",T="".concat(m,"-confirm"),A=!("okCancel"in e)||e.okCancel,N=e.width||416,D=e.style||{},P=void 0===e.mask||e.mask,O=void 0!==e.maskClosable&&e.maskClosable,L=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),R=oe()(T,"".concat(T,"-").concat(e.type),(0,re.Z)({},"".concat(T,"-rtl"),"rtl"===v),e.className),B=A&&b.createElement(J9,{actionFn:n,close:i,autoFocus:"cancel"===L,buttonProps:g,prefixCls:"".concat(x,"-btn")},p);return b.createElement(kf,{prefixCls:x,iconPrefixCls:w,direction:v},b.createElement($9,{prefixCls:m,className:R,wrapClassName:oe()((0,re.Z)({},"".concat(T,"-centered"),!!e.centered),y),onCancel:function(){return i({triggerCancel:!0})},visible:s,title:"",footer:"",transitionName:Xs(x,"zoom",e.transitionName),maskTransitionName:Xs(x,"fade",e.maskTransitionName),mask:P,maskClosable:O,maskStyle:f,style:D,bodyStyle:_,width:N,zIndex:o,afterClose:a,keyboard:u,centered:l,getContainer:c,closable:E,closeIcon:C,modalRender:k,focusTriggerAfterClose:M},b.createElement("div",{className:"".concat(T,"-body-wrapper")},b.createElement("div",{className:"".concat(T,"-body")},t,void 0===e.title?null:b.createElement("span",{className:"".concat(T,"-title")},e.title),b.createElement("div",{className:"".concat(T,"-content")},e.content)),b.createElement("div",{className:"".concat(T,"-btns")},B,b.createElement(J9,{type:I,actionFn:r,close:i,autoFocus:"ok"===L,buttonProps:h,prefixCls:"".concat(x,"-btn")},d)))))},tee=[],nee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ree="";function iee(e){var t=document.createDocumentFragment(),n=x(x({},e),{close:o,visible:!0});function r(){m.unmountComponentAtNode(t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&a&&e.onCancel.apply(e,r);for(var s=0;s<tee.length;s++){var u=tee[s];if(u===o){tee.splice(s,1);break}}}function i(e){var n=e.okText,r=e.cancelText,i=e.prefixCls,o=nee(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=Nc(),a=bf(),s=a.getPrefixCls,u=a.getIconPrefixCls,l=s(void 0,ree),c=i||"".concat(l,"-modal"),f=u();m.render(b.createElement(eee,x({},o,{prefixCls:c,rootPrefixCls:l,iconPrefixCls:f,okText:n||(o.okCancel?e.okText:e.justOkText),cancelText:r||e.cancelText})),t)}))}function o(){for(var t=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i(n=x(x({},n),{visible:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),r.apply(t,a)}}))}return i(n),tee.push(o),{destroy:o,update:function(e){i(n="function"===typeof e?e(n):x(x({},n),e))}}}function oee(e){return x(x({icon:b.createElement(Zc,null),okCancel:!1},e),{type:"warning"})}function aee(e){return x(x({icon:b.createElement(Xc,null),okCancel:!1},e),{type:"info"})}function see(e){return x(x({icon:b.createElement(Fc,null),okCancel:!1},e),{type:"success"})}function uee(e){return x(x({icon:b.createElement(Vc,null),okCancel:!1},e),{type:"error"})}function lee(e){return x(x({icon:b.createElement(Zc,null),okCancel:!0},e),{type:"confirm"})}var cee=function(e,t){var n=e.afterClose,r=e.config,i=b.useState(!0),o=(0,y.Z)(i,2),a=o[0],s=o[1],u=b.useState(r),l=(0,y.Z)(u,2),c=l[0],f=l[1],d=b.useContext(_e),h=d.direction,p=d.getPrefixCls,g=p("modal"),v=p(),m=function(){s(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));c.onCancel&&r&&c.onCancel()};return b.useImperativeHandle(t,(function(){return{destroy:m,update:function(e){f((function(t){return x(x({},t),e)}))}}})),b.createElement(he,{componentName:"Modal",defaultLocale:ce.Modal},(function(e){return b.createElement(eee,x({prefixCls:g,rootPrefixCls:v},c,{close:m,visible:a,afterClose:n,okText:c.okText||(c.okCancel?e.okText:e.justOkText),direction:h,cancelText:c.cancelText||e.cancelText}))}))},fee=b.forwardRef(cee),dee=0,hee=b.memo(b.forwardRef((function(e,t){var n=function(){var e=b.useState([]),t=(0,y.Z)(e,2),n=t[0],r=t[1];return[n,b.useCallback((function(e){return r((function(t){return[].concat((0,ne.Z)(t),[e])})),function(){r((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),r=(0,y.Z)(n,2),i=r[0],o=r[1];return b.useImperativeHandle(t,(function(){return{patchElement:o}}),[]),b.createElement(b.Fragment,null,i)})));function pee(e){return iee(oee(e))}var gee=$9;gee.useModal=function(){var e=b.useRef(null),t=b.useState([]),n=(0,y.Z)(t,2),r=n[0],i=n[1];b.useEffect((function(){r.length&&((0,ne.Z)(r).forEach((function(e){e()})),i([]))}),[r]);var o=b.useCallback((function(t){return function(n){var r;dee+=1;var o,a=b.createRef(),s=b.createElement(fee,{key:"modal-".concat(dee),config:t(n),ref:a,afterClose:function(){o()}});return o=null===(r=e.current)||void 0===r?void 0:r.patchElement(s),{destroy:function(){function e(){var e;null===(e=a.current)||void 0===e||e.destroy()}a.current?e():i((function(t){return[].concat((0,ne.Z)(t),[e])}))},update:function(e){function t(){var t;null===(t=a.current)||void 0===t||t.update(e)}a.current?t():i((function(e){return[].concat((0,ne.Z)(e),[t])}))}}}}),[]);return[b.useMemo((function(){return{info:o(aee),success:o(see),error:o(uee),warning:o(oee),confirm:o(lee)}}),[]),b.createElement(hee,{ref:e})]},gee.info=function(e){return iee(aee(e))},gee.success=function(e){return iee(see(e))},gee.error=function(e){return iee(uee(e))},gee.warning=pee,gee.warn=pee,gee.confirm=function(e){return iee(lee(e))},gee.destroyAll=function(){for(;tee.length;){var e=tee.pop();e&&e()}},gee.config=function(e){var t=e.rootPrefixCls;Ai(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),ree=t};var vee=gee,mee=n(2426),yee=n.n(mee),bee={getNow:function(){return yee()()},getFixedDate:function(e){return yee()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return yee()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return yee()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return yee()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],i=0;i<n.length;i+=1){var o=n[i],a=t;if(o.includes("wo")||o.includes("Wo")){var s=(o=o.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=a.match(/[-\d]+/g);s&&u?(o=s.join(""),a=u.join("")):r.push(o.replace(/o/g,""))}var l=yee()(a,o,e,!0);if(l.isValid())return l}for(var c=0;c<r.length;c+=1){var f=yee()(t,r[c],e,!1);if(f.isValid())return wt(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}},xee=bee;var wee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_ee=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,o=e.onChange,a=e.onClick,s=wee(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,b.useContext(_e).getPrefixCls)("tag",n),l=oe()(u,(t={},(0,re.Z)(t,"".concat(u,"-checkable"),!0),(0,re.Z)(t,"".concat(u,"-checkable-checked"),i),t),r);return b.createElement("span",x({},s,{className:l,onClick:function(e){null===o||void 0===o||o(!i),null===a||void 0===a||a(e)}}))},See=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Eee=new RegExp("^(".concat(Us.join("|"),")(-inverse)?$")),Cee=new RegExp("^(".concat(Vs.join("|"),")$")),kee=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.icon,u=e.color,l=e.onClose,c=e.closeIcon,f=e.closable,d=void 0!==f&&f,h=See(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),p=b.useContext(_e),g=p.getPrefixCls,v=p.direction,m=b.useState(!0),w=(0,y.Z)(m,2),_=w[0],S=w[1];b.useEffect((function(){"visible"in h&&S(h.visible)}),[h.visible]);var E=function(){return!!u&&(Eee.test(u)||Cee.test(u))},C=x({backgroundColor:u&&!E()?u:void 0},o),k=E(),M=g("tag",r),I=oe()(M,(n={},(0,re.Z)(n,"".concat(M,"-").concat(u),k),(0,re.Z)(n,"".concat(M,"-has-color"),u&&!k),(0,re.Z)(n,"".concat(M,"-hidden"),!_),(0,re.Z)(n,"".concat(M,"-rtl"),"rtl"===v),n),i),T=function(e){e.stopPropagation(),null===l||void 0===l||l(e),e.defaultPrevented||"visible"in h||S(!1)},A="onClick"in h||a&&"a"===a.type,N=Le(h,["visible"]),D=s||null,P=D?b.createElement(b.Fragment,null,D,b.createElement("span",null,a)):a,O=b.createElement("span",x({},N,{ref:t,className:I,style:C}),P,d?c?b.createElement("span",{className:"".concat(M,"-close-icon"),onClick:T},c):b.createElement(Rc,{className:"".concat(M,"-close-icon"),onClick:T}):null);return A?b.createElement(Qu,null,O):O},Mee=b.forwardRef(kee);Mee.displayName="Tag",Mee.CheckableTag=_ee;var Iee=Mee;var Tee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Aee=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Tee}))};Aee.displayName="CalendarOutlined";var Nee=b.forwardRef(Aee),Dee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Pee=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Dee}))};Pee.displayName="ClockCircleOutlined";var Oee=b.forwardRef(Pee),Lee=b.createContext({}),Ree={visibility:"hidden"};var Bee=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,i=e.nextIcon,o=void 0===i?"\u203a":i,a=e.superPrevIcon,s=void 0===a?"\xab":a,u=e.superNextIcon,l=void 0===u?"\xbb":u,c=e.onSuperPrev,f=e.onSuperNext,d=e.onPrev,h=e.onNext,p=e.children,g=b.useContext(Lee),v=g.hideNextBtn,m=g.hidePrevBtn;return b.createElement("div",{className:t},c&&b.createElement("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:m?Ree:{}},s),d&&b.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:m?Ree:{}},r),b.createElement("div",{className:"".concat(t,"-view")},p),h&&b.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?Ree:{}},o),f&&b.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?Ree:{}},l))};var zee=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecades,o=e.onNextDecades;if(b.useContext(Lee).hideHeader)return null;var a="".concat(t,"-header"),s=n.getYear(r),u=Math.floor(s/ete)*ete,l=u+ete-1;return b.createElement(Bee,x({},e,{prefixCls:a,onSuperPrev:i,onSuperNext:o}),u,"-",l)};function Fee(e,t,n,r,i){var o=e.setHour(t,n);return o=e.setMinute(o,r),o=e.setSecond(o,i)}function jee(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function Gee(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,i=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=e.getDate(i),a=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(a,"-").concat(o)}function Vee(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,i=e.picker,o=e.rowNum,a=e.colNum,s=e.prefixColumn,u=e.rowClassName,l=e.baseDate,c=e.getCellClassName,f=e.getCellText,d=e.getCellNode,h=e.getCellDate,p=e.generateConfig,g=e.titleCell,v=e.headerCells,m=b.useContext(Lee),y=m.onDateMouseEnter,x=m.onDateMouseLeave,w=m.mode,_="".concat(t,"-cell"),S=[],E=0;E<o;E+=1){for(var C=[],k=void 0,M=function(e){var t,o=h(l,E*a+e),u=pte({cellDate:o,mode:w,disabledDate:n,generateConfig:p});0===e&&(k=o,s&&C.push(s(k)));var v=g&&g(o);C.push(b.createElement("td",{key:e,title:v,className:oe()(_,Oe((t={},(0,re.Z)(t,"".concat(_,"-disabled"),u),(0,re.Z)(t,"".concat(_,"-start"),1===f(o)||"year"===i&&Number(v)%10===0),(0,re.Z)(t,"".concat(_,"-end"),v===Gee(p,o)||"year"===i&&Number(v)%10===9),t),c(o))),onClick:function(){u||r(o)},onMouseEnter:function(){!u&&y&&y(o)},onMouseLeave:function(){!u&&x&&x(o)}},d?d(o):b.createElement("div",{className:"".concat(_,"-inner")},f(o))))},I=0;I<a;I+=1)M(I);S.push(b.createElement("tr",{key:E,className:u&&u(k)},C))}return b.createElement("div",{className:"".concat(t,"-body")},b.createElement("table",{className:"".concat(t,"-content")},v&&b.createElement("thead",null,b.createElement("tr",null,v)),b.createElement("tbody",null,S)))}var Uee=function(e){var t=Jee-1,n=e.prefixCls,r=e.viewDate,i=e.generateConfig,o="".concat(n,"-cell"),a=i.getYear(r),s=Math.floor(a/Jee)*Jee,u=Math.floor(a/ete)*ete,l=u+ete-1,c=i.setYear(r,u-Math.ceil((12*Jee-ete)/2));return b.createElement(Vee,x({},e,{rowNum:4,colNum:3,baseDate:c,getCellText:function(e){var n=i.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i.getYear(e),a=r+t;return n={},(0,re.Z)(n,"".concat(o,"-in-view"),u<=r&&a<=l),(0,re.Z)(n,"".concat(o,"-selected"),r===s),n},getCellDate:function(e,t){return i.addYear(e,t*Jee)}}))},Wee=new Map;function Zee(e,t,n){if(Wee.get(e)&&cancelAnimationFrame(Wee.get(e)),n<=0)Wee.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;Wee.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&Zee(e,t,n-10)})))}}function Hee(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,i=t.onUpDown,o=t.onPageUpDown,a=t.onEnter,s=e.which,u=e.ctrlKey,l=e.metaKey;switch(s){case ed.LEFT:if(u||l){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case ed.RIGHT:if(u||l){if(r)return r(1),!0}else if(n)return n(1),!0;break;case ed.UP:if(i)return i(-1),!0;break;case ed.DOWN:if(i)return i(1),!0;break;case ed.PAGE_UP:if(o)return o(-1),!0;break;case ed.PAGE_DOWN:if(o)return o(1),!0;break;case ed.ENTER:if(a)return a(),!0}return!1}function Yee(e,t,n,r){var i=e;if(!i)switch(t){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function Xee(e,t,n){var r="time"===e?8:10,i="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,i)+2}var Kee=null,qee=new Set;var $ee={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function Qee(e,t){return e.some((function(e){return e&&e.contains(t)}))}var Jee=10,ete=10*Jee;var tte=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,i=e.viewDate,o=e.operationRef,a=e.onSelect,s=e.onPanelChange,u="".concat(t,"-decade-panel");o.current={onKeyDown:function(e){return Hee(e,{onLeftRight:function(e){a(r.addYear(i,e*Jee),"key")},onCtrlLeftRight:function(e){a(r.addYear(i,e*ete),"key")},onUpDown:function(e){a(r.addYear(i,e*Jee*3),"key")},onEnter:function(){s("year",i)}})}};var l=function(e){var t=r.addYear(i,e*ete);n(t),s(null,t)};return b.createElement("div",{className:u},b.createElement(zee,x({},e,{prefixCls:t,onPrevDecades:function(){l(-1)},onNextDecades:function(){l(1)}})),b.createElement(Uee,x({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),s("year",e)}})))};function nte(e,t){return!e&&!t||!(!e||!t)&&void 0}function rte(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function ite(e,t){return Math.floor(e.getMonth(t)/3)+1}function ote(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:rte(e,t,n)&&ite(e,t)===ite(e,n)}function ate(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:rte(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function ste(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function ute(e,t,n,r){var i=nte(n,r);return"boolean"===typeof i?i:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function lte(e,t,n){return ste(e,t,n)&&function(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function cte(e,t,n,r){return!!(t&&n&&r)&&(!ste(e,t,r)&&!ste(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function fte(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function dte(e,t){var n=t.generateConfig,r=t.locale,i=t.format;return"function"===typeof i?i(e):n.locale.format(r.locale,e,i)}function hte(e,t){var n=t.generateConfig,r=t.locale,i=t.formatList;return e&&"function"!==typeof i[0]?n.locale.parse(r.locale,e,i):null}function pte(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,i=e.generateConfig;if(!r)return!1;var o=function(e,n,o){for(var a=n;a<=o;){var s=void 0;switch(e){case"date":if(s=i.setDate(t,a),!r(s))return!1;break;case"month":if(!pte({cellDate:s=i.setMonth(t,a),mode:"month",generateConfig:i,disabledDate:r}))return!1;break;case"year":if(!pte({cellDate:s=i.setYear(t,a),mode:"year",generateConfig:i,disabledDate:r}))return!1}a+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return o("date",1,i.getDate(i.getEndDate(t)));case"quarter":var a=3*Math.floor(i.getMonth(t)/3);return o("month",a,a+2);case"year":return o("month",0,11);case"decade":var s=i.getYear(t),u=Math.floor(s/Jee)*Jee;return o("year",u,u+Jee-1)}}var gte=function(e){if(b.useContext(Lee).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o=e.format,a="".concat(t,"-header");return b.createElement(Bee,{prefixCls:a},i?dte(i,{locale:r,format:o,generateConfig:n}):"\xa0")};var vte=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,i=e.value,o=e.active,a=e.hideDisabledOptions,s="".concat(t,"-cell"),u=b.useContext(Lee).open,l=(0,b.useRef)(null),c=(0,b.useRef)(new Map),f=(0,b.useRef)();return(0,b.useLayoutEffect)((function(){var e=c.current.get(i);e&&!1!==u&&Zee(l.current,e.offsetTop,120)}),[i]),(0,b.useLayoutEffect)((function(){if(u){var e=c.current.get(i);e&&(f.current=function(e,t){var n;return function r(){Fo(e)?t():n=Fi((function(){r()}))}(),function(){Fi.cancel(n)}}(e,(function(){Zee(l.current,e.offsetTop,0)})))}return function(){var e;null===(e=f.current)||void 0===e||e.call(f)}}),[u]),b.createElement("ul",{className:oe()("".concat(t,"-column"),(0,re.Z)({},"".concat(t,"-column-active"),o)),ref:l,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:b.createElement("li",{key:e.value,ref:function(t){c.current.set(e.value,t)},className:oe()(s,(t={},(0,re.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,re.Z)(t,"".concat(s,"-selected"),i===e.value),t)),onClick:function(){e.disabled||r(e.value)}},b.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function mte(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function yte(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function bte(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function xte(e,t){return e?e[t]:null}function wte(e,t,n){var r=[xte(e,0),xte(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function _te(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function Ste(e,t,n,r){for(var i=[],o=e;o<=t;o+=n)i.push({label:mte(o,2),value:o,disabled:(r||[]).includes(o)});return i}var Ete=function(e){var t,n=e.generateConfig,r=e.prefixCls,i=e.operationRef,o=e.activeColumnIndex,a=e.value,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,f=e.hourStep,d=void 0===f?1:f,h=e.minuteStep,p=void 0===h?1:h,g=e.secondStep,v=void 0===g?1:g,m=e.disabledHours,x=e.disabledMinutes,w=e.disabledSeconds,_=e.hideDisabledOptions,S=e.onSelect,E=[],C="".concat(r,"-content"),k="".concat(r,"-time-panel"),M=a?n.getHour(a):-1,I=M,T=a?n.getMinute(a):-1,A=a?n.getSecond(a):-1,N=function(e,t,r,i){var o=a||n.getNow(),s=Math.max(0,t),u=Math.max(0,r),l=Math.max(0,i);return o=Fee(n,o,c&&e?s+12:s,u,l)},D=Ste(0,23,d,m&&m()),P=ki((function(){return D}),D,_te);c&&(t=I>=12,I%=12);var O=b.useMemo((function(){if(!c)return[!1,!1];var e=[!0,!0];return P.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[c,P]),L=(0,y.Z)(O,2),R=L[0],B=L[1],z=b.useMemo((function(){return c?P.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":mte(t,2);return Oe(Oe({},e),{},{label:n,value:t})})):P}),[c,t,P]),F=Ste(0,59,p,x&&x(M)),j=Ste(0,59,v,w&&w(M,T));function G(e,t,n,r,i){!1!==e&&E.push({node:b.cloneElement(t,{prefixCls:k,value:n,active:o===E.length,onSelect:i,units:r,hideDisabledOptions:_}),onSelect:i,value:n,units:r})}i.current={onUpDown:function(e){var t=E[o];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,i=1;i<r;i+=1){var a=t.units[(n+e*i+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},G(s,b.createElement(vte,{key:"hour"}),I,z,(function(e){S(N(t,e,T,A),"mouse")})),G(u,b.createElement(vte,{key:"minute"}),T,F,(function(e){S(N(t,I,e,A),"mouse")})),G(l,b.createElement(vte,{key:"second"}),A,j,(function(e){S(N(t,I,T,e),"mouse")}));var V=-1;return"boolean"===typeof t&&(V=t?1:0),G(!0===c,b.createElement(vte,{key:"12hours"}),V,[{label:"AM",value:0,disabled:R},{label:"PM",value:1,disabled:B}],(function(e){S(N(!!e,I,T,A),"mouse")})),b.createElement("div",{className:C},E.map((function(e){return e.node})))};var Cte=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,i=e.prefixCls,o=e.active,a=e.operationRef,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,f=void 0!==c&&c,d=e.onSelect,h=e.value,p="".concat(i,"-time-panel"),g=b.useRef(),v=b.useState(-1),m=(0,y.Z)(v,2),w=m[0],_=m[1],S=[s,u,l,f].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return Hee(e,{onLeftRight:function(e){_((w+e+S)%S)},onUpDown:function(e){-1===w?_(0):g.current&&g.current.onUpDown(e)},onEnter:function(){d(h||t.getNow(),"key"),_(-1)}})},onBlur:function(){_(-1)}},b.createElement("div",{className:oe()(p,(0,re.Z)({},"".concat(p,"-active"),o))},b.createElement(gte,x({},e,{format:r,prefixCls:i})),b.createElement(Ete,x({},e,{prefixCls:i,activeColumnIndex:w,operationRef:g})))},kte=b.createContext({});function Mte(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,i=e.hoverRangedValue,o=e.isInView,a=e.isSameCell,s=e.offsetCell,u=e.today,l=e.value;return function(e){var c,f=s(e,-1),d=s(e,1),h=xte(r,0),p=xte(r,1),g=xte(i,0),v=xte(i,1),m=cte(n,g,v,e);function y(e){return a(h,e)}function b(e){return a(p,e)}var x=a(g,e),w=a(v,e),_=(m||w)&&(!o(f)||b(f)),S=(m||x)&&(!o(d)||y(d));return c={},(0,re.Z)(c,"".concat(t,"-in-view"),o(e)),(0,re.Z)(c,"".concat(t,"-in-range"),cte(n,h,p,e)),(0,re.Z)(c,"".concat(t,"-range-start"),y(e)),(0,re.Z)(c,"".concat(t,"-range-end"),b(e)),(0,re.Z)(c,"".concat(t,"-range-start-single"),y(e)&&!p),(0,re.Z)(c,"".concat(t,"-range-end-single"),b(e)&&!h),(0,re.Z)(c,"".concat(t,"-range-start-near-hover"),y(e)&&(a(f,g)||cte(n,g,v,f))),(0,re.Z)(c,"".concat(t,"-range-end-near-hover"),b(e)&&(a(d,v)||cte(n,g,v,d))),(0,re.Z)(c,"".concat(t,"-range-hover"),m),(0,re.Z)(c,"".concat(t,"-range-hover-start"),x),(0,re.Z)(c,"".concat(t,"-range-hover-end"),w),(0,re.Z)(c,"".concat(t,"-range-hover-edge-start"),_),(0,re.Z)(c,"".concat(t,"-range-hover-edge-end"),S),(0,re.Z)(c,"".concat(t,"-range-hover-edge-start-near-range"),_&&a(f,p)),(0,re.Z)(c,"".concat(t,"-range-hover-edge-end-near-range"),S&&a(d,h)),(0,re.Z)(c,"".concat(t,"-today"),a(u,e)),(0,re.Z)(c,"".concat(t,"-selected"),a(l,e)),c}}var Ite=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,i=e.locale,o=e.rowCount,a=e.viewDate,s=e.value,u=e.dateRender,l=b.useContext(kte),c=l.rangedValue,f=l.hoverRangedValue,d=function(e,t,n){var r=t.locale.getWeekFirstDay(e),i=t.setDate(n,1),o=t.getWeekDay(i),a=t.addDate(i,r-o);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(i.locale,n,a),h="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(i.locale),g=n.getNow(),v=[],m=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&v.push(b.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var y=0;y<7;y+=1)v.push(b.createElement("th",{key:y},m[(y+p)%7]));var w=Mte({cellPrefixCls:h,today:g,value:s,generateConfig:n,rangedValue:r?null:c,hoverRangedValue:r?null:f,isSameCell:function(e,t){return ste(n,e,t)},isInView:function(e){return ate(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),_=u?function(e){return u(e,g)}:void 0;return b.createElement(Vee,x({},e,{rowNum:o,colNum:7,baseDate:d,getCellNode:_,getCellText:n.getDate,getCellClassName:w,getCellDate:n.addDate,titleCell:function(e){return dte(e,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:v}))};var Tte=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextMonth,a=e.onPrevMonth,s=e.onNextYear,u=e.onPrevYear,l=e.onYearClick,c=e.onMonthClick;if(b.useContext(Lee).hideHeader)return null;var f="".concat(t,"-header"),d=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),h=n.getMonth(i),p=b.createElement("button",{type:"button",key:"year",onClick:l,tabIndex:-1,className:"".concat(t,"-year-btn")},dte(i,{locale:r,format:r.yearFormat,generateConfig:n})),g=b.createElement("button",{type:"button",key:"month",onClick:c,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?dte(i,{locale:r,format:r.monthFormat,generateConfig:n}):d[h]),v=r.monthBeforeYear?[g,p]:[p,g];return b.createElement(Bee,x({},e,{prefixCls:f,onSuperPrev:u,onPrev:a,onNext:o,onSuperNext:s}),v)};var Ate=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,i=e.keyboardConfig,o=e.active,a=e.operationRef,s=e.generateConfig,u=e.value,l=e.viewDate,c=e.onViewDateChange,f=e.onPanelChange,d=e.onSelect,h="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return Hee(e,Oe({onLeftRight:function(e){d(s.addDate(u||l,e),"key")},onCtrlLeftRight:function(e){d(s.addYear(u||l,e),"key")},onUpDown:function(e){d(s.addDate(u||l,7*e),"key")},onPageUpDown:function(e){d(s.addMonth(u||l,e),"key")}},i))}};var p=function(e){var t=s.addYear(l,e);c(t),f(null,t)},g=function(e){var t=s.addMonth(l,e);c(t),f(null,t)};return b.createElement("div",{className:oe()(h,(0,re.Z)({},"".concat(h,"-active"),o))},b.createElement(Tte,x({},e,{prefixCls:t,value:u,viewDate:l,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){g(-1)},onNextMonth:function(){g(1)},onMonthClick:function(){f("month",l)},onYearClick:function(){f("year",l)}})),b.createElement(Ite,x({},e,{onSelect:function(e){return d(e,"mouse")},prefixCls:t,value:u,viewDate:l,rowCount:6})))},Nte=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var Dte=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,i=e.value,o=e.defaultValue,a=e.disabledTime,s=e.showTime,u=e.onSelect,l="".concat(t,"-datetime-panel"),c=b.useState(null),f=(0,y.Z)(c,2),d=f[0],h=f[1],p=b.useRef({}),g=b.useRef({}),v="object"===(0,je.Z)(s)?Oe({},s):{},m=function(e){g.current.onBlur&&g.current.onBlur(e),h(null)};n.current={onKeyDown:function(e){if(e.which===ed.TAB){var t=function(e){var t=Nte.indexOf(d)+e;return Nte[t]||null}(e.shiftKey?-1:1);return h(t),t&&e.preventDefault(),!0}if(d){var n="date"===d?p:g;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![ed.LEFT,ed.RIGHT,ed.UP,ed.DOWN].includes(e.which)&&(h("date"),!0)},onBlur:m,onClose:m};var w=function(e,t){var n=e;"date"===t&&!i&&v.defaultValue?(n=r.setHour(n,r.getHour(v.defaultValue)),n=r.setMinute(n,r.getMinute(v.defaultValue)),n=r.setSecond(n,r.getSecond(v.defaultValue))):"time"===t&&!i&&o&&(n=r.setYear(n,r.getYear(o)),n=r.setMonth(n,r.getMonth(o)),n=r.setDate(n,r.getDate(o))),u&&u(n,"mouse")},_=a?a(i||null):{};return b.createElement("div",{className:oe()(l,(0,re.Z)({},"".concat(l,"-active"),d))},b.createElement(Ate,x({},e,{operationRef:p,active:"date"===d,onSelect:function(e){w(jee(r,e,s&&"object"===(0,je.Z)(s)?s.defaultValue:null),"date")}})),b.createElement(Cte,x({},e,{format:void 0},v,_,{defaultValue:void 0,operationRef:g,active:"time"===d,onSelect:function(e){w(e,"time")}})))};var Pte=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return b.createElement(Ate,x({},e,{panelName:"week",prefixColumn:function(e){return b.createElement("td",{key:"week",className:oe()(o,"".concat(o,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return oe()(a,(0,re.Z)({},"".concat(a,"-selected"),ute(n,r.locale,i,e)))},keyboardConfig:{onLeftRight:null}}))};var Ote=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(b.useContext(Lee).hideHeader)return null;var u="".concat(t,"-header");return b.createElement(Bee,x({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),b.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},dte(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var Lte=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=e.monthCellRender,s=b.useContext(kte),u=s.rangedValue,l=s.hoverRangedValue,c=Mte({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:u,hoverRangedValue:l,isSameCell:function(e,t){return ate(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,t)}}),f=n.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(n.locale):[]),d=o.setMonth(i,0),h=a?function(e){return a(e,n)}:void 0;return b.createElement(Vee,x({},e,{rowNum:4,colNum:3,baseDate:d,getCellNode:h,getCellText:function(e){return n.monthFormat?dte(e,{locale:n,format:n.monthFormat,generateConfig:o}):f[o.getMonth(e)]},getCellClassName:c,getCellDate:o.addMonth,titleCell:function(e){return dte(e,{locale:n,format:"YYYY-MM",generateConfig:o})}}))};var Rte=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return Hee(e,{onLeftRight:function(e){u(i.addMonth(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addMonth(o||a,3*e),"key")},onEnter:function(){s("date",o||a)}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return b.createElement("div",{className:l},b.createElement(Ote,x({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),b.createElement(Lte,x({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse"),s("date",e)}})))};var Bte=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(b.useContext(Lee).hideHeader)return null;var u="".concat(t,"-header");return b.createElement(Bee,x({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),b.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},dte(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var zte=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=b.useContext(kte),s=a.rangedValue,u=a.hoverRangedValue,l=Mte({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return ote(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,3*t)}}),c=o.setDate(o.setMonth(i,0),1);return b.createElement(Vee,x({},e,{rowNum:1,colNum:4,baseDate:c,getCellText:function(e){return dte(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:o})},getCellClassName:l,getCellDate:function(e,t){return o.addMonth(e,3*t)},titleCell:function(e){return dte(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:o})}}))};var Fte=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return Hee(e,{onLeftRight:function(e){u(i.addMonth(o||a,3*e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addYear(o||a,e),"key")}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return b.createElement("div",{className:l},b.createElement(Bte,x({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),b.createElement(zte,x({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse")}})))};var jte=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecade,o=e.onNextDecade,a=e.onDecadeClick;if(b.useContext(Lee).hideHeader)return null;var s="".concat(t,"-header"),u=n.getYear(r),l=Math.floor(u/Vte)*Vte,c=l+Vte-1;return b.createElement(Bee,x({},e,{prefixCls:s,onSuperPrev:i,onSuperNext:o}),b.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},l,"-",c))};var Gte=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,i=e.locale,o=e.generateConfig,a=b.useContext(kte),s=a.rangedValue,u=a.hoverRangedValue,l="".concat(t,"-cell"),c=o.getYear(r),f=Math.floor(c/Vte)*Vte,d=f+Vte-1,h=o.setYear(r,f-Math.ceil((12-Vte)/2)),p=Mte({cellPrefixCls:l,value:n,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return rte(o,e,t)},isInView:function(e){var t=o.getYear(e);return f<=t&&t<=d},offsetCell:function(e,t){return o.addYear(e,t)}});return b.createElement(Vee,x({},e,{rowNum:4,colNum:3,baseDate:h,getCellText:o.getYear,getCellClassName:p,getCellDate:o.addYear,titleCell:function(e){return dte(e,{locale:i,format:"YYYY",generateConfig:o})}}))},Vte=10;var Ute=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.sourceMode,u=e.onSelect,l=e.onPanelChange,c="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return Hee(e,{onLeftRight:function(e){u(i.addYear(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e*Vte),"key")},onUpDown:function(e){u(i.addYear(o||a,3*e),"key")},onEnter:function(){l("date"===s?"date":"month",o||a)}})}};var f=function(e){var t=i.addYear(a,10*e);r(t),l(null,t)};return b.createElement("div",{className:c},b.createElement(jte,x({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){l("decade",a)}})),b.createElement(Gte,x({},e,{prefixCls:t,onSelect:function(e){l("date"===s?"date":"month",e),u(e,"mouse")}})))};function Wte(e,t,n){return n?b.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function Zte(e){var t,n,r=e.prefixCls,i=e.rangeList,o=void 0===i?[]:i,a=e.components,s=void 0===a?{}:a,u=e.needConfirmButton,l=e.onNow,c=e.onOk,f=e.okDisabled,d=e.showNow,h=e.locale;if(o.length){var p=s.rangeItem||"span";t=b.createElement(b.Fragment,null,o.map((function(e){var t=e.label,n=e.onClick,i=e.onMouseEnter,o=e.onMouseLeave;return b.createElement("li",{key:t,className:"".concat(r,"-preset")},b.createElement(p,{onClick:n,onMouseEnter:i,onMouseLeave:o},t))})))}if(u){var g=s.button||"button";l&&!t&&!1!==d&&(t=b.createElement("li",{className:"".concat(r,"-now")},b.createElement("a",{className:"".concat(r,"-now-btn"),onClick:l},h.now))),n=u&&b.createElement("li",{className:"".concat(r,"-ok")},b.createElement(g,{disabled:f,onClick:c},h.ok))}return t||n?b.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var Hte=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.className,o=e.style,a=e.locale,s=e.generateConfig,u=e.value,l=e.defaultValue,c=e.pickerValue,f=e.defaultPickerValue,d=e.disabledDate,h=e.mode,p=e.picker,g=void 0===p?"date":p,v=e.tabIndex,m=void 0===v?0:v,w=e.showNow,_=e.showTime,S=e.showToday,E=e.renderExtraFooter,C=e.hideHeader,k=e.onSelect,M=e.onChange,I=e.onPanelChange,T=e.onMouseDown,A=e.onPickerValueChange,N=e.onOk,D=e.components,P=e.direction,O=e.hourStep,L=void 0===O?1:O,R=e.minuteStep,B=void 0===R?1:R,z=e.secondStep,F=void 0===z?1:z,j="date"===g&&!!_||"time"===g,G=24%L===0,V=60%B===0,U=60%F===0,W=b.useContext(Lee),Z=W.operationRef,H=W.panelRef,Y=W.onSelect,X=W.hideRanges,K=W.defaultOpenValue,q=b.useContext(kte),$=q.inRange,Q=q.panelPosition,J=q.rangedValue,ee=q.hoverRangedValue,te=b.useRef({}),ne=b.useRef(!0),ie=Ls(null,{value:u,defaultValue:l,postState:function(e){return!e&&K&&"time"===g?K:e}}),ae=(0,y.Z)(ie,2),se=ae[0],ue=ae[1],le=Ls(null,{value:c,defaultValue:f||se,postState:function(e){var t=s.getNow();return e?!se&&_?"object"===(0,je.Z)(_)?jee(s,Array.isArray(e)?e[0]:e,_.defaultValue||t):jee(s,Array.isArray(e)?e[0]:e,l||t):e:t}}),ce=(0,y.Z)(le,2),fe=ce[0],de=ce[1],he=function(e){de(e),A&&A(e)},pe=function(e){var t=$ee[g];return t?t(e):e},ge=Ls((function(){return"time"===g?"time":pe("date")}),{value:h}),ve=(0,y.Z)(ge,2),me=ve[0],ye=ve[1];b.useEffect((function(){ye(g)}),[g]);var be,xe=b.useState((function(){return me})),we=(0,y.Z)(xe,2),_e=we[0],Se=we[1],Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(me===g||n)&&(ue(e),k&&k(e),Y&&Y(e,t),!M||lte(s,e,se)||(null===d||void 0===d?void 0:d(e))||M(e))},Ce=function(e){return te.current&&te.current.onKeyDown?([ed.LEFT,ed.RIGHT,ed.UP,ed.DOWN,ed.PAGE_UP,ed.PAGE_DOWN,ed.ENTER].includes(e.which)&&e.preventDefault(),te.current.onKeyDown(e)):(_t(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};Z&&"right"!==Q&&(Z.current={onKeyDown:Ce,onClose:function(){te.current&&te.current.onClose&&te.current.onClose()}}),b.useEffect((function(){u&&!ne.current&&de(u)}),[u]),b.useEffect((function(){ne.current=!1}),[]);var ke,Me,Ie,Te=Oe(Oe({},e),{},{operationRef:te,prefixCls:r,viewDate:fe,value:se,onViewDateChange:he,sourceMode:_e,onPanelChange:function(e,t){var n=pe(e||me);Se(me),ye(n),I&&(me!==n||lte(s,fe,fe))&&I(t,n)},disabledDate:d});switch(delete Te.onChange,delete Te.onSelect,me){case"decade":be=b.createElement(tte,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;case"year":be=b.createElement(Ute,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;case"month":be=b.createElement(Rte,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;case"quarter":be=b.createElement(Fte,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;case"week":be=b.createElement(Pte,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;case"time":delete Te.showTime,be=b.createElement(Cte,x({},Te,"object"===(0,je.Z)(_)?_:null,{onSelect:function(e,t){he(e),Ee(e,t)}}));break;default:be=_?b.createElement(Dte,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}})):b.createElement(Ate,x({},Te,{onSelect:function(e,t){he(e),Ee(e,t)}}))}if(X||(ke=Wte(r,me,E),Me=Zte({prefixCls:r,components:D,needConfirmButton:j,okDisabled:!se||d&&d(se),locale:a,showNow:w,onNow:j&&function(){var e=s.getNow(),t=function(e,t,n,r,i,o){var a=Math.floor(e/r)*r;if(a<e)return[a,60-i,60-o];var s=Math.floor(t/i)*i;return s<t?[a,s,60-o]:[a,s,Math.floor(n/o)*o]}(s.getHour(e),s.getMinute(e),s.getSecond(e),G?L:1,V?B:1,U?F:1),n=Fee(s,e,t[0],t[1],t[2]);Ee(n,"submit")},onOk:function(){se&&(Ee(se,"submit",!0),N&&N(se))}})),S&&"date"===me&&"date"===g&&!_){var Ae=s.getNow(),Ne="".concat(r,"-today-btn"),De=d&&d(Ae);Ie=b.createElement("a",{className:oe()(Ne,De&&"".concat(Ne,"-disabled")),"aria-disabled":De,onClick:function(){De||Ee(Ae,"mouse",!0)}},a.today)}return b.createElement(Lee.Provider,{value:Oe(Oe({},W),{},{mode:me,hideHeader:"hideHeader"in e?C:W.hideHeader,hidePrevBtn:$&&"right"===Q,hideNextBtn:$&&"left"===Q})},b.createElement("div",{tabIndex:m,className:oe()("".concat(r,"-panel"),i,(t={},(0,re.Z)(t,"".concat(r,"-panel-has-range"),J&&J[0]&&J[1]),(0,re.Z)(t,"".concat(r,"-panel-has-range-hover"),ee&&ee[0]&&ee[1]),(0,re.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===P),t)),style:o,onKeyDown:Ce,onBlur:function(e){te.current&&te.current.onBlur&&te.current.onBlur(e)},onMouseDown:T,ref:H},be,ke||Me||Ie?b.createElement("div",{className:"".concat(r,"-footer")},ke,Me,Ie):null))},Yte={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var Xte=function(e){var t,n=e.prefixCls,r=e.popupElement,i=e.popupStyle,o=e.visible,a=e.dropdownClassName,s=e.dropdownAlign,u=e.transitionName,l=e.getPopupContainer,c=e.children,f=e.range,d=e.popupPlacement,h=e.direction,p="".concat(n,"-dropdown");return b.createElement(Is,{showAction:[],hideAction:[],popupPlacement:void 0!==d?d:"rtl"===h?"bottomRight":"bottomLeft",builtinPlacements:Yte,prefixCls:p,popupTransitionName:u,popup:r,popupAlign:s,popupVisible:o,popupClassName:oe()(a,(t={},(0,re.Z)(t,"".concat(p,"-range"),f),(0,re.Z)(t,"".concat(p,"-rtl"),"rtl"===h),t)),popupStyle:i,getPopupContainer:l},c)};function Kte(e){var t=e.open,n=e.value,r=e.isClickOutside,i=e.triggerOpen,o=e.forwardKeyDown,a=e.onKeyDown,s=e.blurToCancel,u=e.onSubmit,l=e.onCancel,c=e.onFocus,f=e.onBlur,d=(0,b.useState)(!1),h=(0,y.Z)(d,2),p=h[0],g=h[1],v=(0,b.useState)(!1),m=(0,y.Z)(v,2),x=m[0],w=m[1],_=(0,b.useRef)(!1),S=(0,b.useRef)(!1),E=(0,b.useRef)(!1),C={onMouseDown:function(){g(!0),i(!0)},onKeyDown:function(e){if(a(e,(function(){E.current=!0})),!E.current){switch(e.which){case ed.ENTER:return t?!1!==u()&&g(!0):i(!0),void e.preventDefault();case ed.TAB:return void(p&&t&&!e.shiftKey?(g(!1),e.preventDefault()):!p&&t&&!o(e)&&e.shiftKey&&(g(!0),e.preventDefault()));case ed.ESC:return g(!0),void l()}t||[ed.SHIFT].includes(e.which)?p||o(e):i(!0)}},onFocus:function(e){g(!0),w(!0),c&&c(e)},onBlur:function(e){!_.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&l()}),0):t&&(i(!1),S.current&&u()),w(!1),f&&f(e)):_.current=!1}};return(0,b.useEffect)((function(){S.current=!1}),[t]),(0,b.useEffect)((function(){S.current=!0}),[n]),(0,b.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var o=r(n);o?x&&!o||i(!1):(_.current=!0,requestAnimationFrame((function(){_.current=!1})))}},!Kee&&"undefined"!==typeof window&&window.addEventListener&&(Kee=function(e){(0,ne.Z)(qee).forEach((function(t){t(e)}))},window.addEventListener("mousedown",Kee)),qee.add(e),function(){qee.delete(e),0===qee.size&&(window.removeEventListener("mousedown",Kee),Kee=null)};var e})),[C,{focused:x,typing:p}]}function qte(e){var t=e.valueTexts,n=e.onTextChange,r=b.useState(""),i=(0,y.Z)(r,2),o=i[0],a=i[1],s=b.useRef([]);function u(){a(s.current[0])}return s.current=t,b.useEffect((function(){t.every((function(e){return e!==o}))&&u()}),[t.join("||")]),[o,function(e){a(e),n(e)},u]}function $te(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale;return ki((function(){if(!e)return[[""],""];for(var t="",o=[],a=0;a<n.length;a+=1){var s=n[a],u=dte(e,{generateConfig:r,locale:i,format:s});o.push(u),0===a&&(t=u)}return[o,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!Il()(e[1],t[1])}))}function Qte(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale,o=(0,b.useState)(null),a=(0,y.Z)(o,2),s=a[0],u=a[1],l=(0,b.useRef)(null);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(l.current),t?u(e):l.current=requestAnimationFrame((function(){u(e)}))}var f=$te(s,{formatList:n,generateConfig:r,locale:i}),d=(0,y.Z)(f,2)[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(null,e)}return(0,b.useEffect)((function(){h(!0)}),[e]),(0,b.useEffect)((function(){return function(){return cancelAnimationFrame(l.current)}}),[]),[d,function(e){c(e)},h]}function Jte(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.id,o=e.tabIndex,a=e.style,s=e.className,u=e.dropdownClassName,l=e.dropdownAlign,c=e.popupStyle,f=e.transitionName,d=e.generateConfig,h=e.locale,p=e.inputReadOnly,g=e.allowClear,v=e.autoFocus,m=e.showTime,w=e.picker,_=void 0===w?"date":w,S=e.format,E=e.use12Hours,C=e.value,k=e.defaultValue,M=e.open,I=e.defaultOpen,T=e.defaultOpenValue,A=e.suffixIcon,N=e.clearIcon,D=e.disabled,P=e.disabledDate,O=e.placeholder,L=e.getPopupContainer,R=e.pickerRef,B=e.panelRender,z=e.onChange,F=e.onOpenChange,j=e.onFocus,G=e.onBlur,V=e.onMouseDown,U=e.onMouseUp,W=e.onMouseEnter,Z=e.onMouseLeave,H=e.onContextMenu,Y=e.onClick,X=e.onKeyDown,K=e.onSelect,q=e.direction,$=e.autoComplete,Q=void 0===$?"off":$,J=b.useRef(null),ee="date"===_&&!!m||"time"===_,te=yte(Yee(S,_,m,E)),ne=b.useRef(null),ie=b.useRef(null),ae=b.useRef(null),se=Ls(null,{value:C,defaultValue:k}),ue=(0,y.Z)(se,2),le=ue[0],ce=ue[1],fe=b.useState(le),de=(0,y.Z)(fe,2),he=de[0],pe=de[1],ge=b.useRef(null),ve=Ls(!1,{value:M,defaultValue:I,postState:function(e){return!D&&e},onChange:function(e){F&&F(e),!e&&ge.current&&ge.current.onClose&&ge.current.onClose()}}),me=(0,y.Z)(ve,2),ye=me[0],be=me[1],xe=$te(he,{formatList:te,generateConfig:d,locale:h}),we=(0,y.Z)(xe,2),_e=we[0],Se=we[1],Ee=qte({valueTexts:_e,onTextChange:function(e){var t=hte(e,{locale:h,formatList:te,generateConfig:d});!t||P&&P(t)||pe(t)}}),Ce=(0,y.Z)(Ee,3),ke=Ce[0],Me=Ce[1],Ie=Ce[2],Te=function(e){pe(e),ce(e),z&&!lte(d,le,e)&&z(e,e?dte(e,{generateConfig:d,locale:h,format:te[0]}):"")},Ae=function(e){D&&e||be(e)},Ne=Kte({blurToCancel:ee,open:ye,value:ke,triggerOpen:Ae,forwardKeyDown:function(e){return ye&&ge.current&&ge.current.onKeyDown?ge.current.onKeyDown(e):(_t(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!Qee([ne.current,ie.current,ae.current],e)},onSubmit:function(){return!(!he||P&&P(he))&&(Te(he),Ae(!1),Ie(),!0)},onCancel:function(){Ae(!1),pe(le),Ie()},onKeyDown:function(e,t){null===X||void 0===X||X(e,t)},onFocus:j,onBlur:G}),De=(0,y.Z)(Ne,2),Pe=De[0],Le=De[1],Re=Le.focused,Be=Le.typing;b.useEffect((function(){ye||(pe(le),_e.length&&""!==_e[0]?Se!==ke&&Ie():Me(""))}),[ye,_e]),b.useEffect((function(){ye||Ie()}),[_]),b.useEffect((function(){pe(le)}),[le]),R&&(R.current={focus:function(){J.current&&J.current.focus()},blur:function(){J.current&&J.current.blur()}});var ze=Qte(ke,{formatList:te,generateConfig:d,locale:h}),Fe=(0,y.Z)(ze,3),je=Fe[0],Ge=Fe[1],Ve=Fe[2],Ue=Oe(Oe({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),We=b.createElement(Hte,x({},Ue,{generateConfig:d,className:oe()((0,re.Z)({},"".concat(r,"-panel-focused"),!Be)),value:he,locale:h,tabIndex:-1,onSelect:function(e){null===K||void 0===K||K(e),pe(e)},direction:q,onPanelChange:function(t,n){var r=e.onPanelChange;Ve(!0),null===r||void 0===r||r(t,n)}}));B&&(We=B(We));var Ze,He,Ye=b.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},We);A&&(Ze=b.createElement("span",{className:"".concat(r,"-suffix")},A)),g&&le&&!D&&(He=b.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Te(null),Ae(!1)},className:"".concat(r,"-clear"),role:"button"},N||b.createElement("span",{className:"".concat(r,"-clear-btn")})));var Xe="rtl"===q?"bottomRight":"bottomLeft";return b.createElement(Lee.Provider,{value:{operationRef:ge,hideHeader:"time"===_,panelRef:ne,onSelect:function(e,t){("submit"===t||"key"!==t&&!ee)&&(Te(e),Ae(!1))},open:ye,defaultOpenValue:T,onDateMouseEnter:Ge,onDateMouseLeave:Ve}},b.createElement(Xte,{visible:ye,popupElement:Ye,popupStyle:c,prefixCls:r,dropdownClassName:u,dropdownAlign:l,getPopupContainer:L,transitionName:f,popupPlacement:Xe,direction:q},b.createElement("div",{ref:ae,className:oe()(r,s,(t={},(0,re.Z)(t,"".concat(r,"-disabled"),D),(0,re.Z)(t,"".concat(r,"-focused"),Re),(0,re.Z)(t,"".concat(r,"-rtl"),"rtl"===q),t)),style:a,onMouseDown:V,onMouseUp:function(){U&&U.apply(void 0,arguments),J.current&&(J.current.focus(),Ae(!0))},onMouseEnter:W,onMouseLeave:Z,onContextMenu:H,onClick:Y},b.createElement("div",{className:oe()("".concat(r,"-input"),(0,re.Z)({},"".concat(r,"-input-placeholder"),!!je)),ref:ie},b.createElement("input",x({id:i,tabIndex:o,disabled:D,readOnly:p||"function"===typeof te[0]||!Be,value:je||ke,onChange:function(e){Me(e.target.value)},autoFocus:v,placeholder:O,ref:J,title:ke},Pe,{size:Xee(_,te[0],d)},bte(e),{autoComplete:Q})),Ze,He))))}var ene=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=b.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,q.Z)(n,[{key:"render",value:function(){return b.createElement(Jte,x({},this.props,{pickerRef:this.pickerRef}))}}]),n}(b.Component),tne=ene;function nne(e,t,n,r){var i=fte(e,n,r,1);function o(n){return n(e,t)?"same":n(i,t)?"closing":"far"}switch(n){case"year":return o((function(e,t){return function(e,t,n){var r=nte(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return o((function(e,t){return rte(r,e,t)}));default:return o((function(e,t){return ate(r,e,t)}))}}function rne(e){var t=e.values,n=e.picker,r=e.defaultDates,i=e.generateConfig,o=b.useState((function(){return[xte(r,0),xte(r,1)]})),a=(0,y.Z)(o,2),s=a[0],u=a[1],l=b.useState(null),c=(0,y.Z)(l,2),f=c[0],d=c[1],h=xte(t,0),p=xte(t,1);return[function(e){return s[e]?s[e]:xte(f,e)||function(e,t,n,r){var i=xte(e,0),o=xte(e,1);if(0===t)return i;if(i&&o)switch(nne(i,o,n,r)){case"same":case"closing":return i;default:return fte(o,n,r,-1)}return i}(t,e,n,i)||h||p||i.getNow()},function(e,n){if(e){var r=wte(f,e,n);u(wte(s,null,n)||[null,null]);var i=(n+1)%2;xte(t,i)||(r=wte(r,e,i)),d(r)}else(h||p)&&d(null)}]}function ine(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function one(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function ane(e){var t,n,r,i=e.prefixCls,o=void 0===i?"rc-picker":i,a=e.id,s=e.style,u=e.className,l=e.popupStyle,c=e.dropdownClassName,f=e.transitionName,d=e.dropdownAlign,h=e.getPopupContainer,p=e.generateConfig,g=e.locale,v=e.placeholder,m=e.autoFocus,w=e.disabled,_=e.format,S=e.picker,E=void 0===S?"date":S,C=e.showTime,k=e.use12Hours,M=e.separator,I=void 0===M?"~":M,T=e.value,A=e.defaultValue,N=e.defaultPickerValue,D=e.open,P=e.defaultOpen,O=e.disabledDate,L=e.disabledTime,R=e.dateRender,B=e.panelRender,z=e.ranges,F=e.allowEmpty,j=e.allowClear,G=e.suffixIcon,V=e.clearIcon,U=e.pickerRef,W=e.inputReadOnly,Z=e.mode,H=e.renderExtraFooter,Y=e.onChange,X=e.onOpenChange,K=e.onPanelChange,q=e.onCalendarChange,$=e.onFocus,Q=e.onBlur,J=e.onMouseEnter,ee=e.onMouseLeave,te=e.onOk,ne=e.onKeyDown,ie=e.components,ae=e.order,se=e.direction,ue=e.activePickerIndex,le=e.autoComplete,ce=void 0===le?"off":le,fe="date"===E&&!!C||"time"===E,de=(0,b.useRef)({}),he=(0,b.useRef)(null),pe=(0,b.useRef)(null),ge=(0,b.useRef)(null),ve=(0,b.useRef)(null),me=(0,b.useRef)(null),ye=(0,b.useRef)(null),be=(0,b.useRef)(null),xe=yte(Yee(_,E,C,k)),we=Ls(0,{value:ue}),_e=(0,y.Z)(we,2),Se=_e[0],Ee=_e[1],Ce=(0,b.useRef)(null),ke=b.useMemo((function(){return Array.isArray(w)?w:[w||!1,w||!1]}),[w]),Me=Ls(null,{value:T,defaultValue:A,postState:function(e){return"time"!==E||ae?ine(e,p):e}}),Ie=(0,y.Z)(Me,2),Te=Ie[0],Ae=Ie[1],Ne=rne({values:Te,picker:E,defaultDates:N,generateConfig:p}),De=(0,y.Z)(Ne,2),Pe=De[0],Le=De[1],Re=Ls(Te,{postState:function(e){var t=e;if(ke[0]&&ke[1])return t;for(var n=0;n<2;n+=1)!ke[n]||xte(t,n)||xte(F,n)||(t=wte(t,p.getNow(),n));return t}}),Be=(0,y.Z)(Re,2),ze=Be[0],Fe=Be[1],Ge=Ls([E,E],{value:Z}),Ve=(0,y.Z)(Ge,2),Ue=Ve[0],We=Ve[1];(0,b.useEffect)((function(){We([E,E])}),[E]);var Ze=function(e,t){We(e),K&&K(t,e)},He=function(e,t,n){var r=e.picker,i=e.locale,o=e.selectedValue,a=e.disabledDate,s=e.disabled,u=e.generateConfig,l=xte(o,0),c=xte(o,1);function f(e){return u.locale.getWeekFirstDate(i.locale,e)}function d(e){return 100*u.getYear(e)+u.getMonth(e)}function h(e){return 10*u.getYear(e)+ite(u,e)}var p=b.useCallback((function(e){if(a&&a(e))return!0;if(s[1]&&c)return!ste(u,e,c)&&u.isAfter(e,c);if(t&&c)switch(r){case"quarter":return h(e)>h(c);case"month":return d(e)>d(c);case"week":return f(e)>f(c);default:return!ste(u,e,c)&&u.isAfter(e,c)}return!1}),[a,s[1],c,t]),g=b.useCallback((function(e){if(a&&a(e))return!0;if(s[0]&&l)return!ste(u,e,c)&&u.isAfter(l,e);if(n&&l)switch(r){case"quarter":return h(e)<h(l);case"month":return d(e)<d(l);case"week":return f(e)<f(l);default:return!ste(u,e,l)&&u.isAfter(l,e)}return!1}),[a,s[0],l,n]);return[p,g]}({picker:E,selectedValue:ze,locale:g,disabled:ke,disabledDate:O,generateConfig:p},de.current[1],de.current[0]),Ye=(0,y.Z)(He,2),Xe=Ye[0],Ke=Ye[1],qe=Ls(!1,{value:D,defaultValue:P,postState:function(e){return!ke[Se]&&e},onChange:function(e){X&&X(e),!e&&Ce.current&&Ce.current.onClose&&Ce.current.onClose()}}),$e=(0,y.Z)(qe,2),Qe=$e[0],Je=$e[1],et=Qe&&0===Se,tt=Qe&&1===Se,nt=(0,b.useState)(0),rt=(0,y.Z)(nt,2),it=rt[0],ot=rt[1];(0,b.useEffect)((function(){!Qe&&he.current&&ot(he.current.offsetWidth)}),[Qe]);var at=b.useRef();function st(e,t){if(e)clearTimeout(at.current),de.current[t]=!0,Ee(t),Je(e),Qe||Le(null,t);else if(Se===t){Je(e);var n=de.current;at.current=setTimeout((function(){n===de.current&&(de.current={})}))}}function ut(e){st(!0,e),setTimeout((function(){var t=[ye,be][e];t.current&&t.current.focus()}),0)}function lt(e,t){var n=e,r=xte(n,0),i=xte(n,1);r&&i&&p.isAfter(r,i)&&("week"===E&&!ute(p,g.locale,r,i)||"quarter"===E&&!ote(p,r,i)||"week"!==E&&"quarter"!==E&&"time"!==E&&!ste(p,r,i)?(0===t?(n=[r,null],i=null):(r=null,n=[null,i]),de.current=(0,re.Z)({},t,!0)):"time"===E&&!1===ae||(n=ine(n,p))),Fe(n);var o=n&&n[0]?dte(n[0],{generateConfig:p,locale:g,format:xe[0]}):"",a=n&&n[1]?dte(n[1],{generateConfig:p,locale:g,format:xe[0]}):"";q&&q(n,[o,a],{range:0===t?"start":"end"});var s=one(r,0,ke,F),u=one(i,1,ke,F);(null===n||s&&u)&&(Ae(n),!Y||lte(p,xte(Te,0),r)&&lte(p,xte(Te,1),i)||Y(n,[o,a]));var l=null;0!==t||ke[1]?1!==t||ke[0]||(l=0):l=1,null===l||l===Se||de.current[l]&&xte(n,l)||!xte(n,t)?st(!1,t):ut(l)}var ct=function(e){return Qe&&Ce.current&&Ce.current.onKeyDown?Ce.current.onKeyDown(e):(_t(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},ft={formatList:xe,generateConfig:p,locale:g},dt=$te(xte(ze,0),ft),ht=(0,y.Z)(dt,2),pt=ht[0],gt=ht[1],vt=$te(xte(ze,1),ft),mt=(0,y.Z)(vt,2),yt=mt[0],bt=mt[1],xt=function(e,t){var n=hte(e,{locale:g,formatList:xe,generateConfig:p});n&&!(0===t?Xe:Ke)(n)&&(Fe(wte(ze,n,t)),Le(n,t))},wt=qte({valueTexts:pt,onTextChange:function(e){return xt(e,0)}}),St=(0,y.Z)(wt,3),Et=St[0],Ct=St[1],kt=St[2],Mt=qte({valueTexts:yt,onTextChange:function(e){return xt(e,1)}}),It=(0,y.Z)(Mt,3),Tt=It[0],At=It[1],Nt=It[2],Dt=(0,b.useState)(null),Pt=(0,y.Z)(Dt,2),Ot=Pt[0],Lt=Pt[1],Rt=(0,b.useState)(null),Bt=(0,y.Z)(Rt,2),zt=Bt[0],Ft=Bt[1],jt=Qte(Et,{formatList:xe,generateConfig:p,locale:g}),Gt=(0,y.Z)(jt,3),Vt=Gt[0],Ut=Gt[1],Wt=Gt[2],Zt=Qte(Tt,{formatList:xe,generateConfig:p,locale:g}),Ht=(0,y.Z)(Zt,3),Yt=Ht[0],Xt=Ht[1],Kt=Ht[2],qt=function(e,t){return{blurToCancel:fe,forwardKeyDown:ct,onBlur:Q,isClickOutside:function(e){return!Qee([pe.current,ge.current,ve.current,he.current],e)},onFocus:function(t){Ee(e),$&&$(t)},triggerOpen:function(t){st(t,e)},onSubmit:function(){lt(ze,e),t()},onCancel:function(){st(!1,e),Fe(Te),t()}}},$t=Kte(Oe(Oe({},qt(0,kt)),{},{open:et,value:Et,onKeyDown:function(e,t){null===ne||void 0===ne||ne(e,t)}})),Qt=(0,y.Z)($t,2),Jt=Qt[0],en=Qt[1],tn=en.focused,nn=en.typing,rn=Kte(Oe(Oe({},qt(1,Nt)),{},{open:tt,value:Tt,onKeyDown:function(e,t){null===ne||void 0===ne||ne(e,t)}})),on=(0,y.Z)(rn,2),an=on[0],sn=on[1],un=sn.focused,ln=sn.typing,cn=Te&&Te[0]?dte(Te[0],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"",fn=Te&&Te[1]?dte(Te[1],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"";(0,b.useEffect)((function(){Qe||(Fe(Te),pt.length&&""!==pt[0]?gt!==Et&&kt():Ct(""),yt.length&&""!==yt[0]?bt!==Tt&&Nt():At(""))}),[Qe,pt,yt]),(0,b.useEffect)((function(){Fe(Te)}),[cn,fn]),U&&(U.current={focus:function(){ye.current&&ye.current.focus()},blur:function(){ye.current&&ye.current.blur(),be.current&&be.current.blur()}});var dn=Object.keys(z||{}).map((function(e){var t=z[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){lt(n,null),st(!1,Se)},onMouseEnter:function(){Lt(n)},onMouseLeave:function(){Lt(null)}}}));function hn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Qe&&zt&&zt[0]&&zt[1]&&p.isAfter(zt[1],zt[0])&&(r=zt);var i=C;if(C&&"object"===(0,je.Z)(C)&&C.defaultValue){var a=C.defaultValue;i=Oe(Oe({},C),{},{defaultValue:xte(a,Se)||void 0})}var s=null;return R&&(s=function(e,t){return R(e,t,{range:Se?"end":"start"})}),b.createElement(kte.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:Ot||ze,hoverRangedValue:r}},b.createElement(Hte,x({},e,n,{dateRender:s,showTime:i,mode:Ue[Se],generateConfig:p,style:void 0,direction:se,disabledDate:0===Se?Xe:Ke,disabledTime:function(e){return!!L&&L(e,0===Se?"start":"end")},className:oe()((0,re.Z)({},"".concat(o,"-panel-focused"),0===Se?!nn:!ln)),value:xte(ze,Se),locale:g,tabIndex:-1,onPanelChange:function(e,n){0===Se&&Wt(!0),1===Se&&Kt(!0),Ze(wte(Ue,n,Se),wte(ze,e,Se));var r=e;"right"===t&&Ue[Se]===n&&(r=fte(r,n,p,-1)),Le(r,Se)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:xte(ze,0===Se?1:0)})))}var pn=0,gn=0;Se&&ge.current&&me.current&&pe.current&&(pn=ge.current.offsetWidth+me.current.offsetWidth,pe.current.offsetWidth&&pn>pe.current.offsetWidth&&(gn=pn));var vn="rtl"===se?{right:pn}:{left:pn};var mn,yn,bn=b.createElement("div",{className:oe()("".concat(o,"-range-wrapper"),"".concat(o,"-").concat(E,"-range-wrapper")),style:{minWidth:it}},b.createElement("div",{className:"".concat(o,"-range-arrow"),style:vn}),function(){var e,t=Wte(o,Ue[Se],H),n=Zte({prefixCls:o,components:ie,needConfirmButton:fe,okDisabled:!xte(ze,Se)||O&&O(ze[Se]),locale:g,rangeList:dn,onOk:function(){xte(ze,Se)&&(lt(ze,Se),te&&te(ze))}});if("time"===E||C)e=hn();else{var r=Pe(Se),i=fte(r,E,p),a=Ue[Se]===E,s=hn(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){Le(e,Se)}}),u=hn("right",{pickerValue:i,onPickerValueChange:function(e){Le(fte(e,E,p,-1),Se)}});e="rtl"===se?b.createElement(b.Fragment,null,u,a&&s):b.createElement(b.Fragment,null,s,a&&u)}var l=b.createElement(b.Fragment,null,b.createElement("div",{className:"".concat(o,"-panels")},e),(t||n)&&b.createElement("div",{className:"".concat(o,"-footer")},t,n));return B&&(l=B(l)),b.createElement("div",{className:"".concat(o,"-panel-container"),style:{marginLeft:gn},ref:pe,onMouseDown:function(e){e.preventDefault()}},l)}());G&&(mn=b.createElement("span",{className:"".concat(o,"-suffix")},G)),j&&(xte(Te,0)&&!ke[0]||xte(Te,1)&&!ke[1])&&(yn=b.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=Te;ke[0]||(t=wte(t,null,0)),ke[1]||(t=wte(t,null,1)),lt(t,null),st(!1,Se)},className:"".concat(o,"-clear")},V||b.createElement("span",{className:"".concat(o,"-clear-btn")})));var xn={size:Xee(E,xe[0],p)},wn=0,_n=0;ge.current&&ve.current&&me.current&&(0===Se?_n=ge.current.offsetWidth:(wn=pn,_n=ve.current.offsetWidth));var Sn="rtl"===se?{right:wn}:{left:wn};return b.createElement(Lee.Provider,{value:{operationRef:Ce,hideHeader:"time"===E,onDateMouseEnter:function(e){Ft(wte(ze,e,Se)),0===Se?Ut(e):Xt(e)},onDateMouseLeave:function(){Ft(wte(ze,null,Se)),0===Se?Wt():Kt()},hideRanges:!0,onSelect:function(e,t){var n=wte(ze,e,Se);"submit"===t||"key"!==t&&!fe?(lt(n,Se),0===Se?Wt():Kt()):Fe(n)},open:Qe}},b.createElement(Xte,{visible:Qe,popupElement:bn,popupStyle:l,prefixCls:o,dropdownClassName:c,dropdownAlign:d,getPopupContainer:h,transitionName:f,range:!0,direction:se},b.createElement("div",x({ref:he,className:oe()(o,"".concat(o,"-range"),u,(t={},(0,re.Z)(t,"".concat(o,"-disabled"),ke[0]&&ke[1]),(0,re.Z)(t,"".concat(o,"-focused"),0===Se?tn:un),(0,re.Z)(t,"".concat(o,"-rtl"),"rtl"===se),t)),style:s,onClick:function(e){Qe||ye.current.contains(e.target)||be.current.contains(e.target)||(ke[0]?ke[1]||ut(1):ut(0))},onMouseEnter:J,onMouseLeave:ee,onMouseDown:function(e){!Qe||!tn&&!un||ye.current.contains(e.target)||be.current.contains(e.target)||e.preventDefault()}},bte(e)),b.createElement("div",{className:oe()("".concat(o,"-input"),(n={},(0,re.Z)(n,"".concat(o,"-input-active"),0===Se),(0,re.Z)(n,"".concat(o,"-input-placeholder"),!!Vt),n)),ref:ge},b.createElement("input",x({id:a,disabled:ke[0],readOnly:W||"function"===typeof xe[0]||!nn,value:Vt||Et,onChange:function(e){Ct(e.target.value)},autoFocus:m,placeholder:xte(v,0)||"",ref:ye},Jt,xn,{autoComplete:ce}))),b.createElement("div",{className:"".concat(o,"-range-separator"),ref:me},I),b.createElement("div",{className:oe()("".concat(o,"-input"),(r={},(0,re.Z)(r,"".concat(o,"-input-active"),1===Se),(0,re.Z)(r,"".concat(o,"-input-placeholder"),!!Yt),r)),ref:ve},b.createElement("input",x({disabled:ke[1],readOnly:W||"function"===typeof xe[0]||!ln,value:Yt||Tt,onChange:function(e){At(e.target.value)},placeholder:xte(v,1)||"",ref:be},an,xn,{autoComplete:ce}))),b.createElement("div",{className:"".concat(o,"-active-bar"),style:Oe(Oe({},Sn),{},{width:_n,position:"absolute"})}),mn,yn)))}var sne=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=b.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,q.Z)(n,[{key:"render",value:function(){return b.createElement(ane,x({},this.props,{pickerRef:this.pickerRef}))}}]),n}(b.Component),une=sne,lne=tne;function cne(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function fne(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}var dne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var hne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},pne=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:hne}))};pne.displayName="SwapRightOutlined";var gne=b.forwardRef(pne),vne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var mne={button:function(e){return b.createElement(cl,x({size:"small",type:"primary"},e))},rangeItem:function(e){return b.createElement(Iee,x({color:"blue"},e))}};function yne(e){var t,n=e.format,r=e.picker,i=e.showHour,o=e.showMinute,a=e.showSecond,s=e.use12Hours,u=(t=n,t?Array.isArray(t)?t:[t]:[])[0],l=x({},e);return u&&"string"===typeof u&&(u.includes("s")||void 0!==a||(l.showSecond=!1),u.includes("m")||void 0!==o||(l.showMinute=!1),u.includes("H")||u.includes("h")||void 0!==i||(l.showHour=!1),(u.includes("a")||u.includes("A"))&&void 0===s&&(l.use12Hours=!0)),"time"===r?l:("function"===typeof u&&delete l.format,{showTime:l})}var bne=function(e){var t=function(e){function t(t,n){var r=function(r){(0,$.Z)(o,r);var i=(0,Q.Z)(o);function o(r){var a;return(0,K.Z)(this,o),(a=i.call(this,r)).pickerRef=b.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.renderPicker=function(n){var r=x(x({},n),a.props.locale),i=a.context,o=i.getPrefixCls,s=i.direction,u=i.getPopupContainer,l=a.props,c=l.prefixCls,f=l.getPopupContainer,d=l.className,h=l.size,p=l.bordered,g=void 0===p||p,v=l.placeholder,m=dne(l,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),y=a.props,w=y.format,_=y.showTime,S=o("picker",c),E={showToday:!0},C={};t&&(C.picker=t);var k=t||a.props.picker;C=x(x(x({},C),_?yne(x({format:w,picker:k},_)):{}),"time"===k?yne(x(x({format:w},a.props),{picker:k})):{});var M=o();return b.createElement(_i.Consumer,null,(function(t){var n,i=h||t;return b.createElement(lne,x({ref:a.pickerRef,placeholder:cne(k,r,v),suffixIcon:"time"===k?b.createElement(Oee,null):b.createElement(Nee,null),clearIcon:b.createElement(uu,null),prevIcon:b.createElement("span",{className:"".concat(S,"-prev-icon")}),nextIcon:b.createElement("span",{className:"".concat(S,"-next-icon")}),superPrevIcon:b.createElement("span",{className:"".concat(S,"-super-prev-icon")}),superNextIcon:b.createElement("span",{className:"".concat(S,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(M,"-slide-up")},E,m,C,{locale:r.lang,className:oe()((n={},(0,re.Z)(n,"".concat(S,"-").concat(i),i),(0,re.Z)(n,"".concat(S,"-borderless"),!g),n),d),prefixCls:S,getPopupContainer:f||u,generateConfig:e,components:mne,direction:s}))}))},Ai("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return(0,q.Z)(o,[{key:"render",value:function(){return b.createElement(he,{componentName:"DatePicker",defaultLocale:ue},this.renderPicker)}}]),o}(b.Component);return r.contextType=_e,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,i=t.MonthPicker,o=t.YearPicker,a=t.TimePicker,s=t.QuarterPicker,u=function(e){var t=function(t){(0,$.Z)(r,t);var n=(0,Q.Z)(r);function r(){var t;return(0,K.Z)(this,r),(t=n.apply(this,arguments)).pickerRef=b.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.renderPicker=function(n){var r=x(x({},n),t.props.locale),i=t.context,o=i.getPrefixCls,a=i.direction,s=i.getPopupContainer,u=t.props,l=u.prefixCls,c=u.getPopupContainer,f=u.className,d=u.size,h=u.bordered,p=void 0===h||h,g=u.placeholder,v=vne(u,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),m=t.props,y=m.format,w=m.showTime,_=m.picker,S=o("picker",l),E={};E=x(x(x({},E),w?yne(x({format:y,picker:_},w)):{}),"time"===_?yne(x(x({format:y},t.props),{picker:_})):{});var C=o();return b.createElement(_i.Consumer,null,(function(n){var i,o=d||n;return b.createElement(une,x({separator:b.createElement("span",{"aria-label":"to",className:"".concat(S,"-separator")},b.createElement(gne,null)),ref:t.pickerRef,placeholder:fne(_,r,g),suffixIcon:"time"===_?b.createElement(Oee,null):b.createElement(Nee,null),clearIcon:b.createElement(uu,null),prevIcon:b.createElement("span",{className:"".concat(S,"-prev-icon")}),nextIcon:b.createElement("span",{className:"".concat(S,"-next-icon")}),superPrevIcon:b.createElement("span",{className:"".concat(S,"-super-prev-icon")}),superNextIcon:b.createElement("span",{className:"".concat(S,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(C,"-slide-up")},v,E,{className:oe()((i={},(0,re.Z)(i,"".concat(S,"-").concat(o),o),(0,re.Z)(i,"".concat(S,"-borderless"),!p),i),f),locale:r.lang,prefixCls:S,getPopupContainer:c||s,generateConfig:e,components:mne,direction:a}))}))},t}return(0,q.Z)(r,[{key:"render",value:function(){return b.createElement(he,{componentName:"DatePicker",defaultLocale:ue},this.renderPicker)}}]),r}(b.Component);return t.contextType=_e,t}(e),l=n;return l.WeekPicker=r,l.MonthPicker=i,l.YearPicker=o,l.RangePicker=u,l.TimePicker=a,l.QuarterPicker=s,l},xne=bne(xee),wne=function(e){if(St()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function _ne(e,t){return Array.isArray(e)||void 0===t?wne(e):function(e,t){if(!wne(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var Sne=function(e){return null};var Ene=function(e){return null};function Cne(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function kne(e,t){if(!t&&"number"!==typeof t)return e;for(var n=Cne(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function Mne(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,o=r.dataIndex,a=i||Cne(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function Ine(e){return null!==e&&void 0!==e}var Tne=b.createContext(!1),Ane=b.createContext({}),Nne=b.createContext({renderWithProps:!1}),Dne=["colSpan","rowSpan","style","className"];function Pne(e,t){var n,r,i,o=e.prefixCls,a=e.className,s=e.record,u=e.index,l=e.renderIndex,c=e.dataIndex,f=e.render,d=e.children,h=e.component,p=void 0===h?"td":h,g=e.colSpan,v=e.rowSpan,m=e.fixLeft,x=e.fixRight,w=e.firstFixLeft,_=e.lastFixLeft,S=e.firstFixRight,E=e.lastFixRight,C=e.appendNode,k=e.additionalProps,M=void 0===k?{}:k,I=e.ellipsis,T=e.align,A=e.rowType,N=e.isSticky,D=e.hovering,P=e.onHover,O="".concat(o,"-cell"),L=b.useContext(Nne),R=b.useContext(Tne),B=b.useMemo((function(){if(Ine(d))return[d];var e,t=kne(s,c),n=t,r=void 0;if(f){var i=f(t,s,l);!(e=i)||"object"!==(0,je.Z)(e)||Array.isArray(e)||b.isValidElement(e)?n=i:(n=i.children,r=i.props,L.renderWithProps=!0)}return[n,r]}),[L.renderWithProps?Math.random():0,d,c,L,s,f,l]),z=(0,y.Z)(B,2),F=z[0],j=z[1],G=F;"object"!==(0,je.Z)(G)||Array.isArray(G)||b.isValidElement(G)||(G=null),I&&(_||S)&&(G=b.createElement("span",{className:"".concat(O,"-content")},G));var V=j||{},U=V.colSpan,W=V.rowSpan,Z=V.style,H=V.className,Y=ze(V,Dne),X=null!==(n=void 0!==U?U:g)&&void 0!==n?n:1,K=null!==(r=void 0!==W?W:v)&&void 0!==r?r:1;if(0===X||0===K)return null;var q={},$="number"===typeof m&&R,Q="number"===typeof x&&R;$&&(q.position="sticky",q.left=m),Q&&(q.position="sticky",q.right=x);var J={};T&&(J.textAlign=T);var ee,te=!0===I?{showTitle:!0}:I;te&&(te.showTitle||"header"===A)&&("string"===typeof G||"number"===typeof G?ee=G.toString():b.isValidElement(G)&&"string"===typeof G.props.children&&(ee=G.props.children));var ne,ie=Oe(Oe(Oe({title:ee},Y),M),{},{colSpan:1!==X?X:null,rowSpan:1!==K?K:null,className:oe()(O,a,(i={},(0,re.Z)(i,"".concat(O,"-fix-left"),$&&R),(0,re.Z)(i,"".concat(O,"-fix-left-first"),w&&R),(0,re.Z)(i,"".concat(O,"-fix-left-last"),_&&R),(0,re.Z)(i,"".concat(O,"-fix-right"),Q&&R),(0,re.Z)(i,"".concat(O,"-fix-right-first"),S&&R),(0,re.Z)(i,"".concat(O,"-fix-right-last"),E&&R),(0,re.Z)(i,"".concat(O,"-ellipsis"),I),(0,re.Z)(i,"".concat(O,"-with-append"),C),(0,re.Z)(i,"".concat(O,"-fix-sticky"),($||Q)&&N&&R),(0,re.Z)(i,"".concat(O,"-row-hover"),!j&&D),i),M.className,H),style:Oe(Oe(Oe(Oe({},M.style),J),q),Z),onMouseEnter:function(e){var t;s&&P(u,u+K-1),null===M||void 0===M||null===(t=M.onMouseEnter)||void 0===t||t.call(M,e)},onMouseLeave:function(e){var t;s&&P(-1,-1),null===M||void 0===M||null===(t=M.onMouseLeave)||void 0===t||t.call(M,e)},ref:(ne=p,"string"===typeof ne||Ti(ne)?t:null)});return b.createElement(p,ie,C,G)}var One=b.forwardRef(Pne);One.displayName="Cell";var Lne=["expanded","className","hovering"],Rne=b.memo(One,(function(e,t){return t.shouldCellUpdate?Lne.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):Il()(e,t)})),Bne=b.forwardRef((function(e,t){var n=b.useContext(Ane),r=n.onHover,i=n.startRow,o=n.endRow,a=e.index,s=e.additionalProps,u=void 0===s?{}:s,l=e.colSpan,c=e.rowSpan,f=u.colSpan,d=u.rowSpan,h=null!==l&&void 0!==l?l:f,p=null!==c&&void 0!==c?c:d,g=function(e,t,n,r){return e<=r&&e+t-1>=n}(a,p||1,i,o);return b.createElement(Rne,x({},e,{colSpan:h,rowSpan:p,hovering:g,ref:t,onHover:r}))}));Bne.displayName="WrappedCell";var zne=Bne,Fne=b.createContext(null);function jne(e,t,n,r,i){var o,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?o=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var l=!1,c=!1,f=!1,d=!1,h=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==o)d=!(p&&"left"===p.fixed);else if(void 0!==a){f=!(h&&"right"===h.fixed)}}else if(void 0!==o){l=!(h&&"left"===h.fixed)}else if(void 0!==a){c=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:l,firstFixRight:c,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}function Gne(e){var t,n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,u=e.index,l=b.useContext(Fne),c=l.prefixCls,f=l.direction;s&&(t=s(n.map((function(e){return e.column})),u));var d=Mne(n.map((function(e){return e.column})));return b.createElement(o,t,n.map((function(e,t){var n,o=e.column,s=jne(e.colStart,e.colEnd,i,r,f);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),b.createElement(zne,x({},e,{ellipsis:o.ellipsis,align:o.align,component:a,prefixCls:c,key:d[t]},s,{additionalProps:n,rowType:"header"}))})))}Gne.displayName="HeaderRow";var Vne=Gne;var Une=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,o=b.useContext(Fne),a=o.prefixCls,s=o.getComponent,u=b.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var o=r,a=n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[i].push(r),o+=a,a}));return a}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),l=s(["header","wrapper"],"thead"),c=s(["header","row"],"tr"),f=s(["header","cell"],"th");return b.createElement(l,{className:"".concat(a,"-thead")},u.map((function(e,n){return b.createElement(Vne,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:c,cellComponent:f,onHeaderRow:i,index:n})})))},Wne=b.createContext(null),Zne=b.createContext(null);var Hne=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,o=e.className,a=e.expanded,s=e.colSpan,u=e.isEmpty,l=b.useContext(Fne).scrollbarSize,c=b.useContext(Zne),f=c.fixHeader,d=c.fixColumn,h=c.componentWidth,p=c.horizonScroll;return b.useMemo((function(){var e=n;return(u?p:d)&&(e=b.createElement("div",{style:{width:h-(f?l:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),b.createElement(r,{className:o,style:{display:a?null:"none"}},b.createElement(zne,{component:i,prefixCls:t,colSpan:s},e))}),[n,r,o,a,s,u,l,h,d,f,p])},Yne=b.createContext(null);function Xne(e){var t=e.className,n=e.style,r=e.record,i=e.index,o=e.renderIndex,a=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,l=e.onRow,c=e.indent,f=void 0===c?0:c,d=e.rowComponent,h=e.cellComponent,p=e.childrenColumnName,g=b.useContext(Fne),v=g.prefixCls,m=g.fixedInfoList,w=b.useContext(Wne),_=w.flattenColumns,S=w.expandableType,E=w.expandRowByClick,C=w.onTriggerExpand,k=w.rowClassName,M=w.expandedRowClassName,I=w.indentSize,T=w.expandIcon,A=w.expandedRowRender,N=w.expandIconColumnIndex,D=b.useState(!1),P=(0,y.Z)(D,2),O=P[0],L=P[1],R=u&&u.has(e.recordKey);b.useEffect((function(){R&&L(!0)}),[R]);var B="row"===S&&(!s||s(r)),z="nest"===S,F=p&&r&&r[p],j=B||z,G=b.useRef(C);G.current=C;var V,U=function(){G.current.apply(G,arguments)};l&&(V=l(r,i));var W;"string"===typeof k?W=k:"function"===typeof k&&(W=k(r,i,f));var Z,H=Mne(_),Y=b.createElement(d,x({},V,{"data-row-key":a,className:oe()(t,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(f),W,V&&V.className),style:Oe(Oe({},n),V?V.style:null),onClick:function(e){var t,n;E&&j&&U(r,e);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];null===(t=V)||void 0===t||null===(n=t.onClick)||void 0===n||n.call.apply(n,[t,e].concat(o))}}),_.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,l=e.className,c=H[t],d=m[t];return t===(N||0)&&z&&(n=b.createElement(b.Fragment,null,b.createElement("span",{style:{paddingLeft:"".concat(I*f,"px")},className:"".concat(v,"-row-indent indent-level-").concat(f)}),T({prefixCls:v,expanded:R,expandable:F,record:r,onExpand:U}))),e.onCell&&(a=e.onCell(r,i)),b.createElement(zne,x({className:l,ellipsis:e.ellipsis,align:e.align,component:h,prefixCls:v,key:c,record:r,index:i,renderIndex:o,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&R},d,{appendNode:n,additionalProps:a}))})));if(B&&(O||R)){var X=A(r,i,f+1,R),K=M&&M(r,i,f);Z=b.createElement(Hne,{expanded:R,className:oe()("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(f+1),K),prefixCls:v,component:d,cellComponent:h,colSpan:_.length,isEmpty:!1},X)}return b.createElement(b.Fragment,null,Y,Z)}Xne.displayName="BodyRow";var Kne=Xne;function qne(e,t,n,r,i,o){var a=[];a.push({record:e,indent:t,index:o});var s=i(e),u=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&u)for(var l=0;l<e[n].length;l+=1){var c=qne(e[n][l],t+1,n,r,i,l);a.push.apply(a,(0,ne.Z)(c))}return a}function $ne(e){var t=e.columnKey,n=e.onColumnResize,r=b.useRef();return b.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),b.createElement(wl,{data:t},b.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},b.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function Qne(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=b.useRef(new Map),o=b.useRef(null);return b.useEffect((function(){return function(){Fi.cancel(o.current)}}),[]),b.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},b.createElement(wl.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;i.current.set(t,n.offsetWidth)})),null===o.current&&(o.current=Fi((function(){i.current.forEach((function(e,t){r(t,e)})),i.current.clear(),o.current=null}),2))}},n.map((function(e){return b.createElement($ne,{key:e,columnKey:e,onColumnResize:r})}))))}function Jne(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,o=e.onRow,a=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,l=b.useContext(Yne).onColumnResize,c=b.useContext(Fne),f=c.prefixCls,d=c.getComponent,h=b.useContext(Wne).flattenColumns,p=function(e,t,n,r){var i=b.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var a=e[o];i.push.apply(i,(0,ne.Z)(qne(a,0,t,n,r,o)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r]);return i}(t,u,i,n),g=b.useRef({renderWithProps:!1}),v=b.useState(-1),m=(0,y.Z)(v,2),x=m[0],w=m[1],_=b.useState(-1),S=(0,y.Z)(_,2),E=S[0],C=S[1],k=b.useCallback((function(e,t){w(e),C(t)}),[]),M=b.useMemo((function(){return{startRow:x,endRow:E,onHover:k}}),[k,x,E]),I=b.useMemo((function(){var e,c=d(["body","wrapper"],"tbody"),g=d(["body","row"],"tr"),v=d(["body","cell"],"td");e=t.length?p.map((function(e,t){var r=e.record,s=e.indent,l=e.index,c=n(r,t);return b.createElement(Kne,{key:c,rowKey:c,record:r,recordKey:c,index:t,renderIndex:l,rowComponent:g,cellComponent:v,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:u,indent:s})})):b.createElement(Hne,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:g,cellComponent:v,colSpan:h.length,isEmpty:!0},s);var m=Mne(h);return b.createElement(c,{className:"".concat(f,"-tbody")},r&&b.createElement(Qne,{prefixCls:f,columnsKey:m,onColumnResize:l}),e)}),[t,f,o,r,i,n,d,s,h,u,l,a,p]);return b.createElement(Nne.Provider,{value:g.current},b.createElement(Ane.Provider,{value:M},I))}var ere=b.memo(Jne);ere.displayName="Body";var tre=ere,nre=["expandable"],rre="RC_TABLE_INTERNAL_COL_DEFINE";var ire={},ore=["children"],are=["fixed"];function sre(e){return Dn(e).filter((function(e){return b.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=Oe({key:t},ze(n,ore));return r&&(i.children=sre(r)),i}))}function ure(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,ne.Z)(e),(0,ne.Z)(ure(i).map((function(e){return Oe({fixed:r},e)})))):[].concat((0,ne.Z)(e),[Oe(Oe({},t),{},{fixed:r})])}),[])}var lre=function(e,t){var n=e.prefixCls,r=e.columns,i=e.children,o=e.expandable,a=e.expandedKeys,s=e.getRowKey,u=e.onTriggerExpand,l=e.expandIcon,c=e.rowExpandable,f=e.expandIconColumnIndex,d=e.direction,h=e.expandRowByClick,p=e.columnWidth,g=e.fixed,v=b.useMemo((function(){return r||sre(i)}),[r,i]),m=b.useMemo((function(){if(o){var e,t=v.slice();if(!t.includes(ire)){var r=f||0;r>=0&&t.splice(r,0,ire)}0;var i=t.indexOf(ire);t=t.filter((function(e,t){return e!==ire||t===i}));var d,m=v[i];d="left"!==g&&!g||f?"right"!==g&&!g||f!==v.length?m?m.fixed:null:"right":"left";var y=(e={},(0,re.Z)(e,rre,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,re.Z)(e,"title",""),(0,re.Z)(e,"fixed",d),(0,re.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,re.Z)(e,"width",p),(0,re.Z)(e,"render",(function(e,t,r){var i=s(t,r),o=a.has(i),f=!c||c(t),d=l({prefixCls:n,expanded:o,expandable:f,record:t,onExpand:u});return h?b.createElement("span",{onClick:function(e){return e.stopPropagation()}},d):d})),e);return t.map((function(e){return e===ire?y:e}))}return v.filter((function(e){return e!==ire}))}),[o,v,s,a,l,d]),y=b.useMemo((function(){var e=m;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,m,d]),x=b.useMemo((function(){return"rtl"===d?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Oe({fixed:n},ze(e,are))}))}(ure(y)):ure(y)}),[y,d]);return[y,x]};function cre(e){var t=(0,b.useRef)(e),n=(0,b.useState)({}),r=(0,y.Z)(n,2)[1],i=(0,b.useRef)(null),o=(0,b.useRef)([]);return(0,b.useEffect)((function(){return function(){i.current=null}}),[]),[t.current,function(e){o.current.push(e);var n=Promise.resolve();i.current=n,n.then((function(){if(i.current===n){var e=o.current,a=t.current;o.current=[],e.forEach((function(e){t.current=e(t.current)})),i.current=null,a!==t.current&&r({})}}))}]}var fre=function(e,t,n){var r=(0,b.useMemo)((function(){for(var r=[],i=[],o=0,a=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=a,a+=e[s]||0;var u=t-s-1;r[u]=o,o+=e[u]||0}else{r[s]=o,o+=e[s]||0;var l=t-s-1;i[l]=a,a+=e[l]||0}return{left:r,right:i}}),[e,t,n]);return r},dre=["columnType"];var hre=function(e){for(var t=e.colWidths,n=e.columns,r=[],i=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var a=t[o],s=n&&n[o],u=s&&s[rre];if(a||u||i){var l=u||{},c=(l.columnType,ze(l,dre));r.unshift(b.createElement("col",x({key:o,style:{width:a}},c))),i=!0}}return b.createElement("colgroup",null,r)};var pre=function(e){var t=e.className,n=e.children;return b.createElement("div",{className:t},n)};var gre=["children"];var vre=b.createContext({});function mre(e){return e.children}mre.Row=function(e){var t=e.children,n=ze(e,gre);return b.createElement("tr",n,t)},mre.Cell=function(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,o=void 0===i?1:i,a=e.rowSpan,s=e.align,u=b.useContext(Fne),l=u.prefixCls,c=u.direction,f=b.useContext(vre),d=f.scrollColumnIndex,h=f.stickyOffsets,p=n+o-1+1===d?o+1:o,g=jne(n,n+p-1,f.flattenColumns,h,c);return b.createElement(zne,x({className:t,index:n,component:"td",prefixCls:l,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:a,render:function(){return r}},g))};var yre=mre;var bre=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=b.useContext(Fne).prefixCls,o=r.length-1,a=r[o],s=b.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?o:null}}),[a,r,o,n]);return b.createElement(vre.Provider,{value:s},b.createElement("tfoot",{className:"".concat(i,"-summary")},t))},xre=yre;function wre(e){var t,n=e.prefixCls,r=e.record,i=e.onExpand,o=e.expanded,a=e.expandable,s="".concat(n,"-row-expand-icon");if(!a)return b.createElement("span",{className:oe()(s,"".concat(n,"-row-spaced"))});return b.createElement("span",{className:oe()(s,(t={},(0,re.Z)(t,"".concat(n,"-row-expanded"),o),(0,re.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){i(r,e),e.stopPropagation()}})}function _re(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var Sre=function(e,t){var n,r,i=e.scrollBodyRef,o=e.onScroll,a=e.offsetScroll,s=e.container,u=b.useContext(Fne).prefixCls,l=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,c=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,f=l&&c*(c/l),d=b.useRef(),h=cre({scrollLeft:0,isHiddenScrollBar:!1}),p=(0,y.Z)(h,2),g=p[0],v=p[1],m=b.useRef({delta:0,x:0}),x=b.useState(!1),w=(0,y.Z)(x,2),_=w[0],S=w[1],E=function(){S(!1)},C=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(_&&0!==n){var r=m.current.x+e.pageX-m.current.x-m.current.delta;r<=0&&(r=0),r+f>=c&&(r=c-f),o({scrollLeft:r/c*(l+2)}),m.current.x=e.pageX}else _&&S(!1)},k=function(){if(i.current){var e=_re(i.current).top,t=e+i.current.offsetHeight,n=s===window?document.documentElement.scrollTop+window.innerHeight:_re(s).top+s.clientHeight;t-x9()<=n||e>=n-a?v((function(e){return Oe(Oe({},e),{},{isHiddenScrollBar:!0})})):v((function(e){return Oe(Oe({},e),{},{isHiddenScrollBar:!1})}))}},M=function(e){v((function(t){return Oe(Oe({},t),{},{scrollLeft:e/l*c||0})}))};return b.useImperativeHandle(t,(function(){return{setScrollLeft:M}})),b.useEffect((function(){var e=Vi(document.body,"mouseup",E,!1),t=Vi(document.body,"mousemove",C,!1);return k(),function(){e.remove(),t.remove()}}),[f,_]),b.useEffect((function(){var e=Vi(s,"scroll",k,!1),t=Vi(window,"resize",k,!1);return function(){e.remove(),t.remove()}}),[s]),b.useEffect((function(){g.isHiddenScrollBar||v((function(e){var t=i.current;return t?Oe(Oe({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[g.isHiddenScrollBar]),l<=c||!f||g.isHiddenScrollBar?null:b.createElement("div",{style:{height:x9(),width:c,bottom:a},className:"".concat(u,"-sticky-scroll")},b.createElement("div",{onMouseDown:function(e){e.persist(),m.current.delta=e.pageX-g.scrollLeft,m.current.x=0,S(!0),e.preventDefault()},ref:d,className:oe()("".concat(u,"-sticky-scroll-bar"),(0,re.Z)({},"".concat(u,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(g.scrollLeft,"px, 0, 0)")}}))},Ere=b.forwardRef(Sre),Cre=St()?window:null;var kre=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var Mre=b.forwardRef((function(e,t){var n=e.className,r=e.noData,i=e.columns,o=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,l=e.direction,c=e.fixHeader,f=e.stickyTopOffset,d=e.stickyBottomOffset,h=e.stickyClassName,p=e.onScroll,g=e.maxContentScroll,v=e.children,m=ze(e,kre),y=b.useContext(Fne),x=y.prefixCls,w=y.scrollbarSize,_=y.isSticky,S=_&&!c?0:w,E=b.useRef(null),C=b.useCallback((function(e){Mi(t,e),Mi(E,e)}),[]);b.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(p({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=E.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=E.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var k=b.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),M=o[o.length-1],I={fixed:M?M.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},T=(0,b.useMemo)((function(){return S?[].concat((0,ne.Z)(i),[I]):i}),[S,i]),A=(0,b.useMemo)((function(){return S?[].concat((0,ne.Z)(o),[I]):o}),[S,o]),N=(0,b.useMemo)((function(){var e=u.right,t=u.left;return Oe(Oe({},u),{},{left:"rtl"===l?[].concat((0,ne.Z)(t.map((function(e){return e+S}))),[0]):t,right:"rtl"===l?e:[].concat((0,ne.Z)(e.map((function(e){return e+S}))),[0]),isSticky:_})}),[S,u,_]),D=function(e,t){return(0,b.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(a,s);return b.createElement("div",{style:Oe({overflow:"hidden"},_?{top:f,bottom:d}:{}),ref:C,className:oe()(n,(0,re.Z)({},h,!!h))},b.createElement("table",{style:{tableLayout:"fixed",visibility:r||D?null:"hidden"}},(!r||!g||k)&&b.createElement(hre,{colWidths:D?[].concat((0,ne.Z)(D),[S]):[],columCount:s+1,columns:A}),v(Oe(Oe({},m),{},{stickyOffsets:N,columns:T,flattenColumns:A}))))}));Mre.displayName="FixedHolder";var Ire=Mre,Tre=[],Are={},Nre="rc-table-internal-hook",Dre=b.memo((function(e){return e.children}),(function(e,t){return!!Il()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function Pre(e){var t,n=e.prefixCls,r=e.className,i=e.rowClassName,o=e.style,a=e.data,s=e.rowKey,u=e.scroll,l=e.tableLayout,c=e.direction,f=e.title,d=e.footer,h=e.summary,p=e.id,g=e.showHeader,v=e.components,m=e.emptyText,w=e.onRow,_=e.onHeaderRow,S=e.internalHooks,E=e.transformColumns,C=e.internalRefs,k=e.sticky,M=a||Tre,I=!!M.length;var T=b.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===(0,je.Z)(i)?(e[r]=e[r]||{},t(e[r],i)):e[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){t(e,n)})),e}(v,{})}),[v]),A=b.useCallback((function(e,t){return kne(T,e)||t}),[T]),N=b.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),D=function(e){var t,n=e.expandable,r=ze(e,nre);return!1===(t="expandable"in e?Oe(Oe({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),P=D.expandIcon,O=D.expandedRowKeys,L=D.defaultExpandedRowKeys,R=D.defaultExpandAllRows,B=D.expandedRowRender,z=D.onExpand,F=D.onExpandedRowsChange,j=D.expandRowByClick,G=D.rowExpandable,V=D.expandIconColumnIndex,U=D.expandedRowClassName,W=D.childrenColumnName,Z=D.indentSize,H=P||wre,Y=W||"children",X=b.useMemo((function(){return B?"row":!!(e.expandable&&S===Nre&&e.expandable.__PARENT_RENDER_ICON__||M.some((function(e){return e&&"object"===(0,je.Z)(e)&&e[Y]})))&&"nest"}),[!!B,M]),K=b.useState((function(){return L||(R?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,o){r.push(t(i,o)),e(i[n])}))}(e),r}(M,N,Y):[])})),q=(0,y.Z)(K,2),$=q[0],Q=q[1],J=b.useMemo((function(){return new Set(O||$||[])}),[O,$]),ee=b.useCallback((function(e){var t,n=N(e,M.indexOf(e)),r=J.has(n);r?(J.delete(n),t=(0,ne.Z)(J)):t=[].concat((0,ne.Z)(J),[n]),Q(t),z&&z(!r,e),F&&F(t)}),[N,J,M,z,F]);var te,ie,ae,se=b.useState(0),ue=(0,y.Z)(se,2),le=ue[0],ce=ue[1],fe=lre(Oe(Oe(Oe({},e),D),{},{expandable:!!B,expandedKeys:J,getRowKey:N,onTriggerExpand:ee,expandIcon:H,expandIconColumnIndex:V,direction:c}),S===Nre?E:null),de=(0,y.Z)(fe,2),he=de[0],pe=de[1],ge=b.useMemo((function(){return{columns:he,flattenColumns:pe}}),[he,pe]),ve=b.useRef(),me=b.useRef(),ye=b.useRef(),be=b.useRef(),xe=b.useState(!1),we=(0,y.Z)(xe,2),_e=we[0],Se=we[1],Ee=b.useState(!1),Ce=(0,y.Z)(Ee,2),ke=Ce[0],Me=Ce[1],Ie=cre(new Map),Te=(0,y.Z)(Ie,2),Ae=Te[0],Ne=Te[1],De=Mne(pe).map((function(e){return Ae.get(e)})),Pe=b.useMemo((function(){return De}),[De.join("_")]),Le=fre(Pe,pe.length,c),Re=u&&Ine(u.y),Be=u&&Ine(u.x)||Boolean(D.fixed),Fe=Be&&pe.some((function(e){return e.fixed})),Ge=b.useRef(),Ve=function(e,t){var n="object"===(0,je.Z)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,o=n.offsetSummary,a=void 0===o?0:o,s=n.offsetScroll,u=void 0===s?0:s,l=n.getContainer,c=(void 0===l?function(){return Cre}:l)()||Cre;return b.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:u,container:c}}),[u,i,a,t,c])}(k,n),Ue=Ve.isSticky,We=Ve.offsetHeader,Ze=Ve.offsetSummary,He=Ve.offsetScroll,Ye=Ve.stickyClassName,Xe=Ve.container,Ke=null===h||void 0===h?void 0:h(M),qe=(Re||Ue)&&b.isValidElement(Ke)&&Ke.type===yre&&Ke.props.fixed;Re&&(ie={overflowY:"scroll",maxHeight:u.y}),Be&&(te={overflowX:"auto"},Re||(ie={overflowY:"hidden"}),ae={width:!0===u.x?"auto":u.x,minWidth:"100%"});var $e=b.useCallback((function(e,t){Fo(ve.current)&&Ne((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Qe=function(e){var t=(0,b.useRef)(e||null),n=(0,b.useRef)();function r(){window.clearTimeout(n.current)}return(0,b.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),Je=(0,y.Z)(Qe,2),et=Je[0],tt=Je[1];function nt(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var rt=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===c,o="number"===typeof r?r:n.scrollLeft,a=n||Are;tt()&&tt()!==a||(et(a),nt(o,me.current),nt(o,ye.current),nt(o,be.current),nt(o,null===(t=Ge.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;i?(Se(-o<s-u),Me(-o>0)):(Se(o>0),Me(o<s-u))}},it=function(){Be&&ye.current?rt({currentTarget:ye.current}):(Se(!1),Me(!1))},ot=b.useRef(!1);b.useEffect((function(){ot.current&&it()}),[Be,a,he.length]),b.useEffect((function(){ot.current=!0}),[]);var at=b.useState(0),st=(0,y.Z)(at,2),ut=st[0],lt=st[1],ct=b.useState(!0),ft=(0,y.Z)(ct,2),dt=ft[0],ht=ft[1];b.useEffect((function(){lt(function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:w9(n),height:w9(r)}}(ye.current).width),ht(_ne("position","sticky"))}),[]),b.useEffect((function(){S===Nre&&C&&(C.body.current=ye.current)}));var pt,gt=A(["table"],"table"),vt=b.useMemo((function(){return l||(Fe?"max-content"===u.x?"auto":"fixed":Re||Ue||pe.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Re,Fe,pe,l,Ue]),mt={colWidths:Pe,columCount:pe.length,stickyOffsets:Le,onHeaderRow:_,fixHeader:Re,scroll:u},yt=b.useMemo((function(){return I?null:"function"===typeof m?m():m}),[I,m]),bt=b.createElement(tre,{data:M,measureColumnWidth:Re||Be||Ue,expandedKeys:J,rowExpandable:G,getRowKey:N,onRow:w,emptyNode:yt,childrenColumnName:Y}),xt=b.createElement(hre,{colWidths:pe.map((function(e){return e.width})),columns:pe}),wt=A(["body"]);if(Re||Ue){var St;"function"===typeof wt?(St=wt(M,{scrollbarSize:ut,ref:ye,onScroll:rt}),mt.colWidths=pe.map((function(e,t){var n=e.width,r=t===he.length-1?n-ut:n;return"number"!==typeof r||Number.isNaN(r)?(_t(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):St=b.createElement("div",{style:Oe(Oe({},te),ie),onScroll:rt,ref:ye,className:oe()("".concat(n,"-body"))},b.createElement(gt,{style:Oe(Oe({},ae),{},{tableLayout:vt})},xt,bt,!qe&&Ke&&b.createElement(bre,{stickyOffsets:Le,flattenColumns:pe},Ke)));var Et=Oe(Oe(Oe({noData:!M.length,maxContentScroll:Be&&"max-content"===u.x},mt),ge),{},{direction:c,stickyClassName:Ye,onScroll:rt});pt=b.createElement(b.Fragment,null,!1!==g&&b.createElement(Ire,x({},Et,{stickyTopOffset:We,className:"".concat(n,"-header"),ref:me}),(function(e){return b.createElement(b.Fragment,null,b.createElement(Une,e),"top"===qe&&b.createElement(bre,e,Ke))})),St,qe&&"top"!==qe&&b.createElement(Ire,x({},Et,{stickyBottomOffset:Ze,className:"".concat(n,"-summary"),ref:be}),(function(e){return b.createElement(bre,e,Ke)})),Ue&&b.createElement(Ere,{ref:Ge,offsetScroll:He,scrollBodyRef:ye,onScroll:rt,container:Xe}))}else pt=b.createElement("div",{style:Oe(Oe({},te),ie),className:oe()("".concat(n,"-content")),onScroll:rt,ref:ye},b.createElement(gt,{style:Oe(Oe({},ae),{},{tableLayout:vt})},xt,!1!==g&&b.createElement(Une,x({},mt,ge)),bt,Ke&&b.createElement(bre,{stickyOffsets:Le,flattenColumns:pe},Ke)));var Ct=N8(e,{aria:!0,data:!0}),kt=b.createElement("div",x({className:oe()(n,r,(t={},(0,re.Z)(t,"".concat(n,"-rtl"),"rtl"===c),(0,re.Z)(t,"".concat(n,"-ping-left"),_e),(0,re.Z)(t,"".concat(n,"-ping-right"),ke),(0,re.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===l),(0,re.Z)(t,"".concat(n,"-fixed-header"),Re),(0,re.Z)(t,"".concat(n,"-fixed-column"),Fe),(0,re.Z)(t,"".concat(n,"-scroll-horizontal"),Be),(0,re.Z)(t,"".concat(n,"-has-fix-left"),pe[0]&&pe[0].fixed),(0,re.Z)(t,"".concat(n,"-has-fix-right"),pe[pe.length-1]&&"right"===pe[pe.length-1].fixed),t)),style:o,id:p,ref:ve},Ct),b.createElement(Dre,{pingLeft:_e,pingRight:ke,props:Oe(Oe({},e),{},{stickyOffsets:Le,mergedExpandedKeys:J})},f&&b.createElement(pre,{className:"".concat(n,"-title")},f(M)),b.createElement("div",{className:"".concat(n,"-container")},pt),d&&b.createElement(pre,{className:"".concat(n,"-footer")},d(M))));Be&&(kt=b.createElement(wl,{onResize:function(e){var t=e.width;t!==le&&(it(),ce(ve.current?ve.current.offsetWidth:t))}},kt));var Mt=b.useMemo((function(){return{prefixCls:n,getComponent:A,scrollbarSize:ut,direction:c,fixedInfoList:pe.map((function(e,t){return jne(t,t,pe,Le,c)})),isSticky:Ue}}),[n,A,ut,c,pe,Le,c,Ue]),It=b.useMemo((function(){return Oe(Oe({},ge),{},{tableLayout:vt,rowClassName:i,expandedRowClassName:U,expandIcon:H,expandableType:X,expandRowByClick:j,expandedRowRender:B,onTriggerExpand:ee,expandIconColumnIndex:V,indentSize:Z})}),[ge,vt,i,U,H,X,j,B,ee,V,Z]),Tt=b.useMemo((function(){return{componentWidth:le,fixHeader:Re,fixColumn:Fe,horizonScroll:Be}}),[le,Re,Fe,Be]),At=b.useMemo((function(){return{onColumnResize:$e}}),[$e]);return b.createElement(Tne.Provider,{value:dt},b.createElement(Fne.Provider,{value:Mt},b.createElement(Wne.Provider,{value:It},b.createElement(Zne.Provider,{value:Tt},b.createElement(Yne.Provider,{value:At},kt)))))}Pre.EXPAND_COLUMN=ire,Pre.Column=Ene,Pre.ColumnGroup=Sne,Pre.Summary=xre,Pre.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var Ore=Pre,Lre=n(8573),Rre=n.n(Lre),Bre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zre=(fn("small","default","large"),null);var Fre=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=Rre()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,i=e.direction,o=r.props,a=o.prefixCls,s=o.className,u=o.size,l=o.tip,c=o.wrapperClassName,f=o.style,d=Bre(o,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),g=oe()(p,(t={},(0,re.Z)(t,"".concat(p,"-sm"),"small"===u),(0,re.Z)(t,"".concat(p,"-lg"),"large"===u),(0,re.Z)(t,"".concat(p,"-spinning"),h),(0,re.Z)(t,"".concat(p,"-show-text"),!!l),(0,re.Z)(t,"".concat(p,"-rtl"),"rtl"===i),t),s),v=Le(d,["spinning","delay","indicator"]),m=b.createElement("div",x({},v,{style:f,className:g}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:js(n)?Gs(n,{className:oe()(n.props.className,r)}):js(zre)?Gs(zre,{className:oe()(zre.props.className,r)}):b.createElement("span",{className:oe()(r,"".concat(e,"-dot-spin"))},b.createElement("i",{className:"".concat(e,"-dot-item")}),b.createElement("i",{className:"".concat(e,"-dot-item")}),b.createElement("i",{className:"".concat(e,"-dot-item")}),b.createElement("i",{className:"".concat(e,"-dot-item")}))}(p,r.props),l?b.createElement("div",{className:"".concat(p,"-text")},l):null);if(r.isNestedPattern()){var y=oe()("".concat(p,"-container"),(0,re.Z)({},"".concat(p,"-blur"),h));return b.createElement("div",x({},v,{className:oe()("".concat(p,"-nested-loading"),c)}),h&&b.createElement("div",{key:"loading"},m),b.createElement("div",{className:y,key:"container"},r.props.children))}return m};var i=e.spinning,o=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return r.state={spinning:i&&!o},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return b.createElement(Se,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){zre=e}}]),n}(b.Component);Fre.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var jre=Fre,Gre=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=oe()(n,"".concat(n,"-").concat(e.page),(t={},(0,re.Z)(t,"".concat(n,"-active"),e.active),(0,re.Z)(t,"".concat(n,"-disabled"),!e.page),(0,re.Z)(t,e.className,!!e.className),t));return b.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",b.createElement("a",{rel:"nofollow"},e.page)))},Vre=13,Ure=38,Wre=40,Zre=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==Vre&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,q.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,o=t.changeSize,a=t.quickGo,s=t.goButton,u=t.selectComponentClass,l=t.buildOptionText,c=t.selectPrefixCls,f=t.disabled,d=this.state.goInputText,h="".concat(i,"-options"),p=u,g=null,v=null,m=null;if(!o&&!a)return null;var y=this.getPageSizeOptions();if(o&&p){var x=y.map((function(t,n){return b.createElement(p.Option,{key:n,value:t.toString()},(l||e.buildOptionText)(t))}));g=b.createElement(p,{disabled:f,prefixCls:c,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||y[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(s&&(m="boolean"===typeof s?b.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):b.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=b.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,b.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,m)),b.createElement("li",{className:"".concat(h)},g,v)}}]),n}(b.Component);Zre.defaultProps={pageSizeOptions:["10","20","50","100"]};var Hre=Zre;function Yre(){}function Xre(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Kre(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var qre=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Kre(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||b.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(i=b.createElement(e,Oe({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return Xre(e)&&e!==r.state.current&&Xre(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==Ure&&e.keyCode!==Wre||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===Vre?r.handleChange(t):e.keyCode===Ure?r.handleChange(t-1):e.keyCode===Wre&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=Kre(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props.disabled,n=e;if(r.isValid(n)&&!t){var i=Kre(void 0,r.state,r.props);n>i?n=i:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var o=r.state.pageSize;return r.props.onChange(n,o),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Kre(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==Vre&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==Yre;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),o=Math.min(o,Kre(a,void 0,e)),r.state={current:o,currentInputValue:o,pageSize:a},r}return(0,q.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=Kre(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,b.isValidElement)(r)?(0,b.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,b.isValidElement)(r)?(0,b.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.disabled,a=t.hideOnSinglePage,s=t.total,u=t.locale,l=t.showQuickJumper,c=t.showLessItems,f=t.showTitle,d=t.showTotal,h=t.simple,p=t.itemRender,g=t.showPrevNextJumpers,v=t.jumpPrevIcon,m=t.jumpNextIcon,y=t.selectComponentClass,w=t.selectPrefixCls,_=t.pageSizeOptions,S=this.state,E=S.current,C=S.pageSize,k=S.currentInputValue;if(!0===a&&s<=C)return null;var M=Kre(void 0,this.state,this.props),I=[],T=null,A=null,N=null,D=null,P=null,O=l&&l.goButton,L=c?1:2,R=E-1>0?E-1:0,B=E+1<M?E+1:M,z=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(h)return O&&(P="boolean"===typeof O?b.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},u.jump_to_confirm):b.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},O),P=b.createElement("li",{title:f?"".concat(u.jump_to).concat(E,"/").concat(M):null,className:"".concat(n,"-simple-pager")},P)),b.createElement("ul",x({className:oe()(n,"".concat(n,"-simple"),(0,re.Z)({},"".concat(n,"-disabled"),o),r),style:i,ref:this.savePaginationNode},z),b.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:oe()("".concat(n,"-prev"),(0,re.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),b.createElement("li",{title:f?"".concat(E,"/").concat(M):null,className:"".concat(n,"-simple-pager")},b.createElement("input",{type:"text",value:k,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),b.createElement("span",{className:"".concat(n,"-slash")},"/"),M),b.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:oe()("".concat(n,"-next"),(0,re.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(B)),P);if(M<=3+2*L){var F={locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:p};M||I.push(b.createElement(Gre,x({},F,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var j=1;j<=M;j+=1){var G=E===j;I.push(b.createElement(Gre,x({},F,{key:j,page:j,active:G})))}}else{var V=c?u.prev_3:u.prev_5,U=c?u.next_3:u.next_5;g&&(T=b.createElement("li",{title:f?V:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:oe()("".concat(n,"-jump-prev"),(0,re.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!v))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(v,"prev page"))),A=b.createElement("li",{title:f?U:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:oe()("".concat(n,"-jump-next"),(0,re.Z)({},"".concat(n,"-jump-next-custom-icon"),!!m))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(m,"next page")))),D=b.createElement(Gre,{locale:u,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:M,page:M,active:!1,showTitle:f,itemRender:p}),N=b.createElement(Gre,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:p});var W=Math.max(1,E-L),Z=Math.min(E+L,M);E-1<=L&&(Z=1+2*L),M-E<=L&&(W=M-2*L);for(var H=W;H<=Z;H+=1){var Y=E===H;I.push(b.createElement(Gre,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:H,page:H,active:Y,showTitle:f,itemRender:p}))}E-1>=2*L&&3!==E&&(I[0]=(0,b.cloneElement)(I[0],{className:"".concat(n,"-item-after-jump-prev")}),I.unshift(T)),M-E>=2*L&&E!==M-2&&(I[I.length-1]=(0,b.cloneElement)(I[I.length-1],{className:"".concat(n,"-item-before-jump-next")}),I.push(A)),1!==W&&I.unshift(N),Z!==M&&I.push(D)}var X=null;d&&(X=b.createElement("li",{className:"".concat(n,"-total-text")},d(s,[0===s?0:(E-1)*C+1,E*C>s?s:E*C])));var K=!this.hasPrev()||!M,q=!this.hasNext()||!M;return b.createElement("ul",x({className:oe()(n,r,(0,re.Z)({},"".concat(n,"-disabled"),o)),style:i,unselectable:"unselectable",ref:this.savePaginationNode},z),X,b.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:K?null:0,onKeyPress:this.runIfEnterPrev,className:oe()("".concat(n,"-prev"),(0,re.Z)({},"".concat(n,"-disabled"),K)),"aria-disabled":K},this.renderPrev(R)),I,b.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:q?null:0,onKeyPress:this.runIfEnterNext,className:oe()("".concat(n,"-next"),(0,re.Z)({},"".concat(n,"-disabled"),q)),"aria-disabled":q},this.renderNext(B)),b.createElement(Hre,{disabled:o,locale:u,rootPrefixCls:n,selectComponentClass:y,selectPrefixCls:w,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:E,pageSize:C,pageSizeOptions:_,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:O}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=Kre(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(b.Component);qre.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Yre,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Yre,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var $re=qre,Qre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Jre=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Qre}))};Jre.displayName="DoubleLeftOutlined";var eie=b.forwardRef(Jre),tie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},nie=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:tie}))};nie.displayName="DoubleRightOutlined";var rie=b.forwardRef(nie),iie=function(e){return b.createElement(b9,x({size:"small"},e))};iie.Option=b9.Option;var oie=iie,aie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sie=function(e){var t=e.prefixCls,n=e.selectPrefixCls,r=e.className,i=e.size,o=e.locale,a=e.selectComponentClass,s=e.responsive,u=aie(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),l=Rp(s).xs,c=b.useContext(_e),f=c.getPrefixCls,d=c.direction,h=f("pagination",t),p=function(e){var t=x(x({},e),o),c="small"===i||!(!l||i||!s),p=f("select",n),g=oe()((0,re.Z)({mini:c},"".concat(h,"-rtl"),"rtl"===d),r);return b.createElement($re,x({},function(){var e=b.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),t=b.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},b.createElement(Qt,null)),n=b.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},b.createElement(Kt,null)),r=b.createElement("a",{className:"".concat(h,"-item-link")},b.createElement("div",{className:"".concat(h,"-item-container")},b.createElement(eie,{className:"".concat(h,"-item-link-icon")}),e)),i=b.createElement("a",{className:"".concat(h,"-item-link")},b.createElement("div",{className:"".concat(h,"-item-container")},b.createElement(rie,{className:"".concat(h,"-item-link-icon")}),e));if("rtl"===d){var o=[n,t];t=o[0],n=o[1];var a=[i,r];r=a[0],i=a[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}}(),u,{prefixCls:h,selectPrefixCls:p,className:g,selectComponentClass:a||(c?oie:b9),locale:t}))};return b.createElement(he,{componentName:"Pagination",defaultLocale:ae},p)},uie=sie,lie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cie(e,t,n){var r=t&&"object"===(0,je.Z)(t)?t:{},i=r.total,o=void 0===i?0:i,a=lie(r,["total"]),s=(0,b.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(l,a,{total:o>0?o:e}),d=Math.ceil((o||e)/f.pageSize);f.current>d&&(f.current=d||1);var h=function(e,t){c({current:null!==e&&void 0!==e?e:1,pageSize:t||f.pageSize})};return!1===t?[{},function(){}]:[x(x({},f),{onChange:function(e,r){var i;t&&(null===(i=t.onChange)||void 0===i||i.call(t,e,r)),h(e,r),n(e,r||(null===f||void 0===f?void 0:f.pageSize))}}),h]}var fie=b.createContext(null),die=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,o="".concat(t,"-indent-unit"),a=[],s=0;s<n;s+=1){var u;a.push(b.createElement("span",{key:s,className:oe()(o,(u={},(0,re.Z)(u,"".concat(o,"-start"),r[s]),(0,re.Z)(u,"".concat(o,"-end"),i[s]),u))}))}return b.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)},hie=b.memo(die),pie=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],gie="open",vie="close",mie=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,zie(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,zie(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,zie(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!i;o(t,zie(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,zie(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,zie(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,zie(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,An.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,An.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,An.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,An.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,An.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,An.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,zie(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?gie:vie},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(zie(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?b.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(Oe(Oe({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?b.createElement("span",{className:oe()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=oe()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?gie:vie)),o=e.renderSwitcherIconDom(!1);return!1!==o?b.createElement("span",{onClick:e.onExpand,className:i},o):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,o=e.props.context.prefixCls,a=e.isDisabled(),s=e.isCheckable();if(!s)return null;var u="boolean"!==typeof s?s:null;return b.createElement("span",{className:oe()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&r&&"".concat(o,"-checkbox-indeterminate"),(a||i)&&"".concat(o,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return b.createElement("span",{className:oe()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,o=i.title,a=i.selected,s=i.icon,u=i.loading,l=i.data,c=e.props.context,f=c.prefixCls,d=c.showIcon,h=c.icon,p=c.loadData,g=c.titleRender,v=e.isDisabled(),m="".concat(f,"-node-content-wrapper");if(d){var y=s||h;t=y?b.createElement("span",{className:oe()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof y?y(e.props):y):e.renderIcon()}else p&&u&&(t=e.renderIcon());n="function"===typeof o?o(l):g?g(l):o;var x=b.createElement("span",{className:"".concat(f,"-title")},n);return b.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof o?o:"",className:oe()("".concat(m),"".concat(m,"-").concat(e.getNodeState()||"normal"),!v&&(a||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,x,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,o=i.draggable,a=i.dropLevelOffset,s=i.dropPosition,u=i.prefixCls,l=i.indent,c=i.dropIndicatorRender,f=i.dragOverNodeKey,d=i.direction;return!n&&!1!==o&&f===r?c({dropPosition:s,dropLevelOffset:a,indent:l,prefixCls:u,direction:d}):null},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,i=t.style,o=t.dragOver,a=t.dragOverGapTop,s=t.dragOverGapBottom,u=t.isLeaf,l=t.isStart,c=t.isEnd,f=t.expanded,d=t.selected,h=t.checked,p=t.halfChecked,g=t.loading,v=t.domRef,m=t.active,y=(t.data,t.onMouseMove),w=t.selectable,_=ze(t,pie),S=this.props.context,E=S.prefixCls,C=S.filterTreeNode,k=S.keyEntities,M=S.dropContainerKey,I=S.dropTargetKey,T=S.draggingNodeKey,A=this.isDisabled(),N=N8(_,{aria:!0,data:!0}),D=(k[n]||{}).level,P=c[c.length-1],O=this.isDraggable(),L=!A&&O,R=T===n,B=void 0!==w?{"aria-selected":!!w}:void 0;return b.createElement("div",x({ref:v,className:oe()(r,"".concat(E,"-treenode"),(e={},(0,re.Z)(e,"".concat(E,"-treenode-disabled"),A),(0,re.Z)(e,"".concat(E,"-treenode-switcher-").concat(f?"open":"close"),!u),(0,re.Z)(e,"".concat(E,"-treenode-checkbox-checked"),h),(0,re.Z)(e,"".concat(E,"-treenode-checkbox-indeterminate"),p),(0,re.Z)(e,"".concat(E,"-treenode-selected"),d),(0,re.Z)(e,"".concat(E,"-treenode-loading"),g),(0,re.Z)(e,"".concat(E,"-treenode-active"),m),(0,re.Z)(e,"".concat(E,"-treenode-leaf-last"),P),(0,re.Z)(e,"".concat(E,"-treenode-draggable"),L),(0,re.Z)(e,"dragging",R),(0,re.Z)(e,"drop-target",I===n),(0,re.Z)(e,"drop-container",M===n),(0,re.Z)(e,"drag-over",!A&&o),(0,re.Z)(e,"drag-over-gap-top",!A&&a),(0,re.Z)(e,"drag-over-gap-bottom",!A&&s),(0,re.Z)(e,"filter-node",C&&C(zie(this.props))),e)),style:i,draggable:L,"aria-grabbed":R,onDragStart:L?this.onDragStart:void 0,onDragEnter:O?this.onDragEnter:void 0,onDragOver:O?this.onDragOver:void 0,onDragLeave:O?this.onDragLeave:void 0,onDrop:O?this.onDrop:void 0,onDragEnd:O?this.onDragEnd:void 0,onMouseMove:y},B,N),b.createElement(hie,{prefixCls:E,level:D,isStart:l,isEnd:c}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(b.Component),yie=function(e){return b.createElement(fie.Consumer,null,(function(t){return b.createElement(mie,x({},e,{context:t}))}))};yie.displayName="TreeNode",yie.defaultProps={title:"---"},yie.isTreeNode=1;var bie=yie;function xie(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function wie(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function _ie(e){return e.split("-")}function Sie(e,t){return"".concat(e,"-").concat(t)}function Eie(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function Cie(e){if(e.parent){var t=_ie(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function kie(e,t,n,r,i,o,a,s,u,l){var c,f=e.clientX,d=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,g=h.height,v=(("rtl"===l?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-f)-12)/r,m=s[n.props.eventKey];if(d<p+g/2){var y=a.findIndex((function(e){return e.key===m.key})),b=a[y<=0?0:y-1].key;m=s[b]}var x=m.key,w=m,_=m.key,S=0,E=0;if(!u.includes(x))for(var C=0;C<v&&Cie(m);C+=1)m=m.parent,E+=1;var k=t.props.data,M=m.node,I=!0;return function(e){var t=_ie(e.pos);return 0===Number(t[t.length-1])}(m)&&0===m.level&&d<p+g/2&&o({dragNode:k,dropNode:M,dropPosition:-1})&&m.key===n.props.eventKey?S=-1:(w.children||[]).length&&u.includes(_)?o({dragNode:k,dropNode:M,dropPosition:0})?S=0:I=!1:0===E?v>-1.5?o({dragNode:k,dropNode:M,dropPosition:1})?S=1:I=!1:o({dragNode:k,dropNode:M,dropPosition:0})?S=0:o({dragNode:k,dropNode:M,dropPosition:1})?S=1:I=!1:o({dragNode:k,dropNode:M,dropPosition:1})?S=1:I=!1,{dropPosition:S,dropLevelOffset:E,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:_,dropContainerKey:0===S?null:(null===(c=m.parent)||void 0===c?void 0:c.key)||null,dropAllowed:I}}function Mie(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function Iie(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,je.Z)(e))return _t(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function Tie(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var o=i.parent;i.node.disabled||o&&r(o.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,ne.Z)(n)}var Aie=["children"];function Nie(e,t){return null!==e&&void 0!==e?e:t}function Die(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function Pie(e){return function e(t){return Dn(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return _t(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,o=Oe({key:n},ze(r,Aie)),a=e(i);return a.length&&(o.children=a),o})).filter((function(e){return e}))}(e)}function Oie(e,t,n){var r=Die(n),i=r._title,o=r.key,a=r.children,s=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(l,c){for(var f,d=Sie(r?r.pos:"0",c),h=Nie(l[o],d),p=0;p<i.length;p+=1){var g=i[p];if(void 0!==l[g]){f=l[g];break}}var v=Oe(Oe({},Le(l,[].concat((0,ne.Z)(i),[o,a]))),{},{title:f,key:h,parent:r,pos:d,children:null,data:l,isStart:[].concat((0,ne.Z)(r?r.isStart:[]),[0===c]),isEnd:[].concat((0,ne.Z)(r?r.isEnd:[]),[c===n.length-1])});return u.push(v),!0===t||s.has(h)?v.children=e(l[a]||[],v):v.children=[],v}))}(e),u}function Lie(e,t,n){var r,i=("object"===(0,je.Z)(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,a=i.externalGetKey,s=Die(i.fieldNames),u=s.key,l=s.children,c=o||l;a?"string"===typeof a?r=function(e){return e[a]}:"function"===typeof a&&(r=function(e){return a(e)}):r=function(e,t){return Nie(e[u],t)},function n(i,o,a,s){var u=i?i[c]:e,l=i?Sie(a.pos,o):"0",f=i?[].concat((0,ne.Z)(s),[i]):[];if(i){var d=r(i,l),h={node:i,index:o,pos:l,key:d,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:i,pos:l,level:a?a.level+1:-1},f)}))}(null)}function Rie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,u=arguments.length>2?arguments[2]:void 0,l=o||u,c={},f={},d={posEntities:c,keyEntities:f};return n&&(d=n(d)||d),Lie(e,(function(e){var t=e.node,n=e.index,i=e.pos,o=e.key,a=e.parentPos,s=e.level,u={node:t,nodes:e.nodes,index:n,key:o,pos:i,level:s},l=Nie(o,i);c[i]=u,f[l]=u,u.parent=c[a],u.parent&&(u.parent.children=u.parent.children||[],u.parent.children.push(u)),r&&r(u,d)}),{externalGetKey:l,childrenPropName:a,fieldNames:s}),i&&i(d),d}function Bie(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,o=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,u=t.dragOverNodeKey,l=t.dropPosition,c=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(c?c.pos:""),dragOver:u===e&&0===l,dragOverGapTop:u===e&&-1===l,dragOverGapBottom:u===e&&1===l}}function zie(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,l=e.dragOverGapTop,c=e.dragOverGapBottom,f=e.pos,d=e.active,h=e.eventKey,p=Oe(Oe({},t),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:l,dragOverGapBottom:c,pos:f,active:d,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return _t(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function Fie(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function jie(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function Gie(e,t,n,r){var i,o=[];i=r||jie;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),u=new Map,l=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=u.get(r);i||(i=new Set,u.set(r,i)),i.add(t),l=Math.max(l,r)})),_t(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;i.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),u||!n&&!o.has(t)||(u=!0)})),a&&i.add(t.key),u&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Fie(o,i))}}(s,u,l,i):function(e,t,n,r,i){for(var o=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||a.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var u=new Set,l=r;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!u.has(e.parent.key))if(i(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||o.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Fie(a,o))}}(s,t.halfCheckedKeys,u,l,i),a}var Vie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Uie=cl.Group,Wie=function(e){var t=b.useContext(_e),n=t.getPopupContainer,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.disabled,l=e.loading,c=e.onClick,f=e.htmlType,d=e.children,h=e.className,p=e.overlay,g=e.trigger,v=e.align,m=e.visible,w=e.onVisibleChange,_=e.placement,S=e.getPopupContainer,E=e.href,C=e.icon,k=void 0===C?b.createElement(pp,null):C,M=e.title,I=e.buttonsRender,T=void 0===I?function(e){return e}:I,A=e.mouseEnterDelay,N=e.mouseLeaveDelay,D=e.overlayClassName,P=e.overlayStyle,O=e.destroyPopupOnHide,L=Vie(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),R=r("dropdown-button",o),B={align:v,overlay:p,disabled:u,trigger:u?[]:g,onVisibleChange:w,getPopupContainer:S||n,mouseEnterDelay:A,mouseLeaveDelay:N,overlayClassName:D,overlayStyle:P,destroyPopupOnHide:O};"visible"in e&&(B.visible=m),B.placement="placement"in e?_:"rtl"===i?"bottomLeft":"bottomRight";var z=T([b.createElement(cl,{type:s,disabled:u,loading:l,onClick:c,htmlType:f,href:E,title:M},d),b.createElement(cl,{type:s,icon:k})]),F=(0,y.Z)(z,2),j=F[0],G=F[1];return b.createElement(Uie,x({},L,{className:oe()(R,h)}),j,b.createElement(Yie,B,G))};Wie.__ANT_BUTTON=!0;var Zie=Wie,Hie=(fn("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var t,n=b.useContext(_e),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.arrow,s=e.prefixCls,u=e.children,l=e.trigger,c=e.disabled,f=e.getPopupContainer,d=e.overlayClassName,h=i("dropdown",s),p=b.Children.only(u),g=Gs(p,{className:oe()("".concat(h,"-trigger"),(0,re.Z)({},"".concat(h,"-rtl"),"rtl"===o),p.props.className),disabled:c}),v=oe()(d,(0,re.Z)({},"".concat(h,"-rtl"),"rtl"===o)),m=c?[]:l;return m&&-1!==m.indexOf("contextMenu")&&(t=!0),b.createElement(Xh,x({arrow:a,alignPoint:t},e,{overlayClassName:v,prefixCls:h,getPopupContainer:f||r,transitionName:function(){var t=i(),n=e.placement,r=void 0===n?"":n,o=e.transitionName;return void 0!==o?o:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:m,overlay:function(){return function(t){var n,r=e.overlay;n="function"===typeof r?r():r;var i=(n=b.Children.only("string"===typeof n?b.createElement("span",null,n):n)).props;Ai(!i.mode||"vertical"===i.mode,"Dropdown",'mode="'.concat(i.mode,"\" is not supported for Dropdown's Menu."));var o=i.selectable,a=void 0!==o&&o,s=i.expandIcon,u="undefined"!==typeof s&&b.isValidElement(s)?s:b.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},b.createElement(Kt,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:Gs(n,{mode:"vertical",selectable:a,expandIcon:u})}(h)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===o?"bottomRight":"bottomLeft"}()}),g)});Hie.Button=Zie,Hie.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var Yie=Hie,Xie=Yie,Kie=b.createContext(null),qie=Kie.Provider,$ie=Kie,Qie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jie=function(e,t){var n,r=b.useContext($ie),i=b.useContext(_e),o=i.getPrefixCls,a=i.direction,s=Ii(t,b.useRef());b.useEffect((function(){Ai(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var u=e.prefixCls,l=e.className,c=e.children,f=e.style,d=Qie(e,["prefixCls","className","children","style"]),h=o("radio",u),p=x({},d);r&&(p.name=r.name,p.onChange=function(t){var n,i;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,t)},p.checked=e.value===r.value,p.disabled=e.disabled||r.disabled);var g=oe()("".concat(h,"-wrapper"),(n={},(0,re.Z)(n,"".concat(h,"-wrapper-checked"),p.checked),(0,re.Z)(n,"".concat(h,"-wrapper-disabled"),p.disabled),(0,re.Z)(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),l);return b.createElement("label",{className:g,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},b.createElement(ql,x({},p,{type:"radio",prefixCls:h,ref:s})),void 0!==c?b.createElement("span",null,c):null)},eoe=b.forwardRef(Jie);eoe.displayName="Radio";var toe=eoe;var noe=b.forwardRef((function(e,t){var n=b.useContext(_e),r=n.getPrefixCls,i=n.direction,o=b.useContext(_i),a=Ls(e.defaultValue,{value:e.value}),s=(0,y.Z)(a,2),u=s[0],l=s[1];return b.createElement(qie,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||l(r);var i=e.onChange;i&&r!==n&&i(t)},value:u,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,s=e.className,l=void 0===s?"":s,c=e.options,f=e.optionType,d=e.buttonStyle,h=void 0===d?"outline":d,p=e.disabled,g=e.children,v=e.size,m=e.style,y=e.id,w=e.onMouseEnter,_=e.onMouseLeave,S=r("radio",a),E="".concat(S,"-group"),C=g;if(c&&c.length>0){var k="button"===f?"".concat(S,"-button"):S;C=c.map((function(e){return"string"===typeof e||"number"===typeof e?b.createElement(toe,{key:e.toString(),prefixCls:k,disabled:p,value:e,checked:u===e},e):b.createElement(toe,{key:"radio-group-value-options-".concat(e.value),prefixCls:k,disabled:e.disabled||p,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var M=v||o,I=oe()(E,"".concat(E,"-").concat(h),(n={},(0,re.Z)(n,"".concat(E,"-").concat(M),M),(0,re.Z)(n,"".concat(E,"-rtl"),"rtl"===i),n),l);return b.createElement("div",x({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:I,style:m,onMouseEnter:w,onMouseLeave:_,id:y,ref:t}),C)}())})),roe=b.memo(noe),ioe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ooe=function(e,t){var n=b.useContext($ie),r=b.useContext(_e).getPrefixCls,i=e.prefixCls,o=ioe(e,["prefixCls"]),a=r("radio-button",i);return n&&(o.checked=e.value===n.value,o.disabled=e.disabled||n.disabled),b.createElement(toe,x({prefixCls:a},o,{type:"radio",ref:t}))},aoe=b.forwardRef(ooe),soe=toe;soe.Button=aoe,soe.Group=roe;var uoe=soe,loe={},coe="SELECT_ALL",foe="SELECT_INVERT",doe="SELECT_NONE",hoe=[];function poe(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,je.Z)(e)&&t in e&&(n=[].concat((0,ne.Z)(n),(0,ne.Z)(poe(e[t],t))))})),n}function goe(e,t){var n=e||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,u=n.onSelect,l=n.onSelectAll,c=n.onSelectInvert,f=n.onSelectNone,d=n.onSelectMultiple,h=n.columnWidth,p=n.type,g=n.selections,v=n.fixed,m=n.renderCell,w=n.hideSelectAll,_=n.checkStrictly,S=void 0===_||_,E=t.prefixCls,C=t.data,k=t.pageData,M=t.getRecordByKey,I=t.getRowKey,T=t.expandType,A=t.childrenColumnName,N=t.locale,D=t.getPopupContainer,P=Ls(i||o||hoe,{value:i}),O=(0,y.Z)(P,2),L=O[0],R=O[1],B=b.useRef(new Map),z=(0,b.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=M(e);!n&&B.current.has(e)&&(n=B.current.get(e)),t.set(e,n)})),B.current=t}}),[M,r]);b.useEffect((function(){z(L)}),[L]);var F=(0,b.useMemo)((function(){return S?{keyEntities:null}:Rie(C,{externalGetKey:I,childrenPropName:A})}),[C,I,S,A]).keyEntities,j=(0,b.useMemo)((function(){return poe(k,A)}),[k,A]),G=(0,b.useMemo)((function(){var e=new Map;return j.forEach((function(t,n){var r=I(t,n),i=(a?a(t):null)||{};e.set(r,i)})),e}),[j,I,a]),V=(0,b.useCallback)((function(e){var t;return!!(null===(t=G.get(I(e)))||void 0===t?void 0:t.disabled)}),[G,I]),U=(0,b.useMemo)((function(){if(S)return[L||[],[]];var e=Gie(L,!0,F,V);return[e.checkedKeys||[],e.halfCheckedKeys]}),[L,S,F,V]),W=(0,y.Z)(U,2),Z=W[0],H=W[1],Y=(0,b.useMemo)((function(){var e="radio"===p?Z.slice(0,1):Z;return new Set(e)}),[Z,p]),X=(0,b.useMemo)((function(){return"radio"===p?new Set:new Set(H)}),[H,p]),K=(0,b.useState)(null),q=(0,y.Z)(K,2),$=q[0],Q=q[1];b.useEffect((function(){e||R(hoe)}),[!!e]);var J=(0,b.useCallback)((function(e){var t,n;z(e),r?(t=e,n=e.map((function(e){return B.current.get(e)}))):(t=[],n=[],e.forEach((function(e){var r=M(e);void 0!==r&&(t.push(e),n.push(r))}))),R(t),null===s||void 0===s||s(t,n)}),[R,M,s,r]),ee=(0,b.useCallback)((function(e,t,n,r){if(u){var i=n.map((function(e){return M(e)}));u(M(e),t,i,r)}J(n)}),[u,M,J]),te=(0,b.useMemo)((function(){return!g||w?null:(!0===g?[coe,foe,doe]:g).map((function(e){return e===coe?{key:"all",text:N.selectionAll,onSelect:function(){J(C.map((function(e,t){return I(e,t)})).filter((function(e){var t=G.get(e);return!(null===t||void 0===t?void 0:t.disabled)||Y.has(e)})))}}:e===foe?{key:"invert",text:N.selectInvert,onSelect:function(){var e=new Set(Y);k.forEach((function(t,n){var r=I(t,n),i=G.get(r);(null===i||void 0===i?void 0:i.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);c&&(Ai(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),c(t)),J(t)}}:e===doe?{key:"none",text:N.selectNone,onSelect:function(){null===f||void 0===f||f(),J(Array.from(Y).filter((function(e){var t=G.get(e);return null===t||void 0===t?void 0:t.disabled})))}}:e}))}),[g,Y,k,I,c,J]),ie=(0,b.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==loe}));var r,i,o=(0,ne.Z)(t),a=new Set(Y),s=j.map(I).filter((function(e){return!G.get(e).disabled})),u=s.every((function(e){return a.has(e)})),c=s.some((function(e){return a.has(e)}));if("radio"!==p){var f;if(te){var g=b.createElement(Ap,{getPopupContainer:D},te.map((function(e,t){var n=e.key,r=e.text,i=e.onSelect;return b.createElement(Ap.Item,{key:n||t,onClick:function(){null===i||void 0===i||i(s)}},r)})));f=b.createElement("div",{className:"".concat(E,"-selection-extra")},b.createElement(Xie,{overlay:g,getPopupContainer:D},b.createElement("span",null,b.createElement(c9,null))))}var y=j.map((function(e,t){var n=I(e,t),r=G.get(n)||{};return x({checked:a.has(n)},r)})).filter((function(e){return e.disabled})),_=!!y.length&&y.length===j.length,C=_&&y.every((function(e){return e.checked})),k=_&&y.some((function(e){return e.checked}));r=!w&&b.createElement("div",{className:"".concat(E,"-selection")},b.createElement(sc,{checked:_?C:!!j.length&&u,indeterminate:_?!C&&k:!u&&c,onChange:function(){var e=[];u?s.forEach((function(t){a.delete(t),e.push(t)})):s.forEach((function(t){a.has(t)||(a.add(t),e.push(t))}));var t=Array.from(a);null===l||void 0===l||l(!u,t.map((function(e){return M(e)})),e.map((function(e){return M(e)}))),J(t)},disabled:0===j.length||_,skipGroup:!0}),f)}i="radio"===p?function(e,t,n){var r=I(t,n),i=a.has(r);return{node:b.createElement(uoe,x({},G.get(r),{checked:i,onClick:function(e){return e.stopPropagation()},onChange:function(e){a.has(r)||ee(r,!0,[r],e.nativeEvent)}})),checked:i}}:function(e,t,n){var r,i,o=I(t,n),u=a.has(o),l=X.has(o),c=G.get(o);return"nest"===T?(i=l,Ai("boolean"!==typeof(null===c||void 0===c?void 0:c.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):i=null!==(r=null===c||void 0===c?void 0:c.indeterminate)&&void 0!==r?r:l,{node:b.createElement(sc,x({},c,{indeterminate:i,checked:u,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&S){var l=new Set([$,o]);s.some((function(e,t){if(l.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&S){var c=s.slice(r,i+1),f=[];u?c.forEach((function(e){a.has(e)&&(f.push(e),a.delete(e))})):c.forEach((function(e){a.has(e)||(f.push(e),a.add(e))}));var h=Array.from(a);null===d||void 0===d||d(!u,h.map((function(e){return M(e)})),f.map((function(e){return M(e)}))),J(h)}else{var p=Z;if(S){var g=u?xie(p,o):wie(p,o);ee(o,!u,g,t)}else{var v=Gie([].concat((0,ne.Z)(p),[o]),!0,F,V),m=v.checkedKeys,y=v.halfCheckedKeys,b=m;if(u){var x=new Set(m);x.delete(o),b=Gie(Array.from(x),{checked:!1,halfCheckedKeys:y},F,V).checkedKeys}ee(o,!u,b,t)}}Q(o)}})),checked:u}};if(!o.includes(loe))if(0===o.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[rre])||void 0===t?void 0:t.columnType)}))){var A=mr(o),N=A[0],P=A.slice(1);o=[N,loe].concat((0,ne.Z)(P))}else o=[loe].concat((0,ne.Z)(o));var O=o.indexOf(loe);o=o.filter((function(e,t){return e!==loe||t===O}));var L=o[O-1],R=o[O+1],B=v;void 0===B&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?B=R.fixed:void 0!==(null===L||void 0===L?void 0:L.fixed)&&(B=L.fixed)),B&&L&&"EXPAND_COLUMN"===(null===(n=L[rre])||void 0===n?void 0:n.columnType)&&void 0===L.fixed&&(L.fixed=B);var z=(0,re.Z)({fixed:B,width:h,className:"".concat(E,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=i(e,t,n),o=r.node,a=r.checked;return m?m(a,t,n,o):o}},rre,{className:"".concat(E,"-selection-col")});return o.map((function(e){return e===loe?z:e}))}),[I,j,e,Z,Y,X,h,te,T,$,G,d,ee,V]);return[ie,Y]}var voe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},moe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:voe}))};moe.displayName="CaretDownOutlined";var yoe=b.forwardRef(moe),boe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},xoe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:boe}))};xoe.displayName="CaretUpOutlined";var woe=b.forwardRef(xoe);function _oe(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function Soe(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function Eoe(e,t){return"function"===typeof e?e(t):e}var Coe="ascend",koe="descend";function Moe(e){return"object"===(0,je.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Ioe(e){return"function"===typeof e?e:!(!e||"object"!==(0,je.Z)(e)||!e.compare)&&e.compare}function Toe(e,t,n){var r=[];function i(e,t){r.push({column:e,key:_oe(e,t),multiplePriority:Moe(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=Soe(o,n);e.children?("sortOrder"in e&&i(e,a),r=[].concat((0,ne.Z)(r),(0,ne.Z)(Toe(e.children,t,a)))):e.sorter&&("sortOrder"in e?i(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:_oe(e,a),multiplePriority:Moe(e),sortOrder:e.defaultSortOrder}))})),r}function Aoe(e,t,n,r,i,o,a,s){return(t||[]).map((function(t,u){var l=Soe(u,s),c=t;if(c.sorter){var f=c.sortDirections||i,d=void 0===c.showSorterTooltip?a:c.showSorterTooltip,h=_oe(c,l),p=n.find((function(e){return e.key===h})),g=p?p.sortOrder:null,v=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(f,g),m=f.includes(Coe)&&b.createElement(woe,{className:oe()("".concat(e,"-column-sorter-up"),{active:g===Coe})}),y=f.includes(koe)&&b.createElement(yoe,{className:oe()("".concat(e,"-column-sorter-down"),{active:g===koe})}),w=o||{},_=w.cancelSort,S=w.triggerAsc,E=w.triggerDesc,C=_;v===koe?C=E:v===Coe&&(C=S);var k="object"===(0,je.Z)(d)?d:{title:C};c=x(x({},c),{className:oe()(c.className,(0,re.Z)({},"".concat(e,"-column-sort"),g)),title:function(n){var r=b.createElement("div",{className:"".concat(e,"-column-sorters")},b.createElement("span",{className:"".concat(e,"-column-title")},Eoe(t.title,n)),b.createElement("span",{className:oe()("".concat(e,"-column-sorter"),(0,re.Z)({},"".concat(e,"-column-sorter-full"),!(!m||!y)))},b.createElement("span",{className:"".concat(e,"-column-sorter-inner")},m,y)));return d?b.createElement(eu,k,r):r},onHeaderCell:function(n){var i=t.onHeaderCell&&t.onHeaderCell(n)||{},o=i.onClick;return i.onClick=function(e){r({column:t,key:h,sortOrder:v,multiplePriority:Moe(t)}),o&&o(e)},i.className=oe()(i.className,"".concat(e,"-column-has-sorters")),i}})}return"children"in c&&(c=x(x({},c),{children:Aoe(e,c.children,n,r,i,o,a,l)})),c}))}function Noe(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function Doe(e){var t=e.filter((function(e){return e.sortOrder})).map(Noe);return 0===t.length&&e.length?x(x({},Noe(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function Poe(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),o=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Ioe(t)&&n}));return o.length?i.sort((function(e,t){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,s=Ioe(i);if(s&&a){var u=s(e,t,a);if(0!==u)return a===Coe?u:-u}}return 0})).map((function(e){var r=e[n];return r?x(x({},e),(0,re.Z)({},n,Poe(r,t,n))):e})):i}function Ooe(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,i=e.sortDirections,o=e.tableLocale,a=e.showSorterTooltip,s=b.useState(Toe(n,!0)),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=b.useMemo((function(){var e=!0,t=Toe(n,!1);if(!t.length)return l;var r=[];function i(t){e?r.push(t):r.push(x(x({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),i(t))})),r}),[n,l]),d=b.useMemo((function(){var e=f.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[f]);function h(e){var t;t=!1!==e.multiplePriority&&f.length&&!1!==f[0].multiplePriority?[].concat((0,ne.Z)(f.filter((function(t){return t.key!==e.key}))),[e]):[e],c(t),r(Doe(t),t)}return[function(e){return Aoe(t,e,f,h,i,o,a)},f,d,function(){return Doe(f)}]}var Loe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Roe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Loe}))};Roe.displayName="FilterFilled";var Boe=b.forwardRef(Roe),zoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},Foe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:zoe}))};Foe.displayName="HolderOutlined";var joe=b.forwardRef(Foe),Goe=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Voe=function(e,t){var n=e.className,r=e.style,i=e.motion,o=e.motionNodes,a=e.motionType,s=e.onMotionStart,u=e.onMotionEnd,l=e.active,c=e.treeNodeRequiredProps,f=ze(e,Goe),d=b.useState(!0),h=(0,y.Z)(d,2),p=h[0],g=h[1],v=b.useContext(fie).prefixCls,m=b.useRef(!1),w=function(){m.current||u(),m.current=!0};return(0,b.useEffect)((function(){o&&"hide"===a&&p&&g(!1)}),[o]),(0,b.useEffect)((function(){return o&&s(),function(){o&&w()}}),[]),o?b.createElement(Lo,x({ref:t,visible:p},i,{motionAppear:"show"===a,onAppearEnd:w,onLeaveEnd:w}),(function(e,t){var n=e.className,r=e.style;return b.createElement("div",{ref:t,className:oe()("".concat(v,"-treenode-motion"),n),style:r},o.map((function(e){var t=x({},e.data),n=e.title,r=e.key,i=e.isStart,o=e.isEnd;delete t.children;var a=Bie(r,c);return b.createElement(bie,x({},t,a,{title:n,active:l,data:e.data,key:r,isStart:i,isEnd:o}))})))})):b.createElement(bie,x({domRef:t,className:n,style:r},f,{active:l}))};Voe.displayName="MotionTreeNode";var Uoe=b.forwardRef(Voe);function Woe(e,t,n){var r=e.findIndex((function(e){return e.data.key===n})),i=e[r+1],o=t.findIndex((function(e){return e.data.key===n}));if(i){var a=t.findIndex((function(e){return e.data.key===i.data.key}));return t.slice(o+1,a)}return t.slice(o+1)}var Zoe=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Hoe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Yoe=function(){},Xoe="RC_TREE_MOTION_".concat(Math.random()),Koe={key:Xoe},qoe={key:Xoe,level:0,index:0,pos:"0",node:Koe,nodes:[Koe]},$oe={parent:null,children:[],pos:qoe.pos,data:Koe,title:null,key:Xoe,isStart:[],isEnd:[]};function Qoe(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function Joe(e){return Nie(e.key,e.pos)}var eae=function(e,t){var n=e.prefixCls,r=e.data,i=(e.selectable,e.checkable,e.expandedKeys),o=e.selectedKeys,a=e.checkedKeys,s=e.loadedKeys,u=e.loadingKeys,l=e.halfCheckedKeys,c=e.keyEntities,f=e.disabled,d=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,g=e.motion,v=e.height,m=e.itemHeight,w=e.virtual,_=e.focusable,S=e.activeItem,E=e.focused,C=e.tabIndex,k=e.onKeyDown,M=e.onFocus,I=e.onBlur,T=e.onActiveChange,A=e.onListChangeStart,N=e.onListChangeEnd,D=ze(e,Zoe),P=b.useRef(null),O=b.useRef(null);b.useImperativeHandle(t,(function(){return{scrollTo:function(e){P.current.scrollTo(e)},getIndentWidth:function(){return O.current.offsetWidth}}}));var L=b.useState(i),R=(0,y.Z)(L,2),B=R[0],z=R[1],F=b.useState(r),j=(0,y.Z)(F,2),G=j[0],V=j[1],U=b.useState(r),W=(0,y.Z)(U,2),Z=W[0],H=W[1],Y=b.useState([]),X=(0,y.Z)(Y,2),K=X[0],q=X[1],$=b.useState(null),Q=(0,y.Z)($,2),J=Q[0],ee=Q[1];function te(){V(r),H(r),q([]),ee(null),N()}b.useEffect((function(){z(i);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(B,i);if(null!==e.key)if(e.add){var t=G.findIndex((function(t){return t.data.key===e.key})),n=Qoe(Woe(G,r,e.key),w,v,m),o=G.slice();o.splice(t+1,0,$oe),H(o),q(n),ee("show")}else{var a=r.findIndex((function(t){return t.data.key===e.key})),s=Qoe(Woe(r,G,e.key),w,v,m),u=r.slice();u.splice(a+1,0,$oe),H(u),q(s),ee("hide")}else G!==r&&(V(r),H(r))}),[i,r]),b.useEffect((function(){d||te()}),[d]);var ne=g?Z:r,re={expandedKeys:i,selectedKeys:o,loadedKeys:s,loadingKeys:u,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:h,dropPosition:p,keyEntities:c};return b.createElement(b.Fragment,null,E&&S&&b.createElement("span",{style:Hoe,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(S)),b.createElement("div",null,b.createElement("input",{style:Hoe,disabled:!1===_||f,tabIndex:!1!==_?C:null,onKeyDown:k,onFocus:M,onBlur:I,value:"",onChange:Yoe,"aria-label":"for screen reader"})),b.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},b.createElement("div",{className:"".concat(n,"-indent")},b.createElement("div",{ref:O,className:"".concat(n,"-indent-unit")}))),b.createElement(B7,x({},D,{data:ne,itemKey:Joe,height:v,fullHeight:!1,virtual:w,itemHeight:m,prefixCls:"".concat(n,"-list"),ref:P,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return Joe(e)===Xoe}))&&te()}}),(function(e){var t=e.pos,n=x({},e.data),r=e.title,i=e.key,o=e.isStart,a=e.isEnd,s=Nie(i,t);delete n.key,delete n.children;var u=Bie(s,re);return b.createElement(Uoe,x({},n,u,{title:r,active:!!S&&i===S.key,pos:t,data:e.data,isStart:o,isEnd:a,motion:g,motionNodes:i===Xoe?K:null,motionType:J,onMotionStart:A,onMotionEnd:te,treeNodeRequiredProps:re,onMouseMove:function(){T(null)}}))})))},tae=b.forwardRef(eae);tae.displayName="NodeList";var nae=tae;var rae=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Die()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=b.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var u=xie(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:Eie(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(u),window.addEventListener("dragend",e.onWindowDragEnd),a&&a({event:t,node:zie(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,u=r.indent,l=e.props,c=l.onDragEnter,f=l.onExpand,d=l.allowDrop,h=l.direction,p=n.props,g=p.pos,v=p.eventKey,m=(0,An.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==v&&(e.currentMouseOverDroppableNodeKey=v),m){var y=kie(t,m,n,u,e.dragStartMousePosition,d,s,o,i,h),b=y.dropPosition,x=y.dropLevelOffset,w=y.dropTargetKey,_=y.dropContainerKey,S=y.dropTargetPos,E=y.dropAllowed,C=y.dragOverNodeKey;-1===a.indexOf(w)&&E?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),m.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,ne.Z)(i),a=o[n.props.eventKey];a&&(a.children||[]).length&&(r=wie(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),f&&f(r,{node:zie(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),m.props.eventKey!==w||0!==x?(e.setState({dragOverNodeKey:C,dropPosition:b,dropLevelOffset:x,dropTargetKey:w,dropContainerKey:_,dropTargetPos:S,dropAllowed:E}),c&&c({event:t,node:zie(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,o=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,u=r.indent,l=e.props,c=l.onDragOver,f=l.allowDrop,d=l.direction,h=(0,An.Z)(e).dragNode;if(h){var p=kie(t,h,n,u,e.dragStartMousePosition,f,o,a,s,d),g=p.dropPosition,v=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,b=p.dropAllowed,x=p.dropTargetPos,w=p.dragOverNodeKey;-1===i.indexOf(m)&&b&&(h.props.eventKey===m&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():g===e.state.dropPosition&&v===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&y===e.state.dropContainerKey&&x===e.state.dropTargetPos&&b===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:m,dropContainerKey:y,dropTargetPos:x,dropAllowed:b,dragOverNodeKey:w}),c&&c({event:t,node:zie(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r&&r({event:t,node:zie(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),i&&!r&&i({event:t,node:zie(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,a=o.dragChildrenKeys,s=o.dropPosition,u=o.dropTargetKey,l=o.dropTargetPos,c=o.dropAllowed;if(c){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==u){var d=Oe(Oe({},Bie(u,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===u,data:e.state.keyEntities[u].node}),h=-1!==a.indexOf(u);_t(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=_ie(l),g={event:t,node:zie(d),dragNode:e.dragNode?zie(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};f&&!i&&f(g),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;r&&r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;r&&r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,o=i.keyEntities,a=i.fieldNames,s=e.props,u=s.onSelect,l=s.multiple,c=n.selected,f=n[a.key],d=!c,h=(r=d?l?wie(r,f):[f]:xie(r,f)).map((function(e){var t=o[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),u&&u(r,{event:"select",selected:d,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,o=e.state,a=o.keyEntities,s=o.checkedKeys,u=o.halfCheckedKeys,l=e.props,c=l.checkStrictly,f=l.onCheck,d=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(c){var p=r?wie(s,d):xie(s,d);i={checked:p,halfChecked:xie(u,d)},h.checkedNodes=p.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var g=Gie([].concat((0,ne.Z)(s),[d]),!0,a),v=g.checkedKeys,m=g.halfCheckedKeys;if(!r){var y=new Set(v);y.delete(d);var b=Gie(Array.from(y),{checked:!1,halfCheckedKeys:m},a);v=b.checkedKeys,m=b.halfCheckedKeys}i=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,v.forEach((function(e){var t=a[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:m})}f&&f(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(o){var a=o.loadedKeys,s=void 0===a?[]:a,u=o.loadingKeys,l=void 0===u?[]:u,c=e.props,f=c.loadData,d=c.onLoad;return f&&-1===s.indexOf(n)&&-1===l.indexOf(n)?(f(t).then((function(){var i=wie(e.state.loadedKeys,n);d&&d(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:xie(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:xie(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var o=e.state.loadedKeys;_t(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:wie(o,n)}),r()}i(t)})),{loadingKeys:wie(l,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r&&r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r&&r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=Oie(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,o=i.listChanging,a=i.fieldNames,s=e.props,u=s.onExpand,l=s.loadData,c=n.expanded,f=n[a.key];if(!o){var d=r.indexOf(f),h=!c;if(_t(c&&-1!==d||!c&&-1===d,"Expand state not sync with index check"),r=h?wie(r,f):xie(r,f),e.setExpandedKeys(r),u&&u(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&l){var p=e.onNodeLoad(n);p&&p.then((function(){var t=Oie(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=xie(e.state.expandedKeys,f);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),r&&r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,o=r.findIndex((function(e){return e.key===i}));-1===o&&t<0&&(o=r.length);var a=r[o=(o+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,o=n.checkedKeys,a=e.props,s=a.onKeyDown,u=a.checkable,l=a.selectable;switch(t.which){case ed.UP:e.offsetActiveKey(-1),t.preventDefault();break;case ed.DOWN:e.offsetActiveKey(1),t.preventDefault()}var c=e.getActiveItem();if(c&&c.data){var f=e.getTreeNodeRequiredProps(),d=!1===c.data.isLeaf||!!(c.data.children||[]).length,h=zie(Oe(Oe({},Bie(r,f)),{},{data:c.data,active:!0}));switch(t.which){case ed.LEFT:d&&i.includes(r)?e.onNodeExpand({},h):c.parent&&e.onActiveChange(c.parent.data.key),t.preventDefault();break;case ed.RIGHT:d&&!i.includes(r)?e.onNodeExpand({},h):c.children&&c.children.length&&e.onActiveChange(c.children[0].data.key),t.preventDefault();break;case ed.ENTER:case ed.SPACE:!u||h.disabled||!1===h.checkable||h.disableCheckbox?u||!l||h.disabled||!1===h.selectable||e.onNodeSelect({},h):e.onNodeCheck({},h,!o.includes(r))}}s&&s(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,o=!0,a={};Object.keys(t).forEach((function(n){n in e.props?o=!1:(i=!0,a[n]=t[n])})),!i||n&&!o||e.setState(Oe(Oe({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,r=n.focused,i=n.flattenNodes,o=n.keyEntities,a=n.draggingNodeKey,s=n.activeKey,u=n.dropLevelOffset,l=n.dropContainerKey,c=n.dropTargetKey,f=n.dropPosition,d=n.dragOverNodeKey,h=n.indent,p=this.props,g=p.prefixCls,v=p.className,m=p.style,y=p.showLine,w=p.focusable,_=p.tabIndex,S=void 0===_?0:_,E=p.selectable,C=p.showIcon,k=p.icon,M=p.switcherIcon,I=p.draggable,T=p.checkable,A=p.checkStrictly,N=p.disabled,D=p.motion,P=p.loadData,O=p.filterTreeNode,L=p.height,R=p.itemHeight,B=p.virtual,z=p.titleRender,F=p.dropIndicatorRender,j=p.onContextMenu,G=p.onScroll,V=p.direction,U=N8(this.props,{aria:!0,data:!0});return I&&(t="object"===(0,je.Z)(I)?I:"function"===typeof I?{nodeDraggable:I}:{}),b.createElement(fie.Provider,{value:{prefixCls:g,selectable:E,showIcon:C,icon:k,switcherIcon:M,draggable:t,draggingNodeKey:a,checkable:T,checkStrictly:A,disabled:N,keyEntities:o,dropLevelOffset:u,dropContainerKey:l,dropTargetKey:c,dropPosition:f,dragOverNodeKey:d,indent:h,direction:V,dropIndicatorRender:F,loadData:P,filterTreeNode:O,titleRender:z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},b.createElement("div",{role:"tree",className:oe()(g,v,(e={},(0,re.Z)(e,"".concat(g,"-show-line"),y),(0,re.Z)(e,"".concat(g,"-focused"),r),(0,re.Z)(e,"".concat(g,"-active-focused"),null!==s),e))},b.createElement(nae,x({ref:this.listRef,prefixCls:g,style:m,data:i,disabled:N,selectable:E,checkable:!!T,motion:D,dragging:null!==a,height:L,itemHeight:R,virtual:B,focusable:w,focused:r,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:j,onScroll:G},this.getTreeNodeRequiredProps(),U))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function o(t){return!r&&t in e||r&&r[t]!==e[t]}var a=t.fieldNames;if(o("fieldNames")&&(a=Die(e.fieldNames),i.fieldNames=a),o("treeData")?n=e.treeData:o("children")&&(_t(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Pie(e.children)),n){i.treeData=n;var s=Rie(n,{fieldNames:a});i.keyEntities=Oe((0,re.Z)({},Xoe,qoe),s.keyEntities)}var u,l=i.keyEntities||t.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?Tie(e.expandedKeys,l):e.expandedKeys;else if(!r&&e.defaultExpandAll){var c=Oe({},l);delete c[Xoe],i.expandedKeys=Object.keys(c).map((function(e){return c[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Tie(e.defaultExpandedKeys,l):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var f=Oie(n||t.treeData,i.expandedKeys||t.expandedKeys,a);i.flattenNodes=f}if((e.selectable&&(o("selectedKeys")?i.selectedKeys=Mie(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=Mie(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?u=Iie(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=Iie(e.defaultCheckedKeys)||{}:n&&(u=Iie(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var d=u,h=d.checkedKeys,p=void 0===h?[]:h,g=d.halfCheckedKeys,v=void 0===g?[]:g;if(!e.checkStrictly){var m=Gie(p,!0,l);p=m.checkedKeys,v=m.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=v}return o("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(b.Component);rae.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return b.createElement("div",{style:i})},allowDrop:function(){return!0}},rae.TreeNode=bie;var iae=rae,oae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},aae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:oae}))};aae.displayName="FileOutlined";var sae=b.forwardRef(aae),uae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},lae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:uae}))};lae.displayName="FolderOpenOutlined";var cae=b.forwardRef(lae),fae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},dae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:fae}))};dae.displayName="FolderOutlined";var hae,pae=b.forwardRef(dae);function gae(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&gae(r||[],t)}))}function vae(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,o=[],a=hae.None;if(r&&r===i)return[r];if(!r||!i)return[];return gae(t,(function(e){if(a===hae.End)return!1;if(function(e){return e===r||e===i}(e)){if(o.push(e),a===hae.None)a=hae.Start;else if(a===hae.Start)return a=hae.End,!1}else a===hae.Start&&o.push(e);return-1!==n.indexOf(e)})),o}function mae(e,t){var n=(0,ne.Z)(t),r=[];return gae(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(hae||(hae={}));var yae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bae(e){var t=e.isLeaf,n=e.expanded;return t?b.createElement(sae,null):n?b.createElement(cae,null):b.createElement(pae,null)}function xae(e){var t=e.treeData,n=e.children;return t||Pie(n)}var wae=function(e,t){var n=e.defaultExpandAll,r=e.defaultExpandParent,i=e.defaultExpandedKeys,o=yae(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=b.useRef(),s=b.useRef(),u=b.createRef();b.useImperativeHandle(t,(function(){return u.current}));var l=b.useState(o.selectedKeys||o.defaultSelectedKeys||[]),c=(0,y.Z)(l,2),f=c[0],d=c[1],h=b.useState(function(){var e=Rie(xae(o)).keyEntities;return n?Object.keys(e):r?Tie(o.expandedKeys||i||[],e):o.expandedKeys||i}()),p=(0,y.Z)(h,2),g=p[0],v=p[1];b.useEffect((function(){"selectedKeys"in o&&d(o.selectedKeys)}),[o.selectedKeys]),b.useEffect((function(){"expandedKeys"in o&&v(o.expandedKeys)}),[o.expandedKeys]);var m=Rre()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||u.current.onNodeExpand(e,t)}),200,{leading:!0}),w=b.useContext(_e),_=w.getPrefixCls,S=w.direction,E=o.prefixCls,C=o.className,k=yae(o,["prefixCls","className"]),M=_("tree",E),I=oe()("".concat(M,"-directory"),(0,re.Z)({},"".concat(M,"-directory-rtl"),"rtl"===S),C);return b.createElement(Lae,x({icon:bae,ref:u,blockNode:!0},k,{prefixCls:M,className:I,expandedKeys:g,selectedKeys:f,onSelect:function(e,t){var n,r,i=o.multiple,u=t.node,l=t.nativeEvent,c=u.key,f=void 0===c?"":c,h=xae(o),p=x(x({},t),{selected:!0}),v=(null===l||void 0===l?void 0:l.ctrlKey)||(null===l||void 0===l?void 0:l.metaKey),m=null===l||void 0===l?void 0:l.shiftKey;i&&v?(r=e,a.current=f,s.current=r,p.selectedNodes=mae(h,r)):i&&m?(r=Array.from(new Set([].concat((0,ne.Z)(s.current||[]),(0,ne.Z)(vae({treeData:h,expandedKeys:g,startKey:f,endKey:a.current}))))),p.selectedNodes=mae(h,r)):(r=[f],a.current=f,s.current=r,p.selectedNodes=mae(h,r)),null===(n=o.onSelect)||void 0===n||n.call(o,r,p),"selectedKeys"in o||d(r)},onClick:function(e,t){var n;"click"===o.expandAction&&m(e,t),null===(n=o.onClick)||void 0===n||n.call(o,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===o.expandAction&&m(e,t),null===(n=o.onDoubleClick)||void 0===n||n.call(o,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in o||v(e),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,e,t)}}))},_ae=b.forwardRef(wae);_ae.displayName="DirectoryTree",_ae.defaultProps={showIcon:!0,expandAction:"click"};var Sae=_ae,Eae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Cae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Eae}))};Cae.displayName="MinusSquareOutlined";var kae=b.forwardRef(Cae),Mae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Iae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Mae}))};Iae.displayName="PlusSquareOutlined";var Tae=b.forwardRef(Iae),Aae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Nae=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:Aae}))};Nae.displayName="CaretDownFilled";var Dae=b.forwardRef(Nae);function Pae(e){var t,n=e.dropPosition,r=e.dropLevelOffset,i=e.prefixCls,o=e.indent,a=e.direction,s=void 0===a?"ltr":a,u="ltr"===s?"left":"right",l="ltr"===s?"right":"left",c=(t={},(0,re.Z)(t,u,-r*o+4),(0,re.Z)(t,l,0),t);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[u]=o+4}return b.createElement("div",{style:c,className:"".concat(i,"-drop-indicator")})}var Oae=b.forwardRef((function(e,t){var n,r=b.useContext(_e),i=r.getPrefixCls,o=r.direction,a=r.virtual,s=e.prefixCls,u=e.className,l=e.showIcon,c=e.showLine,f=e.switcherIcon,d=e.blockNode,h=e.children,p=e.checkable,g=e.selectable,v=e.draggable,m=i("tree",s),y=x(x({},e),{showLine:Boolean(c),dropIndicatorRender:Pae}),w=b.useMemo((function(){if(!v)return!1;var e={};switch((0,je.Z)(v)){case"function":e.nodeDraggable=v;break;case"object":e=x({},v)}return!1!==e.icon&&(e.icon=e.icon||b.createElement(joe,null)),e}),[v]);return b.createElement(iae,x({itemHeight:20,ref:t,virtual:a},y,{prefixCls:m,className:oe()((n={},(0,re.Z)(n,"".concat(m,"-icon-hide"),!l),(0,re.Z)(n,"".concat(m,"-block-node"),d),(0,re.Z)(n,"".concat(m,"-unselectable"),!g),(0,re.Z)(n,"".concat(m,"-rtl"),"rtl"===o),n),u),direction:o,checkable:p?b.createElement("span",{className:"".concat(m,"-checkbox-inner")}):p,selectable:g,switcherIcon:function(e){return function(e,t,n,r){var i,o=r.isLeaf,a=r.expanded;if(r.loading)return b.createElement(ou,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,je.Z)(n)&&(i=n.showLeafIcon),o)return n?"object"!==(0,je.Z)(n)||i?b.createElement(sae,{className:"".concat(e,"-switcher-line-icon")}):b.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var s="".concat(e,"-switcher-icon");return js(t)?Gs(t,{className:oe()(t.props.className||"",s)}):t||(n?a?b.createElement(kae,{className:"".concat(e,"-switcher-line-icon")}):b.createElement(Tae,{className:"".concat(e,"-switcher-line-icon")}):b.createElement(Dae,{className:s}))}(m,f,c,e)},draggable:w}),h)}));Oae.TreeNode=bie,Oae.DirectoryTree=Sae,Oae.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:x(x({},Ks),{motionAppear:!1}),blockNode:!1};var Lae=Oae,Rae=Lae,Bae=function(e){return b.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},zae=function(e){var t=e.value,n=e.onChange,r=e.filterSearch,i=e.tablePrefixCls,o=e.locale;return r?b.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},b.createElement(Xl,{prefix:b.createElement(Uu,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null};function Fae(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function jae(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,i=e.filterMultiple,o=e.searchValue;return t.map((function(e,t){var a=String(e.value);if(e.children)return b.createElement(Ap.SubMenu,{key:a||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},jae({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o}));var s=i?sc:uoe,u=b.createElement(Ap.Item,{key:void 0!==e.value?a:t},b.createElement(s,{checked:r.includes(a)}),b.createElement("span",null,e.text));return o.trim()?Fae(o,e.text)?u:void 0:u}))}var Gae=function(e){var t,n=e.tablePrefixCls,r=e.prefixCls,i=e.column,o=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterMode,l=void 0===u?"menu":u,c=e.filterSearch,f=void 0!==c&&c,d=e.filterState,h=e.triggerFilter,p=e.locale,g=e.children,v=e.getPopupContainer,m=i.filterDropdownVisible,x=i.onFilterDropdownVisibleChange,w=b.useState(!1),_=(0,y.Z)(w,2),S=_[0],E=_[1],C=!(!d||!(null===(t=d.filteredKeys)||void 0===t?void 0:t.length)&&!d.forceFiltered),k=function(e){E(e),null===x||void 0===x||x(e)},M="boolean"===typeof m?m:S,I=null===d||void 0===d?void 0:d.filteredKeys,T=function(e){var t=b.useRef(e),n=Lp();return[function(){return t.current},function(e){t.current=e,n()}]}(I||[]),A=(0,y.Z)(T,2),N=A[0],D=A[1],P=function(e){var t=e.selectedKeys;D(t)},O=function(e,t){var n=t.node,r=t.checked;P(s?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};b.useEffect((function(){S&&P({selectedKeys:I||[]})}),[I]);var L=b.useState([]),R=(0,y.Z)(L,2),B=R[0],z=R[1],F=b.useRef(),j=function(e){F.current=window.setTimeout((function(){z(e)}))},G=function(){window.clearTimeout(F.current)};b.useEffect((function(){return function(){window.clearTimeout(F.current)}}),[]);var V=b.useState(""),U=(0,y.Z)(V,2),W=U[0],Z=U[1],H=function(e){var t=e.target.value;Z(t)};b.useEffect((function(){S||Z("")}),[S]);var Y,X=function(e){var t=e&&e.length?e:null;return null!==t||d&&d.filteredKeys?ja()(t,null===d||void 0===d?void 0:d.filteredKeys)?null:void h({column:i,key:a,filteredKeys:t}):null},K=function(){k(!1),X(N())},q=function(){Z(""),D([])},$=oe()((0,re.Z)({},"".concat(o,"-menu-without-submenu"),!(i.filters||[]).some((function(e){return e.children})))),Q=function(e){if(e.target.checked){var t=Wae(null===i||void 0===i?void 0:i.filters).map((function(e){return String(e)}));D(t)}else D([])},J=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),i={title:t.text,key:void 0!==t.value?r:n};return t.children&&(i.children=e({filters:t.children})),i}))};if("function"===typeof i.filterDropdown)Y=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(e){return P({selectedKeys:e})},selectedKeys:N(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&k(!1),X(N())},clearFilters:q,filters:i.filters,visible:M});else if(i.filterDropdown)Y=i.filterDropdown;else{var ee=N()||[];Y=b.createElement(b.Fragment,null,0===(i.filters||[]).length?b.createElement(xe,{image:xe.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===l?b.createElement(b.Fragment,null,b.createElement(zae,{filterSearch:f,value:W,onChange:H,tablePrefixCls:n,locale:p}),b.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?b.createElement(sc,{className:"".concat(n,"-filter-dropdown-checkall"),onChange:Q},p.filterCheckall):null,b.createElement(Rae,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(o,"-menu"),onCheck:O,checkedKeys:ee,selectedKeys:ee,showIcon:!1,treeData:J({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:W.trim()?function(e){return Fae(W,e.title)}:void 0}))):b.createElement(b.Fragment,null,b.createElement(zae,{filterSearch:f,value:W,onChange:H,tablePrefixCls:n,locale:p}),b.createElement(Ap,{multiple:s,prefixCls:"".concat(o,"-menu"),className:$,onClick:G,onSelect:P,onDeselect:P,selectedKeys:ee,getPopupContainer:v,openKeys:B,onOpenChange:j},jae({filters:i.filters||[],prefixCls:r,filteredKeys:N(),filterMultiple:s,searchValue:W}))),b.createElement("div",{className:"".concat(r,"-dropdown-btns")},b.createElement(cl,{type:"link",size:"small",disabled:0===ee.length,onClick:q},p.filterReset),b.createElement(cl,{type:"primary",size:"small",onClick:K},p.filterConfirm)))}var te,ne=b.createElement(Bae,{className:"".concat(r,"-dropdown")},Y);te="function"===typeof i.filterIcon?i.filterIcon(C):i.filterIcon?i.filterIcon:b.createElement(Boe,null);var ie=b.useContext(_e).direction;return b.createElement("div",{className:"".concat(r,"-column")},b.createElement("span",{className:"".concat(n,"-column-title")},g),b.createElement(Xie,{overlay:ne,trigger:["click"],visible:M,onVisibleChange:function(e){e&&void 0!==I&&D(I||[]),k(e),e||i.filterDropdown||K()},getPopupContainer:v,placement:"rtl"===ie?"bottomLeft":"bottomRight"},b.createElement("span",{role:"button",tabIndex:-1,className:oe()("".concat(r,"-trigger"),{active:C}),onClick:function(e){e.stopPropagation()}},te)))};function Vae(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var o,a=Soe(i,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),r.push({column:e,key:_oe(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:_oe(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,ne.Z)(r),(0,ne.Z)(Vae(e.children,t,a))))})),r}function Uae(e,t,n,r,i,o,a,s){return n.map((function(n,u){var l=Soe(u,s),c=n.filterMultiple,f=void 0===c||c,d=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var g=_oe(p,l),v=r.find((function(e){var t=e.key;return g===t}));p=x(x({},p),{title:function(r){return b.createElement(Gae,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:g,filterState:v,filterMultiple:f,filterMode:d,filterSearch:h,triggerFilter:i,locale:a,getPopupContainer:o},Eoe(n.title,r))}})}return"children"in p&&(p=x(x({},p),{children:Uae(e,t,p.children,r,i,o,a,l)})),p}))}function Wae(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,ne.Z)(t),(0,ne.Z)(Wae(r))))})),t}function Zae(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,o=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=Wae(o);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function Hae(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=Wae(i),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return r(a,e)}))})):e}),e)}var Yae=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,i=e.onFilterChange,o=e.getPopupContainer,a=e.locale,s=b.useState(Vae(r,!0)),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=b.useMemo((function(){var e=Vae(r,!1),t=e.every((function(e){return void 0===e.filteredKeys}));if(t)return l;var n=e.every((function(e){return void 0!==e.filteredKeys}));return Ai(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e}),[r,l]),d=b.useCallback((function(){return Zae(f)}),[f]),h=function(e){var t=f.filter((function(t){return t.key!==e.key}));t.push(e),c(t),i(Zae(t),t)};return[function(e){return Uae(t,n,e,f,h,o,a)},f,d]};function Xae(e,t){return e.map((function(e){var n=x({},e);return n.title=Eoe(e.title,t),"children"in n&&(n.children=Xae(n.children,t)),n}))}function Kae(e){return[b.useCallback((function(t){return Xae(t,e)}),[e])]}var qae=function(e){return function(t){var n,r=t.prefixCls,i=t.onExpand,o=t.record,a=t.expanded,s=t.expandable,u="".concat(r,"-row-expand-icon");return b.createElement("button",{type:"button",onClick:function(e){i(o,e),e.stopPropagation()},className:oe()(u,(n={},(0,re.Z)(n,"".concat(u,"-spaced"),!s),(0,re.Z)(n,"".concat(u,"-expanded"),s&&a),(0,re.Z)(n,"".concat(u,"-collapsed"),s&&!a),n)),"aria-label":a?e.collapse:e.expand})}};function $ae(e){return null!==e&&void 0!==e&&e===e.window}function Qae(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",i=0;return $ae(e)?i=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?i=e.documentElement[r]:e&&(i=e[r]),e&&!$ae(e)&&"number"!==typeof i&&(i=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),i}function Jae(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function ese(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,o=t.duration,a=void 0===o?450:o,s=r(),u=Qae(s,!0),l=Date.now(),c=function t(){var n=Date.now()-l,r=Jae(n>a?a:n,u,e,a);$ae(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?Fi(t):"function"===typeof i&&i()};Fi(c)}var tse=ce;var nse=function(e){return null};var rse=function(e){return null},ise=[];function ose(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,l=e.dataSource,c=e.pagination,f=e.rowSelection,d=e.rowKey,h=e.rowClassName,p=e.columns,g=e.children,v=e.childrenColumnName,m=e.onChange,w=e.getPopupContainer,_=e.loading,S=e.expandIcon,E=e.expandable,C=e.expandedRowRender,k=e.expandIconColumnIndex,M=e.indentSize,I=e.scroll,T=e.sortDirections,A=e.locale,N=e.showSorterTooltip,D=void 0===N||N;Ai(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var P=b.useMemo((function(){return p||sre(g)}),[p,g]),O=b.useMemo((function(){return P.some((function(e){return e.responsive}))}),[P]),L=Rp(O),R=b.useMemo((function(){var e=new Set(Object.keys(L).filter((function(e){return L[e]})));return P.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[P,L]),B=Le(e,["className","style","columns"]),z=b.useContext(_i),F=b.useContext(_e),j=F.locale,G=void 0===j?tse:j,V=F.renderEmpty,U=F.direction,W=a||z,Z=x(x({},G.Table),A),H=l||ise,Y=b.useContext(_e).getPrefixCls,X=Y("table",r),K=Y("dropdown",u),q=x({childrenColumnName:v,expandIconColumnIndex:k},E),$=q.childrenColumnName,Q=void 0===$?"children":$,J=b.useMemo((function(){return H.some((function(e){var t;return null===(t=e)||void 0===t?void 0:t[Q]}))?"nest":C||E&&E.expandedRowRender?"row":null}),[H]),ee={body:b.useRef()},te=b.useMemo((function(){return"function"===typeof d?d:function(e){var t;return null===(t=e)||void 0===t?void 0:t[d]}}),[d]),ne=function(e,t,n){var r=b.useRef({});return[function(i){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){var o=new Map;!function e(r){r.forEach((function(r,i){var a=n(r,i);o.set(a,r),r&&"object"===(0,je.Z)(r)&&t in r&&e(r[t]||[])}))}(e),r.current={data:e,childrenColumnName:t,kvMap:o,getRowKey:n}}return r.current.kvMap.get(i)}]}(H,Q,te),ie=(0,y.Z)(ne,1)[0],ae={},se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x(x({},ae),e);n&&(ae.resetPagination(),r.pagination.current&&(r.pagination.current=1),c&&c.onChange&&c.onChange(1,r.pagination.pageSize)),I&&!1!==I.scrollToFirstRowOnChange&&ee.body.current&&ese(0,{getContainer:function(){return ee.body.current}}),null===m||void 0===m||m(r.pagination,r.filters,r.sorter,{currentDataSource:Hae(Poe(H,r.sorterStates,Q),r.filterStates),action:t})},ue=Ooe({prefixCls:X,mergedColumns:R,onSorterChange:function(e,t){se({sorter:e,sorterStates:t},"sort",!1)},sortDirections:T||["ascend","descend"],tableLocale:Z,showSorterTooltip:D}),le=(0,y.Z)(ue,4),ce=le[0],fe=le[1],de=le[2],he=le[3],pe=b.useMemo((function(){return Poe(H,fe,Q)}),[H,fe]);ae.sorter=he(),ae.sorterStates=fe;var ge=Yae({prefixCls:X,locale:Z,dropdownPrefixCls:K,mergedColumns:R,onFilterChange:function(e,t){se({filters:e,filterStates:t},"filter",!0)},getPopupContainer:w}),ve=(0,y.Z)(ge,3),me=ve[0],ye=ve[1],be=ve[2],xe=Hae(pe,ye);ae.filters=be(),ae.filterStates=ye;var we=Kae(b.useMemo((function(){return x({},de)}),[de])),Se=(0,y.Z)(we,1)[0],Ee=cie(xe.length,c,(function(e,t){se({pagination:x(x({},ae.pagination),{current:e,pageSize:t})},"paginate")})),Ce=(0,y.Z)(Ee,2),ke=Ce[0],Me=Ce[1];ae.pagination=!1===c?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,je.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(c,ke),ae.resetPagination=Me;var Ie=b.useMemo((function(){if(!1===c||!ke.pageSize)return xe;var e=ke.current,t=void 0===e?1:e,n=ke.total,r=ke.pageSize,i=void 0===r?10:r;return Ai(t>0,"Table","`current` should be positive number."),xe.length<n?xe.length>i?(Ai(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),xe.slice((t-1)*i,t*i)):xe:xe.slice((t-1)*i,t*i)}),[!!c,xe,ke&&ke.current,ke&&ke.pageSize,ke&&ke.total]),Te=goe(f,{prefixCls:X,data:xe,pageData:Ie,getRowKey:te,getRecordByKey:ie,expandType:J,childrenColumnName:Q,locale:Z,getPopupContainer:w}),Ae=(0,y.Z)(Te,2),Ne=Ae[0],De=Ae[1];q.__PARENT_RENDER_ICON__=q.expandIcon,q.expandIcon=q.expandIcon||S||qae(Z),"nest"===J&&void 0===q.expandIconColumnIndex?q.expandIconColumnIndex=f?1:0:q.expandIconColumnIndex>0&&f&&(q.expandIconColumnIndex-=1),"number"!==typeof q.indentSize&&(q.indentSize="number"===typeof M?M:15);var Pe,Oe,Re,Be=b.useCallback((function(e){return Se(Ne(me(ce(e))))}),[ce,me,Ne]);if(!1!==c&&(null===ke||void 0===ke?void 0:ke.total)){var ze;ze=ke.size?ke.size:"small"===W||"middle"===W?"small":void 0;var Fe=function(e){return b.createElement(uie,x({},ke,{className:oe()("".concat(X,"-pagination ").concat(X,"-pagination-").concat(e),ke.className),size:ze}))},Ge="rtl"===U?"left":"right",Ve=ke.position;if(null!==Ve&&Array.isArray(Ve)){var Ue=Ve.find((function(e){return-1!==e.indexOf("top")})),We=Ve.find((function(e){return-1!==e.indexOf("bottom")})),Ze=Ve.every((function(e){return"none"==="".concat(e)}));Ue||We||Ze||(Oe=Fe(Ge)),Ue&&(Pe=Fe(Ue.toLowerCase().replace("top",""))),We&&(Oe=Fe(We.toLowerCase().replace("bottom","")))}else Oe=Fe(Ge)}"boolean"===typeof _?Re={spinning:_}:"object"===(0,je.Z)(_)&&(Re=x({spinning:!0},_));var He=oe()("".concat(X,"-wrapper"),(0,re.Z)({},"".concat(X,"-wrapper-rtl"),"rtl"===U),i);return b.createElement("div",{ref:t,className:He,style:o},b.createElement(jre,x({spinning:!1},Re),Pe,b.createElement(Ore,x({},B,{columns:R,direction:U,expandable:q,prefixCls:X,className:oe()((n={},(0,re.Z)(n,"".concat(X,"-middle"),"middle"===W),(0,re.Z)(n,"".concat(X,"-small"),"small"===W),(0,re.Z)(n,"".concat(X,"-bordered"),s),(0,re.Z)(n,"".concat(X,"-empty"),0===H.length),n)),data:Ie,rowKey:te,rowClassName:function(e,t,n){var r;return r="function"===typeof h?oe()(h(e,t,n)):oe()(h),oe()((0,re.Z)({},"".concat(X,"-row-selected"),De.has(te(e,t))),r)},emptyText:A&&A.emptyText||V("Table"),internalHooks:Nre,internalRefs:ee,transformColumns:Be})),Oe))}var ase=b.forwardRef(ose);ase.defaultProps={rowKey:"key"},ase.SELECTION_COLUMN=loe,ase.EXPAND_COLUMN=Ore.EXPAND_COLUMN,ase.SELECTION_ALL=coe,ase.SELECTION_INVERT=foe,ase.SELECTION_NONE=doe,ase.Column=nse,ase.ColumnGroup=rse,ase.Summary=xre;var sse=ase;function use(){return"function"===typeof BigInt}function lse(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),o=i[0]||"0",a=i[1]||"0";"0"===o&&"0"===a&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:o,decimalStr:a,fullStr:"".concat(s).concat(r)}}function cse(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function fse(e){var t=String(e);if(cse(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&hse(t)?t.length-t.indexOf(".")-1:0}function dse(e){var t=String(e);if(cse(e)){if(e>Number.MAX_SAFE_INTEGER)return String(use()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(use()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(fse(t))}return lse(t).fullStr}function hse(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var pse=function(){function e(t){(0,K.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,q.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(fse(this.number),fse(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":dse(this.number):this.origin}}]),e}(),gse=function(){function e(t){if((0,K.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(cse(n)&&(n=Number(n)),hse(n="string"===typeof n?n:dse(n))){var r=lse(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,q.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=lse((this.alignDecimal(r)+n.alignDecimal(r)).toString()),o=i.negativeStr,a=i.trimStr,s="".concat(o).concat(a.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":lse("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function vse(e){return use()?new gse(e):new pse(e)}function mse(e,t,n){if(""===e)return"";var r=lse(e),i=r.negativeStr,o=r.integerStr,a=r.decimalStr,s="".concat(t).concat(a),u="".concat(i).concat(o);if(n>=0){var l=Number(a[n]);return l>=5?mse(vse(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-l)).toString(),t,n):0===n?u:"".concat(u).concat(t).concat(a.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}function yse(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,o=e.downDisabled,a=e.onStep,s=b.useRef(),u=b.useRef();u.current=a;var l=function(e,t){e.preventDefault(),u.current(t),s.current=setTimeout((function e(){u.current(t),s.current=setTimeout(e,200)}),600)},c=function(){clearTimeout(s.current)};if(b.useEffect((function(){return c}),[]),Hi())return null;var f="".concat(t,"-handler"),d=oe()(f,"".concat(f,"-up"),(0,re.Z)({},"".concat(f,"-up-disabled"),i)),h=oe()(f,"".concat(f,"-down"),(0,re.Z)({},"".concat(f,"-down-disabled"),o)),p={unselectable:"on",role:"button",onMouseUp:c,onMouseLeave:c};return b.createElement("div",{className:"".concat(f,"-wrap")},b.createElement("span",x({},p,{onMouseDown:function(e){l(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:d}),n||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),b.createElement("span",x({},p,{onMouseDown:function(e){l(e,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:h}),r||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var bse=St()?b.useLayoutEffect:b.useEffect;function xse(e,t){var n=b.useRef(!1);bse((function(){if(n.current)return e();n.current=!0}),t)}var wse=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],_se=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},Sse=function(e){var t=vse(e);return t.isInvalidate()?null:t},Ese=b.forwardRef((function(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-input-number":r,o=e.className,a=e.style,s=e.min,u=e.max,l=e.step,c=void 0===l?1:l,f=e.defaultValue,d=e.value,h=e.disabled,p=e.readOnly,g=e.upHandler,v=e.downHandler,m=e.keyboard,w=e.controls,_=void 0===w||w,S=e.stringMode,E=e.parser,C=e.formatter,k=e.precision,M=e.decimalSeparator,I=e.onChange,T=e.onInput,A=e.onPressEnter,N=e.onStep,D=ze(e,wse),P="".concat(i,"-input"),O=b.useRef(null),L=b.useState(!1),R=(0,y.Z)(L,2),B=R[0],z=R[1],F=b.useRef(!1),j=b.useRef(!1),G=b.useState((function(){return vse(null!==d&&void 0!==d?d:f)})),V=(0,y.Z)(G,2),U=V[0],W=V[1];var Z=b.useCallback((function(e,t){if(!t)return k>=0?k:Math.max(fse(e),fse(c))}),[k,c]),H=b.useCallback((function(e){var t=String(e);if(E)return E(t);var n=t;return M&&(n=n.replace(M,".")),n.replace(/[^\w.-]+/g,"")}),[E,M]),Y=b.useRef(""),X=b.useCallback((function(e,t){if(C)return C(e,{userTyping:t,input:String(Y.current)});var n="number"===typeof e?dse(e):e;if(!t){var r=Z(n,t);if(hse(n)&&(M||r>=0))n=mse(n,M||".",r)}return n}),[C,Z,M]),K=b.useState((function(){var e=null!==f&&void 0!==f?f:d;return U.isInvalidate()&&["string","number"].includes((0,je.Z)(e))?Number.isNaN(e)?"":e:X(U.toString(),!1)})),q=(0,y.Z)(K,2),$=q[0],Q=q[1];function J(e,t){Q(X(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}Y.current=$;var ee=b.useMemo((function(){return Sse(u)}),[u]),te=b.useMemo((function(){return Sse(s)}),[s]),ne=b.useMemo((function(){return!(!ee||!U||U.isInvalidate())&&ee.lessEquals(U)}),[ee,U]),ie=b.useMemo((function(){return!(!te||!U||U.isInvalidate())&&U.lessEquals(te)}),[te,U]),ae=function(e,t){var n=(0,b.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,o=i.substring(0,t),a=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:o,afterTxt:a}}catch(li){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,o=i.beforeTxt,a=i.afterTxt,s=i.start,u=r.length;if(r.endsWith(a))u=r.length-n.current.afterTxt.length;else if(r.startsWith(o))u=o.length;else{var l=o[s-1],c=r.indexOf(l,s-1);-1!==c&&(u=c+1)}e.setSelectionRange(u,u)}catch(li){_t(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(li.message))}}]}(O.current,B),se=(0,y.Z)(ae,2),ue=se[0],le=se[1],ce=function(e){return ee&&!e.lessEquals(ee)?ee:te&&!te.lessEquals(e)?te:null},fe=function(e){return!ce(e)},de=function(e,t){var n,r=e,i=fe(r)||r.isEmpty();if(r.isEmpty()||t||(r=ce(r)||r,i=!0),!p&&!h&&i){var o=r.toString(),a=Z(o,t);return a>=0&&(r=vse(mse(o,".",a))),r.equals(U)||(n=r,void 0===d&&W(n),null===I||void 0===I||I(r.isEmpty()?null:_se(S,r)),void 0===d&&J(r,t)),r}return U},he=function(){var e=(0,b.useRef)(0),t=function(){Fi.cancel(e.current)};return(0,b.useEffect)((function(){return t}),[]),function(n){t(),e.current=Fi((function(){n()}))}}(),pe=function e(t){if(ue(),Q(t),!j.current){var n=vse(H(t));n.isNaN()||de(n,!0)}null===T||void 0===T||T(t),he((function(){var n=t;E||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},ge=function(e){var t;if(!(e&&ne||!e&&ie)){F.current=!1;var n=vse(c);e||(n=n.negate());var r=(U||vse(0)).add(n.toString()),i=de(r,!1);null===N||void 0===N||N(_se(S,i),{offset:c,type:e?"up":"down"}),null===(t=O.current)||void 0===t||t.focus()}},ve=function(e){var t=vse(H($)),n=t;n=t.isNaN()?U:de(t,e),void 0!==d?J(U,!1):n.isNaN()||J(n,!1)};return xse((function(){U.isInvalidate()||J(U,!1)}),[k]),xse((function(){var e=vse(d);W(e);var t=vse(H($));e.equals(t)&&F.current&&!C||J(e,F.current)}),[d]),xse((function(){C&&le()}),[$]),b.createElement("div",{className:oe()(i,o,(n={},(0,re.Z)(n,"".concat(i,"-focused"),B),(0,re.Z)(n,"".concat(i,"-disabled"),h),(0,re.Z)(n,"".concat(i,"-readonly"),p),(0,re.Z)(n,"".concat(i,"-not-a-number"),U.isNaN()),(0,re.Z)(n,"".concat(i,"-out-of-range"),!U.isInvalidate()&&!fe(U)),n)),style:a,onFocus:function(){z(!0)},onBlur:function(){ve(!1),z(!1),F.current=!1},onKeyDown:function(e){var t=e.which;F.current=!0,t===ed.ENTER&&(j.current||(F.current=!1),ve(!1),null===A||void 0===A||A(e)),!1!==m&&!j.current&&[ed.UP,ed.DOWN].includes(t)&&(ge(ed.UP===t),e.preventDefault())},onKeyUp:function(){F.current=!1},onCompositionStart:function(){j.current=!0},onCompositionEnd:function(){j.current=!1,pe(O.current.value)}},_&&b.createElement(yse,{prefixCls:i,upNode:g,downNode:v,upDisabled:ne,downDisabled:ie,onStep:ge}),b.createElement("div",{className:"".concat(P,"-wrap")},b.createElement("input",x({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":u,"aria-valuenow":U.isInvalidate()?null:U.toString(),step:c},D,{ref:Ii(O,t),className:P,value:$,onChange:function(e){pe(e.target.value)},disabled:h,readOnly:p}))))}));Ese.displayName="InputNumber";var Cse=Ese,kse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Mse=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:kse}))};Mse.displayName="UpOutlined";var Ise=b.forwardRef(Mse),Tse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ase=b.forwardRef((function(e,t){var n,r=b.useContext(_e),i=r.getPrefixCls,o=r.direction,a=b.useContext(_i),s=b.useState(!1),u=(0,y.Z)(s,2),l=u[0],c=u[1],f=b.useRef(null);b.useImperativeHandle(t,(function(){return f.current}));var d=e.className,h=e.size,p=e.prefixCls,g=e.addonBefore,v=e.addonAfter,m=e.prefix,w=e.bordered,_=void 0===w||w,S=e.readOnly,E=Tse(e,["className","size","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly"]),C=i("input-number",p),k=b.createElement(Ise,{className:"".concat(C,"-handler-up-inner")}),M=b.createElement(c9,{className:"".concat(C,"-handler-down-inner")}),I=h||a,T=oe()((n={},(0,re.Z)(n,"".concat(C,"-lg"),"large"===I),(0,re.Z)(n,"".concat(C,"-sm"),"small"===I),(0,re.Z)(n,"".concat(C,"-rtl"),"rtl"===o),(0,re.Z)(n,"".concat(C,"-readonly"),S),(0,re.Z)(n,"".concat(C,"-borderless"),!_),n),d),A=b.createElement(Cse,x({ref:f,className:T,upHandler:k,downHandler:M,prefixCls:C,readOnly:S},E));if(null!=m){var N,D=oe()("".concat(C,"-affix-wrapper"),(N={},(0,re.Z)(N,"".concat(C,"-affix-wrapper-focused"),l),(0,re.Z)(N,"".concat(C,"-affix-wrapper-disabled"),e.disabled),(0,re.Z)(N,"".concat(C,"-affix-wrapper-sm"),"small"===a),(0,re.Z)(N,"".concat(C,"-affix-wrapper-lg"),"large"===a),(0,re.Z)(N,"".concat(C,"-affix-wrapper-rtl"),"rtl"===o),(0,re.Z)(N,"".concat(C,"-affix-wrapper-readonly"),S),(0,re.Z)(N,"".concat(C,"-affix-wrapper-borderless"),!_),(0,re.Z)(N,"".concat(d),!(g||v)&&d),N));A=b.createElement("div",{className:D,style:e.style,onMouseUp:function(){return f.current.focus()}},b.createElement("span",{className:"".concat(C,"-prefix")},m),Gs(A,{style:null,value:e.value,onFocus:function(t){var n;c(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;c(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}))}if(null!=g||null!=v){var P,O="".concat(C,"-group"),L="".concat(O,"-addon"),R=g?b.createElement("div",{className:L},g):null,B=v?b.createElement("div",{className:L},v):null,z=oe()("".concat(C,"-wrapper"),O,(0,re.Z)({},"".concat(O,"-rtl"),"rtl"===o)),F=oe()("".concat(C,"-group-wrapper"),(P={},(0,re.Z)(P,"".concat(C,"-group-wrapper-sm"),"small"===a),(0,re.Z)(P,"".concat(C,"-group-wrapper-lg"),"large"===a),(0,re.Z)(P,"".concat(C,"-group-wrapper-rtl"),"rtl"===o),P),d);A=b.createElement("div",{className:F,style:e.style},b.createElement("div",{className:z},R,Gs(A,{style:null}),B))}return A})),Nse=Ase,Dse=function(){function e(){(0,K.Z)(this,e)}return(0,q.Z)(e,[{key:"GetUserInfoPaging",value:function(e,t,n,r,i,o){return Vf.get("UserInfo/GetUserInfoPaging?code=".concat(e,"&startTime=").concat(t,"&endTime=").concat(n,"&statue=").concat(r,"&pageNo=").concat(i,"&pageSize=").concat(o))}},{key:"CreateUserInfo",value:function(e){return Vf.post("UserInfo/CreateUserInfo",e)}},{key:"DeleteUserInfo",value:function(e){return Vf.delete("USerInfo/DeleteUserInfo?userId=".concat(e))}},{key:"UpdateUserInfo",value:function(e){return Vf.put("UserInfo/UpdateUserInfo",e)}}]),e}(),Pse=new Dse,Ose=b9.Option,Lse=vee.confirm,Rse=xne.RangePicker,Bse=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={condition:{code:"",startTime:"",endTime:"",statue:-1,pageNo:1,pageSize:10},userInfoData:{data:[],count:1},modalModel:{state:"add",initialValue:new eg,isAddUserInfo:!1}},e.UserInfoTab=[{title:"\u5e8f\u53f7",dataIndex:"key"},{title:"\u8d26\u53f7",dataIndex:"accountNumber"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6027\u522b",dataIndex:"sexName"},{title:"\u8d26\u53f7\u72b6\u6001",dataIndex:"statueName"},{title:"\u624b\u673a\u53f7",dataIndex:"mobileNumber"},{title:"\u90ae\u7bb1",dataIndex:"eMail"},{title:"\u64cd\u4f5c",dataIndex:"operate",render:function(t,n){return(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){var t={state:"put",isAddUserInfo:!0,initialValue:n};e.setState({modalModel:t})},children:"\u7f16\u8f91"})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){return e.showDeleteConfirm(n)},children:"\u5220\u9664"})})]})}}],e.showDeleteConfirm=function(t){Lse({title:"\u5220\u9664\u7528\u6237",icon:(0,J.jsx)(Zc,{}),content:"\u662f\u5426\u5220\u9664\u7528\u6237"+t.name,okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteUserInfo(t)}})},e}return(0,q.Z)(n,[{key:"componentWillMount",value:function(){this.UserApi()}},{key:"userstatueChange",value:function(e){var t=this.state.condition;t.statue=e,this.setState({condition:t})}},{key:"UserApi",value:function(){var e=this,t=this.state.condition;Pse.GetUserInfoPaging(t.code,t.startTime,t.endTime,t.statue,t.pageNo,t.pageSize).then((function(t){var n=t.data.data;e.setState({userInfoData:{data:n.data,count:n.count}})}))}},{key:"onConditionClick",value:function(){this.UserApi()}},{key:"onConditionDateChange",value:function(e){var t=this.state.condition;t.startTime=e?yee()(e[0]).format("YYYY-MM-DD 00:00:00"):"",t.endTime=e?yee()(e[1]).format("YYYY-MM-DD 23:59:59"):"",this.setState({condition:t})}},{key:"deleteUserInfo",value:function(e){var t=this;Pse.DeleteUserInfo(e.id).then((function(e){return Ff.success("\u5220\u9664\u6210\u529f"),t.UserApi()}))}},{key:"onAddUserInfoClick",value:function(e){var t=this;e.password=Yf(e.password),Pse.CreateUserInfo(e).then((function(e){var n=e.data;if(200===n.statusCode){Ff.success("\u6dfb\u52a0\u6210\u529f");var r=t.state.modalModel;r.isAddUserInfo=!1,t.setState({modalModel:r}),t.UserApi()}else Ff.error(n.message)}))}},{key:"onUpdateUserInfo",value:function(e){var t=this;Pse.UpdateUserInfo(e).then((function(){Ff.success("\u7f16\u8f91\u6210\u529f");var e=t.state.modalModel;e.isAddUserInfo=!1,t.setState({modalModel:e}),t.UserApi()}))}},{key:"onFormUserInfo",value:function(e){var t=this.state.modalModel;"add"===t.state?this.onAddUserInfoClick(e):"put"===t.state&&this.onUpdateUserInfo(e)}},{key:"onTabChange",value:function(e,t,n){var r=this.state.condition;r.pageNo=e.current,r.pageSize=e.pageSize,this.setState({condition:r}),this.UserApi()}},{key:"render",value:function(){var e=this,t=this.UserInfoTab,n=this.state,r=n.userInfoData,i=n.modalModel,o=n.condition;return(0,J.jsxs)("div",{children:[(0,J.jsxs)("div",{className:"condition",children:[(0,J.jsxs)("span",{children:["\u7528\u6237\u540d\u79f0\uff1a",(0,J.jsx)(Xl,{onChange:function(t){var n=e.state.condition;n.code=t.target.value,e.setState({condition:n})},style:{width:"200px"}})]}),(0,J.jsxs)("span",{children:["\u7528\u6237\u8272\u72b6\u6001\uff1a",(0,J.jsxs)(b9,{defaultValue:-1,style:{width:120},onChange:function(t){e.userstatueChange(t)},children:[(0,J.jsx)(Ose,{value:-1,children:"\u5168\u90e8"}),(0,J.jsx)(Ose,{value:0,children:"\u542f\u7528"}),(0,J.jsx)(Ose,{value:1,children:"\u7981\u7528"})]})]}),(0,J.jsx)("span",{children:(0,J.jsx)(Rse,{onChange:function(t){e.onConditionDateChange(t)}})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{type:"primary",icon:(0,J.jsx)(Uu,{}),onClick:function(){return e.onConditionClick()},children:"\u641c\u7d22"})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{type:"primary",onClick:function(){e.setState({modalModel:{state:"add",initialValue:null,isAddUserInfo:!0}})},children:"\u6dfb\u52a0\u7528\u6237"})})]}),(0,J.jsx)("div",{children:(0,J.jsx)(sse,{scroll:{y:530},onChange:function(t,n,r){e.onTabChange(t,n,r)},pagination:{position:["bottomRight"],pageSize:o.pageSize,current:o.pageNo,total:r.count},columns:t,dataSource:r.data})}),(0,J.jsx)(vee,{title:"add"===i.state?"\u6dfb\u52a0\u7528\u6237":"\u7f16\u8f91\u7528\u6237",visible:i.isAddUserInfo,footer:[],destroyOnClose:!0,onCancel:function(){var t=e.state.modalModel;t.isAddUserInfo=!1,e.setState({modalModel:t})},children:(0,J.jsx)("div",{children:(0,J.jsxs)(Mu,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:i.initialValue,onFinish:function(t){e.onFormUserInfo(t)},children:[(0,J.jsx)(Mu.Item,{label:"\u8d26\u53f7\uff1a",name:"accountNumber",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7\uff01"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{style:"put"===i.state?{display:"none"}:{},label:"\u5bc6\u7801\uff1a",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{label:"\u6635\u79f0\uff1a",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6635\u79f0\uff01"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{label:"\u6027\u522b\uff1a",name:"sex",children:(0,J.jsxs)(b9,{placeholder:"\u9009\u62e9\u6027\u522b",children:[(0,J.jsx)(Ose,{value:1,children:"\u7537\u6027"}),(0,J.jsx)(Ose,{value:2,children:"\u5973\u6027"})]})}),(0,J.jsx)(Mu.Item,{label:"\u624b\u673a\u53f7\uff1a",name:"mobileNumber",children:(0,J.jsx)(Nse,{min:1,max:19999999999,style:{width:"100%"}})}),(0,J.jsx)(Mu.Item,{label:"\u90ae\u7bb1\uff1a",name:"eMail",children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{name:"id",children:(0,J.jsx)(cl,{type:"primary",htmlType:"submit",style:{float:"right"},children:"add"===i.state?"\u6dfb\u52a0\u8d26\u53f7":"\u7f16\u8f91\u8d26\u53f7"})})]})})})]})}}]),n}(b.Component),zse=Bse,Fse=n(9388),jse=n(6022),Gse={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),(0,jse.each)(n,(function(t,n){e.on(n,t)})),document.addEventListener("visibilitychange",(function(){t.keydown=!1}))},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),(0,jse.each)(t,(function(t,n){e.off(n,t)})),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},Vse=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=(0,jse.clone)(Gse);Object.assign(r,n);var i=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&((0,jse.each)(n,(function(e,n){r[n]=(0,jse.wrapBehavior)(t,e)})),this.events=r)};i.prototype=r,e.types[t]=i},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),Use=Vse,Wse=Use,Zse=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),Hse=Zse,Yse=n(5742);function Xse(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return Yse.fromTranslation(r,n),Yse.multiply(e,r,t)}function Kse(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return Yse.fromRotation(r,n),Yse.multiply(e,r,t)}function qse(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return Yse.fromScaling(r,n),Yse.multiply(e,r,t)}function $se(e,t,n){return Yse.multiply(e,n,t)}function Qse(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"t":Xse(n,n,[o[1],o[2]]);break;case"s":qse(n,n,[o[1],o[2]]);break;case"r":Kse(n,n,o[1]);break;case"m":$se(n,n,o[1])}}return n}var Jse=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i},eue=function(e,t){return e===t},tue=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),nue=function(){function e(e){void 0===e&&(e=eue),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new tue(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new tue(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),rue=nue,iue=function(){function e(){this.linkedList=new rue}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),oue=iue,aue=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},sue=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},uue=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var lue=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),o=new oue,a=e.edges,s=void 0===a?[]:a;o.enqueue(t);for(var u="",l=function(){var e=o.dequeue();i.enter({current:e,previous:u}),aue(e,s,r?"target":void 0).forEach((function(t){i.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),i.leave({current:e,previous:u}),u=e};!o.isEmpty();)l()},cue=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},l=[],c=0,f=function e(t){s[t.id]=c,u[t.id]=c,c+=1,o.push(t),a[t.id]=!0;for(var r=aue(t.id,i,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[t.id]=Math.min(u[t.id],s[o]));else{var l=n.filter((function(e){return e.id===o}));l.length>0&&e(l[0]),u[t.id]=Math.min(u[t.id],u[o])}},d=0;d<r.length;d++)f(d);if(u[t.id]===s[t.id]){for(var h=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&l.push(h)}},d=0,h=n;d<h.length;d++){var p=h[d];s[p.id]||0===s[p.id]||f(p)}return l};function fue(e,t){return t?cue(e):function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=aue(t.id,i),o=function(t){var i=r[t];if(!a[i]){var o=n.filter((function(e){return e.id===i}));o.length>0&&e(o[0])}},u=0;u<r.length;++u)o(u)},l=0;l<n.length;l++){var c=n[l];if(!a[c.id]){u(c);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(e)}var due=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},hue=due,pue=function(e,t){return due(e)[t]?due(e)[t].inDegree:0},gue=function(e,t){return due(e)[t]?due(e)[t].outDegree:0};function vue(e,t,n,r){r.enter({current:t,previous:n});var i=e.edges;aue(t,void 0===i?[]:i,"target").forEach((function(i){r.allowTraversal({previous:n,current:t,next:i})&&vue(e,i,t,r)})),r.leave({current:t,previous:n})}function mue(e,t,n){vue(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var yue=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=fue(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var l=u[0],c=l.id,f=[l],d=((r={})[c]=l,r),h=((i={})[c]=new Set,i);f.length>0;)for(var p=f.pop(),g=p.id,v=aue(g,e.edges),m=function(r){var i,a=v[r],s=e.nodes.find((function(e){return e.id===a}));if(a===g)o.push(((i={})[a]=p,i));else if(a in h){if(!h[g].has(s)){for(var u=!0,l=[s,p],c=d[g];h[a].size&&!h[a].has(c)&&(l.push(c),c!==d[c.id]);)c=d[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var m={},y=1;y<l.length;y+=1)m[l[y-1].id]=l[y];l.length&&(m[l[l.length-1].id]=l[0]),o.push(m)}h[a].add(p)}}else d[a]=p,f.push(s),h[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return o},bue=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},l=function e(u,l,c){var f=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return f;r.push(u),i.add(u);for(var d=c[u.id],h=0;h<d.length;h+=1){if((v=s[d[h]])===l){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),f=!0}else i.has(v)||e(v,l,c)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(u);else for(h=0;h<d.length;h+=1){var v=s[d[h]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),f},c=e.nodes,f=void 0===c?[]:c,d=0;d<f.length;d+=1){var h=f[d],p=h.id;u[p]=d,s[d]=h}if(t&&n){var g=function(e){var n=t[e];u[f[e].id]=u[n],u[n]=0,s[0]=f.find((function(e){return e.id===n})),s[u[f[e].id]]=f[e]};for(d=0;d<t.length;d++)g(d)}for(var v=function(r){for(var i,o,s=1/0,l=0;l<r.length;l+=1)for(var c=r[l],f=0;f<c.length;f++){var d=u[c[f].id];d<s&&(s=d,o=l)}var h=r[o],p=[];for(l=0;l<h.length;l+=1){var g=h[l];p[g.id]=[];for(var v=0,m=aue(g.id,e.edges,"target").filter((function(e){return h.map((function(e){return e.id})).indexOf(e)>-1}));v<m.length;v++){var y=m[v];y!==g.id||!1===n&&t.indexOf(g.id)>-1?p[g.id].push(u[y]):a.push(((i={})[g.id]=g,i))}}return{component:h,adjList:p,minIdx:s}},m=0;m<f.length;){var y=f.filter((function(e){return u[e.id]>=m})),b=cue({nodes:y,edges:e.edges}).filter((function(e){return e.length>1}));if(0===b.length)break;var x=v(b),w=x.minIdx,_=x.adjList,S=x.component;if(!(S.length>1))break;S.forEach((function(e){o[e.id]=new Set}));var E=s[w];if(t&&n&&-1===t.indexOf(E.id))return a;l(E,E,_),m=w+1}return a},xue=function(e,t,n,r){return void 0===r&&(r=!0),t?bue(e,n,r):yue(e,n,r)},wue=function(e){var t=null,n=e.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var s={enter:function(e){var n=e.current,a=e.previous;if(o[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete o[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(i).length;){mue(e,Object.keys(i)[0],s)}return t},_ue=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u=[],l={},c={},f={};o.forEach((function(e,n){var r=e.id;u.push(r),c[r]=1/0,r===t&&(c[r]=0)}));for(var d=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(c,o,l),i=t.id;if(l[i]=!0,c[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(i,s):sue(i,s),a.forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;c[a]>c[t.id]+s?(c[a]=c[t.id]+s,f[a]=[t.id]):c[a]===c[t.id]+s&&f[a].push(t.id)}))},p=0;p<d;p++)h();f[t]=[t];var g={};for(var v in c)c[v]!==1/0&&Sue(t,v,f,g);var m={};for(var v in g)m[v]=g[v][0];return{length:c,path:m,allPath:g}};function Sue(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=Sue(e,a[o],n,r);if(!s)return;for(var u=0,l=s;u<l.length;u++){var c=l[u];(0,jse.isArray)(c)?i.push((0,Fse.__spreadArray)((0,Fse.__spreadArray)([],c,!0),[t],!1)):i.push([c,t])}}return r[t]=i,r[t]}var Eue,Cue=function(e,t,n,r,i){var o=_ue(e,t,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},kue=function(e,t,n,r){var i;if(t===n)return[[t]];var o=e.edges,a=void 0===o?[]:o,s=[t],u=((i={})[t]=!0,i),l=[],c=[],f=r?aue(t,a,"target"):aue(t,a);for(l.push(f);s.length>0&&l.length>0;){var d=l[l.length-1];if(d.length){var h=d.shift();if(h&&(s.push(h),u[h]=!0,f=r?aue(h,a,"target"):aue(h,a),l.push(f.filter((function(e){return!u[e]})))),s[s.length-1]===n){var p=s.map((function(e){return e}));c.push(p);g=s.pop();u[g]=!1,l.pop()}}else{var g=s.pop();u[g]=!1,l.pop()}}return c},Mue=function(e,t){for(var n=Jse(e,t),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},Iue=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u={},l={};o.forEach((function(e,t){var n=uue();e.clusterId=n,u[n]={id:n,nodes:[e]},l[e.id]={node:e,idx:t}}));var c=Jse(e,t),f=[],d={};c.forEach((function(e,t){var n=0,r=o[t].id;d[r]={},e.forEach((function(e,t){if(e){n+=e;var i=o[t].id;d[r][i]=e}})),f.push(n)}));for(var h=0,p=function(){var e=!1;if(o.forEach((function(t){var n={};Object.keys(d[t.id]).forEach((function(e){var r=d[t.id][e],i=l[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var c=Math.floor(Math.random()*i.length),f=u[i[c]];f.nodes.push(t),t.clusterId=f.id}}})),!e)return"break";h++};h<r;){if("break"===p())break}Object.keys(u).forEach((function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]}));var g=[],v={};s.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=l[t].node.clusterId,a=l[r].node.clusterId,s="".concat(o,"---").concat(a);if(v[s])v[s].weight+=i,v[s].count++;else{var u={source:o,target:a,weight:i,count:1};v[s]=u,g.push(u)}}));var m=[];return Object.keys(u).forEach((function(e){m.push(u[e])})),{clusters:m,clusterEdges:g}},Tue=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,jse.clone)(this.arr);n.sort((function(e,t){return e-t}));var r=n[n.length-1],i=n[0];for(var o in this.arr)t[o]=(this.arr[o]-i)/(r-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),Aue=Tue,Nue=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};!function(e){e.EuclideanDistance="euclideanDistance"}(Eue||(Eue={}));var Due=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,jse.uniq)(r));var i={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=(0,jse.uniq)(r))})),i},Pue=function(e,t,n){var r=Due(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i},Oue=function(e,t,n,r){void 0===n&&(n=Eue.EuclideanDistance);var i=0;if(n===Eue.EuclideanDistance)i=new Aue(e).euclideanDistance(new Aue(t));return i},Lue=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},Rue=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new Aue([]),i=0;i<n;i++)r=r.add(new Aue(t[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new Aue(t[i])).squareEuclideanDistance(o)}var s=[];e.forEach((function(){s.push([])}));for(i=0;i<n;i++){var u=new Aue(t[i]);e[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var c=new Aue(t[l]);s[i][l]=u.squareEuclideanDistance(c),e[i].clusterInertial+=s[i][l]}else s[i][l]=0}var f=0,d=2*n*a;for(i=0;i<n;i++){var h=e[i].clusterId;for(l=0;l<n;l++){var p=e[l].clusterId;if(i!==l&&h===p)f+=e[i].clusterInertial*e[l].clusterInertial/Math.pow(d,2)-s[i][l]/d}}return Number(f.toFixed(4))},Bue=function(e,t,n,r,i,o,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var l=e.nodes,c=void 0===l?[]:l,f=e.edges,d=void 0===f?[]:f,h=[];if(i){c.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var p=[];c.every((function(e){return e.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(c.map((function(e){return e.nodeType})))),c.forEach((function(e){e.properties.nodeType=p.findIndex((function(t){return t===e.nodeType}))})));var g=Nue(c,o);h=Pue(g,a,s)}var v=1,m={},y={};c.forEach((function(e,t){var n=String(v++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}}));var b=Jse(e,t),x=[],w={},_=0;b.forEach((function(e,t){var n=0,r=c[t].id;w[r]={},e.forEach((function(e,t){if(e){n+=e;var i=c[t].id;w[r][i]=e,_+=e}})),x.push(n)})),_/=2;for(var S=1/0,E=1/0,C=0,k=[],M={};;){S=i&&c.every((function(e){return e.hasOwnProperty("properties")}))?Lue(c,b,x,_)+Rue(c,h)*u:Lue(c,b,x,_),0===C&&(E=S,k=c,M=m);var I=S>0&&S>E&&S-E<r;if(S>E&&(k=c.map((function(e){return{node:e,clusterId:e.clusterId}})),M=(0,jse.clone)(m),E=S),I||C>100)break;C++,Object.keys(m).forEach((function(e){var t=0;d.forEach((function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),m[e].sumTot=t})),c.forEach((function(e,t){var r,o=m[e.clusterId],a=0,s=x[t]/(2*_),l=0,c=o.nodes;c.forEach((function(e){var n=y[e.id].idx;l+=b[t][n]||0}));var f=l-o.sumTot*s,p=c.filter((function(t){return t.id!==e.id})),g=[];p.forEach((function(e,t){g[t]=h[e.originIndex]}));var v=Rue(p,h)*u,S=w[e.id];if(Object.keys(S).forEach((function(n){var o=y[n].node.clusterId;if(o!==e.clusterId){var l=m[o],c=l.nodes;if(c&&c.length){var d=0;c.forEach((function(e){var n=y[e.id].idx;d+=b[t][n]||0}));var p=d-l.sumTot*s,g=c.concat([e]),x=[];g.forEach((function(e,t){x[t]=h[e.originIndex]}));var w=Rue(g,h)*u,_=p-f;i&&(_=p+w-(f+v)),_>a&&(a=_,r=l)}}})),a>0){r.nodes.push(e);var E=e.clusterId;e.clusterId=r.id;var C=o.nodes.indexOf(e);o.nodes.splice(C,1);var k=0,M=0;d.forEach((function(e){var t=e.source,i=e.target,o=y[t].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(k+=e[n]||1),(o===E&&a!==E||a===E&&o!==E)&&(M+=e[n]||1)})),r.sumTot=k,o.sumTot=M}}))}var T={},A=0;Object.keys(M).forEach((function(e){var t=M[e];if(t.nodes&&t.nodes.length){var n=String(A+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),M[n]=t,T[e]=n,delete M[e],A++)}else delete M[e]})),k.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&T[t.clusterId]&&(t.clusterId=T[t.clusterId])}));var N=[],D={};d.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=y[t].node.clusterId,a=y[r].node.clusterId,s="".concat(o,"---").concat(a);if(D[s])D[s].weight+=i,D[s].count++;else{var u={source:o,target:a,weight:i,count:1};D[s]=u,N.push(u)}}));var P=[];return Object.keys(M).forEach((function(e){P.push(M[e])})),{clusters:P,clusterEdges:N}},zue=function(e,t,n,r,i,o,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),Bue(e,t,n,r,!0,i,o,a,s)},Fue=function(e,t){var n;void 0===t&&(t=1);for(var r=(0,jse.clone)(e),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var e=hue({nodes:o,edges:s}),r=Object.keys(e);r.sort((function(t,n){var r,i;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(i=e[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=e[i])||void 0===n?void 0:n.degree)>=t)return"break";var a=o.findIndex((function(e){return e.id===i}));o.splice(a,1),s=s.filter((function(e){return!(e.source===i||e.target===i)}))};;){if("break"===u())break}return{nodes:o,edges:s}},jue=function(e,t,n){var r=[];if(e===Eue.EuclideanDistance)r=t[n];else r=[];return r},Gue=function(e,t,n,r,i,o){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=Eue.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===Eue.EuclideanDistance&&!s.every((function(e){return e.hasOwnProperty(n)})))return c;var f=[],d=[];if(o===Eue.EuclideanDistance&&(f=Nue(s,n),d=Pue(f,r,i)),!d.length)return c;for(var h=(0,jse.uniq)(d.map((function(e){return e.join("")}))),p=Math.min(t,s.length,h.length),g=0;g<s.length;g++)s[g].originIndex=g;var v=[],m=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);if(o===Eue.EuclideanDistance)v[g]=d[b];else v[g]=[];m.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var x=-1/0,w=0,_=function(e){if(!m.includes(e)){for(var t=0,n=0;n<v.length;n++){var r=0;if(o===Eue.EuclideanDistance)r=Oue(d[s[e].originIndex],v[n],o);t+=r}var i=t/v.length;i>x&&!v.find((function(t){return(0,jse.isEqual)(t,jue(o,d,s[e].originIndex))}))&&(x=i,w=e)}},S=0;S<s.length;S++)_(S);v[g]=jue(o,d,w),m.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var E=0;;){for(g=0;g<s.length;g++){var C=0,k=1/0;if(0!==E||!m.includes(g)){for(var M=0;M<v.length;M++){var I=0;if(o===Eue.EuclideanDistance)I=Oue(d[g],v[M],o);I<k&&(k=I,C=M)}if(void 0!==s[g].clusterId)for(var T=y[Number(s[g].clusterId)].length-1;T>=0;T--)y[Number(s[g].clusterId)][T].id===s[g].id&&y[Number(s[g].clusterId)].splice(T,1);s[g].clusterId=String(C),y[C].push(s[g])}}var A=!1;for(g=0;g<y.length;g++){var N=y[g],D=new Aue([]);for(M=0;M<N.length;M++)D=D.add(new Aue(d[N[M].originIndex]));var P=D.avg(N.length);P.equal(new Aue(v[g]))||(A=!0,v[g]=P.getArr())}if(E++,s.every((function(e){return void 0!==e.clusterId}))&&A||E>=1e3)break}var O=[],L={};return l.forEach((function(e){var t,n,r=e.source,i=e.target,o=null===(t=s.find((function(e){return e.id===r})))||void 0===t?void 0:t.clusterId,a=null===(n=s.find((function(e){return e.id===i})))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(L[u])L[u].count++;else{var l={source:o,target:a,count:1};L[u]=l,O.push(l)}})),{clusters:y,clusterEdges:O}},Vue=function(e,t){var n=new Aue(t),r=n.norm2(),i=new Aue(e),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},Uue=function(e,t,n,r,i){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,jse.clone)(e.filter((function(e){return e.id!==t.id}))),a=e.findIndex((function(e){return e.id===t.id})),s=Nue(e,n),u=Pue(s,r,i),l=u[a],c=[];return o.forEach((function(e,n){if(e.id!==t.id){var r=u[n],i=Vue(r,l);c.push(i),e.cosineSimilarity=i}})),o.sort((function(e,t){return t.cosineSimilarity-e.cosineSimilarity})),{allCosineSimilarity:c,similarNodes:o}},Wue=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),Zue=Wue,Hue=function(e,t){return e-t},Yue=function(){function e(e){void 0===e&&(e=Hue),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),Xue=Yue,Kue=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var l=new Xue((function(e,n){return t?e.weight-n.weight:0}));for(sue(s.id,a).forEach((function(e){l.insert(e)}));!l.isEmpty();){var c=l.delMin(),f=c.source,d=c.target;u.has(f)&&u.has(d)||(n.push(c),u.has(f)||(u.add(f),sue(f,a).forEach((function(e){l.insert(e)}))),u.has(d)||(u.add(d),sue(d,a).forEach((function(e){l.insert(e)}))))}return n},que=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(e){return e}));t&&s.sort((function(e,t){return e.weight-t.weight}));for(var u=new Zue(i.map((function(e){return e.id})));s.length>0;){var l=s.shift(),c=l.source,f=l.target;u.connected(c,f)||(n.push(l),u.union(c,f))}return n},$ue=function(e,t,n){return n?{prim:Kue,kruskal:que}[n](e,t):que(e,t)},Que=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,l=e.edges,c=void 0===l?[]:l,f=u.length,d={},h={},p=0;p<f;++p){d[v=(w=u[p]).id]=1/f,h[v]=1/f}for(var g=hue(e);a>0&&i>t;){o=0;for(p=0;p<f;++p){var v=(w=u[p]).id;if(r=0,0===g[w.id].inDegree)d[v]=0;else{for(var m=aue(v,c,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(r+=h[b]/x)}d[v]=n*r,o+=d[v]}}o=(1-o)/f,i=0;for(p=0;p<f;++p){var w;r=d[v=(w=u[p]).id]+o,i+=Math.abs(r-h[v]),h[v]=r}a-=1}return h},Jue="-1",ele=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r},tle=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=Jue),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),nle=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new tle(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new ele(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new ele(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}(),rle=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||Jue,edgeLabel:r||"-1",nodeLabel2:i||Jue}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),ile=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new rle(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new nle(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==Jue&&n.addNode(t,o),s!==Jue&&n.addNode(r,s),o!==Jue&&s!==o&&n.addEdge(void 0,t,r,a)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),ole=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),ale=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,l=void 0===u?10:u,c=e.directed,f=void 0!==c&&c,d=e.verbose,h=void 0!==d&&d;this.graphs=t,this.dfsCode=new ile,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=f,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],f=o[c.to].label;t.to===c.to||n>f||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=f)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),i=r.nodeMap,o=new ile,a={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=i[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new rle(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),l=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[u[0]].toNode,f={},d=!1,h=0,p=n?-1:0,g=function(t){if(d)return"break";s.forEach((function(n){var i=new ole(n),a=e.findBackwardEdge(r,i.edges[u[t]],i.edges[u[0]],i);a&&(f[a.label]||(f[a.label]={projected:[],edgeLabel:a.label}),f[a.label].projected.push({graphId:r.id,edge:f,preNode:n}),h=o.dfsEdgeList[u[t]].fromNode,d=!0)}))},v=u.length-1;v>p;v--){if("break"===g(v))break}if(d){var m=e.findMinLabel(f);o.dfsEdgeList.push(new rle(c,h,Jue,m.edgeLabel,Jue));var y=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(f[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach((function(t){var n=new ole(t),o=e.findForwardPureEdges(r,n.edges[u[0]],l,n);o.length>0&&(d=!0,x=c,o.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var w=u.length,_=function(t){if(d)return"break";var n=u[t];s.forEach((function(t){var a=new ole(t),s=e.findForwardRmpathEdges(r,a.edges[n],l,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(v=0;v<w;v++){if("break"===_(v))break}if(!d)return!0;var S=e.findMinLabel(b);o.dfsEdgeList.push(new rle(x,c+1,Jue,S.edgeLabel,S.nodeLabel2));var E=o.dfsEdgeList.length-1;return t.dfsEdgeList[E]===o.dfsEdgeList[E]&&a(b["".concat(S.edgeLabel,"-").concat(S.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,jse.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach((function(e){for(var u=t.graphs[e.graphId],l=u.nodeMap,c=new ole(e),f=r.length-1;f>=0;f--){var d=t.findBackwardEdge(u,c.edges[r[f]],c.edges[r[0]],c);if(d){var h="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(d.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:d.label}),s[h].projected.push({graphId:e.graphId,edge:d,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,c.edges[r[0]],o,c).forEach((function(t){var n="".concat(i,"-").concat(t.label,"-").concat(l[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:t.label,nodeLabel2:l[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(n){t.findForwardRmpathEdges(u,c.edges[r[n]],o,c).forEach((function(i){var o="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(l[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:l[i.to].label}),a[o].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(f=0;f<r.length;f++)p(f)}})),Object.keys(s).forEach((function(e){var n=s[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new rle(i,r,"-1",o,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var n=a[e],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new rle(r,i+1,Jue,o,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var f=i[l]||0;f++,i[l]=f}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,f="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new rle(0,1,o,a,s)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),sle="cluster",ule=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,o=void 0===i?sle:i,a=e.edgeLabelProp,s=void 0===a?sle:a,u=function(e,t,n,r){var i={};return Object.keys(e).forEach((function(o,a){var s=e[o],u=new nle(a,!0,t),l={};s.nodes.forEach((function(e,t){u.addNode(t,e[n]),l[e.id]=t})),s.edges.forEach((function(e,t){var n=l[e.source],i=l[e.target];u.addEdge(-1,n,i,e[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(t,r,o,s),l=e.minSupport,c=e.maxNodeNum,f=e.minNodeNum,d=e.verbose,h=e.top,p=new ale({graphs:u,minSupport:l,maxNodeNum:c,minNodeNum:f,top:h,verbose:d,directed:r});p.run();var g=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(p.frequentSubgraphs,o,s);return g},lle=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(cle(o,e,t,n,r))})),i},cle=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},fle=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var f=new Set(c),d=l.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},dle=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},hle=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},ple=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(uue)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},gle=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},vle=function(e,t,n,r,i,o,a,s,u,l,c){var f,d="".concat(t.id,"-").concat(n.id);if(l&&l[d])return l[d];var h=c?c[d]:void 0;if(!h){var p=((f={})[d]={start:r[t.id].idx,end:r[n.id].idx,distance:i},f);h=(c=fle(p,o,e,c))[d]}return dle(h,a,s,u)},mle=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},yle=function(e,t,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var l=Mue(e,n),c=Mue(t,n),f=gle(e.nodes,l,n),d=gle(t.nodes,c,n),h=hle(e.nodes,o),p=h.nodeMap,g=h.nodeLabelMap,v=hle(t.nodes,o),m=v.nodeMap,y=v.nodeLabelMap;ple(e.edges,a,p);var b=ple(t.edges,a,m).edgeLabelMap,x=[];null===c||void 0===c||c.forEach((function(e){x=x.concat(e)})),i||(i=Math.max.apply(Math,(0,Fse.__spreadArray)((0,Fse.__spreadArray)([],x,!1),[2],!1))),r||(r=i);var w=lle(e,l,o,r),_=lle(t,c,o,r),S=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),w,l),E=fle(S,w,e),C=ule({graphs:E,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),k=C.length,M=[];C.forEach((function(e,t){M[t]={},Object.keys(E).forEach((function(n){var r=E[n],i=dle(r,e,o,a);M[t][n]=i}))}));var I=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(M,k,C),T=I.structure,A=I.structureCountMap,N=t.nodes[0],D=[],P=null===(s=t.nodes[0])||void 0===s?void 0:s[o],O=-1/0;t.nodes.forEach((function(e){var t=e[o],n=g[t];(null===n||void 0===n?void 0:n.length)>O&&(O=n.length,D=n,P=t,N=e)}));var L={},R={},B={},z={},F={},j={};Object.keys(y).forEach((function(r,i){F[r]=[],n&&(j[r]=[]);var s=-1/0,u=y[r],l={};u.forEach((function(e){var t=d["".concat(N.id,"-").concat(e.id)];if(t&&F[r].push(t),s<t&&(s=t),l["".concat(N.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var i=d["".concat(e.id,"-").concat(N.id)];i&&j[r].push(i)}})),F[r]=F[r].sort((function(e,t){return e-t})),n&&(j[r]=j[r].sort((function(e,t){return e-t}))),R=fle(l,_,t,R);var c=[];if(Object.keys(l).forEach((function(e){if(B[e])c.push(B[e]);else{var t=R[e];B[e]=dle(t,T,o,a),c.push(B[e])}})),c=c.sort((function(e,t){return t-e})),z["".concat(N.id,"-").concat(r)]=c,r!==P)for(var h=function(t){var n=D[t],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return D.splice(t,1),"continue";for(var l=!1,d=0;d<u;d++)if(s.dists[d]>F[r][d]){l=!0;break}if(l)return D.splice(t,1),"continue";var h={};i.neighbors.forEach((function(e){var t=f["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}})),E=fle(h,w,e,E);var g=[];Object.keys(h).forEach((function(e){if(A[e])g.push(A[e]);else{var t=E[e];A[e]=dle(t,T,o,a),g.push(A[e])}})),g=g.sort((function(e,t){return t-e}));var v=!1;for(d=0;d<u;d++)if(g[d]<c[d]){v=!0;break}return v?(D.splice(t,1),"continue"):void 0},g=((null===D||void 0===D?void 0:D.length)||0)-1;g>=0;g--)h(g)}));var G=[];null===D||void 0===D||D.forEach((function(r){for(var s=p[r.id].idx,u=cle(e.nodes,l[s],s,o,i).neighbors,c=!1,d=u.length-1;d>=0;d--){if(u.length+1<t.nodes.length)return void(c=!0);var h=u[d],g=h[o];if(y[g]&&y[g].length)if(F[g]&&F[g].length){var v="".concat(r.id,"-").concat(h.id),b=f[v],x=F[g].length-1;if(b>F[g][x])u.splice(d,1);else{if(n){var _="".concat(h.id,"-").concat(r.id),S=f[_];if(x=j[g].length-1,S>j[g][x]){u.splice(d,1);continue}}var C=A[v]?A[v]:vle(e,r,h,p,b,w,T,o,a,A,E),k="".concat(N.id,"-").concat(g);if(C<z[k][z[k].length-1])u.splice(d,1);else{var M=mle(L,g,m,y),I=M.minPatternNodeLabelDegree;M.minPatternNodeLabelInDegree,M.minPatternNodeLabelOutDegree;p[h.id].degree<I&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}c||G.push({nodes:[r].concat(u)})}));var V=_ue(t,N.id,!1).length,U={};n?(Object.keys(V).forEach((function(e){var t=m[e].node[o];U[t]?U[t].push(V[e]):U[t]=[V[e]]})),Object.keys(U).forEach((function(e){U[e].sort((function(e,t){return e-t}))}))):U=F;for(var W=function(r){var i=G[r],s=i.nodes[0],u={},l={};i.nodes.forEach((function(e,t){l[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[o];u[n]?u[n]++:u[n]=1}));var c=[],f={};e.edges.forEach((function(e){l[e.source]&&l[e.target]&&(c.push(e),f[e[a]]?f[e[a]]++:f[e[a]]=1,l[e.source].degree++,l[e.target].degree++,l[e.source].outDegree++,l[e.target].inDegree++)}));for(var d=Object.keys(b).length,h=!1,g=0;g<d;g++){var v=Object.keys(b)[g];if(!f[v]||f[v]<b[v].length){h=!0;break}}if(h)return G.splice(r,1),"continue";var x=c.length;if(x<t.edges.length)return G.splice(r,1),"break";var w=!1,_=function(e){var t=c[e],r=t[a],i=b[r];if(!i||!i.length)return f[r]--,i&&f[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue");var s=l[t.source].node[o],u=l[t.target].node[o],d=!1;return i.forEach((function(e){var t=m[e.source].node,r=m[e.target].node;t[o]===s&&r[o]===u&&(d=!0),n||t[o]!==u||r[o]!==s||(d=!0)})),d?void 0:(f[r]--,i&&f[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue"))};for(g=x-1;g>=0;g--){if("break"===_(g))break}if(w)return G.splice(r,1),"continue";i.edges=c;var S=_ue(i,i.nodes[0].id,!1).length;if(Object.keys(S).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!w){if(S[e]===1/0){var t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);var n=i.nodes.indexOf(l[e].node);return i.nodes.splice(n,1),void(l[e]=void 0)}var r=p[e].node[o];if(!U[r]||!U[r].length||S[e]>U[r][U[r].length-1]){t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);n=i.nodes.indexOf(l[e].node);i.nodes.splice(n,1),l[e]=void 0}}})),w)return G.splice(r,1),"continue";for(var E=!0,C=0;E&&!w;){if(E=!1,n?l[s.id].degree<m[N.id].degree||l[s.id].inDegree<m[N.id].inDegree||l[s.id].outDegree<m[N.id].outDegree:l[s.id].degree<m[N.id].degree){w=!0;break}if(u[s[o]]<y[s[o]].length){w=!0;break}for(var k=i.nodes.length-1;k>=0;k--){var M=i.nodes[k],I=l[M.id].degree,T=l[M.id].inDegree,A=l[M.id].outDegree,D=M[o],P=mle(L,D,m,y),O=P.minPatternNodeLabelDegree,R=P.minPatternNodeLabelInDegree,B=P.minPatternNodeLabelOutDegree;if(n?I<O||T<R||A<B:I<O){if(u[M[o]]--,u[M[o]]<y[M[o]].length){w=!0;break}i.nodes.splice(k,1),l[M.id]=void 0,E=!0}}if(w||!E&&0!==C)break;for(var z=(x=c.length)-1;z>=0;z--){var F=c[z];if(!l[F.source]||!l[F.target]){c.splice(z,1);var j=F[a];if(f[j]--,l[F.source]&&(l[F.source].degree--,l[F.source].outDegree--),l[F.target]&&(l[F.target].degree--,l[F.target].inDegree--),b[j]&&f[j]<b[j].length){w=!0;break}E=!0}}C++}return w||w||i.nodes.length<t.nodes.length||c.length<t.edges.length?(G.splice(r,1),"continue"):void 0},Z=G.length-1;Z>=0;Z--){if("break"===W(Z))break}var H=G.length,Y=function(e){var t=G[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=G[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&G.splice(e,1)},i=H-1;i>e;i--)r(i);H=G.length};for(Z=0;Z<=H-1;Z++)Y(Z);return G}}},ble=function(){function e(e){void 0===e&&(e=10),this.linkedList=new rue,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),xle=ble,wle=wue,_le={getAdjMatrix:Jse,breadthFirstSearch:lue,connectedComponent:fue,getDegree:hue,getInDegree:pue,getOutDegree:gue,detectCycle:wue,detectDirectedCycle:wle,detectAllCycles:xue,detectAllDirectedCycle:bue,detectAllUndirectedCycle:yue,depthFirstSearch:mue,dijkstra:_ue,findAllPath:kue,findShortestPath:Cue,floydWarshall:Mue,labelPropagation:Iue,louvain:Bue,iLouvain:zue,kCore:Fue,kMeans:Gue,cosineSimilarity:Vue,nodesCosineSimilarity:Uue,minimumSpanningTree:$ue,pageRank:Que,getNeighbors:aue,Stack:xle,GADDI:yle},Sle=n(8679),Ele=n(553);function Cle(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function kle(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Mle(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function Ile(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Tle(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function Ale(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function Nle(e,t){return e[0]*t[0]+e[1]*t[1]}function Dle(e,t){return e[0]===t[0]&&e[1]===t[1]}var Ple=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},Ole=(function(){var e=function(){var e=new Ele.WT(2);return Ele.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),Qse),Lle=function(e){return function(t,n){return t[e]-n[e]}},Rle=function(e,t,n){return e>=t&&e<=n},Ble=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,l=r.y-n.y,c=a*l-s*u,f=1/c;if(c*c>1e-4*(a*a+s*s)*(u*u+l*l)){var d=(i*l-o*u)*f,h=(i*s-o*a)*f;return Rle(d,0,1)&&Rle(h,0,1)?{x:e.x+d*a,y:e.y+d*s}:null}return null},zle=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,l=1;l<a.length&&!(u=Ble(a[l-1],a[l],s,t));l++);return u},Fle=function(e,t){var n=e.x,r=e.y,i=e.r,o=t.x-n,a=t.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},jle=function(e,t){var n=e.rx,r=e.ry,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},Gle=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),Sle.kK(r,r,t),{x:r[0],y:r[1]}},Vle=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=Yse.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[e.x,e.y,n];return Sle.kK(i,i,r),{x:i[0],y:i[1]}},Ule=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,l=i*o-r*a;return{x:-(a*s-i*u)/l,y:-(r*u-o*s)/l}},Wle=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Zle=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n},Hle=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t},Yle=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];i[a][s]=1,t||(i[s][a]=1)})),i},Xle=function(e,t){e.translate(t.x,t.y)},Kle=function(e,t,n,r){void 0===r&&(r={duration:500});var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),a=t.x-o.minX,s=t.y-o.minY;if(n){var u=a*i[0],l=s*i[4],c=0,f=0,d=0,h=0;e.animate((function(e){return i=Ole(i,[["t",(d=u*e)-c,(h=l*e)-f]]),c=d,f=h,{matrix:i}}),r)}else{var p=Ole(i,[["t",a,s]]);e.setMatrix(p)}},qle=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;(0,jse.isArray)(t)||(r=[t,t]),(0,jse.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=Ole(n,[["s",r[0],r[1]]]),e.setMatrix(n)},$le=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Ole(n,[["r",t]]),e.setMatrix(n)},Qle=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n.forEach((function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)})),r};function Jle(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var ece=function(e,t,n){var r=!1,i=e.length;function o(e){return Math.abs(e)<1e-6?0:e<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],u=e[(a+1)%i];if(Jle(s,u,[t,n]))return!0;o(s[1]-n)>0!==o(u[1]-n)>0&&o(t-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},tce=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},nce=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var i=e[r],o=e[r+1];t.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var i=n(e),o=n(t);if(!tce(i,o))return!1;var a=!1;if((0,jse.each)(t,(function(t){if(ece(e,t[0],t[1]))return a=!0,!1})),a)return!0;if((0,jse.each)(e,(function(e){if(ece(t,e[0],e[1]))return a=!0,!1})),a)return!0;var s=r(e),u=r(t),l=!1;return(0,jse.each)(u,(function(e){if(function(e,t){var n=!1;return(0,jse.each)(e,(function(e){if(Ble(e.from,e.to,t.from,t.to))return n=!0,!1})),n}(s,e))return l=!0,!1})),l},rce=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),ice=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},oce=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},ace=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=0,o=[],a=0;a<4;a++){var s=ice(r,n[a]),u=s[0],l=s[1],c=s[2],f=s[3];o[a]=Ble({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:l},{x:c,y:f}),o[a]&&(i+=1)}return[o,i]},sce=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=ice(r,n[a]),u=s[0],l=s[1],c=s[2],f=s[3],d=oce(t,new rce(u,l,c,f));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},uce=function(e){var t=0,n=0;if(e.length>0){for(var r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}t/=e.length,n/=e.length}return{x:t,y:n}},lce=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},cce=function(e,t){var n,r=t.x1,i=t.y1,o=t.x2-r,a=t.y2-i,s=e.x-r,u=e.y-i,l=s*o+u*a;n=l<=0||(l=(s=o-s)*o+(u=a-u)*a)<=0?0:l*l/(o*o+a*a);var c=s*s+u*u-n;return c<0&&(c=0),c},fce=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},dce=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,i=e.y>t.y+t.height,o=e.y<t.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(o&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!i&&!o)return Math.pow(t.x-e.x,2);if(r&&!i&&!o)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},hce=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t.x,s=t.y,u=[i-n,o-r];if(Dle(u,[0,0]))return NaN;var l=[-u[1],u[0]];Ale(l,l);var c=[a-n,s-r];return Math.abs(Nle(c,l))},pce=function(e,t,n){return e+(t-e)*n},gce="rgb(95, 149, 255)",vce="rgb(0, 0, 0)",mce="rgb(247, 250, 255)",yce="rgb(239, 244, 255)",bce="rgb(253, 253, 253)",xce="rgb(250, 250, 250)",wce="rgb(224, 224, 224)",_ce="rgb(234, 234, 234)",Sce="#4572d9",Ece={version:"0.6.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:gce,fill:yce},size:20,color:gce,linkPoints:{size:8,lineWidth:1,fill:mce,stroke:gce}},nodeStateStyles:{active:{fill:mce,stroke:gce,lineWidth:2,shadowColor:gce,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:gce,lineWidth:4,shadowColor:gce,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:Sce,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:mce,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:xce,stroke:wce,lineWidth:1}},edgeLabel:{style:{fill:vce,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:wce,lineAppendWidth:2},color:wce},edgeStateStyles:{active:{stroke:gce,lineWidth:1},selected:{stroke:gce,lineWidth:2,shadowColor:gce,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gce,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:_ce,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:vce,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:bce,lineWidth:1,stroke:wce,r:5,width:20,height:10},size:[20,5],color:wce,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:gce,lineWidth:1,fill:mce},selected:{stroke:gce,lineWidth:2,fill:bce,shadowColor:gce,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sce,lineWidth:2,fill:bce,"text-shape":{fontWeight:500}},inactive:{stroke:wce,fill:bce,lineWidth:1},disable:{stroke:_ce,fill:xce,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Cce={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},kce=Math.PI,Mce=Math.sin,Ice=Math.cos,Tce=Mce(kce/8),Ace=Ice(kce/8),Nce=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=Gle(r,o),i=Gle(i,o)}var a=r.x,s=r.y,u=i.x,l=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:l,width:u-a,height:l-s}},Dce=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),i=e.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||Ece.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],l=[e.endPoint.x,e.endPoint.y],c=r.height/2,f=r.height/2,d=c*Tce,h=c*Ace,p=f*Tce,g=f*Ace;if(u[0]===l[0]&&u[1]===l[1]){switch(a){case"top":u=[s[0]-d,s[1]-h],l=[s[0]+p,s[1]-g];break;case"top-right":c=r.height/2,f=r.width/2,u=[s[0]+(d=c*Tce),s[1]-(h=c*Ace)],l=[s[0]+(g=f*Ace),s[1]-(p=f*Tce)];break;case"right":c=r.width/2,f=r.width/2,u=[s[0]+(h=c*Ace),s[1]-(d=c*Tce)],l=[s[0]+(g=f*Ace),s[1]+(p=f*Tce)];break;case"bottom-right":c=r.width/2,f=r.height/2,u=[s[0]+(h=c*Ace),s[1]+(d=c*Tce)],l=[s[0]+(p=f*Tce),s[1]+(g=f*Ace)];break;case"bottom":c=r.height/2,f=r.height/2,u=[s[0]+(d=c*Tce),s[1]+(h=c*Ace)],l=[s[0]-(p=f*Tce),s[1]+(g=f*Ace)];break;case"bottom-left":c=r.height/2,f=r.width/2,u=[s[0]-(d=c*Tce),s[1]+(h=c*Ace)],l=[s[0]-(g=f*Ace),s[1]+(p=f*Tce)];break;case"left":c=r.width/2,f=r.width/2,u=[s[0]-(h=c*Ace),s[1]+(d=c*Tce)],l=[s[0]-(g=f*Ace),s[1]-(p=f*Tce)];break;case"top-left":c=r.width/2,f=r.height/2,u=[s[0]-(h=c*Ace),s[1]-(d=c*Tce)],l=[s[0]-(p=f*Tce),s[1]-(g=f*Ace)];break;default:c=r.width/2,f=r.width/2,u=[s[0]-(d=c*Tce),s[1]-(h=c*Ace)],l=[s[0]+(p=f*Tce),s[1]-(g=f*Ace)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[l[0],l[1]],l=[v[0],v[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(c+o)/c,b=(f+o)/f;!1===i.clockwise&&(y=(f+o)/f,b=(c+o)/c);var x=Ile([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],_=Ile([0,0],[l[0]-s[0],l[1]-s[1]],b),S=[s[0]+_[0],s[1]+_[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:l[0],y:l[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:S[0],y:S[1]}],e},Pce=function(e,t,n,r,i){var o=1e-4,a=[],s=null===e||void 0===e?void 0:e.getPoint(t);if(!s)return{x:0,y:0,angle:0};if(t<o)a=e.getStartTangent().reverse();else if(t>.9999)a=e.getEndTangent();else{var u=null===e||void 0===e?void 0:e.getPoint(t+o);a.push([s.x,s.y]),a.push([u.x,u.y])}var l=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(l<0&&(l+=2*kce),n&&(s.x+=Ice(l)*n,s.y+=Mce(l)*n),r){var c=l-kce/2;l>.5*kce&&l<1.5*kce&&(c-=kce),s.x+=Ice(c)*r,s.y+=Mce(c)*r}var f={x:s.x,y:s.y,angle:l};return i?(l>.5*kce&&l<1.5*kce&&(l-=kce),(0,Fse.__assign)({rotate:l},f)):f},Oce=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},Lce=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)},Rce=function(e,t){"function"===typeof t&&Oce(e,t)},Bce=function(e,t){"function"===typeof t&&Lce(e,t)},zce=function(e,t){return t*(Cce[e]||1)},Fce=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach((function(e){r.test(e)?n+=t:n+=zce(e,t)})),[n,t]},jce=function(e,t){var n=[],r={},i={};e.forEach((function(e){i[e.id]=e})),e.forEach((function(e,t){var o=(0,jse.clone)(e);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if((0,jse.isString)(e.parentId)){var l=r[e.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var c={id:e.parentId,children:[o]};r[c.id]=c,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(t||[]).forEach((function(e){o[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}}));var a=0;return n.forEach((function(e){e.depth=a+10,Oce(e,(function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var i=o[e.id];return i&&(i.depth=e.depth),!0}))})),n},Gce=function(e,t,n){var r,i,o=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach((function(e){if(!s)return e.id===t?(i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void Rce(e,(function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},o=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!o||(u=e.parentId||e.comboId||"root",i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,s=!0,!1)}))}));var l=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(l>-1&&o.splice(l,1),s||(i={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var c=!1;if(n){var f=0;(e||[]).forEach((function(e){c||Rce(e,(function(e){return n!==e.id||(c=!0,e.children?e.children.push(i):e.children=[i],f=e.depth,"node"===i.itemType?i.depth=f+2:i.depth=f+1,!1)}))}))}else n&&c||"node"===i.itemType||e.push(i);var d=i.depth;Rce(i,(function(e){return"node"===e.itemType?d+=2:d+=1,e.depth=d,!0}))}return e},Vce=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return e.forEach((function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)})),r},Uce=function(e){var t=(0,jse.isNumber)(e.x)||(0,jse.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,jse.isNumber)(e.style.r)||(0,jse.isNumber)(e.style.width)||(0,jse.isNumber)(e.style.height)||(0,jse.isNumber)(e.style.rx)||(0,jse.isNumber)(e.style.ry)),t},Wce=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if((0,jse.isObject)(r)&&!(0,jse.isArray)(r)){var i={};Object.keys(r).forEach((function(e){var t=r[e];("img"!==e||(0,jse.isString)(t))&&(i[e]=(0,jse.clone)(t))})),t[n]=i}else t[n]=(0,jse.clone)(r)})),t},Zce=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,r=e.combos,i=void 0===r?[]:r;if(!t&&!n){var o=!0;return Rce(e,(function(e){return!!(0,jse.isString)(e.id)||(o=!1,!1)})),o}var a=(t||[]).find((function(e){return!(0,jse.isString)(e.id)}));if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(t||[]).map((function(e){return e.id})),u=null===i||void 0===i?void 0:i.map((function(e){return e.id})),l=(0,Fse.__spreadArray)((0,Fse.__spreadArray)([],s,!0),u,!0),c=(n||[]).find((function(e){return!l.includes(e.source)||!l.includes(e.target)}));return!c||(console.warn("G6 Warning Tips: The source %c".concat(c.source,"%c or the target %c").concat(c.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},Hce=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;(0,jse.each)(e,(function(e){(0,jse.each)(e,(function(t,n){(0,jse.isString)(t)&&(e[n]={type:t})}))}))},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],i=[];(0,jse.each)(r||[],(function(e){var r=Use.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),i.push(t))})),this.currentBehaves=i},e.mergeBehaviors=function(e,t){return(0,jse.each)(t,(function(t){e.indexOf(t)<0&&((0,jse.isString)(t)&&(t={type:t}),e.push(t))})),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach((function(e){var r="";r=(0,jse.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)})),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),(0,jse.each)(this.currentBehaves,(function(e){e.delegate&&e.delegate.remove(),e.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var i,o=this;if(i=(0,jse.isArray)(t)?t:[t],(0,jse.isArray)(n))return(0,jse.each)(n,(function(t){o.modes[t]?o.modes[t]=r?e.mergeBehaviors(o.modes[t]||[],i):e.filterBehaviors(o.modes[t]||[],i):r&&(o.modes[t]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],i):e.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){(0,jse.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),Yce=Hce,Xce="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Kce=new RegExp("([a-z])["+Xce+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Xce+"]*,?["+Xce+"]*)+)","ig"),qce=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Xce+"]*,?["+Xce+"]*","ig"),$ce=function(e){if(!e)return null;if((0,jse.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Kce,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(qce,(function(e,t){t&&a.push(+t)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=t[s]&&(n.push([i].concat(a.splice(0,t[s]))),t[s]););return e})),n},Qce=function(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4===r?o[3]={x:+e[0],y:+e[1]}:i-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},Jce=function(e,t,n,r,i){var o=[];if(null===i&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==i){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-i*a);o=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,t+n*Math.sin(-i*a)]]}else o=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},efe=function(e){if(!(e=$ce(e))||!e.length)return[["M",0,0]];var t,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var l=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=void 0,f=void 0,d=u,h=e.length;d<h;d++){if(r.push(c=[]),(t=(f=e[d])[0])!==t.toUpperCase())switch(c[0]=t.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+i,c[7]=+f[7]+o;break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(f.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(Qce(n,l));break;case"O":r.pop(),(n=Jce(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(Jce(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+i,s=+f[2]+o;break;default:for(p=1,g=f.length;p<g;p++)c[p]=+f[p]+(p%2?i:o)}else if("R"===t)n=[i,o].concat(f.slice(1)),r.pop(),r=r.concat(Qce(n,l)),c=["R"].concat(f.slice(-2));else if("O"===t)r.pop(),(n=Jce(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(Jce(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,m=f.length;v<m;v++)c[v]=f[v];if("O"!==(t=t.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},tfe=function(e,t,n,r){return[e,t,n,r,n,r]},nfe=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},rfe=function e(t,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var f,d,h,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(c)d=c[0],h=c[1],p=c[2],g=c[3];else{t=(f=b(t,n,-m)).x,n=f.y,u=(f=b(u,l,-m)).x,l=f.y,t===u&&n===l&&(u+=1,l+=1);var x=(t-u)/2,w=(n-l)/2,_=x*x/(r*r)+w*w/(i*i);_>1&&(r*=_=Math.sqrt(_),i*=_);var S=r*r,E=i*i,C=(a===s?-1:1)*Math.sqrt(Math.abs((S*E-S*w*w-E*x*x)/(S*w*w+E*x*x)));p=C*r*w/i+(t+u)/2,g=C*-i*x/r+(n+l)/2,d=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((l-g)/i).toFixed(9)),d=t<p?Math.PI-d:d,h=u<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var k=h-d;if(Math.abs(k)>v){var M=h,I=u,T=l;h=d+v*(s&&h>d?1:-1),y=e(u=p+r*Math.cos(h),l=g+i*Math.sin(h),r,i,o,0,s,I,T,[h,M,p,g])}k=h-d;var A=Math.cos(d),N=Math.sin(d),D=Math.cos(h),P=Math.sin(h),O=Math.tan(k/4),L=4/3*r*O,R=4/3*i*O,B=[t,n],z=[t+L*N,n-R*A],F=[u+L*P,l-R*D],j=[u,l];if(z[0]=2*B[0]-z[0],z[1]=2*B[1]-z[1],c)return[z,F,j].concat(y);for(var G=[],V=0,U=(y=[z,F,j].concat(y).join().split(",")).length;V<U;V++)G[V]=V%2?b(y[V-1],y[V],m).y:b(y[V],y[V+1],m).x;return G},ife=function(e,t){var n,r=efe(e),i=t&&efe(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",c="",f=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(rfe.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(nfe(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(nfe(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(tfe(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(tfe(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(tfe(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(tfe(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)s[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),n=Math.max(r.length,i&&i.length||0)}},h=function(e,t,o,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(l=r[p][0]),"C"!==l&&(s[p]=l,p&&(c=s[p-1])),r[p]=f(r[p],o,c),"A"!==s[p]&&"C"===l&&(s[p]="C"),d(r,p),i&&(i[p]&&(l=i[p][0]),"C"!==l&&(u[p]=l,p&&(c=u[p-1])),i[p]=f(i[p],a,c),"A"!==u[p]&&"C"===l&&(u[p]="C"),d(i,p)),h(r,i,o,a,p),h(i,r,a,o,p);var g=r[p],v=i&&i[p],m=g.length,y=i&&v.length;o.x=g[m-2],o.y=g[m-1],o.bx=parseFloat(g[m-4])||o.x,o.by=parseFloat(g[m-3])||o.y,a.bx=i&&(parseFloat(v[y-4])||a.x),a.by=i&&(parseFloat(v[y-3])||a.y),a.x=i&&v[y-2],a.y=i&&v[y-1]}return i?[r,i]:r},ofe=/,?([a-z]),?/gi,afe=function(e){return e.join(",").replace(ofe,"$1")},sfe=function(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n},ufe=function(e,t,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=l*c[h]+l,g=sfe(p,e,n,i,a),v=sfe(p,t,r,o,s),m=g*g+v*v;d+=f[h]*Math.sqrt(m)}return l*d},lfe=function(e,t,n,r,i,o,a,s){for(var u,l,c,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(l=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,c=3*n-3*e):(l=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*s,c=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&d.push(f)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var m=(-l+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-l-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(f=d[x]),h[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*i+f*f*f*a,h[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},cfe=function(e,t,n,r,i,o,a,s){if(!(Math.max(e,n)<Math.min(i,a)||Math.min(e,n)>Math.max(i,a)||Math.max(t,r)<Math.min(o,s)||Math.min(t,r)>Math.max(o,s))){var u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var l=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,c=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u,f=+l.toFixed(2),d=+c.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},ffe=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},dfe=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=afe,o},hfe=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:dfe(e,t,n,r),vb:[e,t,n,r].join(" ")}},pfe=function(e,t,n,r,i,o,a,s){(0,jse.isArray)(e)||(e=[e,t,n,r,i,o,a,s]);var u=lfe.apply(null,e);return hfe(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},gfe=function(e,t,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),d=u*u,h=d*u,p=e+2*u*(n-e)+d*(i-2*n+e),g=t+2*u*(r-t)+d*(o-2*r+t),v=n+2*u*(i-n)+d*(a-2*i+n),m=r+2*u*(o-r)+d*(s-2*o+r);return{x:c*e+3*f*u*n+3*l*u*u*i+h*a,y:c*t+3*f*u*r+3*l*u*u*o+h*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:l*e+u*n,y:l*t+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},vfe=function(e,t,n){if(!function(e,t){return e=hfe(e),t=hfe(t),ffe(t,e.x,e.y)||ffe(t,e.x2,e.y)||ffe(t,e.x,e.y2)||ffe(t,e.x2,e.y2)||ffe(e,t.x,t.y)||ffe(e,t.x2,t.y)||ffe(e,t.x,t.y2)||ffe(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(pfe(e),pfe(t)))return n?0:[];for(var r=~~(ufe.apply(0,e)/8),i=~~(ufe.apply(0,t)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=gfe.apply(0,e.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=gfe.apply(0,t.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var f=0;f<i;f++){var d=o[l],h=o[l+1],p=a[f],g=a[f+1],v=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=cfe(d.x,d.y,h.x,h.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[v]-d[v])/(h[v]-d[v]))*(h.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},mfe=function(e,t){return function(e,t,n){var r,i,o,a,s,u,l,c,f,d;e=ife(e),t=ife(t);for(var h=n?0:[],p=0,g=e.length;p<g;p++){var v=e[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(f=[r,i].concat(v.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,l,c,l,c],o=l,a=c);var x=vfe(f,d,n);if(n)h+=x;else{for(var w=0,_=x.length;w<_;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=f,x[w].bez2=d;h=h.concat(x)}}}}}return h}(e,t)};function yfe(e,t){var n=[],r=[];return e.length&&function e(t,i){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-i)*t[a][0]+i*t[a+1][0],(1-i)*t[a][1]+i*t[a+1][1]];e(o,i)}}(e,t),{left:n,right:r.reverse()}}var bfe=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=yfe(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},xfe=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(t,r,i){return i===n?t.concat(e[n]):t.concat(bfe(e[i],e[i+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},wfe=function(e,t){if(e.length!==t.length)return!1;var n=!0;return(0,jse.each)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function _fe(e,t,n){var r=null,i=n;return t<i&&(i=t,r="add"),e<i&&(i=e,r="del"),{type:r,min:i}}var Sfe=function(e,t){var n=function(e,t){var n,r,i=e.length,o=t.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=e[u-1],l=1;l<=o;l++){r=t[l-1],a=wfe(n,r)?0:1;var c=s[u-1][l].min+1,f=s[u][l-1].min+1,d=s[u-1][l-1].min+a;s[u][l]=_fe(c,f,d)}return s}(e,t),r=e.length,i=t.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var f=i-(r=e.length);if(r<i)for(u=0;u<f;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function Efe(e,t,n){for(var r,i=[].concat(e),o=1/(n+1),a=Cfe(t)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(e.length*o))?i.unshift([a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]);return i}function Cfe(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var kfe=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=Cfe(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Efe(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=Efe(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Efe(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},Mfe=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),Ife=Mfe;function Tfe(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var Afe="undefined"!==typeof window&&"undefined"!==typeof window.document;function Nfe(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function Dfe(e){return e.cfg.visible&&e.cfg.capture}var Pfe=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,jse.mix)(r,t),n}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(Hse),Ofe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Lfe=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Rfe=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},Bfe=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},zfe=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Ffe=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},jfe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Gfe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Vfe=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ufe(e){return e?Zfe(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Ffe:"undefined"!==typeof navigator?Zfe(navigator.userAgent):"undefined"!==typeof process&&process.version?new Rfe(process.version.slice(1)):null}function Wfe(e){return""!==e&&Gfe.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function Zfe(e){var t=Wfe(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new zfe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Ofe(Ofe([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,n=Vfe.length;t<n;t++){var r=Vfe[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=jfe.exec(e);return s&&s[1]?new Bfe(n,o,a,s[1]):new Lfe(n,o,a)}function Hfe(e,t){var n=[],r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=d*r+h*a+p*l,n[1]=d*i+h*s+p*c,n[2]=d*o+h*u+p*f,n[3]=g*r+v*a+m*l,n[4]=g*i+v*s+m*c,n[5]=g*o+v*u+m*f,n[6]=y*r+b*a+x*l,n[7]=y*i+b*s+x*c,n[8]=y*o+b*u+x*f,n}function Yfe(e,t){var n=[],r=t[0],i=t[1];return n[0]=e[0]*r+e[3]*i+e[6],n[1]=e[1]*r+e[4]*i+e[7],n}function Xfe(e){var t=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,d=-c*o+s*u,h=l*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}var Kfe=Qse,qfe="matrix",$fe=["zIndex","capture","visible","type"],Qfe=["repeat"];function Jfe(e,t){var n={},r=t.attrs;for(var i in e)n[i]=r[i];return n}function ede(e,t){var n={},r=t.attr();return(0,jse.each)(e,(function(e,t){-1!==Qfe.indexOf(t)||(0,jse.isEqual)(r[t],e)||(n[t]=e)})),n}function tde(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,i=t.duration,o=Object.prototype.hasOwnProperty;return(0,jse.each)(e,(function(e){n+r<e.startTime+e.delay+e.duration&&i>e.delay&&(0,jse.each)(t.toAttrs,(function(t,n){o.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var nde=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,jse.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(!r)return this.attrs;if((0,jse.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,i),this.afterAttrsChange(((e={})[r]=i,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(Tfe(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(qfe,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(qfe)},t.prototype.setMatrix=function(e){this.attr(qfe,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?Hfe(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?Hfe(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?Yfe(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=Xfe(t);if(n)return Yfe(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[(0,jse.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};(0,jse.each)(t,(function(e,r){(0,jse.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)(0,jse.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return(0,jse.each)($fe,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,l=e[0],c=e[1],f=e[2],d=void 0===f?"easeLinear":f,h=e[3],p=void 0===h?jse.noop:h,g=e[4],v=void 0===g?0:g;(0,jse.isFunction)(l)?(i=l,l={}):(0,jse.isObject)(l)&&l.onFrame&&(i=l.onFrame,o=l.repeat),(0,jse.isObject)(c)?(c=(u=c).duration,d=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||jse.noop,a=u.pauseCallback||jse.noop,s=u.resumeCallback||jse.noop):((0,jse.isNumber)(p)&&(v=p,p=null),(0,jse.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var m=ede(l,this),y={fromAttrs:Jfe(m,this),toAttrs:m,duration:c,easing:d,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:(0,jse.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=tde(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");(0,jse.each)(n,(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return(0,jse.each)(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return(0,jse.each)(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,i=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var o=function(e){var o=i[e],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Nfe(o,n))return"break";(0,jse.isArray)(s)?(0,jse.each)(s,(function(e){r.emitDelegateEvent(o,e,t)})):a.emitDelegateEvent(o,s,t)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),i=t+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(i,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=Kfe(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=Kfe(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=Kfe(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,i=this.getMatrix(),o=Kfe(i,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(o),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),i=Kfe(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(i),this},t}(Pfe),rde=nde,ide={};function ode(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){ode(e,t)}))}}function ade(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){ade(e,t)}))}}var sde=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,jse.each)(a,(function(e){var t=e.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,jse.min)(i),t=(0,jse.max)(i),n=(0,jse.min)(o),r=(0,jse.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,jse.each)(a,(function(e){var t=e.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,jse.min)(i),t=(0,jse.max)(i),n=(0,jse.min)(o),r=(0,jse.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();(0,jse.each)(t,(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];(0,jse.isObject)(n)?r=n:r.type=n;var i=ide[r.type];i||(i=(0,jse.upperFirst)(r.type),ide[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],i=e[1];if((0,jse.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!Dfe(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,e,t,n);else{var o=[e,t,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var i=null,o=e.length-1;o>=0;o--){var a=e[o];if(Dfe(a)&&(a.isGroup()?i=a.getShape(t,n,r):a.isHit(t,n)&&(i=a)),i)break}return i},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=e.getParent();i&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),Tfe(e.getChildren(),t)}(i,e,!1),e.set("parent",this),t&&ode(e,t),r&&ade(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,jse.each)(e,(function(e,t){return e._INDEX=t,e})),e.sort(function(e){return function(t,n){var r=e(t,n);return 0===r?t._INDEX-n._INDEX:r}}((function(e,t){return e.get("zIndex")-t.get("zIndex")}))),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return(0,jse.each)(n,(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return(0,jse.each)(n,(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(rde),ude=sde,lde=n(6212);function cde(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fde(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dde(){}var hde=.7,pde=1/hde,gde="\\s*([+-]?\\d+)\\s*",vde="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mde="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yde=/^#([0-9a-f]{3,8})$/,bde=new RegExp("^rgb\\("+[gde,gde,gde]+"\\)$"),xde=new RegExp("^rgb\\("+[mde,mde,mde]+"\\)$"),wde=new RegExp("^rgba\\("+[gde,gde,gde,vde]+"\\)$"),_de=new RegExp("^rgba\\("+[mde,mde,mde,vde]+"\\)$"),Sde=new RegExp("^hsl\\("+[vde,mde,mde]+"\\)$"),Ede=new RegExp("^hsla\\("+[vde,mde,mde,vde]+"\\)$"),Cde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kde(){return this.rgb().formatHex()}function Mde(){return this.rgb().formatRgb()}function Ide(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Tde(t):3===n?new Pde(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ade(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ade(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=bde.exec(e))?new Pde(t[1],t[2],t[3],1):(t=xde.exec(e))?new Pde(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wde.exec(e))?Ade(t[1],t[2],t[3],t[4]):(t=_de.exec(e))?Ade(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Sde.exec(e))?Bde(t[1],t[2]/100,t[3]/100,1):(t=Ede.exec(e))?Bde(t[1],t[2]/100,t[3]/100,t[4]):Cde.hasOwnProperty(e)?Tde(Cde[e]):"transparent"===e?new Pde(NaN,NaN,NaN,0):null}function Tde(e){return new Pde(e>>16&255,e>>8&255,255&e,1)}function Ade(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pde(e,t,n,r)}function Nde(e){return e instanceof dde||(e=Ide(e)),e?new Pde((e=e.rgb()).r,e.g,e.b,e.opacity):new Pde}function Dde(e,t,n,r){return 1===arguments.length?Nde(e):new Pde(e,t,n,null==r?1:r)}function Pde(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ode(){return"#"+Rde(this.r)+Rde(this.g)+Rde(this.b)}function Lde(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Rde(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Bde(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fde(e,t,n,r)}function zde(e){if(e instanceof Fde)return new Fde(e.h,e.s,e.l,e.opacity);if(e instanceof dde||(e=Ide(e)),!e)return new Fde;if(e instanceof Fde)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Fde(a,s,u,e.opacity)}function Fde(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jde(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Gde(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Vde(e){return function(){return e}}function Ude(e,t){return function(n){return e+n*t}}function Wde(e){return 1===(e=+e)?Zde:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Vde(isNaN(t)?n:t)}}function Zde(e,t){var n=t-e;return n?Ude(e,n):Vde(isNaN(e)?t:e)}cde(dde,Ide,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:kde,formatHex:kde,formatHsl:function(){return zde(this).formatHsl()},formatRgb:Mde,toString:Mde}),cde(Pde,Dde,fde(dde,{brighter:function(e){return e=null==e?pde:Math.pow(pde,e),new Pde(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?hde:Math.pow(hde,e),new Pde(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ode,formatHex:Ode,formatRgb:Lde,toString:Lde})),cde(Fde,(function(e,t,n,r){return 1===arguments.length?zde(e):new Fde(e,t,n,null==r?1:r)}),fde(dde,{brighter:function(e){return e=null==e?pde:Math.pow(pde,e),new Fde(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?hde:Math.pow(hde,e),new Fde(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Pde(jde(e>=240?e-240:e+120,i,r),jde(e,i,r),jde(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Hde=function e(t){var n=Wde(t);function r(e,t){var r=n((e=Dde(e)).r,(t=Dde(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Zde(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Yde(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Dde(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Yde((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Gde((n-r/t)*t,a,i,o,s)}})),Yde((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Gde((n-r/t)*t,i,o,a,s)}}));function Xde(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Kde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qde(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=rhe(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function $de(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qde(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Jde(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=rhe(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var ehe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,the=new RegExp(ehe.source,"g");function nhe(e,t){var n,r,i,o=ehe.lastIndex=the.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=ehe.exec(e))&&(r=the.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Qde(n,r)})),o=the.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function rhe(e,t){var n,r=typeof t;return null==t||"boolean"===r?Vde(t):("number"===r?Qde:"string"===r?(n=Ide(t))?(t=n,Hde):nhe:t instanceof Ide?Hde:t instanceof Date?$de:Kde(t)?Xde:Array.isArray(t)?qde:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Jde:Qde)(e,t)}function ihe(e){return+e}function ohe(e){return e*e}function ahe(e){return e*(2-e)}function she(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function uhe(e){return e*e*e}function lhe(e){return--e*e*e+1}function che(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fhe=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),dhe=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),hhe=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),phe=Math.PI,ghe=phe/2;function vhe(e){return 1===+e?1:1-Math.cos(e*ghe)}function mhe(e){return Math.sin(e*ghe)}function yhe(e){return(1-Math.cos(phe*e))/2}function bhe(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function xhe(e){return bhe(1-+e)}function whe(e){return 1-bhe(e)}function _he(e){return((e*=2)<=1?bhe(1-e):2-bhe(e-1))/2}function She(e){return 1-Math.sqrt(1-e*e)}function Ehe(e){return Math.sqrt(1- --e*e)}function Che(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var khe=4/11,Mhe=7.5625;function Ihe(e){return 1-The(1-e)}function The(e){return(e=+e)<khe?Mhe*e*e:e<.7272727272727273?Mhe*(e-=.5454545454545454)*e+.75:e<.9090909090909091?Mhe*(e-=.8181818181818182)*e+.9375:Mhe*(e-=.9545454545454546)*e+.984375}function Ahe(e){return((e*=2)<=1?1-The(1-e):The(e-1)+1)/2}var Nhe=1.70158,Dhe=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Nhe),Phe=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Nhe),Ohe=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Nhe),Lhe=2*Math.PI,Rhe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Lhe);function i(e){return t*bhe(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Lhe)},i.period=function(n){return e(t,n)},i}(1,.3),Bhe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Lhe);function i(e){return 1-t*bhe(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Lhe)},i.period=function(n){return e(t,n)},i}(1,.3),zhe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Lhe);function i(e){return((e=2*e-1)<0?t*bhe(-e)*Math.sin((r-e)/n):2-t*bhe(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Lhe)},i.period=function(n){return e(t,n)},i}(1,.3),Fhe={};var jhe=[1,0,0,0,1,0,0,0,1];function Ghe(e,t,n){var r,i=t.startTime;if(n<i+t.delay||t._paused)return!1;var o=t.duration,s=function(e){return Fhe[e.toLowerCase()]||a[e]}(t.easing);if(n=n-i-t.delay,t.repeat)r=s(r=n%o/o);else{if(!((r=n/o)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=s(r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},i=t.fromAttrs,o=t.toAttrs;if(!e.destroyed){var a,s,u,l;for(var c in o)if(!(0,jse.isEqual)(i[c],o[c]))if("path"===c){var f=o[c],d=i[c];f.length>d.length?(f=$ce(o[c]),d=$ce(i[c]),d=Sfe(d,f),d=kfe(d,f),t.fromAttrs.path=d,t.toAttrs.path=f):t.pathFormatted||(f=$ce(o[c]),d=$ce(i[c]),d=kfe(d,f),t.fromAttrs.path=d,t.toAttrs.path=f,t.pathFormatted=!0),r[c]=[];for(var h=0;h<f.length;h++){for(var p=f[h],g=d[h],v=[],m=0;m<p.length;m++)(0,jse.isNumber)(p[m])&&g&&(0,jse.isNumber)(g[m])?(a=rhe(g[m],p[m]),v.push(a(n))):v.push(p[m]);r[c].push(v)}}else if("matrix"===c){var y=(u=i[c]||jhe,(Kde(l=o[c]||jhe)?Xde:qde)(u,l))(n);r[c]=y}else["fill","stroke","fillStyle","strokeStyle"].includes(c)&&(s=o[c],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[c]=o[c]:(0,jse.isFunction)(o[c])||(a=rhe(i[c],o[c]),r[c]=a(n));e.attr(r)}}(e,t,r);return!1}var Vhe=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=lde.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((e=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],Ghe(e,n,i)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),Uhe=Vhe,Whe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Zhe(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function Hhe(e,t,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===t?(r=n.fromShape,i=!0):"mouseleave"===t&&(i=!0,r=n.toShape),e.isCanvas()&&i)return;if(r&&Nfe(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var Yhe=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,jse.each)(Whe,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,jse.each)(Whe,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,i,o){var a=new Ife(e,t);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(o=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),i||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),i&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-e.clientX,c=a.clientY-e.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,i,o){var a=this._getEventObj(e,t,n,r,i,o);if(r){a.shape=r,Zhe(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||Hhe(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{Zhe(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),Xhe=Yhe,Khe=Ufe(),qhe=Khe&&"firefox"===Khe.name,$he=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");(0,jse.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new Xhe({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new Uhe(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");Afe&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");Afe&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(qhe&&!(0,jse.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,jse.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(ude),Qhe=$he,Jhe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];t.add(i.clone())}return t},t}(ude),epe=Jhe,tpe=function(e){function t(t){return e.call(this,t)||this}return(0,Fse.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;if(t){var a=Yfe(t,[e.minX,e.minY]),s=Yfe(t,[e.maxX,e.minY]),u=Yfe(t,[e.minX,e.maxY]),l=Yfe(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],l[0]),i=Math.max(a[0],s[0],u[0],l[0]),r=Math.min(a[1],s[1],u[1],l[1]),o=Math.max(a[1],s[1],u[1],l[1])}var c=this.attrs;if(c.shadowColor){var f=c.shadowBlur,d=void 0===f?0:f,h=c.shadowOffsetX,p=void 0===h?0:h,g=c.shadowOffsetY,v=void 0===g?0:g,m=n-d+p,y=i+d+p,b=r-d+v,x=o+d+v;n=Math.min(n,m),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[e,t,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},t}(rde),npe=tpe,rpe=new Map;function ipe(e,t){rpe.set(e,t)}function ope(e){return rpe.get(e)}function ape(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function spe(e){var t=e.attr(),n=t.x,r=t.y,i=t.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function upe(e){return Math.min.apply(null,e)}function lpe(e){return Math.max.apply(null,e)}function cpe(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function fpe(e,t){return Math.abs(e-t)<.001}function dpe(e,t){var n=upe(e),r=upe(t);return{x:n,y:r,width:lpe(e)-n,height:lpe(t)-r}}function hpe(e){return(e+2*Math.PI)%(2*Math.PI)}var ppe={box:function(e,t,n,r){return dpe([e,n],[t,r])},length:function(e,t,n,r){return cpe(e,t,n,r)},pointAt:function(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}},pointDistance:function(e,t,n,r,i,o){var a=(n-e)*(i-e)+(r-t)*(o-t);return a<0?cpe(e,t,i,o):a>(n-e)*(n-e)+(r-t)*(r-t)?cpe(n,r,i,o):this.pointToLine(e,t,n,r,i,o)},pointToLine:function(e,t,n,r,i,o){var a=[n-e,r-t];if(Dle(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];Ale(s,s);var u=[i-e,o-t];return Math.abs(Nle(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function gpe(e,t,n,r,i,o){var a,s=1/0,u=[n,r],l=20;o&&o>200&&(l=o/10);for(var c=1/l,f=c/10,d=0;d<=l;d++){var h=d*c,p=[i.apply(null,e.concat([h])),i.apply(null,t.concat([h]))];(y=cpe(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(d=0;d<32&&!(f<1e-4);d++){var v=a-f,m=a+f,y=(p=[i.apply(null,e.concat([v])),i.apply(null,t.concat([v]))],cpe(u[0],u[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[i.apply(null,e.concat([m])),i.apply(null,t.concat([m]))],x=cpe(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,t.concat([a]))}}function vpe(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function mpe(e,t,n){var r=e+n-2*t;if(fpe(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function ype(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function bpe(e,t,n,r,i,o,a){var s=vpe(e,n,i,a),u=vpe(t,r,o,a),l=ppe.pointAt(e,t,n,r,a),c=ppe.pointAt(n,r,i,o,a);return[[e,t,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}function xpe(e,t,n,r,i,o,a){if(0===a)return(cpe(e,t,n,r)+cpe(n,r,i,o)+cpe(e,t,i,o))/2;var s=bpe(e,t,n,r,i,o,.5),u=s[0],l=s[1];return u.push(a-1),l.push(a-1),xpe.apply(null,u)+xpe.apply(null,l)}var wpe={box:function(e,t,n,r,i,o){var a=mpe(e,n,i)[0],s=mpe(t,r,o)[0],u=[e,i],l=[t,o];return void 0!==a&&u.push(vpe(e,n,i,a)),void 0!==s&&l.push(vpe(t,r,o,s)),dpe(u,l)},length:function(e,t,n,r,i,o){return xpe(e,t,n,r,i,o,3)},nearestPoint:function(e,t,n,r,i,o,a,s){return gpe([e,n,i],[t,r,o],a,s,vpe)},pointDistance:function(e,t,n,r,i,o,a,s){var u=this.nearestPoint(e,t,n,r,i,o,a,s);return cpe(u.x,u.y,a,s)},interpolationAt:vpe,pointAt:function(e,t,n,r,i,o,a){return{x:vpe(e,n,i,a),y:vpe(t,r,o,a)}},divide:function(e,t,n,r,i,o,a){return bpe(e,t,n,r,i,o,a)},tangentAngle:function(e,t,n,r,i,o,a){var s=ype(e,n,i,a),u=ype(t,r,o,a);return hpe(Math.atan2(u,s))}};function _pe(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function Spe(e,t,n,r,i){var o=1-i;return 3*(o*o*(t-e)+2*o*i*(n-t)+i*i*(r-n))}function Epe(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,l=3*t-3*e,c=[];if(fpe(s,0))fpe(u,0)||(i=-l/u)>=0&&i<=1&&c.push(i);else{var f=u*u-4*s*l;fpe(f,0)?c.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function Cpe(e,t,n,r,i,o,a,s,u){var l=_pe(e,n,i,a,u),c=_pe(t,r,o,s,u),f=ppe.pointAt(e,t,n,r,u),d=ppe.pointAt(n,r,i,o,u),h=ppe.pointAt(i,o,a,s,u),p=ppe.pointAt(f.x,f.y,d.x,d.y,u),g=ppe.pointAt(d.x,d.y,h.x,h.y,u);return[[e,t,f.x,f.y,p.x,p.y,l,c],[l,c,g.x,g.y,h.x,h.y,a,s]]}function kpe(e,t,n,r,i,o,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,i=0;i<r;i++)n+=cpe(e[i],t[i],e[(i+1)%r],t[(i+1)%r]);return n/2}([e,n,i,a],[t,r,o,s]);var l=Cpe(e,t,n,r,i,o,a,s,.5),c=l[0],f=l[1];return c.push(u-1),f.push(u-1),kpe.apply(null,c)+kpe.apply(null,f)}var Mpe={extrema:Epe,box:function(e,t,n,r,i,o,a,s){for(var u=[e,a],l=[t,s],c=Epe(e,n,i,a),f=Epe(t,r,o,s),d=0;d<c.length;d++)u.push(_pe(e,n,i,a,c[d]));for(d=0;d<f.length;d++)l.push(_pe(t,r,o,s,f[d]));return dpe(u,l)},length:function(e,t,n,r,i,o,a,s){return kpe(e,t,n,r,i,o,a,s,3)},nearestPoint:function(e,t,n,r,i,o,a,s,u,l,c){return gpe([e,n,i,a],[t,r,o,s],u,l,_pe,c)},pointDistance:function(e,t,n,r,i,o,a,s,u,l,c){var f=this.nearestPoint(e,t,n,r,i,o,a,s,u,l,c);return cpe(f.x,f.y,u,l)},interpolationAt:_pe,pointAt:function(e,t,n,r,i,o,a,s,u){return{x:_pe(e,n,i,a,u),y:_pe(t,r,o,s,u)}},divide:function(e,t,n,r,i,o,a,s,u){return Cpe(e,t,n,r,i,o,a,s,u)},tangentAngle:function(e,t,n,r,i,o,a,s,u){var l=Spe(e,n,i,a,u),c=Spe(t,r,o,s,u);return hpe(Math.atan2(c,l))}};function Ipe(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function Tpe(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}var Ape=function(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),u=1/0,l=-1/0,c=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=s+f;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(f=0;f<c.length;f++){var h=Ipe(e,0,n,r,i,c[f]);h<u&&(u=h),h>l&&(l=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var b=Tpe(0,t,n,r,i,m[f]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:l-u,height:v-g}};function Npe(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=cpe(r[0],r[1],i[0],i[1])}return t}var Dpe=function(e){return Npe(e)};function Ppe(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function Ope(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=Ppe(t,n.getCanvasBBox())),r&&(t=Ppe(t,r.getCanvasBBox())),t}var Lpe=null;function Rpe(){if(!Lpe){var e=document.createElement("canvas");e.width=1,e.height=1,Lpe=e.getContext("2d")}return Lpe}function Bpe(e,t,n){var r=1;if((0,jse.isString)(e)&&(r=e.split("\n").length),r>1){var i=function(e,t){return t?t-e:.14*e}(t,n);return t*r+i*(r-1)}return t}function zpe(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var Fpe=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,jpe=/[^\s\,]+/gi;var Gpe=function(e){var t=e||[];return(0,jse.isArray)(t)?t:(0,jse.isString)(t)?(t=t.match(Fpe),(0,jse.each)(t,(function(e,n){if((e=e.match(jpe))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}(0,jse.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0};var Vpe=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,u,l,c=function(e,t,n,r){var i,o,a,s,u,l,c,f=[],d=!!r;if(d){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1)a=kle([0,0],a,v=e[h]),s=Mle([0,0],s,v)}h=0;for(var g=e.length;h<g;h+=1){var v=e[h];if(0!==h||n)if(h!==g-1||n){i=e[[h?h-1:g-1,h-1][n?0:1]],o=e[n?(h+1)%g:h+1];var m=[0,0];m=Ile(m=Ple(m,o,i),m,t);var y=Tle(v,i),b=Tle(v,o),x=y+b;0!==x&&(y/=x,b/=x);var w=Ile([0,0],m,-y),_=Ile([0,0],m,b);l=Cle([0,0],v,w),u=kle([0,0],u=Cle([0,0],v,_),Mle([0,0],o,v)),u=Mle([0,0],u,kle([0,0],o,v)),l=kle([0,0],l=Cle([0,0],v,w=Ile([0,0],w=Ple([0,0],u,v),-y/b)),Mle([0,0],i,v)),l=Mle([0,0],l,kle([0,0],i,v)),u=Cle([0,0],v,_=Ile([0,0],_=Ple([0,0],v,l),b/y)),d&&(l=kle([0,0],l=Mle([0,0],l,a),s),u=kle([0,0],u=Mle([0,0],u,a),s)),f.push(c),f.push(l),c=u}else l=v,f.push(c),f.push(l);else c=v}return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o+=1)s=c[2*o],u=c[2*o+1],l=i[o+1],d.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]]);return r&&(s=c[f],u=c[f+1],l=i[0],d.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]])),d};var Upe=new RegExp("([a-z])[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)","ig"),Wpe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*","ig");function Zpe(e){if(!e)return null;if((0,jse.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Upe,(function(e,r,i){var o=[],a=r.toLowerCase();if(i.replace(Wpe,(function(e,t){t&&o.push(+t)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=t[a]&&(n.push([r].concat(o.splice(0,t[a]))),t[a]););return""})),n}var Hpe=/[a-z]/;function Ype(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Xpe(e){var t=Zpe(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];if(Hpe.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return t;var o=[],a=0,s=0,u=0,l=0,c=0,f=t[0];"M"!==f[0]&&"m"!==f[0]||(u=a=+f[1],l=s=+f[2],c++,o[0]=["M",a,s]);r=c;for(var d=t.length;r<d;r++){var h=t[r],p=o[r-1],g=[],v=(i=h[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=+h[6]+a,g[7]=+h[7]+s;break;case"V":g[1]=+h[1]+s;break;case"H":g[1]=+h[1]+a;break;case"M":u=+h[1]+a,l=+h[2]+s,g[1]=u,g[2]=l;break;default:for(var m=1,y=h.length;m<y;m++)g[m]=+h[m]+(m%2?a:s)}else g=t[r];switch(v){case"Z":a=+u,s=+l;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=Ype([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=Ype([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],l=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}Math.PI;function Kpe(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function qpe(e,t){return Kpe(e)*Kpe(t)?(e[0]*t[0]+e[1]*t[1])/(Kpe(e)*Kpe(t)):1}function $pe(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(qpe(e,t))}function Qpe(e,t){return e[0]===t[0]&&e[1]===t[1]}function Jpe(e,t){var n=t[1],r=t[2],i=(0,jse.mod)((0,jse.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,d=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],_=$pe([1,0],x),S=$pe(x,w);return qpe(x,w)<=-1&&(S=Math.PI),qpe(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:Qpe(e,[l,c])?0:n,ry:Qpe(e,[l,c])?0:r,startAngle:_,endAngle:_+S,xRotation:i,arcFlag:o,sweepFlag:a}}function ege(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function tge(e){for(var t=[],n=null,r=null,i=null,o=0,a=(e=Gpe(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var l=u[0],c={command:l,prePoint:n,params:u,startTangent:null,endTangent:null};switch(l){case"M":i=[u[1],u[2]],o=s;break;case"A":var f=Jpe(n,u);c.arcParams=f}if("Z"===l)n=i,r=e[o+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),c.currentPoint=n,t[o]&&Qpe(n,t[o].currentPoint)&&(t[o].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===l){var g=[u[1],u[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===l){g=ege((y=t[s-1]).currentPoint,p);"Q"===y.command?(c.command="Q",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===l){var v=[u[1],u[2]],m=[u[3],u[4]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[v[0]-m[0],v[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===l){var y;v=ege((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(c.command="C",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===l){var b=.001,x=c.arcParams||{},w=x.cx,_=void 0===w?0:w,S=x.cy,E=void 0===S?0:S,C=x.rx,k=void 0===C?0:C,M=x.ry,I=void 0===M?0:M,T=x.sweepFlag,A=void 0===T?0:T,N=x.startAngle,D=void 0===N?0:N,P=x.endAngle,O=void 0===P?0:P;0===A&&(b*=-1);var L=k*Math.cos(D-b)+_,R=I*Math.sin(D-b)+E;c.startTangent=[L-i[0],R-i[1]];var B=k*Math.cos(D+O+b)+_,z=I*Math.sin(D+O-b)+E;c.endTangent=[p[0]-B,p[1]-z]}t.push(c)}return t}function nge(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||(0,jse.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(u/2-l)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(c-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}ipe("rect",ape),ipe("image",ape),ipe("circle",spe),ipe("marker",spe),ipe("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}var a=dpe(n,r),s=a.x,u=a.y,l={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(l=Ope(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),ipe("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}return dpe(n,r)})),ipe("text",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=t.font;s||(s=zpe(t));var u,l=function(e,t){var n=Rpe(),r=0;if((0,jse.isNil)(e)||""===e)return r;if(n.save(),n.font=t,(0,jse.isString)(e)&&e.includes("\n")){var i=e.split("\n");(0,jse.each)(i,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))}else r=n.measureText(e).width;return n.restore(),r}(i,s);if(l){var c=t.textAlign,f=t.textBaseline,d=Bpe(i,o,a),h={x:n,y:r-d};c&&("end"===c||"right"===c?h.x-=l:"center"===c&&(h.x-=l/2)),f&&("top"===f?h.y+=d:"middle"===f&&(h.y+=d/2)),u={x:h.x,y:h.y,width:l,height:d}}else u={x:n,y:r,width:0,height:0};return u})),ipe("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,i=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=(g=e[o]).currentPoint,s=g.params,u=g.prePoint,l=void 0;switch(g.command){case"Q":l=wpe.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":l=Mpe.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=g.arcParams;l=Ape(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}l&&(g.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height)),t&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var f=(0,jse.min)(n),d=(0,jse.min)(r),h=(0,jse.max)(n),p=(0,jse.max)(r);if(0===i.length)return{x:f,y:d,width:h-f,height:p-d};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===f?f-=nge(g,t).xExtra:a[0]===h&&(h+=nge(g,t).xExtra),a[1]===d?d-=nge(g,t).yExtra:a[1]===p&&(p+=nge(g,t).yExtra)}return{x:f,y:d,width:h-f,height:p-d}}(e.get("segments")||tge(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Ope(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),ipe("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Ope(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),ipe("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var rge=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,Fse.__extends)(t,e),t}(Ife),ige=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},oge=function(e){if((0,jse.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,jse.isNumber)(e))return[e,e,e,e];if((0,jse.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},age=function(e){var t=new rge(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},sge=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},uge=function(e){return Number.isNaN(Number(e))},lge=function(e){for(var t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o].getBBox(),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY;s<t&&(t=s),u<r&&(r=u),l>n&&(n=l),c>i&&(i=c)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(i)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:i}},cge=function(e,t,n,r,i){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},l=[],c={},f=0;f<o;f++){var d=e[f],h=d.source,p=d.target,g="".concat(h,"-").concat(p);if(!l[f]){u[g]||(u[g]=[]),l[f]=!0,u[g].push(d);for(var v=0;v<o;v++)if(f!==v){var m=e[v],y=m.source,b=m.target;l[v]||(h===b&&p===y?(u[g].push(m),l[v]=!0,c["".concat(y,"|").concat(b,"|").concat(u[g].length-1)]=!0):h===y&&p===b&&(u[g].push(m),l[v]=!0))}}}for(var x in u)for(var w=u[x],_=w.length,S=0;S<_;S++){var E=w[S];if(E.source!==E.target)if(1===_&&r&&E.source!==E.target)E.type=r;else{E.type=n;var C=(S%2===0?1:-1)*(c["".concat(E.source,"|").concat(E.target,"|").concat(S)]?-1:1);E.curveOffset=_%2===1?C*Math.ceil(S/2)*a:C*(Math.floor(S/2)*a+t)}else i&&(E.type=i),E.loopCfg={position:s[S%8],dist:20*Math.floor(S/8)+50}}return e},fge=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;e.translate(r.x-i,r.y-o)}},e.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),r=e.get("height"),i=e.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;e.translate(a.x-s,a.y-u);var l=(n-t[1]-t[3])/o.width,c=(r-t[0]-t[2])/o.height,f=l;l>c&&(f=c),e.zoom(f,a)||console.warn("zoom failed, ratio out of range, ratio: %f",f)}},e.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=void 0!==t&&t,r=e.direction,i=void 0===r?"both":r,o=e.ratioRule,a=void 0===o?"min":o,s=this.graph,u=this.getFormatPadding(),l=s.get("width"),c=s.get("height"),f=s.get("group");f.resetMatrix();var d=f.getCanvasBBox();if(0!==d.width&&0!==d.height){var h=this.getViewCenter(),p=d.x+d.width/2,g=d.y+d.height/2;s.translate(h.x-p,h.y-g);var v,m=(l-u[1]-u[3])/d.width,y=(c-u[0]-u[2])/d.height;v="x"===i?m:"y"===i?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(v=v<1?v:1);var b=s.getZoom()*v,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),s.zoomTo(b,h)}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return oge(e)},e.prototype.focusPoint=function(e,t,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(o.x-e.x)*a[0],u=(o.y-e.y)*a[4],l=0,c=0,f=0,d=0;this.graph.get("canvas").animate((function(e){f=s*e,d=u*e,r.graph.translate(f-l,d-c),l=f,c=d}),(0,Fse.__assign)({},n))}else this.graph.translate((o.x-e.x)*a[0],(o.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Vle({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Gle({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if((0,jse.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,i=0;if(e.getType&&"edge"===e.getType()){var o=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,jse.isNumber)(e)||!(0,jse.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach((function(e){e.get("gridContainer")&&e.positionInit()}))},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}(),dge=fge;function hge(e){return hge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hge(e)}function pge(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(li){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},i=e.trim(),o=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return r(a)===e}))},u=null,l=0,c="";l<i.length;){var f=i[l],d=s('"',"'");if(d||f.trim()){var h="\\"===i[l-1],p=s("}"),g=s("]"),v=s(","),m=r(o);if(d)if(r(a)!==f||h)c+=f;else{a.pop();var y=t(c);m.push(y),u=y,c=""}else if(g&&","===f)c&&(m.push(t(c)),c="");else if(p&&":"===f)a.push(","),c&&(m.push(c),c="");else if(v&&","===f)c&&(m.push(t(c)),c=""),a.pop();else if("}"===f&&(p||v)){c&&(m.push(t(c)),c=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===f&&g?(c&&(m.push(t(c)),c=""),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):"{"===f?(o.push([]),a.push("}")):"["===f?(o.push([]),a.push("]")):'"'===f?a.push('"'):"'"===f?a.push("'"):c+=f;l+=1}else l+=1}return u||c}function gge(e,t){var n={},r=e.getAttributeNames&&e.getAttributeNames()||[],i=e.children&&Array.from(e.children).map((function(e){return gge(e,t)})),o={},a=e.tagName?e.tagName.toLowerCase():"group";return"text"===a&&(n.text=e.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(r).forEach((function(t){var r=function(e){return e.split("-").reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}))}(t),i=e.getAttribute(t);try{if("style"===r||"attrs"===r){var a=pge(i);n=(0,Fse.__assign)((0,Fse.__assign)({},n),a)}else o[r]=pge(i)}catch(li){if("style"===r)throw li;o[r]=i}})),o.attrs=n,t&&t.style&&o.name&&"object"===hge(t.style[o.name])&&(o.attrs=(0,Fse.__assign)((0,Fse.__assign)({},o.attrs),t.style[o.name])),t&&t.style&&o.keyshape&&(o.attrs=(0,Fse.__assign)((0,Fse.__assign)({},o.attrs),t.style)),i.length&&(o.children=i),o}function vge(e,t){var n;void 0===t&&(t={x:0,y:0});var r=(0,Fse.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var i=e.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,Fse.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var l=vge(e.children[u],s);if(l.bbox){var c=l.bbox;"inline"===l.attrs.next?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return e.bbox=function(e,t,n){var r,i,o=e.attrs,a=void 0===o?{}:o,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=Fce(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,e.attrs=(0,Fse.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=(0,Fse.__assign)((0,Fse.__assign)({},e.attrs),e.bbox),e}function mge(e,t){var n,r,i,o,a=(e||{}).type,s=((null===t||void 0===t?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:a,key:s};if(e&&!t)return{action:"add",val:e,type:a};if(!e&&!t)return{action:"same",type:a};var u=[];if((null===(n=e.children)||void 0===n?void 0:n.length)>0||(null===(r=t.children)||void 0===r?void 0:r.length)>0)for(var l=Math.max(null===(i=e.children)||void 0===i?void 0:i.length,null===(o=t.children)||void 0===o?void 0:o.length),c=t.children||[],f=e.children||[],d=0;d<l;d+=1)u.push(mge(f[d],c[d]));var h=Object.keys(t.attrs),p=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:u}:h.filter((function(e){return"children"!==e})).some((function(n){return e.attrs[n]!==t.attrs[n]||!p.includes(n)}))?{action:"change",val:e,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function yge(e){var t={},n=function(t){var n=function(e){return function(t){for(var n=e.length,r=[],i=0,o="";i<n;)if("{"===e[i]&&"{"===e[i+1])r.push(o),o="",i+=2;else if("}"===e[i]&&"}"===e[i+1]){if(r.length){var a=r.pop();o=(0,jse.get)(t,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=e[i],i+=1;return r.push(o),r.map((function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e})).join("")}}("function"===typeof e?e(t):e)(t),r=document.createElement("div");r.innerHTML=n;var i=vge(gge(r.children[0],t));return r.remove(),i};return{draw:function(e,r){var i=n(e),o=r;return function e(t){var n=t.attrs,i=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,l=(0,Fse.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var c=r.addShape(t.type,(0,Fse.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},l));t.keyshape&&(o=c)}t.children&&t.children.forEach((function(t){return e(t)}))}(i),t[e.id]=[i],o},update:function(e,r){t[e.id]||(t[e.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(e),s=mge(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&i.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))},l=function e(t){var n,r=o.find((function(e){return e.attrs.key===t.attrs.key}));r&&i.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))};!function e(t){var n=t.key;if("group"!==t.type){var i=o.find((function(e){return e.attrs.key===n}));switch(t.action){case"change":if(i){var a=t.val.keyshape?r.getOriginStyle():{};i.attr((0,Fse.__assign)((0,Fse.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":l(t.val);break;case"restructure":l(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return e(t)}))}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var bge={};function xge(e){return bge[e]||(bge[e]=(0,jse.upperFirst)(e)),bge[e]}var wge={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this;return t[e]||t[t.defaultShapeType]||t["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var i=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,i),i},baseUpdate:function(e,t,n,r){var i,o,a=this.getShape(e);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,t,r),null===(o=a.update)||void 0===o||o.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},_ge={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},Sge=function(){function e(){}return e.registerFactory=function(t,n){var r=xge(t),i=wge,o=(0,Fse.__assign)((0,Fse.__assign)({},i),n);return e[r]=o,o.className=r,o},e.getFactory=function(t){return e[xge(t)]},e.registerNode=function(t,n,r){var i,o=e.Node;if("string"===typeof n||"function"===typeof n){var a=yge(n);i=(0,Fse.__assign)((0,Fse.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=yge(n.jsx);i=(0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):_ge;i=(0,Fse.__assign)((0,Fse.__assign)({},s),n)}return i.type=t,i.itemType="node",o[t]=i,i},e.registerEdge=function(t,n,r){var i=e.Edge,o=r?i.getShape(r):_ge,a=(0,Fse.__assign)((0,Fse.__assign)({},o),n);return a.type=t,a.itemType="edge",i[t]=a,a},e.registerCombo=function(t,n,r){var i=e.Combo,o=r?i.getShape(r):_ge,a=(0,Fse.__assign)((0,Fse.__assign)({},o),n);return a.type=t,a.itemType="combo",i[t]=a,a},e}(),Ege=Sge;Sge.registerFactory("node",{defaultShapeType:"circle"}),Sge.registerFactory("edge",{defaultShapeType:"line"}),Sge.registerFactory("combo",{defaultShapeType:"circle"});var Cge="bboxCache",kge="bboxCanvasCache",Mge=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=ige(i),this.get("model").id=r),this.set("id",r);var o=e.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var l=this.get("styles")||n.stateStyles;l=(0,jse.deepMix)({},u.stateStyles,l),this.set("styles",l)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Nce(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Nce(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),r=e.get("model");n.clear();var i=r.visible;if(void 0===i||i||e.changeVisibility(i),t){e.updatePosition(r);var o=e.getShapeCfg(r),a=o.type,s=t.draw(a,o,n);s&&(e.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(t,a)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==i){var l=a[s];o[s]||(o[s]={}),l?Object.keys(u).forEach((function(e){var t=u[e];t!==l[e]&&(o[s][e]=t)})):o[s]="image"!==n.get("type")?(0,jse.clone)(u):r.getShapeStyleByName(s)}else{var c=n.attr(),f={};Object.keys(a).forEach((function(e){var t=a[e];e!==i&&(0,jse.isPlainObject)(t)||(f[e]=t)})),Object.keys(c).forEach((function(e){var t=c[e];f[e]!==t&&(i?o[i][e]=t:o[e]=t)}))}};for(l=0;l<t.length;l++)s(l);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var u={},l=0;l<t.length;l++){var c=t[l],f=c.get("type"),d=c.get("name");if(d&&d!==i)u[d]="image"!==f?(0,jse.clone)(c.attr()):r.getShapeStyleByName(d),"text"===f&&u[d]&&(delete u[d].x,delete u[d].y,delete u[d].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,i)if(d)u[i]=h;else{var p=ige("shape");c.set("name",p),e.shapeMap[p]=c,u[p]="image"!==f?(0,jse.clone)(c.attr()):r.getShapeStyleByName(d)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");(0,jse.each)(r,(function(r){e.setState(t,r,!0,n)}))},e.prototype.init=function(){var e=Ege.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){(0,jse.isPlainObject)(e)?this._cfg=(0,Fse.__assign)((0,Fse.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(Cge,null),this.set(kge,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return(0,jse.each)(t.attr(),(function(e,t){("img"!==t||(0,jse.isString)(e))&&(r[t]=e)})),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=(0,Fse.__assign)((0,Fse.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?((0,jse.each)(e.getStates(),(function(n){t=Object.assign(t,e.getStateStyle(n))})),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),i=e,o=e;(0,jse.isString)(t)&&(i="".concat(e,":").concat(t),o="".concat(e,":"));var a=n;if((0,jse.isBoolean)(t)){var s=n.indexOf(o);if(t){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if((0,jse.isString)(t)){var u=n.filter((function(e){return e.includes(o)}));u.length>0&&this.clearStates(u),(a=a.filter((function(e){return!e.includes(o)}))).push(i),this.set("states",a)}if(r){var l=this.get("model").type;r.setState(l,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),i=t.get("model").type;e||(e=n),(0,jse.isString)(e)&&(e=[e]);var o=n.filter((function(t){return-1===e.indexOf(t)}));t.set("states",o),e.forEach((function(e){r.setState(i,e,!1,t)}))},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,jse.mix)(a,s),delete e.stateStyles}Object.assign(n,e),o.x===e.x&&o.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,e);t.baseUpdate(r,i,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),Xle(i,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get(Cge);return e||(e=this.calculateBBox(),this.set(Cge,e)),e},e.prototype.getCanvasBBox=function(){var e=this.get(kge);return e||(e=this.calculateCanvasBBox(),this.set(kge,e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),Ige=Mge,Tge={source:"start",target:"end"},Age="Node",Nge="Point",Dge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=Tge[e]+Nge,r=e+Age,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,jse.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=Tge[e]+Nge,i=e+Age,o=this.get(r);if(!o){var a=this.get(i),s=e+"Anchor",u=this.getPrePoint(e,n),l=t[s];(0,jse.isNil)(l)||(o=a.getLinkPointByAnchor(l)),o=o||a.getLinkPoint(u),(0,jse.isNil)(o.index)||this.set("".concat(e,"AnchorIndex"),o.index)}return o},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+Age,n=Tge[e]+Nge,r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=e.type;return r.getControlPoints(i,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+Age,n=Tge[e]+Nge,r=this.get(t);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this,i=r.get("linkCenter"),o=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var a=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",t,a),o.endPoint=r.getLinkPoint("target",t,a)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat(Age)),n=this.get("target".concat(Age));return t?delete e["source".concat(Age)]:e.source=this.get("start".concat(Nge)),n?delete e["target".concat(Age)]:e.target=this.get("end".concat(Nge)),(0,jse.isString)(e.source)||(0,jse.isPlainObject)(e.source)||(e.source=e.source.getID()),(0,jse.isString)(e.target)||(0,jse.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(e.stateStyles){var a=e.stateStyles;(0,jse.mix)(o,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat(Age)),n=this.get("target".concat(Age));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(Ige),Pge=Dge,Oge="anchorPointsCache",Lge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],i=Wle(e[0],t),o=0;o<e.length;o++){var a=e[o],s=Wle(a,t);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("target")===e}))},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("source")===e}))},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter((function(e){return e.getSource()===t})).map((function(e){return e.getTarget()}))}if("source"===e){return n.filter((function(e){return e.getTarget()===t})).map((function(e){return e.getSource()}))}return n.map((function(e){return e.getSource()===t?e.getTarget():e.getSource()}))},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(t=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(t=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=Fle({x:t,y:n,r:o.width/2},e);break;case"ellipse":a=jle({x:t,y:n,rx:o.width/2,ry:o.height/2},e);break;default:a=zle(o,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get(Oge);if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=t.getAnchorPoints(o,i)||[];(0,jse.each)(a,(function(t,r){var i={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(i)})),this.set(Oge,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(Oge,null)},t.prototype.getUpdateType=function(e){var t,n,r,i,o;if(e){var a=!(0,jse.isNil)(e.x),s=!(0,jse.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":(0,jse.isNumber)(e.x)||(0,jse.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.rx)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(Ige),Rge=Lge,Bge="bboxCache",zge="bboxCanvasCache",Fge="sizeCache",jge="anchorPointsCache",Gge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,i={r:Math.hypot(n.height,n.width)/2||Ece.defaultCombo.size[0]/2,width:n.width||Ece.defaultCombo.size[0],height:n.height||Ece.defaultCombo.size[1]};r.style=(0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)({},t),e.style),i);var o=e.padding||Ece.defaultCombo.padding;return(0,jse.isNumber)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(Fge,i),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=Nce(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(Fge),i=this.get(Bge)||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set(jge,null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(zge,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(Bge,null),this.set(zge,null),this.set(jge,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set(Fge,null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(Rge),Vge=Gge,Uge="node",Wge="edge",Zge="vedge",Hge="combo",Yge="Mapper",Xge="stateStyles",Kge=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,jse.throttle)((function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var i=t.edgeToBeUpdateMap;i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)&&(Object.keys(i).forEach((function(e){var t=i[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(i[e].updateType)}})),t.edgeToBeUpdateMap={})}}),16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r=e===Zge?Wge:e,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,jse.upperFirst)(r),a=null,s=n.get(r+(0,jse.upperFirst)(Xge))||{},u=n.get("default"+o);t.stateStyles&&(s=t.stateStyles),u&&(0,jse.each)(u,(function(e,n){(0,jse.isObject)(e)&&!(0,jse.isArray)(e)?t[n]=(0,jse.deepMix)({},e,t[n]):(0,jse.isArray)(e)?t[n]=t[n]||(0,jse.clone)(u[n]):t[n]=t[n]||u[n]}));var l=n.get(r+Yge);if(l){var c=l(t);c.stateStyles&&(s=c.stateStyles,delete c.stateStyles),(0,jse.each)(c,(function(e,n){(0,jse.isObject)(e)&&!(0,jse.isArray)(e)?t[n]=(0,jse.deepMix)({},t[n],e):t[n]=c[n]||t[n]}))}if(n.emit("beforeadditem",{type:e,model:t}),e===Wge||e===Zge){var f=void 0,d=void 0;if(f=t.source,d=t.target,f&&(0,jse.isString)(f)&&(f=n.findById(f)),d&&(0,jse.isString)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),a=new Pge({model:t,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(e===Uge)a=new Rge({model:t,styles:s,group:i.addGroup()});else if(e===Hge){var h=t.children,p=Vce(h,n),g=void 0,v=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(t.y)&&(v=100*Math.random()):v=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=v;else{var m=t.x-g,y=t.y-v;this.updateComboSucceeds(t.id,m,y,h)}var b=i.addGroup();b.setZIndex(t.depth);var x=(a=new Vge({model:t,styles:s,bbox:t.collapsed?Vce([],n):p,group:b})).getModel();(h||[]).forEach((function(e){var t=n.findById(e.id);a.addChild(t),e.depth=x.depth+2})),t.collapsed&&setTimeout((function(){a.destroyed||(n.collapseCombo(a),n.updateCombo(a))}),0)}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,i=this,o=this.graph;if((0,jse.isString)(e)&&(e=o.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=o.get(a+Yge),u=e.getModel(),l=u.x,c=u.y,f=e.getUpdateType(t);if(s){var d=s((0,jse.deepMix)({},u,t)),h=(0,jse.deepMix)({},u,d,t);d.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),(0,jse.each)(h,(function(e,n){t[n]=e}))}else(0,jse.each)(t,(function(e,n){u[n]&&(0,jse.isObject)(e)&&!(0,jse.isArray)(e)&&(t[n]=(0,Fse.__assign)((0,Fse.__assign)({},u[n]),t[n]))}));if(o.emit("beforeupdateitem",{item:e,cfg:t}),a===Wge){if(t.source){var p=t.source;(0,jse.isString)(p)&&(p=o.findById(p)),e.setSource(p)}if(t.target){var g=t.target;(0,jse.isString)(g)&&(g=o.findById(g)),e.setTarget(g)}e.update(t)}else if(a===Uge){e.update(t,f);var v=e.getEdges(),m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f;"move"===f?(0,jse.each)(v,(function(e){i.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:f},i.throttleRefresh()})):m&&(0,jse.each)(v,(function(e){e.refresh(f)}))}else if(a===Hge){if(e.update(t,f),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-l||0,b=t.y-c||0;this.updateComboSucceeds(u.id,y,b)}var x=e.getEdges();if((m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f)&&a===Hge){var w=e.get("shapeFactory"),_=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=w[_])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(0,jse.each)(x,(function(e){e&&!e.destroyed&&e.refresh()}))}}),201):(0,jse.each)(x,(function(e){e.refresh()}))}}o.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,i,o=this,a=this.graph;if((0,jse.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=Vce(t,a,e),l=u.x,c=u.y;e.set("bbox",u);var f=l,d=c;n?(f=isNaN(s.x)?l:s.x,d=isNaN(s.y)?c:s.y):(f=isNaN(l)?s.x:l,d=isNaN(c)?s.y:c),e.update({x:f,y:d});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),o.updateComboEdges(e))}}),201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];if(r&&!r.destroyed){var i=r.get("shapeFactory"),o=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=i.draw(o.type,o,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},e.prototype.collapseCombo=function(e){var t=this.graph;(0,jse.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.hideItem(e)})),n.combos.forEach((function(e){t.hideItem(e)}))},e.prototype.updateComboSucceeds=function(e,t,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach((function(t){Rce(t,(function(t){return t.id!==e||(a=t.children,!1)}))}))}null===a||void 0===a||a.forEach((function(e){var r=o.findById(e.id);if(r){var a=r.getModel();i.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}}))}},e.prototype.expandCombo=function(e){var t=this.graph;(0,jse.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.showItem(e)})),n.combos.forEach((function(e){e.getModel().collapsed?e.show():t.showItem(e)}))},e.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,jse.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=(0,jse.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var i="";e.getType&&(i=e.getType());var o=n.get("".concat(i,"s")),a=o.indexOf(e);if(a>-1&&o.splice(a,1),i===Wge){var s=n.get("v".concat(i,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var l=e.get("id");delete n.get("itemMap")[l];var c=n.get("comboTrees"),f=e.get("id");if(i===Uge){var d=e.getModel().comboId;if(c&&d){var h=c,p=!1;c.forEach((function(e){p||Rce(e,(function(e){if(e.id===f&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0}))}))}for(var g=(b=e.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if(i===Hge){var v,m=e.getModel().parentId,y=!1;(c||[]).forEach((function(e){y||Rce(e,(function(e){return e.id!==f||(v=e,y=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(e){t.removeItem(e.id)}));var b;for(g=(b=e.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,i=t;(0,jse.isString)(n)&&(i="".concat(t,":").concat(n)),e.hasState(i)===n&&n||(0,jse.isString)(n)&&e.hasState(i)||(r.emit("beforeitemstatechange",{item:e,state:i,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:i,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;(0,jse.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;(0,jse.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;(0,jse.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach((function(e){Bce(e,(function(e){var r;return t.forEach((function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if((0,jse.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===Uge){var i=e.getEdges();(0,jse.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}else if(e.getType&&e.getType()===Hge){var o=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(o||[]).forEach((function(e){u||e.children&&0!==e.children.length&&Rce(e,(function(e){return e.id!==a||(s=e.children,u=!0,!1)}))})),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach((function(e){var i=r.findById(e.id);n.changeItemVisibility(i,t)}));i=e.getEdges();(0,jse.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),qge=Kge,$ge=null,Qge=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var i=this,o=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,l=s.disabled;r?(o(t,n,l),a(t,n,u)):(o(t,n,u),a(t,n,l)),$ge&&clearTimeout($ge),$ge=setTimeout((function(){$ge=null,i.updateGraphStates()}),16)}},e.prototype.updateStates=function(e,t,n){var r=this;(0,jse.isString)(t)?this.updateState(e,t,n):t.forEach((function(t){r.updateState(e,t,n)}))},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,jse.each)(t.disabled,(function(t,n){e[n]&&(e[n]=e[n].filter((function(e){return t.indexOf(e)<0&&!t.destroyed})))})),(0,jse.each)(t.enabled,(function(t,n){if(e[n]){var r={};e[n].forEach((function(e){e.destroyed||(r[e.get("id")]=!0)})),t.forEach((function(t){if(!t.destroyed){var i=t.get("id");r[i]||(r[i]=!0,e[n].push(t))}}))}else e[n]=t})),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,$ge&&clearTimeout($ge),$ge=null,this.destroyed=!0},e}(),Jge=Qge,eve=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""})):e},tve=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.x,a=i.y;t.push(o),t.push(a)}var s=Vpe(t);return s.unshift(["M",e[0].x,e[0].y]),s},nve=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},o=[0,0];Ale(o,[t.x-e.x,t.y-e.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},rve=function(e,t){var n=e.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=e[i];r+=eve(0===i?"M{x} {y}":"L{x} {y}",o)}return t&&(r+="Z"),r},ive=function(e){var t=[];return e.forEach((function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}})),t},ove=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(r),e.unshift(i),e.push(t),e.push(n);for(var o=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,l=e[a].x,c=e[a].y,f=e[a+1].x,d=e[a+1].y,h=l+(f-s)/6,p=c+(d-u)/6,g=f-((a!==e.length-2?e[a+2].x:f)-l)/6,v=d-((a!==e.length-2?e[a+2].y:d)-c)/6;o.push(["C",h,p,g,v,f,d])}return o.unshift(["M",r.x,r.y]),o},ave=function(e,t){return Ile([0,0],Ale([0,0],e),t)},sve=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},uve=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function lve(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=Ile([0,0],sve(e[0],e[1]),t),r=Ile([0,0],n,-1),i=Cle([0,0],e[0],n),o=Cle([0,0],e[1],n),a=Cle([0,0],e[1],r),s=Cle([0,0],e[0],r);return"M ".concat(i," L ").concat(o," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",i].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var i=0===r?e[e.length-1]:e[r-1],o=e[r],a=Ile([0,0],sve(i,o),t);n[r]=[Cle([0,0],i,a),Cle([0,0],o,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return n=n.map((function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})),n.join(" ")}function cve(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=uve(e[0],e[1]),r=ave(n,t),i=Cle([0,0],e[0],Ile([0,0],r,-1)),o=Cle([0,0],e[1],r),a=1.2*t,s=ave(Ale([0,0],n),a),u=Ile([0,0],s,-1),l=Cle([0,0],i,u),c=Cle([0,0],o,u),f=Cle([0,0],i,s);return"M ".concat(i," C ").concat([l,c,o].join(",")," S ").concat([f,i].join(",")," Z")}(e);for(var r=e.map((function(t,r){var i=e[(r+1)%n];return{p:t,v:Ale([0,0],uve(t,i))}})),i=0;i<r.length;++i){var o=Ale([0,0],Cle([0,0],r[i>0?i-1:n-1].v,Ile([0,0],r[i].v,-1)));r[i].p=Cle([0,0],r[i].p,Ile([0,0],o,t))}return r.map((function(e){var t=e.p;return{x:t[0],y:t[1]}}))}var fve=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},dve=function(e){var t=e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}}));if(t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x})),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&fve(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var i=[];for(r=t.length-1;r>=0;r--){for(;i.length>=2&&fve(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}return i.pop(),n.pop(),n.concat(i)},hve={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function pve(e,t,n){var r=!1,i=function(e,n){return t.cells[e+n*t.width]},o=function(e,t){var r=0;return i(e-1,t-1)>=n&&(r+=1),i(e,t-1)>n&&(r+=2),i(e-1,t)>n&&(r+=4),i(e,t)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,l=0;l<t.width*t.height;l++){if(i=s,a=u,e.findIndex((function(e){return e.x===s&&e.y===u}))>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var c=o(s,u);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(c)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)i(e,s)>n&&15!==o(e,s)&&(r=a(e,s));return r}}var gve=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach((function(e){var i=sce(e,t);i>=0&&i<n&&(r=e,n=i)})),r};function vve(e,t,n,r,i){var o=function(e,t,n){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach((function(t){var o={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=lce(o,a),u=new rce(o.x,o.y,a.x,a.y),l=n.reduce((function(e,t){return sce(t,u)>0?e+1:e}),0);s*Math.pow(l+1,2)<i&&(r=t,i=s*Math.pow(l+1,2))})),r}(e,n,t);if(null===o)return[];var a=function(e,t,n,r){var i=[],o=[];o.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach((function(t){n||(fce(e,{x:t.x1,y:t.y1})||fce(e,{x:t.x2,y:t.y2}))&&(n=!0)})),n},l=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(ece(o,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var e=o.pop(),n=gve(t,e);if(n){var c=ace(n,e),f=c[0];if(2===c[1]){var d=function(s){for(var c=r,d=bve(n,c,f,s),h=u(d,o)||u(d,i),p=l(d,t);!h&&p&&c>=1;)d=bve(n,c/=1.5,f,s),h=u(d,o)||u(d,i),p=l(d,t);!d||h||s&&p||(o.push(new rce(e.x1,e.y1,d.x,d.y)),o.push(new rce(d.x,d.y,e.x2,e.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(e),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i}(new rce(e.getModel().x,e.getModel().y,o.getModel().x,o.getModel().y),t,r,i),s=function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var i=e.pop(),o=new rce(r.x1,r.y1,i.x2,i.y2);gve(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(a);return s}var mve=function(e,t,n){var r=Object.assign(hve,n),i=uce(e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}})));e=e.sort((function(e,t){return lce({x:e.getModel().x,y:e.getModel().y},i)-lce({x:t.getModel().x,y:t.getModel().y},i)}));var o=[],a=[];e.forEach((function(e){vve(e,t,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(e){a.push(e)})),o.push(e)}));for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];e.forEach((function(e){i.push(e.getBBox())})),t.forEach((function(e){i.push(e.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),i=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*i)).fill(0),width:r,height:i}}(s.width,s.height,r.pixelGroupSize),l=[],c=[],f=0;f<r.maxMarchingIterations;f++)if(yve(e,t,a,s,u,r),c=[],new pve(l=[],u,r.threshold).march()){var d=l.map((function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}}));if(d){var h=d.length;if(r.skip>1)for(h=Math.floor(d.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(d.length/r.skip);for(var p=0,g=0;g<h;g+=1,p+=r.skip)c.push({x:d[p].x,y:d[p].y})}if(c&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=c.map((function(e){return[e.x,e.y]}));if(!ece(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return c;if(r.threshold*=.9,f<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return c};function yve(e,t,n,r,i,o){function a(e,t){var n=Math.floor((e-t)/o.pixelGroupSize);return n<0?0:n}function s(e,t){return e*o.pixelGroupSize+t}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),l=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(e,t){return[Math.min(a(e.minX,t+r.minX),i.width),Math.min(a(e.minY,t+r.minY),i.height),Math.min(a(e.maxX,-t+r.minX),i.width),Math.min(a(e.maxY,-t+r.minY),i.height)]},f=function(e,t){for(var n=e.getBBox(),a=c(n,o.nodeR1),u=a[0],l=a[1],f=a[2],d=a[3],h=l;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=dce({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;i.cells[p+h*i.width]+=t*y*y}}};o.nodeInfluenceFactor&&e.forEach((function(e){f(e,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(e){!function(e,t){for(var n=e.getBBox(),a=c(n,o.edgeR1),u=a[0],l=a[1],f=a[2],d=a[3],h=l;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i.cells[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=cce({x:g,y:v},e);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;i.cells[p+h*i.width]+=t*y*y}}}(e,o.edgeInfluenceFactor/l)})),o.negativeNodeInfluenceFactor&&t.forEach((function(e){f(e,o.negativeNodeInfluenceFactor/u)}))}function bve(e,t,n,r){var i=e.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],l={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},c=i.height*i.width;function f(e,t){return i.width*(.5*(e.y-i.minY+(t.y-i.minY)))}if(a)return o?r?l.topLeft:l.bottomRight:s?r?l.bottomLeft:l.topRight:f(a,u)<.5*c?a.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:a.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft;if(u){if(o)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}return f(o,s)<.5*c?o.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:o.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var xve=function(){function e(e,t){this.cfg=(0,jse.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(t){return(0,jse.isString)(t)?e.findById(t):t})),this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,jse.isString)(t)?e.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,i;switch(this.type){case"round-convex":r=Zpe(i=lve((n=dve(e)).map((function(e){return[e.x,e.y]})),this.padding));break;case"smooth-convex":2===(n=dve(e)).length?r=Zpe(i=lve(n.map((function(e){return[e.x,e.y]})),this.padding)):n.length>2&&(i=cve(n.map((function(e){return[e.x,e.y]})),this.padding),r=ove(i));break;case"bubble":r=(n=mve(e,t,this.cfg.bubbleCfg)).length>=2&&ove(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:(0,Fse.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){(0,jse.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){(0,jse.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){(0,jse.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){(0,jse.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map((function(e){return(0,jse.isString)(e)?n.graph.findById(e):e}))),t&&(this.nonMembers=t.map((function(e){return(0,jse.isString)(e)?n.graph.findById(e):e}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr((0,Fse.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=(0,jse.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map((function(e){return(0,jse.isString)(e)?t.graph.findById(e):e}))),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,jse.isString)(e)?t.graph.findById(e):e}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,i=(t=(0,jse.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=ive(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]})),nce(n,ive(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),wve=xve,_ve=Qse,Sve=function(e){function t(t){var n=e.call(this)||this;return n.cfg=(0,jse.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new xle(n.cfg.maxStep),n.redoStack=new xle(n.cfg.maxStep)),n}return(0,Fse.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new dge(this),t=new Yce(this),n=new qge(this),r=new Jge(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:Ece.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:Ece.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:Ece.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:Ece.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:Ece.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return(0,jse.isPlainObject)(e)?this.cfg=(0,Fse.__assign)((0,Fse.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new xle(this.cfg.maxStep),this.redoStack=new xle(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){(0,jse.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return(0,jse.each)(r,(function(e,r){if(t(e,r))return n=e})),n},t.prototype.findAll=function(e,t){var n=[];return(0,jse.each)(this.get("".concat(e,"s")),(function(e,r){t(e,r)&&n.push(e)})),n},t.prototype.findAllByState=function(e,t){return this.findAll(e,(function(e){return e.hasState(t)}))},t.prototype.getAnimateCfgWithCallback=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=(0,jse.clone)(n),n.callback){var i=n.callback;t.callback=function(){r(),i()}}else t.callback=r;else t={duration:500,callback:r};return t},t.prototype.translate=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,jse.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});Kle(o,{x:o.getCanvasBBox().x+e,y:o.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=_ve(a,[["t",e,t]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var i=this.get("group");Kle(i,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},t.prototype.fitView=function(e,t){e&&this.set("fitViewPadding",e);var n=this.get("viewController");t?n.fitViewByRules(t):n.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,jse.clone)(o.getMatrix()),s=this.get("minZoom"),u=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=_ve(a,t?[["t",-t.x,-t.y],["s",e,e],["t",t.x,t.y]]:[["s",e,e]]),s&&a[0]<s||u&&a[0]>u)return!1;if(n){var l=(0,jse.clone)(o.getMatrix());l||(l=[1,0,0,0,1,0,0,0,1]);var c=l[0],f=c*e,d=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(e){if(1===e)l=a;else{var n=pce(c,f,e)/l[0];l=_ve(l,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:l}}),d)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,t,n,r){var i=e/this.getZoom();return this.zoom(i,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),i=!1;t?i=!0:void 0===t&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(e,i,o),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if((0,jse.isString)(e)&&(n=this.findById(e)),!n&&(0,jse.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var i=(0,Fse.__assign)((0,Fse.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,Fse.__assign)((0,Fse.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=Gce(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!(0,jse.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var a,s=this.get("comboTrees")||[];if("combo"===e){var u=this.get("itemMap"),l=!1;if(s.forEach((function(n){l||Bce(n,(function(n){if(t.parentId===n.id){l=!0;var r=(0,Fse.__assign)({id:t.id,depth:n.depth+2},t);n.children?n.children.push(r):n.children=[r],t.depth=r.depth,a=o.addItem(e,t)}var i=u[n.id];return l&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!l){var c=(0,Fse.__assign)({id:t.id,depth:0},t);t.depth=c.depth,s.push(c),a=o.addItem(e,t)}this.set("comboTrees",s)}else if("node"===e&&(0,jse.isString)(t.comboId)&&s){var f;(f=this.findById(t.comboId))&&f.getType&&"combo"!==f.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=o.addItem(e,t);var d=this.get("itemMap"),h=!1,p=!1;s.forEach((function(e){p||h||Bce(e,(function(e){if(e.id===t.id)return p=!0,!1;if(t.comboId===e.id&&!p){h=!0;var n=(0,jse.clone)(t);n.itemType="node",e.children?e.children.push(n):e.children=[n],n.depth=e.depth+1}return h&&d[e.id].getType&&"combo"===d[e.id].getType()&&o.updateCombo(d[e.id],e.children),!0}))}))}else a=o.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(f=this.findById(t.comboId||t.parentId))&&f.getType&&"combo"===f.getType()&&f.addChild(a);var g=this.get("combos");if(g&&g.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var v=(0,Fse.__assign)((0,Fse.__assign)({},a.getModel()),{itemType:e}),m={};switch(e){case"node":m.nodes=[v];break;case"edge":m.edges=[v];break;case"combo":m.combos=[v]}this.pushStack("add",{before:{},after:m})}return a}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,jse.isString)(e)?this.findById(e):e;var a=(0,jse.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=(0,Fse.__spreadArray)([],i.getStates(),!0);if("combo"===s&&(0,jse.each)(u,(function(e){return r.setItemState(i,e,!1)})),o.updateItem(i,t),"combo"===s&&(0,jse.each)(u,(function(e){return r.setItemState(i,e,!0)})),n&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},f=(0,Fse.__assign)({id:a.id},t);switch(s){case"node":l.nodes.push(a),c.nodes.push(f);break;case"edge":l.edges.push(a),c.edges.push(f);break;case"combo":l.combos.push(a),c.combos.push(f)}"node"===s&&l.nodes.push(a),this.pushStack("update",{before:l,after:c})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){(0,jse.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");(0,jse.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){Zce(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),(0,jse.each)(r,(function(t){e.add("node",t,!1,!1)})),0!==(null===s||void 0===s?void 0:s.length)){var u=jce(s,r);this.set("comboTrees",u),e.addCombos(s)}(0,jse.each)(o,(function(t){e.add("edge",t,!1,!1)}));var l=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var c=e.get("layoutController");if(c){if(c.layout((function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter();e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",l)})),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",l);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach((function(e){e.toFront()})):this.getEdges().forEach((function(e){e.toBack()})));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,i=this,o=this.get("itemMap");(0,jse.each)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)}))},t.prototype.changeData=function(e,t){void 0===t&&(t=!0);var n=this,r=e||n.get("data");if(!Zce(r))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:r}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(e){return n.clearItemStates(e)})),this.getEdges().map((function(e){return n.clearItemStates(e)}));var i=this.get("canvas"),o=i.get("localRefresh");i.set("localRefresh",!1),n.get("data")||(n.data(r),n.render());var a=this.get("itemMap"),s={nodes:[],edges:[]},u=r.combos;if(u){var l=jce(u,r.nodes);this.set("comboTrees",l)}else this.set("comboTrees",[]);this.diffItems("node",s,r.nodes),(0,jse.each)(a,(function(e,t){a[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete a[t],e.destroy()):s.nodes.indexOf(e)<0&&(delete a[t],n.remove(e,!1)))}));for(var c=this.getCombos(),f=c.length-1;f>=0;f--)c[f].destroyed&&c.splice(f,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",s,r.edges),(0,jse.each)(a,(function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&s.edges.indexOf(e)<0&&(delete a[t],n.remove(e,!1))})),this.set({nodes:s.nodes,edges:s.edges});var d=this.get("layoutController");return d&&(d.changeData(),n.get("animate")&&!d.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){i.set("localRefresh",o)}),16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,i="";if(e){if((0,jse.isString)(e))i=e,r={id:e};else{if(!(i=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var o=t.map((function(e){var t=n.findById(e),r=t.getModel(),o="";t.getType&&(o=t.getType());var a={id:t.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(e){Bce(e,(function(e){return e.id!==i||(e.itemType="combo",e.children=o,!1)}))})),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if((0,jse.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var i=r.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=r.get("id"),l=[],c=this.get("combos"),f=this.findById(i);if(o.forEach((function(e){a||Bce(e,(function(e){var t;if(e.id===u){a=e;var o=r.getEdges().map((function(e){return e.getID()}));o.forEach((function(e){n.removeItem(e,!1)}));var d=c.indexOf(r);c.splice(d,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!i||!a||e.id!==i||(f.removeCombo(r),-1!==(d=(l=e.children).indexOf(a))&&l.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=i,delete e.comboId,r.parentId=i,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=i,r.comboId=i),f.addChild(t),l.push(e)})),!1)}))})),!i&&a){var d=o.indexOf(a);o.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&o.push(e)}))}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){Bce(n,(function(n){if(!n)return!0;var r=o[n.id];if(r&&r.getType&&"combo"===r.getType()){var a=(0,Fse.__spreadArray)([],r.getStates(),!0);(0,jse.each)(a,(function(e){return t.setItemState(r,e,!1)})),i.updateCombo(r,n.children,e),(0,jse.each)(a,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),n.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if((0,jse.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(e){Bce(e,(function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,Fse.__spreadArray)([],r.getStates(),!0);(0,jse.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)})),o.updateCombo(r,e.children),(0,jse.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)})),t&&(t=e.parentId)}return!0}))}))}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=(0,jse.isString)(e)?this.findById(e):e).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,l=this.get("comboTrees"),c=!0;if((l||[]).forEach((function(e){u||Rce(e,(function(e){if(!u)return e.id===r.getID()&&(u=e),!0}))})),Rce(u,(function(e){return e.id!==t||(c=!1,!1)})),!c)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:t}]):"node"===s&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:t}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(r)}("combo"===s?o.parentId=t:"node"===s&&(o.comboId=t),t)&&((i=this.findById(t))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=Gce(this.get("comboTrees"),o.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return(0,jse.each)(this.get("nodes"),(function(t){e.push(t.getModel())})),(0,jse.each)(this.get("edges"),(function(e){t.push(e.getModel())})),(0,jse.each)(this.get("combos"),(function(e){n.push(e.getModel())})),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var t=e.get("nodes"),n=e.get("edges"),r=e.get("edges");(0,jse.each)(t,(function(e){e.refresh()})),(0,jse.each)(n,(function(e){e.refresh()})),(0,jse.each)(r,(function(e){e.refresh()}))}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,jse.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,i=e?t.getNodes().concat(t.getCombos()):t.getNodes(),o=i.map((function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(n){(0,jse.each)(o,(function(e){var i=t.findById(e.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0!==o&&null!==o||(s&&(o={x:s[6],y:s[7]}),i.set("originAttrs",o||0)),r){var u=r(i,n,e,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(e.x-o.x)*n,a.y=o.y+(e.y-o.y)*n):(a.x=e.x,a.y=e.y)}})),t.refreshPositions(e)}),{duration:n.duration,easing:n.easing,callback:function(){(0,jse.each)(i,(function(e){e.set("originAttrs",null)})),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){var t=this;t.emit("beforegraphrefreshposition");var n,r=t.get("nodes"),i=t.get("edges"),o=t.get("vedges"),a=t.get("combos"),s={},u=function(e){(0,jse.each)(e,(function(e){n=e.getModel();var t=e.get("originAttrs");if(!t||n.x!==t.x||n.y!==t.y){var r=e.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r)}}))};u(r),a&&0!==a.length&&(e?(u(a),setTimeout((function(){t.updateCombos()}),0)):t.updateCombos()),(0,jse.each)(i,(function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!(0,jse.isPlainObject)(n)){var r=n.getModel();(s[t.id]||s[r.id]||e.getModel().isComboEdge)&&e.refresh()}})),(0,jse.each)(o,(function(e){e.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n){var r=this,i=this.get("layoutController");if((0,jse.isString)(e)&&(e={type:e}),t){var o=n;o||(o="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=["force","gForce","fruchterman"];a.includes(e.type)||!e.type&&a.includes(null===i||void 0===i?void 0:i.layoutType)?e.center=[o.x,o.y]:this.once("afterlayout",(function(e){var n=r.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*n[0]+n[6],o.y=o.y*n[0]+n[7];var i=r.getGroup().getCanvasBBox(),a=i.minX,s=i.maxX,u=i.minY,l={x:(a+s)/2,y:(u+i.maxY)/2};"begin"===t&&(l.x=a,l.y=u),r.translate(o.x-l.x,o.y-l.y)}))}var s=this.get("layout"),u={};Object.assign(u,s,e),this.set("layout",u),i&&(i.isLayoutTypeSame(u)&&u.gpuEnabled===s.gpuEnabled?i.updateLayoutCfg(u):i.changeLayout(u))},t.prototype.destroyLayout=function(){var e=this.get("layoutController");null===e||void 0===e||e.destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),t=this.get("layout");t&&e&&(t.workerEnabled?e.layout():e.layoutMethod?e.relayout(!0):e.layout())},t.prototype.collapseCombo=function(e){var t=this;if(!this.destroyed)if((0,jse.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").collapseCombo(e),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||Rce(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l=[];r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=t.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var c=s.id;if(u["".concat(n.id,"-").concat(c)])return void(u["".concat(n.id,"-").concat(c)]+=d.size||1);var f=t.addItem("vedge",{source:n.id,target:c,isVEdge:!0},!1);u["".concat(n.id,"-").concat(c)]=d.size||1,l.push(f)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var d;if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var h=r.getModel();!r.isVisible();){if(!(r=t.findById(h.parentId||h.comboId))||!h.parentId&&!h.comboId)return;h=r.getModel()}var p=h.id;if(u["".concat(p,"-").concat(n.id)])return void(u["".concat(p,"-").concat(n.id)]+=d.size||1);f=t.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);u["".concat(p,"-").concat(n.id)]=d.size||1,l.push(f)}}})),l.forEach((function(e){var n=e.getModel();t.updateItem(e,{size:u["".concat(n.source,"-").concat(n.target)]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e){var t=this;if((0,jse.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").expandCombo(e),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||Rce(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l={};r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget(),s=r.get("id"),c=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(var f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=a.getModel()}c=f.id;for(var d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=r.getModel()}if(s=d.id,c){var h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);var p=t.addItem("vedge",{source:s,target:c,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||c===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=r.getModel()}s=d.id;for(f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=a.getModel()}if(c=f.id,s){h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);p=t.addItem("vedge",{target:c,source:s,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&e.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e){if((0,jse.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var t=e.getModel(),n=this.findById(t.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}t.collapsed?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var t=[],n={};(this.get("comboTrees")||[]).forEach((function(e){Rce(e,(function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],n[e.id]=e.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(e){var r=e.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);t[a]?t[a].push(r.id):t[a]=[r.id]})),t.forEach((function(t){if(t&&t.length)for(var n=t.length-1;n>=0;n--){var r=e.findById(t[n]);r&&r.toFront()}}))}},t.prototype.getNeighbors=function(e,t){var n=e;return(0,jse.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;(0,jse.isString)(e)&&(r=this.findById(e));var i=this.get("degrees");i&&!n||(i=hue(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(t){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?(0,jse.clone)(t):{before:{},after:(0,jse.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=Jse(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=Jse(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=Mue(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,i;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),i=new wve(this,(0,Fse.__assign)((0,Fse.__assign)({},e),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=(0,jse.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach((function(t){e[t].destroy()})),this.set("hullMap",{}))},t}(Hse),Eve=Sve;function Cve(e){return Cve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cve(e)}var kve=Qse,Mve="-shape",Ive="-label",Tve=["startArrow","endArrow"],Ave={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Nve={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Ave,combo:Ave},Dve="-label-bg",Pve={options:{labelCfg:{style:{fontFamily:Ece.windowFontFamily}},descriptionCfg:{style:{fontFamily:Ece.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:(0,jse.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+Mve),t.shapeMap[this.itemType+Mve]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+Ive),t.shapeMap[this.itemType+Ive]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),i=r.rotate;delete r.rotate;var o=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=kve(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=kve(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=kve(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]])}else s=kve(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,o),l=this.itemType+Dve;u.set("classname",l),t.shapeMap[l]=u,o.toFront()}return o},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,i=(0,jse.mix)({},r,e.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),i="".concat(this.itemType,"Label"),o=Ece[i]?Ece[i].style:null;return(0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)({},o),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=t.getKeyShape(),a=(0,jse.mix)({},o.attr(),e.style),s=function(e){var t,n=a[e];if((0,jse.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[e])||i.find((function(t){return t.get("name")===e}));null===s||void 0===s||s.attr(n)}else o.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,i;if(e.label||""===e.label){var o=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+Ive,l=o.shapeMap[u]||o.find((function(e){return e.get("className")===u})),c=this.itemType+Dve,f=o.shapeMap[c]||o.find((function(e){return e.get("className")===c}));if(l){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,jse.deepMix)(s,e.labelCfg));var d=this.getLabelStyleByPosition(e,s,o),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=(0,Fse.__assign)((0,Fse.__assign)({},d),h),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=l.getMatrix())||void 0===i?void 0:i[4])&&l.resetMatrix(),l.attr(p);else{var v=[1,0,0,0,1,0,0,0,1];v=kve(v,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=v,l.attr(p)}if(f)if(p.background){var m=this.getLabelBgStyleByPosition(l,s);f.attr(m)}else o.removeChild(f);else p.background&&((f=this.drawLabelBg(e,o,l)).set("classname",c),o.shapeMap[c]=f,l.toFront())}else{var y=this.drawLabel(e,o);y.set("className",u),o.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=(0,jse.isBoolean)(t)?e:"".concat(e,":").concat(t),l=this.getStateStyle(u,n),c=n.getStateStyle(u);if(c||l){var f=(0,jse.mix)({},c||l),d=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=f[e];if((0,jse.isPlainObject)(n)&&!Tve.includes(e)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[e])||d.find((function(t){return t.get("name")===e}));null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var g in f)p(g)}else{var v=Wce(n.getCurrentStatesStyle()),m=n.getModel(),y=(0,jse.mix)({},m.style,Wce(n.getOriginStyle())),b=a.get("name"),x=a.attr(),w={};Object.keys(x).forEach((function(e){if("img"!==e){var t=x[e];t&&"object"===Cve(t)?w[e]=(0,jse.clone)(t):w[e]=t}}));var _={},S=function(e){var t=f[e];if((0,jse.isPlainObject)(t)&&!Tve.includes(e)){var n=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));if(n){var r=Wce(n.attr());(0,jse.each)(t,(function(t,i){if(e===b&&w[i]&&!h[i]){delete w[i];var o=y[e][i]||Nve[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=y[e][i]||Nve[s][i];n.attr(i,u)}})),_[e]=r}}else if(w[e]&&!h[e]){delete w[e];var i=y[e]||(y[b]?y[b][e]:void 0)||Nve[s][e];a.attr(e,i)}};for(var E in f)S(E);for(var g in b?_[b]=w:(0,jse.mix)(_,w),v)if(!h[g]){var C=v[g];(0,jse.isPlainObject)(C)&&!Tve.includes(g)||(b?((0,jse.mix)(y[b],((i={})[g]=C,i)),delete y[g]):(0,jse.mix)(y,((r={})[g]=C,r)),delete v[g])}var k={};(0,jse.deepMix)(k,y,_,v);var M=!1,I=function(e){var t,n,r=k[e];if((0,jse.isPlainObject)(r)&&!Tve.includes(e)){var i=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),M=!0),i.attr(r))}else if(!M){var o=r||Nve[s][e];"combo"===s?b||a.attr(((t={})[e]=o,t)):a.attr(((n={})[e]=o,n))}};for(var T in k)I(T)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:o&&o[e];return"combo"===r?(0,jse.clone)(u):(0,jse.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},Ove={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ece.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||Ece.defaultNode.size;return(0,jse.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,jse.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var r=t.offset;(0,jse.isNil)(r)&&(r=this.offset);var i,o=this.getSize(e);switch(n){case"top":i={x:0,y:-o[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":i={x:0,y:o[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":i={x:-o[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:i={x:o[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return i.text=e.label,i},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var i=e.getBBox(),o=oge(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return(0,Fse.__assign)((0,Fse.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),i=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=i,i},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,i=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),o=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),a=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),s=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=(0,jse.mix)({},n,e.linkPoints),l=u.fill,c=u.stroke,f=u.lineWidth,d=u.size/2;d||(d=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,g=h.right,v=h.top,m=h.bottom,y=this.getSize(e),b=y[0],x=y[1],w={r:d,fill:l,stroke:c,lineWidth:f};if(i)p||void 0===p?i.attr((0,Fse.__assign)((0,Fse.__assign)({},w),{x:-b/2,y:0})):(i.remove(),delete t.shapeMap["link-point-left"]);else if(p){var _="link-point-left";t.shapeMap[_]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},w),{x:-b/2,y:0}),className:_,name:_,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete t.shapeMap["link-point-right"]),o.attr((0,Fse.__assign)((0,Fse.__assign)({},w),{x:b/2,y:0}));else if(g){var S="link-point-right";t.shapeMap[S]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},w),{x:b/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(a)v||void 0===v||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr((0,Fse.__assign)((0,Fse.__assign)({},w),{x:0,y:-x/2}));else if(v){var E="link-point-top";t.shapeMap[E]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},w),{x:0,y:-x/2}),className:E,name:E,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr((0,Fse.__assign)((0,Fse.__assign)({},w),{x:0,y:x/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var C="link-point-bottom";t.shapeMap[C]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},w),{x:0,y:x/2}),className:C,name:C,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,i){t.get("keyShape").attr((0,Fse.__assign)({},n)),this.updateLabel(e,t,i),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),i=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(e){return e.get("name")==="".concat(n.type,"-icon")}));if(u)if(a||void 0===a){var l=(0,jse.mix)({},u.attr(),i),c=l.width,f=void 0===c?20:c,d=l.height,h=void 0===d?20:d;("iconfont"===l.fontFamily||l.hasOwnProperty("text"))&&(f=0,h=0),u.attr((0,Fse.__assign)((0,Fse.__assign)({},l),{x:-f/2,y:-h/2}))}else u.remove();else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{f=i.width,h=i.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},i),{x:-f/2,y:-h/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find((function(e){return"node-label"===e.get("name")}));g&&g.toFront()}}},Lve=(0,Fse.__assign)((0,Fse.__assign)({},Pve),Ove);Ege.registerNode("single-node",Lve);var Rve="edge-shape";var Bve={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ece.defaultEdge.size,style:{x:0,y:0,stroke:Ece.defaultEdge.style.stroke,lineAppendWidth:Ece.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ece.edgeLabel.style.fill,fontSize:Ece.edgeLabel.style.fontSize,fontFamily:Ece.windowFontFamily}},stateStyles:(0,Fse.__assign)({},Ece.edgeStateStyles)},getPath:function(e){var t=[];return(0,jse.each)(e,(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,jse.mix)({},t,n,e.style),i=e.size||Ece.defaultEdge.size,o=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[o];s&&(u=u.concat(s)),u.push(a);var l=this.getPath(u);return(0,jse.mix)({},Ece.defaultEdge.style,{stroke:Ece.defaultEdge.color,lineWidth:i,path:l},r)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||i.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var f=o.attr(),d=e.style||{};void 0===d.stroke&&(d.stroke=e.color);var h=e.sourceNode,p=e.targetNode,g={radius:d.radius};l||(g={source:h,target:p,offset:d.offset,radius:d.radius});var v=this.getPath(c,g),m={};"move"===n?m={path:v}:(f.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),f.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""}),void 0===(m=(0,Fse.__assign)({},e.style)).lineWidth&&(m.lineWdith=((0,jse.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||f.lineWidth),void 0===m.path&&(m.path=v),void 0===m.stroke&&(m.stroke=f.stroke||e.color)),o&&o.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,i=t.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap[Rve];r="start"===i?0:"end"===i?1:.5;var s,u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+u,o.y=e.startPoint.y+l,o.text=e.label,o;s=(0,jse.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var c=Pce(a,r,u,l,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=(0,Fse.__assign)((0,Fse.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,jse.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:Rve,name:Rve,attrs:n});return t.shapeMap[Rve]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=(0,jse.deepMix)({},n,e.labelCfg),i=this.getLabelStyle(e,r,t),o=i.rotate;delete i.rotate;var a=t.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(e,t,a,i,o),u=this.itemType+Dve;s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,i){var o=this.options.labelCfg,a=(0,jse.deepMix)({},o,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},zve=(0,Fse.__assign)((0,Fse.__assign)({},Pve),Bve);Ege.registerEdge("single-edge",zve),Ege.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Ege.registerEdge("spline",{getPath:function(e){return tve(e)}},"single-edge"),Ege.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,i=e.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=Ule(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=t.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=t.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),(0,jse.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+o,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=Ule(r,n,i)}var l=Wle(r,t);return[{x:l,y:l}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Ege.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,jse.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,jse.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[nve(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Ege.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,jse.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,jse.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[nve(n,r,e.curvePosition[0],e.curveOffset[0]),nve(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Ege.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,jse.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,jse.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,jse.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),Ege.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,jse.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,jse.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,jse.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+i[0],y:t.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),Ege.registerEdge("loop",{getPathPoints:function(e){return Dce(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var Fve={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ece.comboLabel.refX,refY:Ece.comboLabel.refY,options:{style:{stroke:Ece.defaultCombo.style.stroke,fill:Ece.defaultCombo.style.fill,lineWidth:Ece.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ece.comboLabel.style.fill,fontSize:Ece.comboLabel.style.fontSize,fontFamily:Ece.windowFontFamily}},stateStyles:(0,Fse.__assign)({},Ece.comboStateStyles)},getSize:function(e){var t=(0,jse.clone)(e.size||this.options.size||Ece.defaultCombo.size);return(0,jse.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),(0,jse.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,jse.isArray)(i)&&(i=i[0]);var o=t.refX,a=t.refY;(0,jse.isNil)(o)&&(o=this.refX),(0,jse.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),l=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-l-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-l+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,Fse.__assign)({},n)),this.updateLabel(e,t)}},jve=(0,Fse.__assign)((0,Fse.__assign)({},Pve),Fve);Ege.registerCombo("single-combo",jve),Ege.registerCombo("circle",{options:{size:[Ece.defaultCombo.size[0],Ece.defaultCombo.size[0]],padding:Ece.defaultCombo.padding[0],animate:!0,style:{stroke:Ece.defaultCombo.style.stroke,fill:Ece.defaultCombo.style.fill,lineWidth:Ece.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ece.comboLabel.style.fill,fontSize:Ece.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Fse.__assign)({},Ece.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,jse.isArray)(n)&&(n=n[0]);var r,i={stroke:e.color},o=(0,jse.mix)({},t,i,e.style);if(e.fixSize)r=(0,jse.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!(0,jse.isNumber)(o.r)||isNaN(o.r)?a[0]/2||Ece.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=(0,Fse.__assign)({x:0,y:0},o);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,jse.isArray)(r)&&(r=r[0]);var i,o=(0,jse.clone)(e.style);i=e.fixSize?(0,jse.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=t.get("sizeCache");a&&(a.r=o.r);var s={stroke:e.color},u=t.get("keyShape"),l=(0,jse.mix)({},u.attr(),s,o);e.style?e.style.r=i:e.style={r:i},this.updateShape(e,t,l,!0)}},"single-combo"),Ege.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ece.defaultCombo.style.stroke,fill:Ece.defaultCombo.style.fill,lineWidth:Ece.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ece.comboLabel.style.fill,fontSize:Ece.comboLabel.style.fontSize,fontFamily:Ece.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Fse.__assign)({},Ece.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,jse.isNumber)(i)&&(i=[i,i,i,i]);var o=t.refX,a=t.refY;(0,jse.isNil)(o)&&(o=this.refX),(0,jse.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],l=r.height/2+i[0];switch(n){case"top":s={x:0-u+o,y:0-l+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,jse.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:e.color},a=(0,jse.mix)({},t,o,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,jse.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!(0,jse.isNumber)(a.width)||isNaN(a.width)?s[0]||Ece.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,jse.isNumber)(a.height)||isNaN(a.height)?s[1]||Ece.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var l=-r/2-n[3],c=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var f=(0,Fse.__assign)({x:l,y:c},a);return e.style?(e.style.width=r,e.style.height=i):e.style={width:r,height:i},f},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,jse.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=(0,jse.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?(0,jse.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var l={stroke:e.color},c=t.get("keyShape"),f=(0,jse.mix)({},c.attr(),l,a);e.style?(e.style.width=i,e.style.height=o):e.style={width:i,height:o},this.updateShape(e,t,f,!1)},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,Fse.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),Ege.registerNode("simple-circle",{options:{size:Ece.defaultNode.size,style:{x:0,y:0,stroke:Ece.defaultNode.style.stroke,fill:Ece.defaultNode.style.fill,lineWidth:Ece.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ece.nodeLabel.style.fill,fontSize:Ece.nodeLabel.style.fontSize,fontFamily:Ece.windowFontFamily}},stateStyles:(0,Fse.__assign)({},Ece.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),i=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=i,i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,Fse.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=this.getSize(e),i={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),a=(0,jse.deepMix)({},o.attr(),i,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),Ege.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Ece.defaultNode.style.stroke,fill:Ece.defaultNode.style.fill,lineWidth:Ece.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ece.nodeLabel.style.fill,fontSize:Ece.nodeLabel.style.fontSize,fontFamily:Ece.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Fse.__assign)({},Ece.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Fse.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,i=this.getSize(e),o=t.get("keyShape");e.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,jse.mix)({},r,o.attr(),a);s=(0,jse.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),Ege.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Ece.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var i=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,i),i},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:(0,Fse.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,l=n.height,c=i-u/2,f=o-l/2;t.setClip({type:"rect",attrs:(0,Fse.__assign)({x:c,y:f,width:u,height:l},a)})}else if("ellipse"===r){var d=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:(0,Fse.__assign)({x:i,y:o,rx:d,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:(0,Fse.__assign)({points:p},a)})}else if("path"===r){var g=n.path;t.setClip({type:"path",attrs:(0,Fse.__assign)({path:g},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,i=this.getSize(e),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),(0,Fse.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find((function(e){return e.get("className")===r}))||t.getKeyShape(),o=this.getShapeStyle(e);i&&!i.destroyed&&i.attr(o)}},"single-node");var Gve={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,i,o){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+t+i;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},Vve={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t+i],["L",e+r,t+i],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t-i],["L",e+r,t-i],["L",e,t+n],["Z"]]}},Uve=Ege,Wve=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Zve=Qse,Hve=(0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)({},s),i),u),r),l),{transform:Zve,mat3:Yse}),Yve=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map((function(e){return(null===e||void 0===e?void 0:e.type)||""})):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every((function(e,n){return e===t[n]})):(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType;e.data;t&&(t.get("animate")?t.positionsAnimate("comboCombined"===n):t.refreshPositions("comboCombined"===n))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach((function(e){e.destroy()})),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],i=[],o=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),l=this.graph.getCombos(),c=s.length,f=0;f<c;f++){var d=s[f];if(d&&!d.destroyed){var h=d.getModel();d.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(f=0;f<p;f++){var g=u[f];if(g&&!g.destroyed){h=g.getModel();g.isVisible()?h.isComboEdge?i.push(h):n.push(h):r.push(h)}}var v=l.length;for(f=0;f<v;f++){var m=l[f];if(!m.destroyed){h=m.getModel();m.isVisible()?o.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:o,hiddenCombos:a,comboEdges:i}},e.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){var o=n.graph,a=null===t||void 0===t?void 0:t.type;t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},e.init(n.data),"force"===a&&(e.ticking=!1,e.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.relayout=function(e){var t=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;this.initPositions(o.center,a)}r.emit("beforelayout");var s=Promise.resolve();null===i||void 0===i||i.forEach((function(e,n){var r=o[n];s=s.then((function(){return t.reLayoutMethod(e,r)}))})),(null===i||void 0===i?void 0:i.length)&&s.then((function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()})).catch((function(e){console.warn("relayout failed",e)}))},e.prototype.filterLayoutData=function(e,t){var n,r,i=e.nodes,o=e.edges,a=(0,Fse.__rest)(e,["nodes","edges"]);if(!i)return e;n=(0,jse.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=i.filter(n);if((0,jse.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce((function(e,t){return e[t.id]=!0,e}),{});r=function(e){return u[e.source]&&u[e.target]}}return(0,Fse.__assign)({nodes:s,edges:o.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,jse.groupBy)(t.getNodes(),(function(e){return e.getModel().layoutOrder})),r=Object.values(n).map((function(e){var t=lge(e);return t.size=[t.width,t.height],t}));return{groupNodes:Object.values((0,jse.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!uge(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var i=e[r];t[0]+=i.x,t[1]+=i.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(i=e[r]).x-=t[0],i.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var l=e[0]-i/2,c=e[1]-o/2,f=!0,d=0;d<r;d++){var h=t[d];uge(+h.x)&&(f=!1,h.x=d%a*s+l),uge(+h.y)&&(f=!1,h.y=Math.floor(d/a)*u+c)}return f}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),Xve=Yve,Kve=function(e){this.graph=e,this.destroyed=!1,this.initEvents()},qve=Kve,$ve=Uve.registerNode,Qve=Uve.registerEdge,Jve=Uve.registerCombo,eme=Wse.registerBehavior,tme=Ece,nme=(Uve.registerNode,Uve.registerEdge,Uve.registerCombo,Wse.registerBehavior,n(9252));function rme(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function ime(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function ome(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function ame(e,t){return e[0]===t[0]&&e[1]===t[1]}var sme=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ume=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,lme=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,cme=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function fme(e,t){var n=e.match(cme);(0,jse.each)(n,(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function dme(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,jse.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,i,o=sme.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var l=Math.tan(a),c=l*l,f=(i.x-r.x+l*(i.y-r.y))/(c+1)+r.x,d=l*(i.x-r.x+l*(i.y-r.y))/(c+1)+r.y,h=e.createLinearGradient(r.x,r.y,f,d);return fme(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=ume.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(cme);return u[u.length-1].split(":")[1]}var l=t.getBBox(),c=l.maxX-l.minX,f=l.maxY-l.minY,d=Math.sqrt(c*c+f*f)/2,h=e.createRadialGradient(l.minX+c*i,l.minY+f*o,0,l.minX+c/2,l.minY+f/2,a*d);return fme(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,i,o=lme.exec(n),a=o[1],s=o[2];function u(){r=e.createPattern(i,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function hme(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function pme(e,t){return hme(e)*hme(t)?(e[0]*t[0]+e[1]*t[1])/(hme(e)*hme(t)):1}function gme(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(pme(e,t))}function vme(e,t){var n=t[1],r=t[2],i=(0,jse.mod)((0,jse.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,d=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],_=gme([1,0],x),S=gme(x,w);return pme(x,w)<=-1&&(S=Math.PI),pme(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:ame(e,[l,c])?0:n,ry:ame(e,[l,c])?0:r,startAngle:_,endAngle:_+S,xRotation:i,arcFlag:o,sweepFlag:a}}var mme=Math.sin,yme=Math.cos,bme=Math.atan2,xme=Math.PI;function wme(e,t,n,r,i,o,a){var s=t.stroke,u=t.lineWidth,l=bme(r-o,n-i),c=new cye({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*yme(xme/6)+","+10*mme(xme/6)+" L0,0 L"+10*yme(xme/6)+",-"+10*mme(xme/6),stroke:s,lineWidth:u}});c.translate(i,o),c.rotateAtPoint(i,o,l),e.set(a?"startArrowShape":"endArrowShape",c)}function _me(e,t,n,r,i,o,a){var s=t.startArrow,u=t.endArrow,l=t.stroke,c=t.lineWidth,f=a?s:u,d=f.d,h=f.fill,p=f.stroke,g=f.lineWidth,v=(0,Fse.__rest)(f,["d","fill","stroke","lineWidth"]),m=bme(r-o,n-i);d&&(i-=yme(m)*d,o-=mme(m)*d);var y=new cye({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,Fse.__assign)((0,Fse.__assign)({},v),{stroke:p||l,lineWidth:g||c,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),e.set(a?"startArrowShape":"endArrowShape",y)}function Sme(e,t,n,r,i){var o=bme(r-t,n-e);return{dx:yme(o)*i,dy:mme(o)*i}}function Eme(e,t,n,r,i,o){"object"===typeof t.startArrow?_me(e,t,n,r,i,o,!0):t.startArrow?wme(e,t,n,r,i,o,!0):e.set("startArrowShape",null)}function Cme(e,t,n,r,i,o){"object"===typeof t.endArrow?_me(e,t,n,r,i,o,!1):t.endArrow?wme(e,t,n,r,i,o,!1):e.set("startArrowShape",null)}var kme={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Mme(e,t){var n=t.attr();for(var r in n){var i=n[r],o=kme[r]?kme[r]:r;"matrix"===o&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&e.setLineDash?(0,jse.isArray)(i)&&e.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=dme(e,t,i):"globalAlpha"===o&&(i*=e.globalAlpha),e[o]=i)}}function Ime(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];i.cfg.visible?i.draw(e,n):i.skipDraw()}}function Tme(e,t,n){var r=e.get("refreshElements");(0,jse.each)(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?Dme(t,n):Ame(t,n)}function Ame(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Dme(r.cfg.children,t);else if(r.cfg.refresh)r.isGroup()&&Ame(r.cfg.children,t);else{var i=Pme(r,t);r.cfg.refresh=i,i&&r.isGroup()&&Ame(r.cfg.children,t)}}}function Nme(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Nme(n.cfg.children)}}function Dme(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&Dme(r.get("children"),t)}}function Pme(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&ome(n,t)}function Ome(e,t,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],l={dx:0,dy:0};t.beginPath();for(var c=0;c<i.length;c++){var f=i[c],d=f[0];if(0===c&&o&&o.d)l=Sme((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){if("Z"===i[c+1][0])l=Sme((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===i.length-1&&a&&a.d){var h;if("Z"!==i[0])l=Sme((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=l.dx,g=l.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-g),u=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-g);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":var v=void 0;r?(v=r[c])||(v=vme(s,f),r[c]=v):v=vme(s,f);var m=v.cx,y=v.cy,b=v.rx,x=v.ry,w=v.startAngle,_=v.endAngle,S=v.xRotation,E=v.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,S,w,_,1-E);else{var C=b>x?b:x,k=b>x?1:b/x,M=b>x?x/b:1;t.translate(m,y),t.rotate(S),t.scale(k,M),t.arc(0,0,C,w,_,1-E),t.scale(1/k,1/M),t.rotate(-S),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===d)s=u;else{var I=f.length;s=[f[I-2],f[I-1]]}}}}function Lme(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function Rme(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var i=e.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,t=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?t=i:s&&(t=a)}return t}var Bme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.onCanvasChange=function(e){Lme(this,e)},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),Mme(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];(0,jse.each)(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var i=(0,jse.min)(t),o=(0,jse.max)(t),a=(0,jse.min)(n),s=(0,jse.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var l=u.getViewRange();this.set("isInView",ome(r,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),Mme(e,this),this._applyClip(e,this.getClip()),Ime(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(epe),zme=Bme,Fme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return zme},t.prototype.onCanvasChange=function(e){Lme(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=ope(e)(this),r=t/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),Mme(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!ome(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),Mme(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=ome(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isFill()&&((0,jse.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&((0,jse.isNil)(i)||1===i||(e.globalAlpha=i),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(npe),jme=Fme,Gme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,l=i/2,c=rme(a,s,e,t);return r&&n?c<=u+l:r?c<=u:!!n&&(c>=u-l&&c<=u+l)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.r;e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.closePath()},t}(jme),Vme=Gme;function Ume(e,t,n,r){return e/(n*n)+t/(r*r)}var Wme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,l=o.rx,c=o.ry,f=(e-s)*(e-s),d=(t-u)*(t-u);return r&&n?Ume(f,d,l+a,c+a)<=1:r?Ume(f,d,l,c)<=1:!!n&&(Ume(f,d,l-a,c-a)>=1&&Ume(f,d,l+a,c+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(jme),Zme=Wme;function Hme(e){return e instanceof HTMLElement&&(0,jse.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var Yme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if((0,jse.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):Hme(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.sx,s=t.sy,u=t.swidth,l=t.sheight,c=t.img;(c instanceof Image||Hme(c))&&((0,jse.isNil)(a)||(0,jse.isNil)(s)||(0,jse.isNil)(u)||(0,jse.isNil)(l)?e.drawImage(c,n,r,i,o):e.drawImage(c,a,s,u,l,n,r,i,o))},t}(jme),Xme=Yme;function Kme(e,t,n,r,i,o,a){var s=Math.min(e,n),u=Math.max(e,n),l=Math.min(t,r),c=Math.max(t,r),f=i/2;return o>=s-f&&o<=u+f&&a>=l-f&&a<=c+f&&ppe.pointToLine(e,t,n,r,o,a)<=i/2}var qme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow;o&&Eme(this,e,r,i,t,n),a&&Cme(this,e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){if(!n||!i)return!1;var o=this.attr();return Kme(o.x1,o.y1,o.x2,o.y2,i,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},l={dx:0,dy:0};a&&a.d&&(u=Sme(n,r,i,o,t.startArrow.d)),s&&s.d&&(l=Sme(n,r,i,o,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(i-l.dx,o-l.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return ppe.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return ppe.pointAt(n,r,i,o,e)},t}(jme),$me=qme,Qme={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Jme=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,jse.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,jse.isFunction)(a))n=Xpe(n=(e=a)(i,o,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(i,o,s)}return n},t.prototype.createPath=function(e){Ome(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Qme,t}(jme),eye=Jme;function tye(e,t,n){var r=Rpe();return e.createPath(r),r.isPointInPath(t,n)}function nye(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function rye(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function iye(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(rye(a,s,[t,n]))return!0;nye(a[1]-n)>0!==nye(s[1]-n)>0&&nye(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function oye(e,t,n,r,i,o,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var l={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return rme(l.x,l.y,a,s)<=o/2}var aye=Qse;var sye=(0,Fse.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],i=[],o=0;o<t;o++){var a=e[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],l=u.currentPoint,c=u.params,f=u.prePoint,d=u.box;if(!d||ime(d.x-a,d.y-a,d.width+t,d.height+t,n,r)){switch(u.command){case"L":case"Z":o=Kme(f[0],f[1],l[0],l[1],t,n,r);break;case"Q":o=wpe.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],n,r)<=t/2;break;case"C":o=Mpe.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,g=h.cy,v=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,w=[n,r,1],_=v>m?v:m,S=aye(null,[["t",-p,-g],["r",-x],["s",1/(v>m?1:v/m),1/(v>m?m/v:1)]]);Sle.kK(w,w,S),o=oye(0,0,_,y,b,t,w[0],w[1])}if(o)break}}return o}},o);function uye(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=iye(e[i],t,n))break}return r}var lye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=Xpe(e);var t=sye.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=tge(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&Eme(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&Cme(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=sye.isPointInStroke(o,i,e,t,u)}if(!s&&r)if(a)s=tye(this,e,t);else{var l=this.attr("path"),c=sye.extractPolygons(l);s=uye(c.polygons,e,t)||uye(c.polylines,e,t)}return s},t.prototype.createPath=function(e){Ome(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,jse.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,jse.each)(r,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,jse.isNil)(o)||(0,jse.isNil)(n))return null;var a=o.length,s=i[n+1];return Mpe.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",sye.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,i=0,o=0,a=[],s=this.get("curve");s&&((0,jse.each)(s,(function(e,t){n=s[t+1],r=e.length,n&&(i+=Mpe.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,jse.each)(s,(function(u,l){n=s[l+1],r=u.length,n&&((e=[])[0]=o/i,t=Mpe.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t||0,e[1]=o/i,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,i=t[n-1].currentPoint,o=t[n-1].endTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([r[0],r[1]]),e.push([i[0],i[1]]))}return e},t}(jme),cye=lye;function fye(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Kme(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],u=e[o-1];if(Kme(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var dye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr().points,a=!1;return n&&(a=fye(o,i,e,t,!0)),!a&&r&&(a=iye(o,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(jme),hye=dye,pye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,i=t.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],l=n[o-1][1];r&&Eme(this,e,n[1][0],n[1][1],a,s),i&&Cme(this,e,n[o-2][0],n[o-2][1],u,l)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!(!n||!i)&&fye(this.attr().points,i,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,i=t.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d)s+=(a=Sme(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)l-=(a=Sme(n[o-2][0],n[o-2][1],l,c,i.d)).dx,c-=a.dy;e.beginPath(),e.moveTo(s,u);for(var f=0;f<o-1;f++){var d=n[f];e.lineTo(d[0],d[1])}e.lineTo(l,c)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,jse.isNil)(t)?(this.set("totalLength",Dpe(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,jse.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),ppe.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,jse.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=ppe.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(jme),gye=pye;var vye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,l=o.height,c=o.radius;if(c){var f=!1;return n&&(f=function(e,t,n,r,i,o,a,s){return Kme(e+i,t,e+n-i,t,o,a,s)||Kme(e+n,t+i,e+n,t+r-i,o,a,s)||Kme(e+n-i,t+r,e+i,t+r,o,a,s)||Kme(e,t+r-i,e,t+i,o,a,s)||oye(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||oye(e+n-i,t+r-i,i,0,.5*Math.PI,o,a,s)||oye(e+i,t+r-i,i,.5*Math.PI,Math.PI,o,a,s)||oye(e+i,t+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,l,c,i,e,t)),!f&&r&&(f=tye(this,e,t)),f}var d=i/2;return r&&n?ime(a-d,s-d,u+d,l+d,e,t):r?ime(a,s,u,l,e,t):n?function(e,t,n,r,i,o,a){var s=i/2;return ime(e-s,t-s,n,i,o,a)||ime(e+n-s,t-s,i,r,o,a)||ime(e+s,t+r-s,n,i,o,a)||ime(e-s,t+s,i,r,o,a)}(a,s,u,l,i,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,i,o);else{var s=function(e){var t=0,n=0,r=0,i=0;return(0,jse.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,[t,n,r,i]}(a),u=s[0],l=s[1],c=s[2],f=s[3];e.moveTo(n+u,r),e.lineTo(n+i-l,r),0!==l&&e.arc(n+i-l,r+l,l,-Math.PI/2,0),e.lineTo(n+i,r+o-c),0!==c&&e.arc(n+i-c,r+o-c,c,0,Math.PI/2),e.lineTo(n+f,r+o),0!==f&&e.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(jme),mye=vye,yye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=zpe(e)},t.prototype._setText=function(e){var t=null;(0,jse.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,l=this._getSpaceingY(),c=Bpe(i.text,i.fontSize,i.lineHeight);(0,jse.each)(t,(function(t,i){r=s+i*(l+u)-c+u,"middle"===o&&(r+=c-u-(c-u)/2),"top"===o&&(r+=c-u),(0,jse.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(e,o,t);else{var a=n.text;(0,jse.isNil)(a)||(t?e.fillText(a,r,i):e.strokeText(a,r,i))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isStroke()&&n>0&&((0,jse.isNil)(i)||1===i||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&((0,jse.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(jme),bye=yye;function xye(e,t,n){var r,i,o=e.getTotalMatrix();if(o){var a=(r=[t,n,1],(i=o)?Yfe(Xfe(i),r):r);return[a[0],a[1]]}return[t,n]}function wye(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!Dfe(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=xye(e,t,n),i=r[0],o=r[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function _ye(e,t,n){if(!wye(e,t,n))return null;for(var r=null,i=e.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=_ye(a,t,n);else if(wye(a,t,n)){var s=a,u=xye(a,t,n),l=u[0],c=u[1];s.isInShape(l,c)&&(r=a)}if(r)break}return r}var Sye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return zme},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&r.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?_ye(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],i=[];return(0,jse.each)(e,(function(e){var o=Rme(e);o&&(t.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,jse.min)(t),minY:(0,jse.min)(n),maxX:(0,jse.max)(r),maxY:(0,jse.max)(i)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&ome(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,jse.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),Mme(e,this),Ime(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),Mme(e,this),Tme(this,n,r),Ime(e,n,r),e.restore()):t.length&&Nme(t),(0,jse.each)(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=(0,jse.requestAnimationFrame)((function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)})),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(Qhe),Eye=Sye,Cye={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},kye={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Mye(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Iye(e){var t=Cye[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=Mye(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function Tye(e,t){var n=e.get("el"),r=(0,jse.toArray)(n.children).sort(t),i=document.createDocumentFragment();r.forEach((function(e){i.appendChild(e)})),n.appendChild(i)}function Aye(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],i=0;i<9;i+=3)r.push(t[i]+","+t[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function Nye(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){Iye(n),n.createPath(t);var i=t.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function Dye(e,t){t.forEach((function(t){t.draw(e)}))}function Pye(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=e.getParent(),o=i?i.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter((function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()})),i=r[t],o=r.indexOf(e);if(i){if(o>t)n.insertBefore(e,i);else if(o<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,o.indexOf(e));else if("sort"===t){var l=e.get("children");l&&l.length&&Tye(e,(function(e,t){return l.indexOf(e)-l.indexOf(t)?1:0}))}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?Aye(e):"clip"===t?Nye(e,r):"attr"===t||"add"===t&&e.draw(r)}}var Oye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fse.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=Mye("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){Pye(this,e)},t.prototype.getShapeBase=function(){return f},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Nye(this,e),this.createPath(e),t.length&&Dye(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(e,t){kye[t]&&r.setAttribute(kye[t],e)})),Aye(this)},t}(epe),Lye=Oye,Rye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return f},t.prototype.getGroupBase=function(){return Lye},t.prototype.onCanvasChange=function(e){Pye(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=ope(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,l=r-u,c=i-u;return{x:l,y:c,minX:l,minY:c,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Iye(this),Nye(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,l=n.lineWidth,c=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",i):this._setColor(e,"fill",r||i),s&&c.setAttribute(kye.fillOpacity,s)),this.canStroke&&l>0&&(t?"stroke"in n?this._setColor(e,"stroke",o):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",o||a),u&&c.setAttribute(kye.strokeOpacity,u),l&&c.setAttribute(kye.lineWidth,l))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=e.find("gradient",n))||(i=e.addGradient(n)),r.setAttribute(kye[t],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=e.find("pattern",n))||(i=e.addPattern(n)),r.setAttribute(kye[t],"url(#"+i+")")}else r.setAttribute(kye[t],n);else r.setAttribute(kye[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=t.find("filter",i);o||(o=t.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&Aye(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=e+r.left,o=t+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(npe),Bye=Rye,zye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):kye[t]&&r.setAttribute(kye[t],e)}))},t}(Bye),Fye=zye,jye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,Fse.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if((0,jse.each)(t||n,(function(e,t){kye[t]&&r.setAttribute(kye[t],e)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},t}(Bye),Gye=jye,Vye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):kye[t]&&r.setAttribute(kye[t],e)}))},t}(Bye),Uye=Vye,Wye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,jse.each)(t||r,(function(e,t){"img"===t?n._setImage(r.img):kye[t]&&i.setAttribute(kye[t],e)}))},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if((0,jse.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,jse.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(Bye),Zye=Wye,Hye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(t,i){if("startArrow"===i||"endArrow"===i)if(t){var o=(0,jse.isObject)(t)?e.addArrow(n,kye[i]):e.getDefaultArrow(n,kye[i]);r.setAttribute(kye[i],"url(#"+o+")")}else r.removeAttribute(kye[i]);else kye[i]&&r.setAttribute(kye[i],t)}))},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return ppe.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return ppe.pointAt(n,r,i,o,e)},t}(Bye),Yye=Hye,Xye={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Kye={get:function(e){return Xye[e]},register:function(e,t){Xye[e]=t},remove:function(e){delete Xye[e]},getAll:function(){return Xye}},qye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,jse.isArray)(e)?e.map((function(e){return e.join(" ")})).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,i=t.r||t.radius,o=t.symbol||"circle";return(e=(0,jse.isFunction)(o)?o:Kye.get(o))?e(n,r,i):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=Kye,t}(Bye),$ye=qye,Qye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,jse.each)(t||r,(function(t,o){if("path"===o&&(0,jse.isArray)(t))i.setAttribute("d",n._formatPath(t));else if("startArrow"===o||"endArrow"===o)if(t){var a=(0,jse.isObject)(t)?e.addArrow(r,kye[o]):e.getDefaultArrow(r,kye[o]);i.setAttribute(kye[o],"url(#"+a+")")}else i.removeAttribute(kye[o]);else kye[o]&&i.setAttribute(kye[o],t)}))},t.prototype._formatPath=function(e){var t=e.map((function(e){return e.join(" ")})).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(Bye),Jye=Qye,ebe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(e,t){"points"===t&&(0,jse.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):kye[t]&&r.setAttribute(kye[t],e)}))},t}(Bye),tbe=ebe,nbe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,jse.each)(t||n,(function(e,t){"points"===t&&(0,jse.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):kye[t]&&r.setAttribute(kye[t],e)}))},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,jse.isNil)(t)?(this.set("totalLength",Dpe(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,jse.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),ppe.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,jse.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=ppe.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(Bye),rbe=nbe;var ibe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,jse.each)(t||r,(function(e,t){-1===a.indexOf(t)||o?-1===a.indexOf(t)&&kye[t]&&i.setAttribute(kye[t],e):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius;if(!o)return"M "+t+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,i=0;return(0,jse.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}(o);return(0,jse.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(Bye),obe=ibe,abe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},sbe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},ube={left:"left",start:"left",center:"middle",right:"end",end:"end"},lbe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,Fse.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Fse.__assign)((0,Fse.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,jse.each)(t||r,(function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?Aye(n):kye[t]&&i.setAttribute(kye[t],e)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,i=Ufe();i&&"firefox"===i.name?e.setAttribute("dominant-baseline",sbe[n]||"alphabetic"):e.setAttribute("alignment-baseline",abe[n]||"baseline"),e.setAttribute("text-anchor",ube[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";(0,jse.each)(a,(function(e,t){0===t?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"})),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(Bye),cbe=lbe,fbe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,dbe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,hbe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function pbe(e){var t=e.match(hbe);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),(0,jse.each)(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var gbe=function(){function e(e){this.cfg={};var t=null,n=(0,jse.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,i=fbe.exec(e),o=(0,jse.mod)((0,jse.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,l=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,c=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",l),t.setAttribute("y2",c),t.innerHTML=pbe(a)}(e,t=Mye("linearGradient")):function(e,t){var n=dbe.exec(e),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",i),t.setAttribute("r",o),t.innerHTML=pbe(a)}(e,t=Mye("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),vbe=gbe,mbe={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},ybe={x:"-40%",y:"-40%",width:"200%",height:"200%"},bbe=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=Mye("filter");return(0,jse.each)(ybe,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=(0,jse.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return(0,jse.each)(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},e.prototype.update=function(e,t){var n=this.cfg;return n[mbe[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),xbe=bbe,wbe=function(){function e(e,t){this.cfg={};var n=Mye("marker"),r=(0,jse.uniqueId)("marker_");n.setAttribute("id",r);var i=Mye("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===o?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,jse.isArray)(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),_be=wbe,Sbe=function(){function e(e){this.type="clip",this.cfg={};var t=Mye("clipPath");this.el=t,this.id=(0,jse.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),Ebe=Sbe,Cbe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,kbe=function(){function e(e){this.cfg={};var t=Mye("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Mye("image");t.appendChild(n);var r=(0,jse.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var i=Cbe.exec(e)[2];n.setAttribute("href",i);var o=new Image;function a(){t.setAttribute("width",""+o.width),t.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),Mbe=kbe,Ibe=function(){function e(e){var t=Mye("defs"),n=(0,jse.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(e,t)){r=n[i].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new _be(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new vbe(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new _be(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new xbe(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new Mbe(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new Ebe(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),Tbe=Ibe,Abe=function(e){function t(t){return e.call(this,(0,Fse.__assign)((0,Fse.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,Fse.__extends)(t,e),t.prototype.getShapeBase=function(){return f},t.prototype.getGroupBase=function(){return Lye},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!Cye[r.tagName]){for(var i=r.parentNode;i&&!Cye[i.tagName];)i=i.parentNode;r=i}return this.find((function(e){return e.get("el")===r}))},t.prototype.createDom=function(){var e=Mye("svg"),t=new Tbe(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&Tye(this,(function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0}))}else if("clear"===e){if(n){n.innerHTML="";var i=t.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===e?Aye(this):"clip"===e?Nye(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();Nye(this,e),t.length&&Dye(e,t)},t}(Qhe),Nbe=Abe,Dbe=n(3861),Pbe=n.n(Dbe),Obe=n(7045),Lbe=n.n(Obe),Rbe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Bbe(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function zbe(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Fbe(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function jbe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Lbe()(e),i=5;i>0;i-=1){var o=r.toHsv(),a=Lbe()({h:Bbe(o,i,!0),s:zbe(o,i,!0),v:Fbe(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),l=Lbe()({h:Bbe(u,s),s:zbe(u,s),v:Fbe(u,s)}).toHexString();n.push(l)}return"dark"===t.theme?Rbe.map((function(e){var r=e.index,i=e.opacity;return Lbe().mix(t.backgroundColor||"#141414",n[r],100*i).toHexString()})):n}var Gbe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Vbe={},Ube={};Object.keys(Gbe).forEach((function(e){Vbe[e]=jbe(Gbe[e]),Vbe[e].primary=Vbe[e][5],Ube[e]=jbe(Gbe[e],{theme:"dark",backgroundColor:"#141414"}),Ube[e].primary=Ube[e][5]}));Vbe.red,Vbe.volcano,Vbe.gold,Vbe.orange,Vbe.yellow,Vbe.lime,Vbe.green,Vbe.cyan,Vbe.blue,Vbe.geekblue,Vbe.purple,Vbe.magenta,Vbe.grey;var Wbe=function(e,t,n){var r=Pbe()(e),i=Pbe()(t);return Pbe()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},Zbe=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=Wbe(t,e,.05).rgb().toString(),i=Wbe(t,e,.1).rgb().toString(),o=Wbe(t,e,.2).rgb().toString(),a=Wbe(t,e,.4).rgb().toString(),s=Wbe(t,n,.02).rgb().toString(),u=Wbe(t,n,.05).rgb().toString(),l=Wbe(t,n,.1).rgb().toString(),c=Wbe(t,n,.2).rgb().toString(),f=Wbe(t,n,.3).rgb().toString(),d=jbe(e,{theme:"default",backgroundColor:t}),h=Pbe()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:e,mainFill:i,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:f,edgeActiveStroke:e,edgeInactiveStroke:c,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:f,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=Wbe(t,e,.2).rgb().toString(),i=Wbe(t,e,.3).rgb().toString(),o=Wbe(t,e,.6).rgb().toString(),a=Wbe(t,e,.8).rgb().toString(),s=Wbe(t,n,.2).rgb().toString(),u=Wbe(t,n,.25).rgb().toString(),l=Wbe(t,n,.3).rgb().toString(),c=Wbe(t,n,.4).rgb().toString(),f=Wbe(t,n,.5).rgb().toString(),d=jbe(e,{theme:"dark",backgroundColor:t}),h=Pbe()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:c,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:c,comboDisableFill:s}}(e,t,"#777")},Hbe=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return e.forEach((function(e){i.push(Zbe(e,t,n,r))})),i},Ybe="rgb(0, 0, 0)",Xbe=Zbe("rgb(95, 149, 255)","rgb(255, 255, 255)"),Kbe={version:"0.6.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Xbe.mainStroke,fill:Xbe.mainFill},size:20,color:Xbe.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Xbe.activeFill,stroke:Xbe.activeStroke}},nodeStateStyles:{active:{fill:Xbe.activeFill,stroke:Xbe.activeStroke,lineWidth:2,shadowColor:Xbe.mainStroke,shadowBlur:10},selected:{fill:Xbe.selectedFill,stroke:Xbe.selectedStroke,lineWidth:4,shadowColor:Xbe.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Xbe.highlightFill,stroke:Xbe.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Xbe.inactiveFill,stroke:Xbe.inactiveStroke,lineWidth:1},disable:{fill:Xbe.disableFill,stroke:Xbe.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Ybe,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Xbe.edgeMainStroke,lineAppendWidth:2},color:Xbe.edgeMainStroke},edgeStateStyles:{active:{stroke:Xbe.edgeActiveStroke,lineWidth:1},selected:{stroke:Xbe.edgeSelectedStroke,lineWidth:2,shadowColor:Xbe.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xbe.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Xbe.edgeInactiveStroke,lineWidth:1},disable:{stroke:Xbe.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Ybe,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Xbe.comboMainFill,lineWidth:1,stroke:Xbe.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Xbe.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Xbe.comboActiveStroke,lineWidth:1,fill:Xbe.comboActiveFill},selected:{stroke:Xbe.comboSelectedStroke,lineWidth:2,fill:Xbe.comboSelectedFill,shadowColor:Xbe.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xbe.comboHighlightStroke,lineWidth:2,fill:Xbe.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Xbe.comboInactiveStroke,fill:Xbe.comboInactiveFill,lineWidth:1},disable:{stroke:Xbe.comboDisableStroke,fill:Xbe.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function qbe(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}var $be=Hve.cloneEvent,Qbe=Hve.isViewportChanged,Jbe=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return(0,Fse.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),i=r.get("el"),o=(0,jse.wrapBehavior)(this,"onCanvasEvents"),a=(0,jse.wrapBehavior)(this,"onExtendEvents"),s=(0,jse.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(qbe(i,"DOMMouseScroll",s)),n.push(qbe(i,"mousewheel",s)),"undefined"!==typeof window&&(n.push(qbe(window,"keydown",a)),n.push(qbe(window,"keyup",a)),n.push(qbe(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),Qbe(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,i===r)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(o,e),void n.emit("canvas:".concat(o),e);var u=t.getItemRoot(i);if(u){var l=u.get("item");if(!l.destroyed){var c=l.getType();if(e.target=i,e.item=l,e.canvasX===e.x&&e.canvasY===e.y){var f=n.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(c,":").concat(o),e):n.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,c)}}else n.emit(o,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,jse.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=e.target===i?null:e.item;e=$be(e),r&&r!==o&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),o&&r!==o&&(e.item=o,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=o},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this,t=e.graph,n=e.canvasHandler,r=e.extendEvents;t.get("canvas").off("*",n),(0,jse.each)(r,(function(e){e.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(qve),exe=Jbe,txe=n(8253),nxe=n(7701),rxe=n.n(nxe),ixe=Hve.traverseTree,oxe=function(e,t){return e?(0,jse.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},axe=function(e,t){var n=[],r=[],i={},o=0;for(o=0;o<e.length;o++){var a=e[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<t.length;o++){var s=t[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<e.length;o++){var l=n.length,c=r[o],f=c.length;n[4*o+2]=l,n[4*o+3]=c.length,u=Math.max(u,c.length);for(var d=0;d<f;++d){var h=c[d];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},sxe=function(e,t,n){var r=[],i=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<t.length;a++){var u=t[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var l=0;for(a=0;a<e.length;a++){var c=r.length,f=i[a],d=f.length;r[4*a+2]=c,r[4*a+3]=d/2,l=Math.max(l,d/2);for(var h=0;h<d;++h){var p=f[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},uxe=function(e,t,n,r){var i=[],o=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<t.length;s++){var l=t[s];o[a[l.source]].push(a[l.target]),o[a[l.source]].push(n(l)),o[a[l.source]].push(r(l)),o[a[l.source]].push(0),o[a[l.target]].push(a[l.source]),o[a[l.target]].push(n(l)),o[a[l.target]].push(r(l)),o[a[l.target]].push(0)}var c=0;for(s=0;s<e.length;s++){var f=i.length,d=o[s],h=d.length;i[4*s+2]=f+1048576*h/4,i[4*s+3]=0,c=Math.max(c,h/4);for(var p=0;p<h;++p){var g=d[p];i.push(+g)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},lxe=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},cxe=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)},fxe=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";t&&["V","TB","BT"].indexOf(t)>=0&&(o="x",i="y");var a=0;ixe(e,(function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0}));var s=2*Math.PI/a,u=r[o]-n[o];return 0===u||ixe(e,(function(t){var r=(t[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0})),e},dxe=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(li){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",i=e().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},hxe=(0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)((0,Fse.__assign)({},Hve),d),h),p),pxe=hxe.radialLayout,gxe=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=rxe()[t.type](e,t.config);return pxe(n),n}:this.layoutMethod=function(e){return rxe()[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}();(0,txe.registerLayout)("grid",txe.GridLayout),(0,txe.registerLayout)("random",txe.RandomLayout),(0,txe.registerLayout)("force",txe.ForceLayout),(0,txe.registerLayout)("circular",txe.CircularLayout),(0,txe.registerLayout)("dagre",txe.DagreLayout),(0,txe.registerLayout)("dagreCompound",txe.DagreCompoundLayout),(0,txe.registerLayout)("radial",txe.RadialLayout),(0,txe.registerLayout)("concentric",txe.ConcentricLayout),(0,txe.registerLayout)("mds",txe.MDSLayout),(0,txe.registerLayout)("fruchterman",txe.FruchtermanLayout),(0,txe.registerLayout)("fruchterman-gpu",txe.FruchtermanGPULayout),(0,txe.registerLayout)("gForce",txe.GForceLayout),(0,txe.registerLayout)("gForce-gpu",txe.GForceGPULayout),(0,txe.registerLayout)("comboForce",txe.ComboForceLayout),(0,txe.registerLayout)("comboCombined",txe.ComboCombinedLayout),(0,txe.registerLayout)("forceAtlas2",txe.ForceAtlas2Layout);var vxe=function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},mxe=function(e){void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");var t=new vxe((function(){var e="LAYOUT_RUN",t="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(i){(function(t){var n=t.data.type;return n===e||n===r})(i)&&function(i){var o=this;switch(i.data.type){case e:var a,s=i.data,u=s.nodes,l=s.edges,c=s.layoutCfg,f=(v=void 0===c?{}:c).type;if(!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}v.onLayoutEnd=function(){o.postMessage({type:t,nodes:u}),null===a||void 0===a||a.destroy()},(a=new d(v)).init({nodes:u,edges:l}),a.execute();break;case r:var d,h=i.data,p=h.nodes,g=(l=h.edges,h.layoutCfg),v=void 0===g?{}:g,m=h.canvas;if(f=v.type,!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}if("gpu"!==f.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(f," does not support GPU")});break}var y=new d(v);y.init({nodes:p,edges:l}),y.executeWithWorker(m,this)}}(i)}}),e);return t},yxe="LAYOUT_RUN",bxe="LAYOUT_END",xxe="LAYOUT_ERROR",wxe="LAYOUT_TICK",_xe="GPU_LAYOUT_RUN",Sxe="GPU_LAYOUT_END";function Exe(e){return Exe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Exe(e)}var Cxe,kxe,Mxe,Ixe,Txe=function(e){return setTimeout(e,16)},Axe=function(e){return clearTimeout(e)},Nxe=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||Txe)(e)},Dxe=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Axe)(e)},Pxe=["fruchterman","gForce"],Oxe=["force","grid","circular"],Lxe=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,Fse.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=mxe(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(Dxe(e.requestId),e.requestId=null),e.requestId2&&(Dxe(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,Fse.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,u,l,c;return(0,Fse.__generator)(this,(function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=e.onTick,l=function(){a&&a(),n.refreshPositions()},e.tick=l):"comboForce"!==o&&"comboCombined"!==o||(e.comboTrees=n.get("comboTrees")),!1;try{s=new txe.Layouts[o](e)}catch(li){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return s.enableTick&&(u=e.onTick,l=function(){u&&u(),n.refreshPositions()},s.tick=l),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach((function(e){e.layoutOrder=t}))}(c=this.filterLayoutData(this.data,e),t),s.init(c),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return f.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}}))}))}))},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,Fse.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return(0,Fse.__generator)(this,(function(a){switch(a.label){case 0:return n=this.graph,i=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,t),e.init(o),e.updateCfg(t),n.emit("beforesublayout",{type:i}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var l=u.type;l&&"gpu"===l.split("-")[1]&&(l=l.split("-")[0],u.gpuEnabled=!0);var c=!1;u.gpuEnabled&&(c=!0,dxe().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),c=!1)),this.isGPU=c;var f=u.onLayoutEnd,d=u.layoutEndFormatted,h=u.adjust;if(d||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,Fse.__awaiter)(t,void 0,void 0,(function(){return(0,Fse.__generator)(this,(function(e){switch(e.label){case 0:return f&&f(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),g=!1;return u.type?(g=!0,p=p.then((function(){return(0,Fse.__awaiter)(t,void 0,void 0,(function(){return(0,Fse.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}}))}))}))):u.pipes&&(g=!0,u.pipes.forEach((function(e,n){p=p.then((function(){return(0,Fse.__awaiter)(t,void 0,void 0,(function(){return(0,Fse.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}}))}))}))}))),g&&p.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()})).catch((function(e){console.warn("graph layout failed,",e)})),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then((function(){return t.runWebworker(i,e,n)}));else if(n.pipes){s=!0;for(var u=function(n){a=a.then((function(){return t.runWebworker(i,e,n)}))},l=0,c=n.pipes;l<c.length;l++){u(c[l])}}return s&&a.then((function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()})).catch((function(e){console.error("layout failed",e)})),!0},t.prototype.runWebworker=function(e,t,n){var r=this,i=this.isGPU,o=this.filterLayoutData(t,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),l=i&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,c=function(e,t){var n={};if(e&&"object"===Exe(e))return Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])})),n;return e}(n,(function(e){return"function"!==typeof e}));if(l){var f=u.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),e.postMessage({type:_xe,nodes:a,edges:s,layoutCfg:c,canvas:f},[f])}else e.postMessage({type:yxe,nodes:a,edges:s,layoutCfg:c});return new Promise((function(t,i){e.onmessage=function(e){r.handleWorkerMessage(t,i,e,o,n)}}))},t.prototype.handleWorkerMessage=function(e,t,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=s.type,l=function(){i.onTick&&i.onTick()};switch(u){case wxe:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=Nxe((function(){Bxe(r,s),o.refreshPositions(),l(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=Nxe((function(){Bxe(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,l(),e()}))),a.requestId=null})));break;case bxe:null==a.currentTick&&(Bxe(r,s),e());break;case Sxe:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),e());break;case xxe:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=(0,jse.mix)({},this.layoutCfg,e);if(this.layoutCfg=i,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve(),a=!1;1===r.length?(a=!0,o=o.then((function(){return(0,Fse.__awaiter)(t,void 0,void 0,(function(){return(0,Fse.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],i)];case 1:return[2,e.sent()]}}))}))}))):(a=!0,null===r||void 0===r||r.forEach((function(e,n){var r=i.pipes[n];o=o.then((function(){return(0,Fse.__awaiter)(t,void 0,void 0,(function(){return(0,Fse.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}}))}))}))}))),a&&o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(e){console.warn("layout failed",e)}))}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise((function(r){var i=e.nodes;(null===i||void 0===i?void 0:i.length)||r(),Oxe.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,l=(0,jse.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach((function(e,t){var n,r,i,o=e.x-(null===(n=l[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=l[t])||void 0===r?void 0:r.y);null===(i=s[t])||void 0===i||i.forEach((function(e){e.x+=o,e.y+=a}))})),r()},new txe.Layouts[t](o).layout({nodes:u})}))},t.prototype.hasGPUVersion=function(e){return Pxe.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(Xve),Rxe=Lxe;function Bxe(e,t){for(var n=e.nodes,r=t.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function zxe(e){Cxe||(Cxe=document.createElement("table"),kxe=document.createElement("tr"),Mxe=/^\s*<(\w+|!)[^>]*>/,Ixe={tr:document.createElement("tbody"),tbody:Cxe,thead:Cxe,tfoot:Cxe,td:kxe,th:kxe,"*":document.createElement("div")});var t=Mxe.test(e)&&RegExp.$1;t&&t in Ixe||(t="*");var n=Ixe[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var Fxe=Qse,jxe=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,Fse.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new Rxe(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new exe(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new Nbe({container:e,width:i,height:o});else{var a={container:e,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new Eye(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;(0,jse.each)(e.get("plugins"),(function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)}))},t.prototype.downloadImageWatermark=function(e,t,n,r){return(0,Fse.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Fse.__generator)(this,(function(s){switch(s.label){case 0:return i=e.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise((function(e){a.onload=function(){var i=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=i,t.fill(),e("")}}))];case 1:return s.sent(),[2]}}))}))},t.prototype.asyncToDataUrl=function(e,t,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),l=u.getRenderer(),c=o||u.get("el"),f="";e||(e="image/png"),setTimeout((function(){return(0,Fse.__awaiter)(a,void 0,void 0,(function(){var o,a,u,d,h,p,g,v,m,y;return(0,Fse.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==l?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),d=(new XMLSerializer).serializeToString(u),f="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return h=void 0,p=c.getContext("2d"),g=r||this.get("width"),v=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,g,v)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,g*y,v*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,g,v)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}f=c.toDataURL(e),t&&(p.clearRect(0,0,g,v),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(f),[2]}}))}))}),16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");e||(e="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var l=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(l))}else{var c=void 0,f=i.getContext("2d"),d=this.get("width"),h=this.get("height"),p=void 0;if(t){var g="undefined"!==typeof window?window.devicePixelRatio:1;try{c=f.getImageData(0,0,d*g,h*g),p=f.globalCompositeOperation,f.globalCompositeOperation="destination-over",f.fillStyle=t,f.fillRect(0,0,d,h)}catch(v){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(e),t&&(f.clearRect(0,0,d,h),f.putImageData(c,0,0),f.globalCompositeOperation=p)}return o},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=zxe('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?(0,jse.isNumber)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var c=i+l[0]+l[2],f=o+l[1]+l[3],d={container:s,height:c,width:f,quickHit:!0},h="svg"===a?new Nbe(d):new Eye(d),p=this.get("group").clone(),g=(0,jse.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;g=Fxe(g,[["t",-v,-m],["t",o/2+l[3],i/2+l[0]]]),p.resetMatrix(),p.setMatrix(g),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,l=y.getContext("2d"),d=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=l.getImageData(0,0,f*h,c*h),d=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=u,l.fillRect(0,0,f,c)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(l.clearRect(0,0,f,c),l.putImageData(s,0,0),l.globalCompositeOperation=d)}e&&e(b)}),16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=zxe('<div id="virtual-image"></div>'),l=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,f=n?n.padding:void 0;f?(0,jse.isNumber)(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=a+f[1]+f[3];if(l){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;d=Math.ceil(d/v)*v,h=Math.ceil(h/g)*g}var m={container:u,height:d,width:h},y="svg"===s?new Nbe(m):new Eye(m),b=this.get("group").clone(),x=(0,jse.clone)(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(i.maxX+i.minX)/2,_=(i.maxY+i.minY)/2;x=Fxe(x,[["t",-w,-_],["t",a/2+f[3],o/2+f[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var S=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,c,(function(n){var i=document.createElement("a"),o=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}),h,d,S)},t.prototype.downloadImage=function(e,t,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();t||(t="image/png");var a=(e||"graph")+("svg"===o?".svg":t.split("/")[1]),s=document.createElement("a");i.asyncToDataUrl(t,n,(function(e){r.dataURLToImage(e,o,s,a);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),s.dispatchEvent(t)}))},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var i=e.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(c)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=Kbe.waterMarkerImage);var n=this.get("container");(0,jse.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,jse.deepMix)({},Kbe.imageWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new Eye(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.x,p=u.y;f.rotate(-d*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=e,g.onload=function(){if(f.drawImage(g,h,p,u.width,u.height),f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");(0,jse.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,jse.deepMix)({},Kbe.textWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new Eye(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,m=u.x,y=u.y,b=u.lineHeight;f.rotate(-d*Math.PI/180),f.font="".concat(g,"px ").concat(p),f.fillStyle=h,f.textBaseline=v;for(var x=e.length-1;x>=0;x--)f.fillText(e[x],m,y+x*b);if(f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,i;(0,jse.each)(this.get("plugins"),(function(e){e.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),e.prototype.destroy.call(this)},t}(Eve),Gxe=jxe,Vxe=hxe.radialLayout,Uxe=hxe.traverseTree,Wxe=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,Fse.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=rxe()[e.type](t,e);return Vxe(n),n}:function(t){return rxe()[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return(0,jse.each)(e,(function(e,r){if(t===e.id)return n=r,!1})),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,i=e.data;i&&(i.x=e.x,i.y=e.y,i.depth=e.depth);var o=r.addItem("node",i,!1);if(t){if(o.set("parent",t),n){var a=t.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=t.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(o):t.set("children",[o]),r.addItem("edge",{source:t.get("id"),target:o.get("id"),id:"".concat(t.get("id"),":").concat(o.get("id"))},!1)}return(0,jse.each)(e.children||[],(function(e){r.innerAddChild(e,o,n)})),r.emit("afteraddchild",{item:o,parent:t}),o},t.prototype.innerUpdateChild=function(e,n,r){var i=this,o=i.findById(e.id);if(o){(0,jse.each)(e.children||[],(function(e){i.innerUpdateChild(e,o,r)}));var a,s,u=o.get("children");if(u)if(u.length>0)for(var l=u.length-1;l>=0;l--){var c=u[l].getModel();-1===t.indexOfChild(e.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:e.x,y:e.y},r),u.splice(l,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var f=o.getModel();r&&o.set("originAttrs",{x:f.x,y:f.y}),o.set("model",e.data),a===e.x&&s===e.y||o.updatePosition({x:e.x,y:e.y})}else i.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,i=r.findById(e);if(i)if((0,jse.each)(i.get("children"),(function(e){r.innerRemoveChild(e.getModel().id,t,n)})),n){var o=i.getModel();i.set("to",t),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map((function(e){return t.clearItemStates(e)})),this.getEdges().map((function(e){return t.clearItemStates(e)})),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t.getLayout()),t.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this,n=t.get("data"),r=t.get("layoutMethod"),i=r?r(n,t.get("layout")):n,o=t.get("animate");(t.emit("beforerefreshlayout",{data:n,layoutData:i}),t.emit("beforelayout"),t.innerUpdateChild(i,void 0,o),e)&&t.get("viewController").fitView();o?t.layoutAnimate(i):(t.refresh(),t.paint()),t.emit("afterrefreshlayout",{data:n,layoutData:i}),t.emit("afterlayout")},t.prototype.addChild=function(e,t){var n=this;n.emit("beforeaddchild",{model:e,parent:t}),(0,jse.isString)(t)||(t=t.get("id"));var r=n.findDataById(t);r&&(r.children||(r.children=[]),r.children.push(e),n.changeData())},t.prototype.updateChildren=function(e,t){var n=this;t&&n.findById(t)?(n.findDataById(t).children=e,n.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){var r=this;if(n&&r.findById(n)){var i=r.findDataById(n),o=r.findById(e.id);if(i.children||(i.children=[]),o){var a=t.indexOfChild(i.children,e.id);i.children[a]=e}else i.children.push(e);r.changeData()}else r.changeData(e)},t.prototype.removeChild=function(e){var n=this,r=n.findById(e);if(r){var i=r.get("parent");if(i&&!i.destroyed){var o=n.findDataById(i.get("id")),a=o&&o.children||[],s=r.getModel(),u=t.indexOfChild(a,s.id);a.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return(0,jse.each)(t.children||[],(function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0})),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach((function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){Uxe(e,(function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),t){var u=t(o,r,a,e);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0})),(0,jse.each)(n.get("removeList"),(function(e){var t=e.getModel(),n=e.get("originAttrs"),i=e.get("to");t.x=n.x+(i.x-n.x)*r,t.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,jse.each)(n.getNodes(),(function(e){e.set("originAttrs",null)})),(0,jse.each)(n.get("removeList"),(function(e){n.removeItem(e)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,t=e.get("data");if(!t||!(0,jse.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(Gxe),Zxe=Wxe;function Hxe(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var Yxe=function(){function e(e){this._cfgs=(0,jse.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};(0,jse.each)(n,(function(n,i){var o=(0,jse.wrapBehavior)(t,n);r[i]=o,e.on(i,o)})),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,jse.each)(t,(function(t,n){e.off(n,t)})),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),Xxe=Yxe,Kxe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qxe="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",$xe=function(e){function t(t){return e.call(this,t)||this}return Kxe(t,e),t.prototype.getDefaultCfgs=function(){return{img:qxe,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||qxe,i=zxe("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=zxe("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),t.insertBefore(i,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");Hxe(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/t,o=80*r/t;Hxe(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");Hxe(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Xxe),Qxe=$xe,Jxe=n(5929),ewe=n.n(Jxe),twe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ewe()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var nwe=function(e){function t(t){return e.call(this,t)||this}return twe(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=zxe("<div class=".concat(e||"g6-component-contextmenu","></div>"));Hxe(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,jse.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(e,o);(0,jse.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var l=o.get("width"),c=o.get("height"),f=r.getBoundingClientRect(),d=this.get("offsetX")||0,h=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=e.canvasX+g+d,m=e.canvasY+p+h;v+f.width>l&&(v=e.canvasX-f.width-d+g),m+f.height>c&&(m=e.canvasY-f.height-h+p),Hxe(r,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&Hxe(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,jse.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Xxe),rwe=nwe,iwe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),owe=function(){return owe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},owe.apply(this,arguments)},awe=Math.max,swe=Qse,uwe=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=(0,jse.debounce)((function(e){var t=n;t.destroyed||t.updateCanvas()}),100,!1),n}return iwe(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=zxe("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,l=!1,c=0,f=0,d=0,h=0,p=0,g=0;o.addEventListener("dragstart",(function(i){var a,v;if(i.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=i.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(QM){i.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,i.target===o){var y=o.style;c=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10),d>n[0]||h>n[1]||(g=r.getZoom(),p=e.get("ratio"),l=!0,s=i.clientX,u=i.clientY)}}),!1),o.addEventListener(a?"dragover":"drag",(function(e){if(l&&!(0,jse.isNil)(e.clientX)&&!(0,jse.isNil)(e.clientY)){var t=s-e.clientX,i=u-e.clientY;(c-t<0||c-t+d>=n[0])&&(t=0),(f-i<0||f-i+h>=n[1])&&(i=0),f-=i,Hxe(o,{left:"".concat(c-=t,"px"),top:"".concat(f,"px")}),r.translate(t*g/p,i*g/p),s=e.clientX,u=e.clientY}}),!1),o.addEventListener("dragend",(function(){l=!1,t.refresh=!0}),!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),l=this.get("viewport");l||this.initViewport();var c=(u.x-s.x)*e,f=(u.y-s.y)*e,d=s.x*e+t,h=s.y*e+n,p=d+c,g=h+f;d<0&&(c+=d,d=0),p>i[0]&&(c-=p-i[0]),h<0&&(f+=h,h=0),g>i[1]&&(f-=g-i[1]),this.set("ratio",e),Hxe(l,{left:"".concat(d,"px"),top:"".concat(h,"px"),width:"".concat(c,"px"),height:"".concat(f,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach((function(e){e.get("visible")||e.hide(),t.updateVisible(e)}))}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,jse.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,jse.each)(t.getNodes(),(function(t){e.updateOneNodeKeyShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,jse.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,jse.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,jse.each)(t.getNodes(),(function(t){e.updateOneNodeDelegateShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,jse.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var i=e.get("keyShape").attr("path");r.attr("path",i)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[e.get("id")],o=e.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a)}else i=t.addShape("rect",{attrs:owe({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});e.isVisible()?i.show():i.hide(),i.exist=!0,r[e.get("id")]=i,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=e.get("size"),r=e.get("className"),i=e.get("container"),o=zxe("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,jse.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):t.get("container").appendChild(o),e.set("container",o);var a,s=zxe('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),s.addEventListener("dragenter",(function(e){e.preventDefault()})),s.addEventListener("dragover",(function(e){e.preventDefault()})),a="svg"===t.get("renderer")?new Nbe({container:s,width:n[0],height:n[1]}):new Eye({container:s,width:n[0],height:n[1]}),e.set("canvas",a),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,l=s.width/u,c=s.height/u;Number.isFinite(a.width)&&(l=awe(a.width,l),c=awe(a.height,c)),l+=2*i,c+=2*i;var f=Math.min(t[0]/l,t[1]/c),d=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(t[0]-(l-2*i)*f)/2,v=(t[1]-(c-2*i)*f)/2;d=swe(d,[["t",h,p],["s",f,f],["t",g,v]]),o.setMatrix(d),this.set("ratio",f),this.set("totaldx",g+h*f),this.set("totaldy",v+p*f),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(Xxe),lwe=uwe,cwe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function fwe(e,t,n){var r=e.x-t.x,i=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function dwe(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var hwe=function(e){function t(t){return e.call(this,t)||this}return cwe(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",(function(){t&&t(),e.refreshPositions()}))},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],i={},o=!1;if(r.forEach((function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(o=!0),i[e.id]=e})),o)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",i);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var l=t.getEdgeBundles();t.set("edgeBundles",l);for(var c=t.get("cycles"),f=t.get("iterations"),d=t.get("iterRate"),h=t.get("lambda"),p=0;p<c;p++){for(var g=function(e){var r=[];n.forEach((function(e,n){if(e.source!==e.target){var o=i[e.source],s=i[e.target];r[n]=t.getEdgeForces({source:o,target:s},n,a,h);for(var l=0;l<a+1;l++)u[n][l].x+=r[n][l].x,u[n][l].y+=r[n][l].y}}))},v=0;v<f;v++)g();h/=2,a*=s,f*=d,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach((function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))})),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach((function(n){t.set(n,e[n])})),e.onTick){var r=this.get("graph");t.set("tick",(function(){e.onTick(),r.refresh()}))}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),i=t.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],s=r[n.target];if(1===e)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?t.getEdgeLength(i[o]):fwe({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),l=u,c=[{x:a.x,y:a.y}];i[o].forEach((function(e,t){if(0!==t){for(var n=fwe(e,i[o][t-1]);n>l;){var r=l/n,a={x:i[o][t-1].x,y:i[o][t-1].y};a.x+=r*(e.x-i[o][t-1].x),a.y+=r*(e.y-i[o][t-1].y),c.push(a),n-=l,l=u}l-=n}})),c.push({x:s.x,y:s.y}),i[o]=c}})),i},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach((function(n,r){0!==r&&(t+=fwe(n,e[r-1]))})),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),i=e.get("edgeBundles");return i||(i=[]),t.forEach((function(e,t){i[t]&&void 0!==i[t]||(i[t]=[])})),t.forEach((function(o,a){var s=r[o.source],u=r[o.target];t.forEach((function(t,o){if(!(o<=a)){var l=r[t.source],c=r[t.target];e.getBundleScore({source:s,target:u},{source:l,target:c})>=n&&(i[a].push(o),i[o].push(a))}}))})),i},t.prototype.getBundleScore=function(e,t){var n=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=fwe({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=fwe({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.getAngleScore(e,t)*n.getScaleScore(e,t)*n.getPositionScore(e,t)*n.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy});return n/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+fwe({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=dwe(t.source,e),r=dwe(t.target,e),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*fwe(i,o)/fwe(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(fwe(e.source,e.target)*(n+1)),s=[{x:0,y:0}],u=1;u<n;u++){var l={x:0,y:0},c=i.getSpringForce({pre:o[t][u-1],cur:o[t][u],next:o[t][u+1]},a),f=i.getElectrostaticForce(u,t);l.x=r*(c.x+f.x),l.y=r*(c.y+f.y),s.push(l)}return s.push({x:0,y:0}),s},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),a=i[t],s={x:0,y:0};return a.forEach((function(n){var i={x:o[n][e].x-o[t][e].x,y:o[n][e].y-o[t][e].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var a=1/fwe(o[n][e],o[t][e]);s.x+=i.x*a,s.y+=i.y*a}})),s},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(Xxe),pwe=hwe,gwe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vwe=function(){return vwe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vwe.apply(this,arguments)},mwe={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},ywe=function(e){function t(t){return e.call(this,t)||this}return gwe(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,jse.clone)(mwe),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,t=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",t*t);var n=e.get("d");e.set("molecularParam",(n+1)*t)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",(function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})})),r.on("drag",(function(e){n.magnify(e)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(e){t.scaleDByWheel(e)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(e){n.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||r.get("height"))&&n>1||u<(s||.05*r.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.set("delegateCenterDiff",void 0),t.magnify(e,o)}},t.prototype.scaleRByDrag=function(e){var t=this;if(e){var n,r=t.get("dragPrePos"),i=t.get("graph"),o=i.getPointByClient(e.clientX,e.clientY);n=e.x-r.x<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||i.get("height"))&&n>1||u<(s||.05*i.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.magnify(e,o),t.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var t=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var n=0;n=e.originalEvent.wheelDelta<0?-.1:.1;var r=t.get("d")+n,i=t.get("maxD"),o=t.get("minD");if(r<i&&r>o){t.set("d",r);var a=t.get("r");t.set("molecularParam",(r+1)*a);var s=t.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;t.set("delegateCenterDiff",void 0),t.magnify(e,u)}}},t.prototype.scaleDByDrag=function(e){var t=this,n=t.get("dragPrePos"),r=e.x-n.x>0?.1:-.1,i=t.get("d")+r,o=t.get("maxD"),a=t.get("minD");if(i<o&&i>a){t.set("d",i);var s=t.get("r");t.set("molecularParam",(i+1)*s),t.magnify(e)}t.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),u=n.get("r2"),l=n.get("d"),c=n.get("molecularParam"),f=r.getNodes(),d=f.length,h=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(h=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(h.x+=p.x,h.y+=p.y),n.updateDelegate(h,s);for(var g=0;g<d;g++){var v=f[g].getModel(),m=v.x,y=v.y;if(!isNaN(m)&&!isNaN(y)){var b=(m-h.x)*(m-h.x)+(y-h.y)*(y-h.y);if(!isNaN(b)&&b<u&&0!==b){var x=Math.sqrt(b),w=c*x/(l*x+s),_=(m-h.x)/x,S=(y-h.y)/x;if(v.x=_*w+h.x,v.y=S*w+h.y,o[v.id]||(o[v.id]={x:m,y:y,texts:[]}),i.push(v),a&&2*x<s)for(var E=f[g].getContainer().getChildren(),C=E.length,k=0;k<C;k++){var M=E[k];"text"===M.get("type")&&(o[v.id].texts.push({visible:M.get("visible"),shape:M}),M.set("visible",!0))}}}}r.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,t=e.get("cachedMagnifiedModels"),n=e.get("cachedOriginPositions"),r=t.length,i=0;i<r;i++){var o=t[i],a=n[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var l=a.texts[u];l.shape.set("visible",l.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.d,i=e.trigger,o=e.minD,a=e.maxD,s=e.minR,u=e.maxR,l=e.scaleDBy,c=e.scaleRBy;isNaN(e.r)||(t.set("r",n),t.set("r2",n*n)),isNaN(r)||t.set("d",r),isNaN(a)||t.set("maxD",a),isNaN(o)||t.set("minD",o),isNaN(u)||t.set("maxR",u),isNaN(s)||t.set("minR",s);var f,d=t.get("d"),h=t.get("r");(t.set("molecularParam",(d+1)*h),"mousemove"!==i&&"click"!==i&&"drag"!==i||t.set("trigger",i),"drag"===l||"wheel"===l||"unset"===l)&&(t.set("scaleDBy",l),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(t.set("scaleRBy",c),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||mwe;o=a.addShape("circle",{attrs:vwe({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(e){r.scaleRByWheel(e)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){r.scaleRByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(e){n.scaleDByWheel(e)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){n.scaleDByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))))}else o.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),l=r.get("dPercentText"),c=e.y+t/1.5+16;if(!l||l.destroyed)l=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",l);else l.attr({text:"".concat(u,"%"),x:e.x,y:c})}r.set("delegate",o)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Xxe),bwe=ywe,xwe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ewe()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var wwe=function(e){function t(t){return e.call(this,t)||this}return xwe(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;(0,jse.isString)(n)&&(r=zxe(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),(0,jse.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter((function(e){return"LI"===e.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,t):e.handleDefaultOperator(i,t))}}));var s=this.get("position");s&&Hxe(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&i&&e.on("stackchange",(function(e){var o=e.undoStack,a=e.redoStack,s=o.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,(0,jse.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,i=n.data.after;if(e.pushStack(r,(0,jse.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(t){e.removeItem(t.id,!1)})),i.nodes&&i.nodes.forEach((function(t){e.removeItem(t.id,!1)})),i.combos&&i.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.handleDefaultOperator=function(e,t){var n=t.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||t.get("maxZoom")))return;t.zoomTo(n*r);break;case"zoomIn":var i=1-.05*this.get("zoomSensitivity");if(i*n<(this.get("minZoom")||t.get("minZoom")))return;t.zoomTo(n*i);break;case"realZoom":t.zoomTo(1);break;case"autoZoom":t.fitView([20,20])}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,jse.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(Xxe),_we=wwe,Swe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ewe()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var Ewe=function(e){function t(t){return e.call(this,t)||this}return Swe(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=zxe("<div class=".concat(t,"></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),(0,jse.isString)(r)&&(r=document.getElementById(r)),Hxe(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",(function(e){Hxe(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(t){e.hideTooltip()}))),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);(0,jse.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&Hxe(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),l=this.get("fixToNode"),c=e.item;if(c.getType&&"node"===c.getType()&&l&&(0,jse.isArray)(l)&&l.length>=2){var f=c.getBBox();u={x:f.minX+f.width*l[0],y:f.minY+f.height*l[1]}}var d=r.getCanvasByPoint(u.x,u.y),h=d.x,p=d.y,g=r.getContainer(),v={x:h+g.offsetLeft+a,y:p+g.offsetTop+s};Hxe(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>i&&(v.x-=m.width+a),p+m.height+s>o&&(v.y-=m.height+s),Hxe(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else Hxe(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,jse.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Xxe),Cwe=Ewe,kwe={};function Mwe(e,t){kwe[e]=t}var Iwe=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){(0,jse.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return(0,jse.map)(this.ticks,(function(t,n){return(0,jse.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}}))},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return(0,jse.isNil)(r)||!(0,jse.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){(0,jse.assign)(this,this.__cfg__),this.setDomain(),(0,jse.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,jse.isString)(e)){var n=function(e){return kwe[e]}(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,jse.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return(0,jse.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),Twe=Iwe,Awe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,Fse.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=(0,jse.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return(0,jse.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,(0,Fse.__spreadArrays)([i],n))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,jse.isNil)(this.getConfig("min"))&&(this.min=0),(0,jse.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(Twe),Nwe=Awe,Dwe=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Pwe="[1-9]\\d?",Owe="\\d\\d",Lwe="[^\\s]+",Rwe=/\[([^]*?)\]/gm;function Bwe(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var zwe=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})),i=r.indexOf(t.toLowerCase());return i>-1?i:null}};function Fwe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e}var jwe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Gwe=["January","February","March","April","May","June","July","August","September","October","November","December"],Vwe=Bwe(Gwe,3),Uwe={dayNamesShort:Bwe(jwe,3),dayNames:jwe,monthNamesShort:Vwe,monthNames:Gwe,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Wwe=Fwe({},Uwe),Zwe=function(e){return Wwe=Fwe(Wwe,e)},Hwe=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ywe=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Xwe={D:function(e){return String(e.getDate())},DD:function(e){return Ywe(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Ywe(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Ywe(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Ywe(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Ywe(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Ywe(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Ywe(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Ywe(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Ywe(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Ywe(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Ywe(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Ywe(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Ywe(Math.floor(Math.abs(t)/60),2)+":"+Ywe(Math.abs(t)%60,2)}},Kwe=function(e){return+e-1},qwe=[null,Pwe],$we=[null,Lwe],Qwe=["isPm",Lwe,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],Jwe=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],e_e={D:["day",Pwe],DD:["day",Owe],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",Pwe,Kwe],MM:["month",Owe,Kwe],YY:["year",Owe,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",Pwe,void 0,"isPm"],hh:["hour",Owe,void 0,"isPm"],H:["hour",Pwe],HH:["hour",Owe],m:["minute",Pwe],mm:["minute",Owe],s:["second",Pwe],ss:["second",Owe],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",Owe,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:qwe,dd:qwe,ddd:$we,dddd:$we,MMM:["month",Lwe,zwe("monthNamesShort")],MMMM:["month",Lwe,zwe("monthNames")],a:Qwe,A:Qwe,ZZ:Jwe,Z:Jwe},t_e={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},n_e=function(e){return Fwe(t_e,e)},r_e=function(e,t,n){if(void 0===t&&(t=t_e.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=t_e[t]||t).replace(Rwe,(function(e,t){return r.push(t),"@@@"}));var i=Fwe(Fwe({},Wwe),n);return(t=t.replace(Dwe,(function(t){return Xwe[t](e,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function i_e(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=t_e[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=t.replace(Rwe,(function(e,t){return o.push(Hwe(t)),"@@@"})),s={},u={};a=Hwe(a).replace(Dwe,(function(e){var t=e_e[e],n=t[0],r=t[1],o=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(t),"("+r+")"})),Object.keys(u).forEach((function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var l=e.match(new RegExp(a,"i"));if(!l)return null;for(var c=Fwe(Fwe({},Wwe),n),f=1;f<l.length;f++){var d=i[f-1],h=d[0],p=d[2],g=p?p(l[f],c):+l[f];if(null==g)return null;r[h]=g}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,m.length);f<y;f++)if(s[m[f][0]]&&r[m[f][0]]!==v[m[f][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var o_e={format:r_e,parse:i_e,defaultI18n:Uwe,setGlobalDateI18n:Zwe,setGlobalDateMasks:n_e};function a_e(e,t){return(g.format||o_e.format)(e,t)}function s_e(e){return(0,jse.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,jse.isDate)(e)&&(e=e.getTime()),e}var u_e=1e3,l_e=6e4,c_e=36e5,f_e=24*c_e,d_e=31*f_e,h_e=365*f_e,p_e=[["HH:mm:ss",u_e],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",l_e],["HH:mm",6e5],["HH:mm",18e5],["HH",c_e],["HH",6*c_e],["HH",12*c_e],["YYYY-MM-DD",f_e],["YYYY-MM-DD",4*f_e],["YYYY-WW",7*f_e],["YYYY-MM",d_e],["YYYY-MM",4*d_e],["YYYY-MM",6*d_e],["YYYY",380*f_e]];function g_e(e,t,n){var r,i=(r=function(e){return e[1]},function(e,t,n,i){for(var o=(0,jse.isNil)(n)?0:n,a=(0,jse.isNil)(i)?e.length:i;o<a;){var s=o+a>>>1;r(e[s])>t?a=s:o=s+1}return o})(p_e,(t-e)/n)-1,o=p_e[i];return i<0?o=p_e[0]:i>=p_e.length&&(o=(0,jse.last)(p_e)),o}var v_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,Fse.__extends)(t,e),t.prototype.translate=function(e){e=s_e(e);var t=this.values.indexOf(e);return-1===t&&(t=(0,jse.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,t):a_e(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;(0,jse.each)(t,(function(e,n){t[n]=s_e(e)})),t.sort((function(e,t){return e-t})),e.prototype.setDomain.call(this)},t}(Nwe),m_e=v_e,y_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,Fse.__extends)(t,e),t.prototype.scale=function(e){if((0,jse.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,jse.head)(t),r=(0,jse.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,jse.isNil)(this.minLimit)||(this.min=n),(0,jse.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=(0,jse.getRange)(this.values),t=e.min,n=e.max;(0,jse.isNil)(this.min)&&(this.min=t),(0,jse.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,jse.filter)(n,(function(e){return e>=t.min&&e<=t.max}))),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(Twe),b_e=y_e,x_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,Fse.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(b_e),w_e=x_e;function __e(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function S_e(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function E_e(e,t,n){(0,jse.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return(0,jse.each)(e,(function(e){e>0&&e<r&&(r=e)})),r===n&&(r=n/t),r>1&&(r=1),r}var C_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,Fse.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=S_e(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=S_e(n,a/n)))*o;if(e<s)return e/s*a}else t=S_e(n,this.min);var u=(e-i)/o*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=E_e(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),e<i?e/i/(S_e(r,t)-S_e(r,n)):(S_e(r,e)-S_e(r,n))/(S_e(r,t)-S_e(r,n))},t}(b_e),k_e=C_e,M_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,Fse.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=__e(n,this.max),i=__e(n,this.min),o=t*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(__e(r,e)-__e(r,n))/(__e(r,t)-__e(r,n))},t}(b_e),I_e=M_e,T_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,Fse.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):a_e(n,this.mask)},t.prototype.scale=function(t){var n=t;return((0,jse.isString)(n)||(0,jse.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return s_e(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if((0,jse.isNil)(t)&&(0,jse.isNumber)(t)||(this.min=this.translate(this.min)),(0,jse.isNil)(n)&&(0,jse.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],i=1/0,o=i,a=0;(0,jse.each)(e,(function(e){var t=s_e(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");i>t?(o=i,i=t):o>t&&(o=t),a<t&&(a=t),r.push(t)})),e.length>1&&(this.minTickInterval=o-i),(0,jse.isNil)(t)&&(this.min=i),(0,jse.isNil)(n)&&(this.max=a)}},t}(w_e),A_e=T_e,N_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,Fse.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),i=Math.floor(r*(n-1));if(i>=n-1)return(0,jse.last)(t);if(i<0)return(0,jse.head)(t);var o=t[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(t[i+1]-o)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,jse.last)(t)!==this.max&&t.push(this.max),(0,jse.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<(0,jse.head)(t))return 0;if(e>(0,jse.last)(t))return 1;var n=0;return(0,jse.each)(t,(function(t,r){if(!(e>=t))return!1;n=r})),n/(t.length-1)},t}(b_e),D_e=N_e,P_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,Fse.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(D_e),O_e=P_e,L_e={};function R_e(e,t){if(function(e){return L_e[e]}(e))throw new Error("type '"+e+"' existed.");L_e[e]=t}var B_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,Fse.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,jse.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}(Twe),z_e=B_e;function F_e(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var j_e=[1,5,2,2.5,4,3],G_e=100*Number.EPSILON;function V_e(e,t,n,r,i,o){var a=(0,jse.size)(t),s=(0,jse.indexOf)(t,e),u=0,l=function(e,t){return(e%t+t)%t}(r,o);return(l<G_e||o-l<G_e)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function U_e(e,t,n){var r=(0,jse.size)(t);return 1-(0,jse.indexOf)(t,e)/(r-1)-n+1}function W_e(e,t,n,r,i,o){var a=(e-1)/(o-i),s=(t-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function Z_e(e,t){return e>=t?2-(e-1)/(t-1):1}function H_e(e,t,n,r){var i=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*i,2)}function Y_e(e,t,n){var r=t-e;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function X_e(e,t,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=j_e),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var l=0;l<i.length;l+=1){var c=i[l],f=U_e(c,i,u);if(o[0]*f+o[1]+o[2]+o[3]<s.score){u=1/0;break}for(var d=2;d<1/0;){var h=Z_e(d,a);if(o[0]*f+o[1]+o[2]*h+o[3]<s.score)break;for(var p=(t-e)/(d+1)/u/c,g=Math.ceil(Math.log10(p));g<1/0;){var v=u*c*Math.pow(10,g),m=Y_e(e,t,v*(d-1));if(o[0]*f+o[1]*m+o[2]*h+o[3]<s.score)break;var y=Math.floor(t/v)*u-(d-1)*u,b=Math.ceil(e/v)*u;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var _=(y+w)*(v/u),S=_+v*(d-1),E=v,C=V_e(c,i,u,_,S,E),k=H_e(e,t,_,S),M=W_e(d,a,e,t,_,S),I=o[0]*C+o[1]*k+o[2]*M+1*o[3];I>s.score&&(!r||_<=e&&S>=t)&&(s.lmin=_,s.lmax=S,s.lstep=E,s.score=I)}g+=1}d+=1}}u+=1}var T=F_e(s.lmax),A=F_e(s.lmin),N=F_e(s.lstep),D=Math.floor(function(e){return Math.round(1e12*e)/1e12}((T-A)/N))+1,P=new Array(D);P[0]=F_e(A);for(l=1;l<D;l++)P[l]=F_e(P[l-1]+N);return{min:Math.min(e,(0,jse.head)(P)),max:Math.max(t,(0,jse.last)(P)),ticks:P}}function K_e(e){var t=e.values,n=e.tickInterval,r=e.tickCount,i=t;if((0,jse.isNumber)(n))return(0,jse.filter)(i,(function(e,t){return t%n===0}));var o=e.min,a=e.max;if((0,jse.isNil)(o)&&(o=0),(0,jse.isNil)(a)&&(a=t.length-1),(0,jse.isNumber)(r)&&r<a-o){var s=X_e(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,jse.filter)(s,(function(e){return e>=o&&e<=a})).map((function(e){return t[e]}))}return t.slice(o,a+1)}var q_e=Math.sqrt(50),$_e=Math.sqrt(10),Q_e=Math.sqrt(2),J_e=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],o=(n=[a,o])[0],a=n[1]),(r=eSe(s,u,e))>0?r=eSe(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=eSe(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(i=e,e=t,t=i);if(0===(a=eSe(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function eSe(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=q_e?10:o>=$_e?5:o>=Q_e?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=q_e?10:o>=$_e?5:o>=Q_e?2:1)}function tSe(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function nSe(e,t,n){var r=tSe(e,n,"floor"),i=tSe(t,n,"ceil");r=(0,jse.fixedBase)(r,n),i=(0,jse.fixedBase)(i,n);for(var o=[],a=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=a){var u=(0,jse.fixedBase)(s,a);o.push(u)}return{min:r,max:i,ticks:o}}function rSe(e,t,n){var r,i=e.minLimit,o=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,l=void 0===u?5:u,c=(0,jse.isNil)(i)?(0,jse.isNil)(t)?a:t:i,f=(0,jse.isNil)(o)?(0,jse.isNil)(n)?s:n:o;if(c>f&&(f=(r=[c,f])[0],c=r[1]),l<=2)return[c,f];for(var d=(f-c)/(l-1),h=[],p=0;p<l;p++)h.push(c+d*p);return h}function iSe(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var i=(t-e)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(t/a),u=Math.floor(e/a),l=Math.max(s*a,t),c=Math.min(u*a,e),f=Math.floor((l-c)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=F_e(c+h*a);return{min:c,max:l,ticks:d}}function oSe(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function aSe(e){return new Date(e).getFullYear()}function sSe(e){return new Date(e,0,1).getTime()}function uSe(e){return new Date(e).getMonth()}function lSe(e,t){return new Date(e,t,1).getTime()}Mwe("cat",K_e),Mwe("time-cat",(function(e){var t=K_e(e),n=(0,jse.last)(e.values);return n!==(0,jse.last)(t)&&t.push(n),t})),Mwe("wilkinson-extended",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.nice,o=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=X_e(t,n,r,i).ticks;return(0,jse.isNil)(a)&&(0,jse.isNil)(s)?o?nSe(t,n,o).ticks:u:rSe(e,(0,jse.head)(u),(0,jse.last)(u))})),Mwe("r-pretty",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.tickInterval,o=e.minLimit,a=e.maxLimit,s=iSe(t,n,r).ticks;return(0,jse.isNil)(o)&&(0,jse.isNil)(a)?i?nSe(t,n,i).ticks:s:rSe(e,(0,jse.head)(s),(0,jse.last)(s))})),Mwe("time",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickInterval,o=e.tickCount;if(i)o=Math.ceil((n-t)/i);else{var a=(n-t)/(i=g_e(t,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var s=[],u=t;u<n+i;u+=i)s.push(u);return s})),Mwe("time-pretty",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickCount,o=e.tickInterval,a=[];o||(o=(n-t)/i,r&&o<r&&(o=r));var s=aSe(t);if(o>h_e)for(var u=aSe(n),l=Math.ceil(o/h_e),c=s;c<=u+l;c+=l)a.push(sSe(c));else if(o>d_e){var f=Math.ceil(o/d_e),d=uSe(t),h=function(e,t){var n=aSe(e),r=aSe(t),i=uSe(e);return 12*(r-n)+(uSe(t)-i)%12}(t,n);for(c=0;c<=h+f;c+=f)a.push(lSe(s,c+d))}else if(o>f_e){var p=(b=new Date(t)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(o/f_e),y=function(e,t){return Math.ceil((t-e)/f_e)}(t,n);for(c=0;c<y+m;c+=m)a.push(new Date(p,g,v+c).getTime())}else if(o>c_e){p=(b=new Date(t)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/c_e),_=function(e,t){return Math.ceil((t-e)/c_e)}(t,n);for(c=0;c<=_+w;c+=w)a.push(new Date(p,g,m,x+c).getTime())}else if(o>l_e){var S=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),E=Math.ceil(o/l_e);for(c=0;c<=S+E;c+=E)a.push(t+c*l_e)}else{var C=o;C<u_e&&(C=u_e);var k=Math.floor(t/u_e)*u_e,M=Math.ceil((n-t)/u_e),I=Math.ceil(C/u_e);for(c=0;c<M+I;c+=I)a.push(k+c*u_e)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),Mwe("log",(function(e){var t,n=e.base,r=e.tickCount,i=e.min,o=e.max,a=e.values,s=S_e(n,o);if(i>0)t=Math.floor(S_e(n,i));else{var u=E_e(a,n,o);t=Math.floor(S_e(n,u))}for(var l=s-t,c=Math.ceil(l/r),f=[],d=t;d<s+c;d+=c)f.push(Math.pow(n,d));return i<=0&&f.unshift(0),f})),Mwe("pow",(function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(__e(t,e.max));return iSe(Math.floor(__e(t,e.min)),r,n).ticks.map((function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n}))})),Mwe("quantile",(function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(e,t){return e-t})),i=[],o=0;o<t;o++){var a=o/(t-1);i.push(oSe(r,a))}return i})),Mwe("d3-linear",(function(e){var t=e.min,n=e.max,r=e.tickInterval,i=e.minLimit,o=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,i=e.tickCount,o=new J_e;return o.domain([t,n]),r&&o.nice(i),o.ticks(i)}(e);return(0,jse.isNil)(i)&&(0,jse.isNil)(o)?r?nSe(t,n,r).ticks:a:rSe(e,(0,jse.head)(a),(0,jse.last)(a))})),R_e("cat",Nwe),R_e("category",Nwe),R_e("identity",z_e),R_e("linear",w_e),R_e("log",k_e),R_e("pow",I_e),R_e("time",A_e),R_e("timeCat",m_e),R_e("quantize",D_e),R_e("quantile",O_e);var cSe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function fSe(e){return function(e){return(0,jse.map)(e,(function(e,t){return[0===t?"M":"L",e[0],e[1]]}))}(e)}function dSe(e,t,n,r){void 0===r&&(r=!0);var i=new w_e({values:e}),o=new Nwe({values:(0,jse.map)(e,(function(e,t){return t}))}),a=(0,jse.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]}));return r?function(e){if(e.length<=2)return fSe(e);var t=[];(0,jse.each)(e,(function(e){(0,jse.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])}));var n=Vpe(t,!1),r=(0,jse.head)(e),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):fSe(a)}function hSe(e,t,n,r){void 0===r&&(r=5);for(var i=new w_e({values:e}),o=new Nwe({values:(0,jse.map)(e,(function(e,t){return t}))}),a=(0,jse.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]})),s=[],u=0;u<a.length;u++){var l=a[u],c=gSe({x:l[0],y:l[1],y0:n,size:r});s.push.apply(s,c)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var i=1,o=e.length;i<o;i++)n.push(["L",e[i].x,e[i].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function pSe(e,t,n,r){var i=cSe([],e,!0),o=function(e,t){var n=new w_e({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return i.push(["L",t,o]),i.push(["L",0,o]),i.push(["Z"]),i}function gSe(e){var t,n,r,i,o=e.x,a=e.y,s=e.y0,u=e.size;(0,jse.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),(0,jse.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var l=[{x:r,y:t},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:t}),l}var vSe=function(){return vSe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vSe.apply(this,arguments)},mSe={stroke:"#C5C5C5",strokeOpacity:.85},ySe={fill:"#CACED4",opacity:.85},bSe=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?200:o,s=e.height,u=void 0===s?26:s,l=e.smooth,c=void 0===l||l,f=e.isArea,d=void 0!==f&&f,h=e.data,p=void 0===h?[]:h,g=e.lineStyle,v=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},mSe,g),this.areaStyle=Object.assign({},ySe,v),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height,o=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,l=e.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var f=dSe(o,r,i,a);if(c.addShape("path",{attrs:vSe({path:f},u),name:"trend-line"}),s){var d=pSe(f,r,i,o);c.addShape("path",{attrs:vSe({path:d},l),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:vSe({path:hSe(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),xSe=bSe,wSe=function(){return wSe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wSe.apply(this,arguments)},_Se={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},SSe={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},ESe=function(){function e(e){var t=e.group,n=e.name,r=e.type,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.width,l=void 0===u?2:u,c=e.height,f=void 0===c?24:c,d=e.style,h=void 0===d?{}:d;this.group=t,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=l,this.height=f,"trend"===r?this.style=wSe(wSe({},_Se),h):"simple"===r&&(this.style=wSe(wSe({},SSe),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){(0,jse.isNumber)(e)&&(this.x=e),(0,jse.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,r=e.style,i=e.name,o=r.fill,a=r.stroke,s=r.radius,u=r.opacity,l=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.topCircle.attr("fill",t)}))},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}))},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),CSe=ESe,kSe="timebarstartplay",MSe="timebarendplay",ISe="valuechange",TSe="timebarConfigChanged",ASe="playPauseBtn",NSe="nextStepBtn",DSe="preStepBtn",PSe=function(){return PSe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PSe.apply(this,arguments)},OSe=function(){function e(e){this.config=(0,jse.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=(0,jse.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=this.config.x+a,c=this.config.y+u,f=t.addGroup({name:ASe});this.startMarkerGroup=f.addGroup({name:ASe}),this.circle=t.addShape("circle",{attrs:PSe({x:l,y:c,r:this.config.r*i},n),name:ASe}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(l,c,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=f.addGroup({name:ASe});var d=.25*this.config.r*i,h=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l-.375*this.config.r*i,y:c-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l+1/8*this.config.r*i,y:c-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,i=void 0===r?0:r,o=e.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var l=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-c/2),this.pauseLeftMarker.attr("width",l),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-c/2),this.pauseRightMarker.attr("width",l),this.pauseRightMarker.attr("height",c)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),LSe=OSe,RSe=function(){return RSe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},RSe.apply(this,arguments)},BSe=Qse,zSe={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},FSe={fill:"#fff"},jSe={fill:"green"},GSe={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},VSe={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},USe={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:GSe,timeTypeControllerStyle:VSe},WSe=50,ZSe=function(){function e(e){this.controllerCfg=(0,jse.deepMix)({},USe,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,i=e.y,o=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,l=void 0===u?"green":u,c=e.containerStyle,f=void 0===c?{}:c,d=RSe(RSe({},zSe),e.playBtnStyle||{}),h=RSe(RSe({},FSe),e.preBtnStyle||{}),p=RSe(RSe({},jSe),e.nextBtnStyle||{}),g=n/2-5,v=i+10,m=this.controllerGroup.addShape("rect",{attrs:RSe({x:r,y:v,width:t,height:n,stroke:l,fill:s},f),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:v,r:g}):this.playButton=new LSe({group:this.controllerGroup,x:t/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*g;this.controllerGroup.addShape("path",{attrs:RSe({path:this.getPreMarkerPath(t/2-5*g+y,v+g+5+b,.5*x)},h),name:DSe});var w=p.offsetX||0,_=p.offsetY||0,S=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:RSe({path:this.getNextMarkerPath(t/2+5*g+w,v+g+5+_,.5*S)},p),name:NSe}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var E=this.controllerCfg.scale,C=void 0===E?1:E,k=this.controllerGroup.getCanvasBBox(),M=(k.maxX+k.minX)/2,I=(k.maxY+k.minY)/2,T=BSe([1,0,0,0,1,0,0,0,1],[["t",-M,-I],["s",C,C],["t",M,I]]);this.controllerGroup.setMatrix(T)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,i=RSe(RSe({},GSe),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,l=i.pointer,c=void 0===l?{}:l,f=i.scale,d=void 0===f?1:f,h=i.offsetX,p=void 0===h?0:h,g=i.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=t+this.speedAxisY[x],_=n-(r?WSe:110);m.addShape("line",{attrs:RSe({x1:_,x2:_+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:RSe({x:n-(r?WSe:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:RSe({path:this.getPointerPath(n-(r?WSe:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var S=this.speedGroup.getCanvasBBox(),E=(S.maxX+S.minX)/2,C=(S.maxY+S.minY)/2,k=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];k=BSe(k,[["t",-E,-C],["s",d,d],["t",E+p*d,C+v*d]]),this.speedGroup.setMatrix(k)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=RSe(RSe({},VSe),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=n.box,c=void 0===l?{}:l,f=n.check,d=void 0===f?{}:f,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:RSe({x:t-WSe,y:this.speedAxisY[0]+3.5},c),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:RSe({path:[["M",t-WSe+3,this.speedAxisY[1]+6],["L",t-WSe+7,this.speedAxisY[1]+10],["L",t-WSe+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:RSe({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-WSe+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=BSe(y,[["t",-v,-m],["s",i,i],["t",v+a*i,m+u*i]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",(function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),i=e.speedAxisY.indexOf(r[7]||0),o=e.speedAxisY.indexOf(n),a=e.speedAxisY[o]-e.speedAxisY[i];r=BSe(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(TSe,{speed:e.currentSpeed,type:e.currentType})})),this.speedGroup.on("mousewheel",(function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=e.speedAxisY.indexOf(r);if(-1===i){var o=1/0;e.speedAxisY.forEach((function(e,t){var n=Math.abs(e-r);o>n&&(o=n,i=t)}))}i=t.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(e.speedAxisY.length-1,i+1);var a=e.speedAxisY[i]-r;n=BSe(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(TSe,{speed:e.currentSpeed,type:e.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(t){var n,r,i=t.target.get("isChecked");i?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!i),e.group.emit(TSe,{type:e.currentType,speed:e.currentSpeed})}))},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),HSe=ZSe,YSe=function(){return YSe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},YSe.apply(this,arguments)},XSe=Qse,KSe={fill:"#416180",opacity:.05},qSe={fill:"#416180",opacity:.15,radius:5},$Se={fill:"#5B8FF9",opacity:.3,cursor:"grab"},QSe={width:2,height:24},JSe={textBaseline:"middle",fill:"#000",opacity:.45},eEe={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},tEe={lineWidth:1,stroke:"#ccc"},nEe=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=(0,jse.get)(r,"touches.0.pageX",r.pageX);var i=t.canvas.get("container");i.addEventListener("mousemove",t.onMouseMove),i.addEventListener("mouseup",t.onMouseUp),i.addEventListener("mouseleave",t.onMouseUp),i.addEventListener("touchmove",t.onMouseMove),i.addEventListener("touchend",t.onMouseUp),i.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=(0,jse.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,i=t.adjustOffsetRange(r/t.width);t.updateStartEnd(i),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?100:a,u=e.height,l=e.padding,c=void 0===l?10:l,f=e.trendCfg,d=e.controllerCfg,h=void 0===d?{speed:1}:d,p=e.backgroundStyle,g=void 0===p?{}:p,v=e.foregroundStyle,m=void 0===v?{}:v,y=e.handlerStyle,b=void 0===y?{}:y,x=e.textStyle,w=void 0===x?{}:x,_=e.start,S=void 0===_?0:_,E=e.end,C=void 0===E?1:E,k=e.minText,M=void 0===k?"":k,I=e.maxText,T=void 0===I?"":I,A=e.group,N=e.graph,D=e.canvas,P=e.tick,O=void 0===P?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:P,L=e.type;this.graph=N,this.canvas=D,this.group=A,this.timeBarType=L,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=c,this.ticks=O.ticks,this.trendCfg=f,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=O.tickLabelFormatter,"trend"===L?this.backgroundStyle=YSe(YSe({},KSe),g):"simple"===L&&(this.backgroundStyle=YSe(YSe({},qSe),g)),this.foregroundStyle=YSe(YSe({},$Se),m),this.handlerStyle=YSe(YSe({},QSe),b),this.textStyle=YSe(YSe({},JSe),w),this.tickLabelStyle=YSe(YSe({},eEe),O.tickLabelStyle),this.tickLineStyle=YSe(YSe({},tEe),O.tickLineStyle),this.currentMode="range",this.start=S,this.end=C,this.minText=M,this.maxText=T,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,jse.assign)(this,{x:t,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this,n=t.width,r=t.height,i=t.timeBarType;if("trend"===i&&(0,jse.size)((0,jse.get)(this.trendCfg,"data"))){var o=new xSe(YSe(YSe({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:YSe({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:YSe({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:YSe({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:YSe({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:YSe({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:YSe({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(e){e.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")}));var u=(0,jse.get)(this.handlerStyle,"width",2),l=(0,jse.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new CSe({name:"minHandlerShape",group:c,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var f=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new CSe({name:"maxHandlerShape",group:f,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var d=this.ticks,h=n/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(e){e.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map((function(t,n){var i;e.tickPosList.push(e.x+n*h),e.tickLabelFormatter?(i=e.tickLabelFormatter(t),!(0,jse.isString)(i)&&i&&(i=t.date)):i=t.date;var o=e.x+n*h,a=e.y+r+5,s=e.group.addShape("text",{attrs:YSe({x:o,y:a,text:i,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,jse.isNumber)(g)&&n!==d.length-1){var u=XSe([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",g],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===n?s.attr({textAlign:"left"}):n!==d.length-1&&s.attr({textAlign:"right"});var l=e.group.addShape("line",{attrs:YSe({x1:e.x+n*h,y1:e.y+r+2,x2:e.x+n*h,y2:e.y+r+6},e.tickLineStyle),name:"tick-line"});l.toBack();var c=s.getBBox();return c.minX>p?(s.show(),l.show(),p=c.minX+c.width+10):(s.hide(),l.hide()),s})),this.controllerBtnGroup=new HSe(YSe({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(ASe,":click"),(function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()})),this.group.on("".concat(NSe,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()})),this.group.on("".concat(DSe,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()})),this.group.on(TSe,(function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())}))},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=(0,jse.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,n]),o=i[0],a=i[1];this.minHandlerShape.setX(t-r/2),(0,jse.each)(o,(function(t,n){return e.minTextShape.attr(n,t)})),this.maxHandlerShape.setX(n-r/2),(0,jse.each)(a,(function(t,n){return e.maxTextShape.attr(n,t)})),"range"===this.currentMode?this.graph.emit(ISe,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(ISe,{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=(0,jse.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],i=(n=[o,i])[0],o=n[1],u=!0);var l=i.getBBox(),c=o.getBBox(),f=null,d=null;return"trend"===this.timeBarType?(f=a-l.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+c.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(f=i.attr("x")>l.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,f]:[f,d]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e,n=t.ticks,r=t.width,i=e.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=e.adjustOffsetRange(o/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(kSe,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(MSe,null))},e.prototype.destory=function(){this.graph.off(ISe,(function(){}));var e=this.group,t=e.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(ASe,":click")),e.off("".concat(NSe,":click")),e.off("".concat(DSe,":click")),e.off(TSe),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),rEe=nEe,iEe=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,l=e.className,c=void 0===l?"g6-component-timebar-tooltip":l,f=e.backgroundColor,d=void 0===f?"#000":f,h=e.textColor,p=void 0===h?"#fff":h,g=e.opacity,v=void 0===g?.8:g,m=e.fontSize,y=void 0===m?12:m;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this,t=e.className,n=(e.x,e.y,e.backgroundColor),r=e.textColor,i=e.text,o=e.padding,a=e.opacity,s=e.fontSize,u=e.container,l=zxe("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,jse.isString)(u)&&(u=document.getElementById(u)),u.appendChild(l),e.parentHeight=u.offsetHeight,e.parentWidth=u.offsetWidth,Hxe(l,{visibility:"hidden",top:0,left:0});var c=zxe("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));c.innerHTML=i,l.appendChild(c),e.backgroundDOM=c;var f=zxe("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));l.appendChild(f),e.arrowDOM=f,e.container=l},e.prototype.show=function(e){var t=this,n=e.text,r=e.x;e.y,e.clientX,e.clientY;t.backgroundDOM.innerHTML=n;var i=t.backgroundDOM.offsetWidth,o=t.backgroundDOM.offsetHeight,a=t.arrowDOM.offsetWidth,s=t.arrowDOM.offsetHeight;Hxe(t.container,{top:"".concat(-o-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),Hxe(t.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),Hxe(t.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(o,"px")});var u=r-i/2,l=r+i/2;u<0?Hxe(t.backgroundDOM,{marginLeft:"".concat(-i/2-u,"px")}):l>t.parentWidth&&Hxe(t.backgroundDOM,{marginLeft:"".concat(-i/2-l+t.parentWidth+12,"px")})},e.prototype.hide=function(){Hxe(this.container,{top:0,left:0,visibility:"hidden"})},e}(),oEe=iEe,aEe=function(){return aEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aEe.apply(this,arguments)},sEe=Qse,uEe={fill:"#5B8FF9"},lEe={fill:"#e6e8e9"},cEe=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,i=e.width,o=e.height,a=e.padding,s=e.data,u=e.start,l=e.end,c=e.x,f=void 0===c?0:c,d=e.y,h=void 0===d?0:d,p=e.tickLabelFormatter,g=e.selectedTickStyle,v=void 0===g?uEe:g,m=e.unselectedTickStyle,y=void 0===m?lEe:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,w=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=l,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=f,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,i=t.padding,o=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,l=t.selectedTickStyle,c=t.unselectedTickStyle,f=t.tickLabelStyle,d=n-2*i,h=r-(3*i+4+10)-2*i,p=o.length,g=(d-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=f.rotate;delete f.rotate,o.forEach((function(t,r){var o=r>=b&&r<=x?l:c,a=v.addShape("rect",{attrs:aEe({x:i+r*(g+2),y:i,width:g,height:h},o),draggable:!0,name:"tick-rect-".concat(r)}),s=v.addShape("rect",{attrs:{x:i+r*g+2*(2*r-1)/2,y:i,width:0===r||r===p-1?g+1:g+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,_=a.getBBox(),S=(_.minX+_.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:S,y:_.minY}),u?(d=u(t),!(0,jse.isString)(d)&&d&&(d=t.date)):r%Math.round(p/10)===0&&(d=t.date),d){y.push(d);var E=_.maxY+2*i;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:S,y1:E,x2:S,y2:E+4},name:"tick-line"});var C=E+4+i,k=v.addShape("text",{attrs:aEe({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:S,y:C,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},f),capture:!1,name:"tick-label"}),M=k.getBBox();if(M.maxX>n?k.attr("textAlign","right"):M.minX<0&&k.attr("textAlign","left"),(0,jse.isNumber)(w)&&10!==y.length){var I=sEe([1,0,0,0,1,0,0,0,1],[["t",-S,-C],["r",w],["t",S-5,C+2]]);k.attr({textAlign:"left",matrix:I})}1===y.length?k.attr({textAlign:"left"}):10===y.length&&k.attr({textAlign:"right"})}})),this.tickRects=m;var _=this.group;this.currentSpeed=1,this.controllerBtnGroup=new HSe({group:_,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",(function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=e.tickRects,o=e.unselectedTickStyle;i.forEach((function(e){e.rect.attr(o)}));var a=e.selectedTickStyle;i[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/i.length;e.graph.emit(ISe,{value:[s,s]})}}})),t.on("dragstart",(function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach((function(e){e.rect.attr(r)}));var i=t.target,o=parseInt(i.get("name").split("-")[2],10),a=e.selectedTickStyle;n[o].rect.attr(a),e.startTickRectId=o;var s=o/n.length;e.graph.emit(ISe,{value:[s,s]}),e.dragging=!0})),t.on("dragover",(function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,i=e.tickRects,o=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var l=i.length;e.endTickRectId=n;var c=r/l,f=n/l;e.graph.emit(ISe,{value:[c,f]})}})),t.on("drop",(function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var i=e.selectedTickStyle,o=e.tickRects;o[r].rect.attr(i),e.endTickRectId=r;var a=o.length,s=n/a,u=r/a;e.graph.emit(ISe,{value:[s,u]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,a=new oEe({container:o.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(e){var t=e.pickRect;t.on("mouseenter",(function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),r=o.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:i?i(s[n].value):s[n].value})}})),t.on("mouseleave",(function(e){a.hide()}))}));var u=this.group;u.on("".concat(ASe,":click"),(function(){e.isPlay=!e.isPlay,e.changePlayStatus()})),u.on("".concat(NSe,":click"),(function(){e.updateStartEnd(1)})),u.on("".concat(DSe,":click"),(function(){e.updateStartEnd(-1)})),u.on(TSe,(function(t){t.type;var n=t.speed;e.currentSpeed=n}))},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(kSe,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(MSe,null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(i),t.endTickRectId--),a!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var s=t.startTickRectId;s<=t.endTickRectId-1;s++)n[s].rect.attr(i);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/r,l=t.endTickRectId/r;this.graph.emit(ISe,{value:[u,l]})}},e.prototype.destory=function(){this.graph.off(ISe,(function(){}));var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach((function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")})),this.tickRects.length=0,e.off("".concat(ASe,":click")),e.off("".concat(NSe,":click")),e.off("".concat(DSe,":click")),e.off(TSe),this.sliceGroup.destroy()},e}(),fEe=cEe,dEe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hEe=function(){return hEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hEe.apply(this,arguments)},pEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gEe=function(e){function t(t){return e.call(this,t)||this}return dEe(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?((0,jse.isString)(s)&&(s=document.getElementById(s)),e=s):Hxe(e=zxe("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new Nbe({container:e,width:i,height:o}):new Eye({container:e,width:i,height:o}),this.get("containerCSS")&&Hxe(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,i=t.y,o=t.padding,a=t.type,s=t.trend,u=t.slider,l=t.controllerCfg,c=t.textStyle,f=t.tick,d=t.backgroundStyle,h=t.foregroundStyle,p=s.data,g=pEe(s,["data"]),v=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var _=this.get("getValue");w=new rEe(hEe(hEe({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:v,height:m,padding:o,backgroundStyle:d,foregroundStyle:h,trendCfg:hEe(hEe({},g),{data:p.map((function(e){return(null===_||void 0===_?void 0:_(e))||e.value}))})},u),{tick:{ticks:p,tickLabelFormatter:f.tickLabelFormatter,tickLabelStyle:f.tickLabelStyle,tickLineStyle:f.tickLineStyle},handlerStyle:hEe(hEe({},u.handlerStyle),{height:u.height||m}),controllerCfg:l,textStyle:c}))}else"tick"===a&&(w=new fEe(hEe({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2},f)));var S=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",(function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==w.foregroundShape||document.addEventListener("mouseup",S)})),this.set("timebar",w)},t.prototype.filterData=function(e){var t,n=e.value,r=null,i=this._cfgs.type;if("trend"===i||"simple"===i?r=this._cfgs.trend.data:"tick"===i&&(r=this._cfgs.tick.data),r&&0!==r.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var l=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,c=l?l(r[s]):r[s].date,f=l?l(r[u]):r[u].date;if("tick"!==i)this.get("timebar").setText(c,f);if(o)o(a,c,f);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){y=y.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("node",e,{min:v,max:m}))}));var x=y.map((function(e){return e.id}));b&&(b=b.filter((function(e){return x.includes(e.source)&&x.includes(e.target)||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))})))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))}))),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("node",t,{min:v,max:m}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<v||n>m?a.hideItem(e):a.showItem(e)}})),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("edge",t,{min:r[s].date,max:r[u].date}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}}))}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",(function(r){e.filterData({value:[t,n]})})),i.on(ISe,(0,jse.throttle)((function(t){e.filterData(t)}),200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,jse.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(Xxe),vEe=gEe,mEe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yEe=Hve.applyMatrix;var bEe=function(e){function t(t){return e.call(this,t)||this}return mEe(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");(0,jse.isString)(r)&&(r=document.getElementById(r));var i=zxe("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),o=0,a=0,s=!1,u=0,l=0,c=0,f=0,d=0,h=0;r.addEventListener("mousedown",(function(r){if(t.refresh=!1,r.target===i){var u=i.style;c=parseInt(u.width,10),f=parseInt(u.height,10);var l=e.get("width"),p=e.get("height");c>l||f>p||(h=n.getZoom(),d=e.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(t){if(s&&!(0,jse.isNil)(t.clientX)&&!(0,jse.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),g=i.style;u=parseInt(g.left,10),l=parseInt(g.top,10),c=parseInt(g.width,10),f=parseInt(g.height,10);var v=o-t.clientX,m=a-t.clientY;u-v<0?v=u:u-v+c>=r&&(v=0),l-m<0?m=l:l-m+f>=p&&(m=0),l-=m,Hxe(i,{left:"".concat(u-=v,"px"),top:"".concat(l,"px")}),n.translate(v*h/d,m*h/d),o=t.clientX,a=t.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,t.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,t.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],l=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=l[0],c.height=c.width/o):(c.height=l[1],c.width=c.height*o),c.minX=u[0]-c.width/2,c.minY=u[1]-c.height/2;var f=a.getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]);var d=Yse.invert([1,0,0,0,1,0,0,0,1],f),h=yEe({x:c.minX,y:c.minY},d),p=r.getCanvasByPoint(h.x,h.y),g=this.get("viewport");g||this.initViewport();var v=i/c.width,m=v*t,y=v*n,b=t*-p.x/c.width,x=n*-p.y/c.height,w=b+m,_=x+y;b<0&&(m+=b,b=0),w>t&&(m-=w-t),x<0&&(y+=x,x=0),_>n&&(y-=_-n),this.set("ratio",e),Hxe(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=t.get("width"),r=t.get("height")/n,i=e.get("className"),o=e.get("container"),a=e.get("width"),s=e.get("height");a||s||(a=200),a?(s=r*a,e.set("height",s)):(a=1/r*s,e.set("width",a));var u=zxe("<div class='".concat(i,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,jse.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(u):t.get("container").appendChild(u),e.set("container",u);var l=zxe('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(l);var c=zxe('<span style="display: table-cell; vertical-align: middle; "></span>');l.appendChild(c),e.set("containerDOM",l),e.set("containerSpan",c);var f=zxe('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",f),e.updateImgSize(),c.appendChild(f),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,t=e.get("imgDOM"),n=e.get("width"),r=e.get("height");t.onload=function(){var e=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t&&t(i.width,i.height)}}return[n,r]}(t);e[0]>e[1]?t.width=n:t.height=r}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var t=this;t.get("imgDOM").remove(),t.set("graphImg",e);var n=zxe('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));t.set("imgDOM",n),n.src=e,t.updateImgSize(),t.get("containerSpan").appendChild(n),t.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Xxe),xEe=bEe,wEe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Ee=function(){return _Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_Ee.apply(this,arguments)},SEe=Hve.distance,EEe={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},CEe=function(e){function t(t){return e.call(this,t)||this}return wEe(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,jse.clone)(EEe),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,t=e.get("showLabel"),n="node"===t||"both"===t,r="edge"===t||"both"===t;e.set("showNodeLabel",n),e.set("showEdgeLabel",r),e.get("shouldShow")||e.set("shouldShow",(function(){return!0}))},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",(function(e){})),n.on("drag",(function(e){t.filter(e)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(e){t.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var o=t.get("maxR"),a=t.get("minR"),s=t.get("r");(s>(o||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,t.set("r",s),t.filter(e)}},t.prototype.filter=function(e){var t=this,n=t.get("graph"),r=n.getNodes(),i={},o=t.get("r"),a=t.get("type"),s={x:e.x,y:e.y};t.updateDelegate(s,o);var u=t.get("shouldShow"),l=t.get("vShapes");l&&l.forEach((function(e){e.remove(),e.destroy()})),l=[],r.forEach((function(e){var t=e.getModel(),n=t.x,r=t.y;SEe({x:n,y:r},s)<o&&(i[t.id]=e)}));var c=n.getEdges(),f=[];c.forEach((function(e){var t=e.getModel(),n=t.source,r=t.target;u(t)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&f.push(e):"only-target"===a||"one"===a?i[r]&&!i[n]&&f.push(e):"both"===a&&i[n]&&i[r]&&f.push(e))}));var d=t.get("showNodeLabel"),h=t.get("showEdgelabel"),p=n.get("group");f.forEach((function(e){e.get("group").get("children").forEach((function(e){var t=e.get("type"),n=p.addShape(t,{attrs:e.attr()});l.push(n),d&&"text"===t&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(e){var t=i[e].get("group").clone();if(p.add(t),l.push(t),h)for(var n=t.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}})),t.set("vShapes",l)},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.trigger,i=e.minR,o=e.maxR,a=e.scaleRBy,s=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||t.set("r",n),isNaN(o)||t.set("maxR",o),isNaN(i)||t.set("minR",i),"mousemove"!==r&&"click"!==r||t.set("trigger",r),"wheel"===a||"unset"===a){t.set("scaleRBy",a),t.get("delegate").remove(),t.get("delegate").destroy();var l=t.get("dPercentText");l&&(l.remove(),l.destroy())}"node"!==s&&"both"!==s||t.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||t.set("showEdgeLabel",!0),u&&t.set("shouldShow",u)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||EEe;i=o.addShape("circle",{attrs:_Ee({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(e){n.scaleRByWheel(e)}))}else i.attr({x:e.x,y:e.y,r:t});n.set("delegate",i)},t.prototype.clear=function(){var e=this,t=e.get("vShapes");t&&t.forEach((function(e){e.remove(),e.destroy()})),t=[],e.set("vShapes",t);var n=e.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Xxe),kEe=CEe,MEe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IEe=Hve.pointLineDistance,TEe={stroke:"#FA8C16",lineWidth:1},AEe=function(e){function t(t){return e.call(this,t)||this}return MEe(t,e),t.prototype.getDefaultCfgs=function(){return{line:TEe,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach((function(e){var i=e.getBBox(),o=e.get("id");!0===r||"horizontal"===r?(t["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,e],t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e],t["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,e]):"center"===r&&(t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,e],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,e]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e])}))},t.prototype.show=function(e,t){var n=(0,jse.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+t.width/2,y:n.y},l={x:n.x+t.width/2,y:n.y+t.height/2},c={x:n.x+t.width/2,y:n.y+t.height},f={x:n.x,y:n.y+t.height/2},d={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],g=null;if(this.clearAlignLine(),(0,jse.each)(o,(function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,l)),h.push(r.getLineDisObject(e,c)))})),(0,jse.each)(a,(function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,f)),p.push(r.getLineDisObject(e,l)),p.push(r.getLineDisObject(e,d)))})),h.sort((function(e,t){return e.dis-t.dis})),p.sort((function(e,t){return e.dis-t.dis})),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,g={type:"item",horizontals:[h[0]]};for(var v=1;v<3;v++)h[0].dis===h[v].dis&&g.horizontals.push(h[v])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=t,this.addAlignLine(g))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,i=e.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&(0,jse.each)(r,(function(e){var n,r,i=e.line,o=e.point,l=(i[0]+i[2])/2;o.x<l?(n=o.x-t.width/2,r=Math.max(i[0],i[2])):(n=o.x+t.width/2,r=Math.min(i[0],i[2]));var c=(0,jse.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),f=u.addShape("line",{attrs:c,capture:!1});s.push(f)})),i&&(0,jse.each)(i,(function(e){var n,r,i=e.line,o=e.point,l=(i[1]+i[3])/2;o.y<l?(n=o.y-t.height/2,r=Math.max(i[1],i[3])):(n=o.y+t.height/2,r=Math.min(i[1],i[3]));var c=(0,jse.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),f=u.addShape("line",{attrs:c,capture:!1});s.push(f)})))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:IEe(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,jse.each)(e,(function(e){e.remove()})),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach((function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},t}(Xxe),NEe=AEe,DEe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PEe=function(){return PEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PEe.apply(this,arguments)},OEe=["click","mouseenter"],LEe=function(e){function t(t){return e.call(this,t)||this}return DEe(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),i=zxe("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();Hxe(i,this.getContainerPos(o)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return o.forEach((function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,o="top";break;default:r=t.getWidth()-e[0]-r+0,o="left"}s[o]=r})),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach((function(e){s[e]="".concat(s[e],"px")})),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";OEe.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(t){return e.filterData(t)})),r.on("node-container:mouseleave",(function(t){e.clearFilter(),e.clearActiveLegend()}))):(r.on("node-container:click",(function(t){return e.filterData(t)})),r.on("click",(function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();Hxe(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(e){e.set("inactive",!0)})):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.lengedStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(PEe(PEe({},n.get("oriAttrs")),i)),r.attr(PEe(PEe({},r.get("oriAttrs")),o))}));var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(PEe(PEe({},n.get("oriAttrs")),a)),r.attr(PEe(PEe({},r.get("oriAttrs")),s))}))},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")}));return"node"===t?i.get("children").filter((function(t){return!!t.get(e)===n})):"edge"===t?o.get("children").filter((function(t){return!!t.get(e)===n})):i.get("children").filter((function(t){return!!t.get(e)===n})).concat(o.get("children").filter((function(t){return!!t.get(e)===n})))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),t=[e.find((function(e){return"node-group"===e.get("name")})),e.find((function(e){return"edge-group"===e.get("name")}))];t.forEach((function(e){e.get("children").forEach((function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find((function(e){return"root"===e.get("name")})),l=u.find((function(e){return"node-group"===e.get("name")})),c=u.find((function(e){return"edge-group"===e.get("name")})),f=l.get("children").filter((function(e){return e.get("active")})),d=c.get("children").filter((function(e){return e.get("active")})),h=0,p=["getNodes","getEdges"];p.forEach((function(e){i[e]().forEach((function(t){var r=!1;("getNodes"===e?f:d).forEach((function(e){var i=n[e.get("id")];r=r||i(t.getModel())})),r?(i.setItemState(t,a,!1),i.setItemState(t,o,!0),h++):(i.setItemState(t,o,!1),i.setItemState(t,a,!0))}))})),h||p.forEach((function(e){i[e]().forEach((function(e){i.clearItemStates(e,[a])}))}))}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach((function(t){e.clearItemStates(t,[n,r])})),e.getEdges().forEach((function(t){e.clearItemStates(t,[n,r])}))}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");if(!t){var n=(t=new Eye({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",t)}var r=t.find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")})),a=this.get("itemsData"),s=[i,o];["nodes","edges"].forEach((function(t,n){a[t].forEach((function(r){var i,o,a=s[n].addGroup({id:r.id,name:"node-container"}),u=r.type,l=e.getShapeSize(r),c=l.width,f=l.height,d=l.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":default:o={r:d,x:0,y:0};break;case"rect":o={width:c,height:f,x:-c/2,y:-f/2};break;case"ellipse":o={r1:c,r2:f,x:0,y:0};break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},u="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},u="path"}var p=a.addShape(u,{attrs:PEe(PEe({},o),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:PEe({opacity:1},h)});if(r.label){var g=p.getBBox(),v=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},m=PEe({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);a.addShape("text",{attrs:PEe({x:g.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}}))}));var u,l=this.get("padding"),c=r.find((function(e){return"title-container"===e.get("name")})),f={height:0,maxY:0,width:0};if(this.get("title")){c||(c=r.addGroup({name:"title-container"}));var d={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:l[0]},h=this.get("titleConfig")||{},p=Object.assign(d,h.style||{});u=c.addShape("text",{attrs:PEe({text:this.get("title")},p)}),f=c.getCanvasBBox(),c.setMatrix([1,0,0,0,1,0,h.offsetX,h.offsetY,1])}this.layoutItems();var g=r.getCanvasBBox(),v=i.getCanvasBBox(),m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=f.maxY<v.minY?Math.abs(f.maxY-v.minY)+l[0]:f.maxY+l[0],b=[1,0,0,0,1,0,m,y,1];i.setMatrix(b);var x=[(g=r.getCanvasBBox()).minX+g.width+l[1],g.minY+g.height+l[2]];if(u){h=PEe({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));f=c.getCanvasBBox();var w=c.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===h.position?w[6]=x[0]/2+h.offsetX:"right"===h.position?(w[6]=x[0]-l[3]+h.offsetX,u.attr({textAlign:"right"})):(w[6]=l[3]+h.offsetX,u.attr({textAlign:"left"})),c.setMatrix(w),f=c.getCanvasBBox(),b=[1,0,0,0,1,0,m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=v.minY<f.maxY?Math.abs(f.maxY-v.minY)+l[0]:f.maxY+l[0],1],i.setMatrix(b);var _=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?_[6]+=v.maxX+this.get("horiSep"):_[7]+=v.maxY+this.get("vertiSep"),o.setMatrix(_)}else{v=i.getCanvasBBox();var S=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?S[6]+=b[6]+v.maxX+this.get("horiSep"):S[7]+=b[7]+v.maxY+this.get("vertiSep"),o.setMatrix(S)}g=r.getCanvasBBox(),v=i.getCanvasBBox(),b=i.getMatrix()||[1,0,0,0,1,0,0,0,1];var E=o.getMatrix()||[1,0,0,0,1,0,0,0,1],C=o.getCanvasBBox();x=[Math.max(v.width+b[6],C.width+E[6])+l[1],Math.max(v.height+b[7],C.height+E[7])+l[2]],t.changeSize(x[0],x[1]);var k=this.get("containerStyle"),M=r.getMatrix()||[1,0,0,0,1,0,0,0,1],I=Hve.invertMatrix({x:0,y:0},M);return r.addShape("rect",{attrs:PEe({x:I.x+(k.lineWidth||1),y:I.y+(k.lineWidth||1),width:x[0]-2*(k.lineWidth||1),height:x[1]-2*(k.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},k),name:"legend-back-rect",capture:!1}).toBack(),x},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=e.find((function(e){return"root"===e.get("name")})),s=a.find((function(e){return"node-group"===e.get("name")})),u=a.find((function(e){return"edge-group"===e.get("name")})),l={min:0,max:-1/0},c=-1/0;s.get("children").forEach((function(e,i){0===i&&(l.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),f=u.width,d=u.height,h=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+f/2,o[0]=g+s.height+n,h=s.maxX+p+f/2):(p=o[0]+f/2,g=o[1],o[0]=p+s.width+t,h=s.maxY+g+d/2),o[0]>l.max&&(l.max=o[0]),h>c&&(c=h),e.setMatrix([1,0,0,0,1,0,p,g,1])}));var f=l.max-l.min,d={min:0,max:-1/0},h=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach((function(e,i){0===i&&(d.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),l=u.width,c=u.height,f=0,h=0;"vertical"===r?(f=o[1],h=o[0],o[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+c/2,1])):(f=o[0],h=o[1],o[0]=f+s.width+t,e.setMatrix([1,0,0,0,1,0,f+l/2,0,1])),o[0]>d.max&&(d.max=o[0])}));var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var g=f-p,v="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach((function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=v:t[6]+=v,e.setMatrix(t)}))}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort((function(e,t){return e.order-t.order})),e.nodes.forEach((function(e){var n,r,i,o,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(i=e.style)||void 0===i?void 0:i.height)||(null===(o=e.style)||void 0===o?void 0:o.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||(0,jse.uniqueId)(),type:e.type||"circle",style:PEe({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:PEe({fontFamily:"Arial"},u)}})}))),e.edges&&(e.edges.sort((function(e,t){return e.order-t.order})),e.edges.forEach((function(e){var n,r,i=e.type||"line";"cubic-horizontal"===e.type&&(i="cubic");var o=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||(0,jse.uniqueId)(),type:i,size:a,style:PEe({lineWidth:(0,jse.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:PEe({fontFamily:"Arial"},o)}})}))),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if((0,jse.isNumber)(t))this.set(e,[t,t,t,t]);else if((0,jse.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&((0,jse.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):(0,jse.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return PEe(PEe({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Xxe),REe={PluginBase:Xxe,Menu:rwe,Grid:Qxe,Minimap:lwe,Bundling:pwe,ToolBar:_we,Tooltip:Cwe,Fisheye:bwe,TimeBar:vEe,ImageMinimap:xEe,EdgeFilterLens:kEe,SnapLine:NEe,Legend:LEe};$ve("circle",{options:{size:tme.defaultNode.size,style:{x:0,y:0,stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,jse.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=o.width,l=o.height,c=o.show,f=o.text;if(c){var d="".concat(this.type,"-icon");t.shapeMap[d]=f?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)({x:-u/2,y:-l/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Fse.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e)[0]/2;if(o){var d="link-point-left";t.shapeMap[d]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:-f,y:0,r:u/2||l||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:f,y:0,r:u/2||l||5}),className:h,name:h,isAnchorPoint:!0})}if(i){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:-f,r:u/2||l||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";t.shapeMap[g]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:f,r:u/2||l||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,Fse.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getSize(e),o=(0,Fse.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(o.stroke=e.color),void 0!==e.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(e,t,o,!0,n),this.updateLinkPoints(e,r)}},"single-node"),$ve("rect",{options:{size:[100,30],style:{radius:0,stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Fse.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Fse.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a=t.get("keyShape");e.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,jse.mix)({},i,a.attr(),s);u=(0,jse.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),$ve("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Fse.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0]/2,h=f[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:-d,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:d,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:-h,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:h,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getSize(e),o=i[0]/2,a=i[1]/2;return(0,Fse.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a={stroke:e.color,rx:o[0]/2,ry:o[1]/2},s=t.get("keyShape"),u=(0,jse.mix)({},i,s.attr(),a);u=(0,jse.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),$ve("diamond",{options:{size:[80,80],style:{stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Fse.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getPath(e);return(0,Fse.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,jse.mix)({},i,s.attr(),a);u=(0,jse.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),$ve("triangle",{options:{size:40,direction:"up",style:{stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(e),s=e.direction||o,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=i.width,c=i.height,f=i.show,d=i.offset,h=i.text;if(f)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-l/2,g=-c/2;"up"!==s&&"down"!==s||(g+=d),"left"!==s&&"right"!==s||(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Fse.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=e.direction||o,s=i.top,u=i.left,l=i.right,c=i.bottom,f=i.size,d=i.r,h=(0,Fse.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?g=[-m,v]:"down"===a?g=[-m,-v]:"left"===a&&(g=[-m,m-v]),g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},h),{x:g[0],y:g[1],r:f/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(l){var y=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,v]:"down"===a?y=[m,-v]:"right"===a&&(y=[m,m-v]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},h),{x:y[0],y:y[1],r:f/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var b=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?b=[m-v,-v]:"left"===a?b=[m,-v]:"right"===a&&(b=[-m,-v]),b&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},h),{x:b[0],y:b[1],r:f/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var x=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?x=[-m+v,v]:"left"===a?x=[m,v]:"right"===a&&(x=[-m,v]),x&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},h),{x:x[0],y:x[1],r:f/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getPath(e);return(0,Fse.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,jse.mix)({},i,s.attr(),a);u=(0,jse.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=e.direction||i,a=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),s=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),u=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),l=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")})),c=r,f=a||s||u||l;f&&(c=f.attr());var d=(0,jse.mix)({},c,e.linkPoints),h=d.fill,p=d.stroke,g=d.lineWidth,v=d.size/2;v||(v=d.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,b=m.right,x=m.top,w=m.bottom,_=this.getSize(e)[0],S={r:v,fill:h,stroke:p,lineWidth:g},E=null,C=_*Math.sin(1/3*Math.PI),k=_*Math.sin(1/3*Math.PI);"up"===o?E=[-k,C]:"down"===o?E=[-k,-C]:"left"===o&&(E=[-k,k-C]),E&&(a?y||void 0===y?a.attr((0,Fse.__assign)((0,Fse.__assign)({},S),{x:E[0],y:E[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},S),{x:E[0],y:E[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var M=null;"up"===o?M=[k,C]:"down"===o?M=[k,-C]:"right"===o&&(M=[k,k-C]),M&&(s?b||void 0===b?s.attr((0,Fse.__assign)((0,Fse.__assign)({},S),{x:M[0],y:M[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},S),{x:M[0],y:M[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var I=null;"up"===o?I=[k-C,-C]:"left"===o?I=[k,-C]:"right"===o&&(I=[-k,-C]),I&&(u?x||void 0===x?u.attr((0,Fse.__assign)((0,Fse.__assign)({},S),{x:I[0],y:I[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},S),{x:I[0],y:I[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var T=null;"down"===o?T=[-k+C,C]:"left"===o?T=[k,C]:"right"===o&&(T=[-k,C]),T&&(l?w||void 0===w?l.attr((0,Fse.__assign)((0,Fse.__assign)({},S),{x:T[0],y:T[1]})):(l.remove(),delete t.shapeMap["link-point-bottom"]):w&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},S),{x:T[0],y:T[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),$ve("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:tme.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:tme.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:tme.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=this.getSize(e),a=o[0],s=o[1],u=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=r.show,c=(0,Fse.__rest)(r,["show"]);return l&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,Fse.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,f=(0,Fse.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=c?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:s||-i/2+o+l,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,f=(0,Fse.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=c?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:s||i/2-o+l,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Fse.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e)[0],c=null,f=a.show,d=a.width,h=-l/2+i.offset;f&&(h=-l/2+d+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return(0,jse.isString)(e.description)?(c=t.addShape("text",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},g),{x:h,y:17+(v||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=t.addShape("text",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c),c},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Fse.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e),c=l[0],f=l[1];t.get("keyShape").attr((0,Fse.__assign)((0,Fse.__assign)({},i),{x:-c/2,y:-f/2,width:c,height:f}));var d=t.getContainer(),h=d.shapeMap["rect-logo-icon"]||d.find((function(e){return"rect-logo-icon"===e.get("className")})),p=h?h.attr():{},g=(0,jse.mix)({},p,e.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,b=-c/2+v+y;m||void 0===m||(b=-c/2+y);var x=d.shapeMap["node-label"]||d.find((function(e){return"node-label"===e.get("className")})),w=d.shapeMap["rect-description"]||d.find((function(e){return"rect-description"===e.get("className")}));if(e.label)if(x){var _=e.labelCfg?e.labelCfg.style:{},S=(0,jse.mix)({},x.attr(),_);e.label&&(S.text=e.label),S.x=b,(0,jse.isString)(e.description)&&(S.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(S)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},a.style),{x:b,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,jse.isString)(e.description)){var E=u.paddingTop;if(w){_=e.descriptionCfg?e.descriptionCfg.style:{};var C=(0,jse.mix)({},w.attr(),_);(0,jse.isString)(e.description)&&(C.text=e.description),C.x=b,w.resetMatrix(),w.attr((0,Fse.__assign)((0,Fse.__assign)({},C),{y:17+(E||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},u.style),{x:b,y:17+(E||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var k=d.shapeMap["pre-rect"]||d.find((function(e){return"pre-rect"===e.get("className")}));if(k&&!k.destroyed){var M=(0,jse.mix)({},k.attr(),e.preRect);k.attr((0,Fse.__assign)((0,Fse.__assign)({},M),{x:-c/2,y:-f/2,height:f}))}if(h&&!h.destroyed)if(m||void 0===m){var I=g.width,T=g.height,A=g.x,N=g.y,D=g.offset,P=(0,Fse.__rest)(g,["width","height","x","y","offset"]);h.attr((0,Fse.__assign)((0,Fse.__assign)({},P),{x:A||-c/2+I+D,y:N||-T/2,width:I,height:T}))}else h.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,d);var O=d.shapeMap["rect-state-icon"]||d.find((function(e){return"rect-state-icon"===e.get("className")})),L=O?O.attr():{},R=(0,jse.mix)({},L,e.stateIcon);if(O){R.show||void 0===R.show||(O.remove(),delete d.shapeMap["rect-state-icon"]);var B=R.width,z=(T=R.height,A=R.x,N=R.y,R.offset),F=(0,Fse.__rest)(R,["width","height","x","y","offset"]);O.attr((0,Fse.__assign)((0,Fse.__assign)({},F),{x:A||c/2-B+z,y:N||-T/2,width:B,height:T}))}else R.show&&this.drawStateIcon(e,d);this.updateLinkPoints(e,d)}},"single-node"),$ve("star",{options:{size:60,style:{stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,l=r.size,c=r.r,f=(0,Fse.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){h=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){h=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*t,s=Math.sin((18+72*o)/180*Math.PI)*t,u=Math.cos((54+72*o)/180*Math.PI)*r,l=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-l])}return i.push(["Z"]),i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,jse.mix)({},t,n),i=this.getPath(e);return(0,Fse.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,jse.mix)({},i,s.attr(),a);u=(0,jse.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),i=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),o=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),a=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-left-bottom"===e.get("className")})),s=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-right-bottom"===e.get("className")})),u=n,l=r||i||o||a||s;l&&(u=l.attr());var c=(0,jse.mix)({},u,e.linkPoints),f=c.fill,d=c.stroke,h=c.lineWidth,p=c.size/2;p||(p=c.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,m=g.right,y=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(e)[0],_={r:p,fill:f,stroke:d,lineWidth:h},S=Math.cos(.1*Math.PI)*w,E=Math.sin(.1*Math.PI)*w;i?m||void 0===m?i.attr((0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E})):(i.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),S=Math.cos(.5*Math.PI)*w,E=Math.sin(.5*Math.PI)*w,o?y||void 0===y?o.attr((0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E})):(o.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),S=Math.cos(.9*Math.PI)*w,E=Math.sin(.9*Math.PI)*w,r?v||void 0===v?r.attr((0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E})):(r.remove(),delete t.shapeMap["link-point-left"]):v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),S=Math.cos(1.3*Math.PI)*w,E=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr((0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),S=Math.cos(1.7*Math.PI)*w,E=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr((0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E})):(a.remove(),delete t.shapeMap["link-point-right-bottom"]):x&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Fse.__assign)((0,Fse.__assign)({},_),{x:S,y:-E}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var BEe=Hve.defaultSubjectColors;$ve("donut",{options:{size:tme.defaultNode.size,style:{x:0,y:0,stroke:tme.defaultNode.style.stroke,fill:tme.defaultNode.style.fill,lineWidth:tme.defaultNode.style.lineWidth},labelCfg:{style:{fill:tme.nodeLabel.style.fill,fontSize:tme.nodeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tme.defaultNode.linkPoints.size,lineWidth:tme.defaultNode.linkPoints.lineWidth,fill:tme.defaultNode.linkPoints.fill,stroke:tme.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Fse.__assign)({},tme.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,jse.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,l=o.show,c=o.text;l&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,Fse.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Fse.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var f=a.attr("r"),d=.6*f,h=(f+d)/2,p=e,g=p.donutAttrs,v=void 0===g?{}:g,m=p.donutColorMap,y=void 0===m?{}:m,b=Object.keys(v).length;if(v&&b>1){var x=[],w=0;if(Object.keys(v).forEach((function(e){var t=v[e]||0;(0,jse.isNumber)(t)&&(x.push({key:e,value:t,color:y[e]}),w+=t)})),w){var _=f-d;if(1===b)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:x[0].color||BEe[0],lineWidth:_},name:"fan-shape-0"}));var S=[h,0],E=0;x.forEach((function(e,n){var r=e.value/w;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=E,E+=e.angle,e.endAngle=E,e.arcBegin=S,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var i=e.angle>Math.PI?1:0,o=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,i,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:o,lineWidth:_,stroke:e.color||BEe[n%BEe.length]},name:"fan-shape-".concat(n)}),S=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||BEe[n%BEe.length],lineWidth:_},name:"fan-shape-".concat(n)})}))}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var zEe=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},FEe=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var i=e[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,t.push(i)}return t},jEe=function(e){return FEe(e)},GEe=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},VEe=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var i=e.centerX,o=e.centerY;return n.y<t.y?o=e.minY:n.x>t.x?i=e.maxX:n.x<t.x?i=e.minX:n.x===t.x&&(o=e.maxY),{x:i,y:o}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},UEe=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},WEe=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},ZEe=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},HEe=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},YEe=function(e,t,n,r,i){return HEe(e,t)+HEe(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,i])},XEe=function e(t,n,r,i,o){void 0===o&&(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},KEe=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},qEe=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,l=n.y-t.y,c=r.x-t.x,f=r.y-t.y;return(i*s-o*a)*(u*f-l*c)<=0&&(i*l-o*u)*(a*f-s*c)<=0},$Ee=function(e,t,n){if(n.width||n.height){var r=WEe(n),i=r[0],o=r[1],a=r[2],s=r[3];return qEe(e,t,i,o)||qEe(e,t,i,s)||qEe(e,t,o,a)||qEe(e,t,a,s)}return!1},QEe=function(e,t,n,r){var i=[];return e.forEach((function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if($Ee(e,t,n)||$Ee(e,t,r))return;i.push(e)}})),FEe(i)},JEe=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach((function(r,i){var o=e[i+1],a=e[i+2];if(o&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,o,a)){var s=function(e,t,n,r){var i=HEe(e,t),o=HEe(n,t);return i<r&&(r=i),o<r&&(r=o),[{x:t.x-r/i*(t.x-e.x),y:t.y-r/i*(t.y-e.y)},{x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)}]}(r,o,a,t),u=s[0],l=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},eCe=function(e,t,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||zEe(e)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=zEe(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),l=u.x,c=u.y;(a={x:l,y:c,width:s.width,height:s.height,minX:s.minX+l,maxX:s.maxX+l,minY:s.minY+c,maxY:s.maxY+c}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=zEe(t)}else a=r&&r.getBBox();else a=zEe(t);var f=GEe(o,i),d=GEe(a,i),h=VEe(f,e,t),p=VEe(d,t,e),g=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([h,p]),v=UEe(f,g),m=UEe(d,g),y=[];y=y.concat(WEe(v)).concat(WEe(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[g,v,m].forEach((function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return ZEe(e,f)&&ZEe(e,d)})))})),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach((function(e){ZEe(e,f)&&ZEe(e,d)&&y.push(e)})),y.unshift(h),y.push(p);var x=function(e,t,n,r,i,o,a){var s=[],u=[t],l={},c={},f={};c[t.id]=0,f[t.id]=YEe(t,n,t);var d,h,p={};for(e.forEach((function(e){p[e.id]=e}));u.length;){if(d=void 0,h=1/0,u.forEach((function(e){f[e.id]<=h&&(h=f[e.id],d=e)})),d===n){var g=[];return XEe(g,p,l,n.id),g}KEe(u,d),s.push(d),QEe(e,d,r,i).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+HEe(d,e);c[e.id]&&r>=c[e.id]||(l[e.id]=d.id,c[e.id]=r,f[e.id]=c[e.id]+YEe(e,n,t,o,a))}}))}return[t,n]}(y=FEe(y),h,p,o,a,e,t);return x.unshift(e),x.push(t),jEe(x)},tCe={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,i){return jEe(eCe(e,t,n,r,i.offset))}},nCe=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),rCe=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},iCe=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},oCe=function(e,t,n){for(var r=1/0,i=0,o=t.length;i<o;i++){var a=n(e,t[i]);a<r&&(r=a)}return r},aCe=function(e,t,n,r,i){var o=[];if(!n)return[e];var a=i.directions,s=i.offset,u=n.getBBox(),l=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,c=GEe(u,s);for(var f in c)c[f]=nCe(c[f],i.gridSize);if(l){for(var d=0,h=a;d<h.length;d++){var p=h[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(f=0;f<4;f++){var v=g[f],m=Hve.getLineIntersect(e,{x:e.x+p.stepX*c.width,y:e.y+p.stepY*c.height},v[0],v[1]);m&&!$Ee(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=VEe(c,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},sCe=function(e,t,n,r){var i=rCe(e,t);if(!n[e.id]){var o=rCe(r,e);return iCe(o,i)}var a=rCe({x:n[e.id].x,y:n[e.id].y},e);return iCe(a,i)},uCe=function(e,t,n,r,i,o,a){var s=[r],u=e.id,l=e.x,c=e.y,f={x:l,y:c,id:u};for(sCe(f,o,t,n)&&s.unshift({x:o.x===r.x?r.x:f.x*a,y:o.y===r.y?r.y:f.y*a});t[u]&&t[u].id!==u;){var d={x:l,y:c,id:u},h=t[u].id,p=t[u].x,g=t[u].y,v={x:p,y:g,id:h};sCe(v,d,t,n)&&s.unshift({x:v.x===d.x?s[0].x:v.x*a,y:v.y===d.y?s[0].y:v.y*a}),u=h,l=p,c=g}var m=l,y=c;return s[0].x=m===n.x?i.x:s[0].x,s[0].y=y===n.y?i.y:s[0].y,s.unshift(i),s},lCe=function(e,t,n,r,i){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,jse.deepMix)(tCe,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(e,t,n){var r={};return e.forEach((function(e){if(e)for(var i=GEe(e.getBBox(),n),o=nCe(i.minX,t);o<=nCe(i.maxX,t);o+=1)for(var a=nCe(i.minY,t);a<=nCe(i.maxY,t);a+=1)r["".concat(o,"|||").concat(a)]=!0})),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:nCe(e.x,a),y:nCe(e.y,a)},l={x:nCe(t.x,a),y:nCe(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(l.x,"|||").concat(l.y);var c=aCe(u,e,n,l,o),f=aCe(l,t,r,u,o);c.forEach((function(e){delete s[e.id]})),f.forEach((function(e){delete s[e.id]}));for(var d={},h={},p={},g={},v={},m=0;m<c.length;m++){var y=c[m];d[y.id]=y,g[y.id]=0,v[y.id]=oCe(y,f,o.distFunc)}for(var b,x,w,_,S,E,C,k=o.maximumLoops,M=o.penalties;Object.keys(d).length>0&&k>0&&(b=void 0,x=1/0,Object.keys(d).forEach((function(e){var t=d[e].id;v[t]<=x&&(x=v[t],b=d[t])})),b);){if(f.findIndex((function(e){return e.x===b.x&&e.y===b.y}))>-1)return uCe(b,p,u,t,e,l,a);delete d[b.id],h[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],h[(_={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(C=sCe(b,_,p,u))>o.maxAllowedDirectionChange||s[_.id]||(d[_.id]||(d[_.id]=_),S=o.distFunc(b,_)+(isNaN(M[C])?a:M[C]),E=g[b.id]+S,g[_.id]&&E>=g[_.id]||(p[_.id]=b,g[_.id]=E,v[_.id]=E+oCe(_,f,o.distFunc)));k-=1}return o.fallbackRoute(e,t,n,r,o)};Qve("polyline",{options:{color:tme.defaultEdge.color,size:tme.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:tme.defaultEdge.style.stroke,lineAppendWidth:tme.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:tme.edgeLabel.style.fill,fontSize:tme.edgeLabel.style.fontSize,fontFamily:tme.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,Fse.__assign)({},tme.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,jse.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var i=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),s=[i];a&&(s=s.concat(a)),s.push(o);var u=e.sourceNode,l=e.targetNode,c=r.radius,f=this.options.routeCfg,d=(0,jse.mix)({},f,e.routeCfg);d.offset=r.offset;var h=this.getPath(s,u,l,c,d);return((0,jse.isArray)(h)&&h.length<=1||(0,jse.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(h="M0 0, L0 0"),(0,jse.mix)({},tme.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},i=n.shapeMap["edge-shape"]||n.find((function(e){return"edge-shape"===e.get("className")}))||t.getKeyShape(),o=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[a];u&&(l=l.concat(u)),l.push(s);var c=i.attr(),f=(0,jse.mix)({},r,c,e.style),d=e.sourceNode,h=e.targetNode,p=f.radius,g=this.options.routeCfg,v=(0,jse.mix)({},g,e.routeCfg);v.offset=f.offset;var m=this.getPath(l,d,h,p,v);((0,jse.isArray)(m)&&m.length<=1||(0,jse.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),c.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),c.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""});var y=(0,jse.mix)(r,i.attr(),{lineWidth:o,path:m},e.style);i&&i.attr(y)}},getPath:function(e,t,n,r,i){var o=i.offset,a=i.simple;if(!o||e.length>2){if(r)return JEe(e,r);var s=[];return(0,jse.each)(e,(function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])})),s}var u=a?eCe(e[e.length-1],e[0],n,t,o):lCe(e[0],e[e.length-1],t,n,i);return u&&u.length?r?JEe(u,r):Hve.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var cCe=hxe.cloneEvent,fCe=hxe.isNaN,dCe=Math.abs,hCe=["shift","ctrl","alt","control"],pCe={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!fCe(n)&&!fCe(r)){var i=n-t.x,o=r-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),l=this.scalableRange,c=this.scalableRange;l<1&&l>-1&&(l*=a,c*=s),(u.minX<=a+l&&u.minX+i>a+l||u.maxX+l>=0&&u.maxX+l+i<0)&&(i=0),(u.minY<=s+c&&u.minY+o>s+c||u.maxY+c>=0&&u.maxY+c+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if((!n||"touchstart"===e.name||0===n.button)&&("touchstart"===e.name||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!t.keydown){var r=e.target,i=r&&r.isCanvas&&r.isCanvas();if((this.allowDragOnItem||i)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var o=this.graph,a=o.getEdges(),s=0,u=a.length;s<u;s++){var l=a[s].get("group").get("children");l&&l.forEach((function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()}))}for(var c=o.getNodes(),f=0,d=c.length;f<d;f++)for(var h=0,p=c[f].getContainer().get("children");h<p.length;h++){var g=p[h];g.get("isKeyShape")||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=cCe(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(dCe(this.origin.x-e.clientX)+dCe(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(t=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===t?void 0:t.filter((function(e){return"zoom-canvas"===e.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),l=0,c=u.length;l<c;l++){var f=u[l].get("group").get("children");f&&f.forEach((function(e){e.get("ori-visibility")&&e.show()}))}if(i>s)for(var d=r.getNodes(),h=0,p=d.length;h<p;h++)for(var g=0,v=d[h].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(e=cCe(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(hCe.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},gCe={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=n.get("id"),s=o.filter((function(e){var t=e.get("id");return a===t}));0===s.length?this.targets.push(n):o.length>1?o.forEach((function(e){e.hasLocked()||t.targets.push(e)})):this.targets.push(n);var u=[];this.targets.forEach((function(e){u.push((0,jse.clone)(e.getModel()))})),this.set("beforeDragNodes",u),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())}))})),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map((function(n){t.update(n,e)})))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach((function(e){e.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(e){i.before.nodes.push({id:e.id,x:e.x,y:e.y})})),this.targets.forEach((function(e){var t=e.getModel();i.after.nodes.push({id:t.id,x:t.x,y:t.y})})),r.pushStack("update",(0,jse.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map((function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)})),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map((function(e){e.getModel().comboId&&t.updateComboTree(e)})))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=this,n=e.item,r=t.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,o),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)r.updateCombos();else if(i){var a=r.findById(i);t.comboActiveState&&r.setItemState(a,t.comboActiveState,!1),this.targets.map((function(e){var t=e.getModel();i!==t.comboId&&r.updateComboTree(e,i)})),r.updateCombo(a)}else this.targets.map((function(e){e.getModel().comboId&&r.updateComboTree(e)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map((function(t){return n.update(t,e)})):this.targets.map((function(r){return n.update(r,e,t)})))},update:function(e,t,n){var r=this.origin,i=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=t.x-r.x+this.point[o].x,s=t.y-r.y+this.point[o].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,jse.debounce)((function(e){var t=e.targets,n=e.graph,r=e.point,i=e.origin,o=e.evt,a=e.updateEdge;e.updateFunc;t.map((function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)}))}),50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=t.get("group"),o=(0,jse.deepMix)({},Kbe.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,l=a.width,c=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:l,height:c,minX:f,minY:d},this.delegateRect=i.addShape("rect",{attrs:(0,Fse.__assign)({width:l,height:c,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,l=s.minY,c=s.maxX,f=s.maxY;u<n&&(n=u),l<i&&(i=l),c>r&&(r=c),f>o&&(o=f)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},vCe={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),l=o.length,c=a.length,f=s.length,d=u.length,h=0;h<l;h++){var p=o[h],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),i&&n.setItemState(p,i,!0)}for(h=0;h<c;h++){var v=a[h];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,r,!1),i&&n.setItemState(v,i,!0)}for(h=0;h<f;h++){var m=s[h];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}for(h=0;h<d;h++){var y=u[h];n.setItemState(y,r,!1),i&&n.setItemState(y,i,!0)}i&&n.setItemState(t,i,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var w=void 0;w=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),i&&n.setItemState(w,i,!1),n.setItemState(w,r,!0),n.setItemState(m,i,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var r=this.activeState,i=this.inactiveState,o=n.get("autoPaint");n.setAutoPaint(!1);for(var a=n.getNodes()||[],s=n.getCombos()||[],u=n.getEdges()||[],l=n.get("vedges")||[],c=a.length,f=s.length,d=u.length,h=l.length,p=0;p<c;p++){var g=a[p];n.clearItemStates(g,[r,i])}for(p=0;p<f;p++){var v=s[p];n.clearItemStates(v,[r,i])}for(p=0;p<d;p++){var m=u[p];n.clearItemStates(m,[r,i,"deactivate"])}for(p=0;p<h;p++){var y=l[p];n.clearItemStates(y,[r,i,"deactivate"])}n.paint(),n.setAutoPaint(o),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},mCe=Math.min,yCe=Math.max,bCe=Math.abs,xCe="shift",wCe=["drag","shift","ctrl","alt","control"],_Ce={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:xCe,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return wCe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=xCe,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,a=this.selectedState,s={x:e.x,y:e.y},u=r.getPointByCanvas(i.x,i.y),l=mCe(s.x,u.x),c=yCe(s.x,u.x),f=mCe(s.y,u.y),d=yCe(s.y,u.y),h=[],p=[];r.getNodes().forEach((function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=l&&t.centerX<=c&&t.centerY>=f&&t.centerY<=d&&o(e,"select")){h.push(e);var n=e.getModel();p.push(n.id),r.setItemState(e,a,!0)}}}));var g=[];this.includeEdges&&h.forEach((function(e){e.getOutEdges().forEach((function(e){if(e.isVisible()){var n=e.getModel(),i=n.source,a=n.target;p.includes(i)&&p.includes(a)&&o(e,"select")&&(g.push(e),r.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=g,this.selectedNodes=h,this.onSelect&&this.onSelect(h,g),r.emit("nodeselectchange",{selectedItems:{nodes:h,edges:g},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:bCe(e.canvasX-t.x),height:bCe(e.canvasY-t.y),x:mCe(e.canvasX,t.x),y:mCe(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},SCe="shift",ECe=["shift","ctrl","alt","control"],CCe={getDefaultCfg:function(){return{multiple:!0,trigger:SCe,selectedState:"selected"}},getEvents:function(){var e=this;return ECe.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=SCe,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){n.getType();var r=t.graph,i=t.keydown,o=t.multiple,a=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!i||!o){var s=r.findAllByState("node",t.selectedState).concat(r.findAllByState("combo",t.selectedState));(0,jse.each)(s,(function(e){e!==n&&r.setItemState(e,t.selectedState,!1)}))}if(n.hasState(t.selectedState)){a.call(t,e)&&r.setItemState(n,t.selectedState,!1);var u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!1})}else{a.call(t,e)&&r.setItemState(n,t.selectedState,!0);u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);(0,jse.each)(r,(function(e){n.setItemState(e,t.selectedState,!1)}));var i=n.findAllByState("combo",this.selectedState);(0,jse.each)(i,(function(e){n.setItemState(e,t.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},kCe=Qse,MCe={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),l=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},u,l),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var i,o=n.get("canvas").getPointByClient(e.clientX,e.clientY),a=this.get("sensitivity"),s=n.getZoom();i=s*(e.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||n.get("minZoom");if(!(i>(this.get("maxZoom")||n.get("maxZoom"))||i<u)){if(this.get("enableOptimize")){var l=this.get("optimizeZoom"),c=this.get("optimized"),f=n.getNodes(),d=n.getEdges(),h=f.length,p=d.length;if(!c){for(var g=0;g<h;g++){if(!(C=f[g]).destroyed)for(var v=(Y=C.get("group").get("children")).length,m=0;m<v;m++){(L=Y[m]).destoryed||L.get("isKeyShape")||(L.set("ori-visibility",L.get("ori-visibility")||L.get("visible")),L.hide())}}for(var y=0;y<p;y++)for(v=(Y=(H=d[y]).get("group").get("children")).length,m=0;m<v;m++){(L=Y[m]).set("ori-visibility",L.get("ori-visibility")||L.get("visible")),L.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<h;r++){var i=f[r],o=(c=i.get("group").get("children")).length;if(e<l)(s=(g=i.getKeyShape()).get("ori-visibility"))&&g.show();else for(var a=0;a<o;a++){var s=(m=c[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var u=0;u<p;u++){var c,g,v=d[u];o=(c=v.get("group").get("children")).length;if(e<l)(s=(g=v.getKeyShape()).get("ori-visibility"))&&g.show();else for(a=0;a<o;a++){var m;if(!(m=c[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}}),100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){x=n.findAllByState("node",r.fixState),w=n.findAllByState("edge",r.fixState);for(var _=s/i,S=x.length,E=0;E<S;E++){var C,k=(C=x[E]).getContainer(),M=C.getModel(),I=C.getOriginStyle(),T=C.getStateStyle(r.fixState),A=C.get("shapeFactory").getShape(M.type).getStateStyle(r.fixState,C)[r.fixState];if(r.fixAll){if(i<=1){var N=(0,jse.clone)(k.getMatrix());N||(N=[1,0,0,0,1,0,0,0,1]);var D=C.getModel(),P=D.x,O=D.y;N=kCe(N,[["t",-P,-O],["s",_,_],["t",P,O]]),k.setMatrix(N)}}else for(v=(Y=k.get("children")).length,m=0;m<v;m++){var L=Y[m],R=void 0,B=void 0;if(r.fixLabel)if("text"===L.get("type")){R=L.attr("fontSize")||12;var z=T[L.get("name")],F=A[L.get("name")],j=z?z.fontSize:12,G=F?F.fontSize:12,V=j||G||12;if(i<=1&&L.attr("fontSize",V/i),B)break}if(r.fixLineWidth&&L.get("isKeyShape")){B=L.attr("lineWidth")||0;var U=T.lineWidth||A.lineWidth||I.lineWidth||0;if(i<=1&&L.attr("lineWidth",U/i),R)break}}}for(var W=w.length,Z=0;Z<W;Z++){var H,Y=(k=(H=w[Z]).getContainer()).get("children");for(M=H.getModel(),T=H.getStateStyle(r.fixState),A=H.get("shapeFactory").getShape(M.type).getStateStyle(r.fixState,H)[r.fixState],v=Y.length,m=0;m<v;m++){L=Y[m],R=void 0,B=void 0;if(r.fixLabel||r.fixAll)if("text"===L.get("type")){R=L.attr("fontSize")||12;z=T[L.get("name")],F=A[L.get("name")],j=z?z.fontSize:12,G=F?F.fontSize:12,V=j||G||12;if(i<=1&&L.attr("fontSize",V/i),B)break}if((r.fixLineWidth||r.fixAll)&&L.get("isKeyShape")){B=L.attr("lineWidth")||0;U=T.lineWidth||A.lineWidth||1;if(i<=1&&L.attr("lineWidth",U/i),R)break}}}}}var X=this.get("animate"),K=this.get("animateCfg");n.zoomTo(i,{x:o.x,y:o.y},X,K),n.emit("wheelzoom",e)}}}},ICe={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,Hxe(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Hxe(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,a=n.graph;if(t(e)){var s=a.getPointByClient(e.clientX,e.clientY),u=a.getCanvasByPoint(s.x,s.y),l=u.x,c=u.y,f=o.getBoundingClientRect();l>r/2?l-=f.width:l+=this.offset,c>i/2?c-=f.height:c+=this.offset;var d="".concat(l,"px"),h="".concat(c,"px");Hxe(this.container,{left:d,top:h,visibility:"visible"})}else Hxe(o,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=zxe('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),Hxe(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},TCe=(0,Fse.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ICe),ACe=(0,Fse.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ICe),NCe="click",DCe=["click","dblclick"],PCe={getDefaultCfg:function(){return{trigger:NCe,onChange:function(){}}},getEvents:function(){var e,t;return DCe.includes(this.trigger)?t=this.trigger:(t=NCe,console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(e,i)&&(n.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:e.item,collapsed:i}),this.shouldUpdate(e,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},OCe=hxe.calculationItemsBBox,LCe=function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;(0,jse.each)(r,(function(t){e(t,n)}))}},RCe={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),a=i.filter((function(e){var t=e.get("id");return o===t}));0===a.length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(e){var r=e.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,t.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],LCe(r,(function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,l=a.width,c=o.filter((function(e){var n=e.getModel();return i.parentId,n.id!==i.id&&!t.currentItemChildCombos.includes(n.id)}));c.map((function(e){var r=e.getBBox(),i=r.centerX,o=r.centerY,a=r.width,c=s-i,f=u-o,d=2*Math.sqrt(c*c+f*f);l+a-d>.8*l?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)}))}(0,jse.each)(this.targets,(function(n){t.updateCombo(n,e)}))}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,jse.each)(this.targets,(function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(e){e.getModel().parentId!==i.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,i.id)):r.updateCombo(n)})),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(o=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r))}))}else this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e)}));this.endComparison=!0,this.end(o,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;e&&this.activeState&&r.setItemState(e,this.activeState,!1),e||this.targets.map((function(e){n.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(!1!==t(e)&&e){var r=e.get("combos");(0,jse.each)(r,(function(e){n.traverse(e,t)}));var i=e.get("nodes");(0,jse.each)(i,(function(e){n.traverse(e,t)}))}},updateCombo:function(e,t,n){var r=this;this.traverse(e,(function(e){return!e.destroyed&&(r.updateSignleItem(e,t,n),!0)}))},updateSignleItem:function(e,t,n){var r=this.origin,i=this.graph,o=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;n&&(s+=r.x-t.x,u+=r.y-t.y),i.updateItem(e,{x:s,y:u})},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=t.get("delegateGroup"),o=null,a=(o=this.targets.length>1?OCe(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,l=o.height,c=o.minX,f=o.minY;this.originPoint={x:a,y:s,width:u,height:l,minX:c,minY:f};var d=(0,Fse.__assign)((0,Fse.__assign)({},Kbe.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,Fse.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},BCe="dblclick",zCe=["click","dblclick"],FCe={getDefaultCfg:function(){return{trigger:BCe,relayout:!0}},getEvents:function(){var e,t;return zCe.includes(this.trigger)?t=this.trigger:(t=BCe,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var i=t.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},jCe=hxe.isPolygonsIntersect,GCe=hxe.pathToPoints,VCe="shift",UCe=["drag","shift","ctrl","alt","control"],WCe={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:VCe,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return UCe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=VCe,console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){void 0===e&&(e="canvas:click");var t=this,n=t.graph,r=t.selectedState,i=t.shouldDeselect,o=n.findAllByState("node",r),a=n.findAllByState("edge",r);i&&!i({action:e,nodes:o,edges:a})||(o.forEach((function(e){return n.setItemState(e,r,!1)})),a.forEach((function(e){return n.setItemState(e,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map((function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]})),i=this.selectedState,o=[],a=[];t.getNodes().forEach((function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=GCe(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return jCe(t,n)}(e,r)&&n(e,"select")){o.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),t.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,Fse.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},ZCe="click",HCe=["click","drag"],YCe=void 0,XCe=["shift","ctrl","control","alt","meta",void 0],KCe={getDefaultCfg:function(){return{trigger:ZCe,key:YCe,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return HCe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=ZCe,console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===XCe.indexOf(t.key.toLowerCase())&&(t.trigger=YCe,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){var t=this;if(!t.key||t.keydown){var n=e.item;n&&n.getID()!==t.source&&"node"===n.getType()||t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!t.key||t.keydown){var n=e.item,r=t.graph,i=n.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var a=void 0;a=o&&(0,jse.isFunction)(o)?o({source:t.source,target:i.id}):t.edgeConfig;var s=(0,Fse.__assign)({target:i.id},a);if(t.source===i.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,s,!1),r.get("enabledStack")){var u=(0,Fse.__assign)((0,Fse.__assign)({},t.edge.getModel()),{itemType:"edge"}),l={};l.edges=[u],r.pushStack("add",{before:{},after:l})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;a=void 0;a=o&&(0,jse.isFunction)(o)?o({source:i.id,target:i.id}):t.edgeConfig,t.edge=r.addItem("edge",(0,Fse.__assign)({source:i.id,target:i.id},a),!1),t.source=i.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!t.key||t.keydown){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};t.graph.findById(t.source)?t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1):t.addingEdge=!1}},cancelCreating:function(e){var t,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=e.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=this,n=e.key;n&&(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},qCe="ctrl",$Ce=["shift","ctrl","alt","control"],QCe={getDefaultCfg:function(){return{trigger:qCe,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return $Ce.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=qCe,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},JCe=["shift","ctrl","alt","control","meta"],eke={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==JCe.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];if(r.includes("control")&&r.push("ctrl"),r.some((function(t){return e["".concat(t,"Key")]}))){var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=n.getZoom();e.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),l=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,d=this.scalableRange;f<1&&f>-1&&(f*=u,d*=l);var h=c.minX,p=c.maxX,g=c.minY,v=c.maxY;a>0?p<-f?a=0:p-a<-f&&(a=p+f):a<0&&(h>u+f?a=0:h-a>u+f&&(a=h-(u+f))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>l+d?s=0:g-s>l+d&&(s=g-(l+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,_=x.length;if(!y){for(var S=0;S<w;S++){var E=b[S];if(!E.destroyed)for(var C=(I=E.get("group").get("children")).length,k=0;k<C;k++){(T=I[k]).destoryed||T.get("isKeyShape")||(T.set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide())}}for(var M=0;M<_;M++){var I;for(C=(I=x[M].get("group").get("children")).length,k=0;k<C;k++){var T;(T=I[k]).set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var A=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<w;r++){var i=b[r],o=(l=i.get("group").get("children")).length;if(e<m)(s=(c=i.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(d=l[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<_;u++){var l,c,f=x[u];o=(l=f.get("group").get("children")).length;if(e<m)(s=(c=f.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var d;if(!(d=l[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}}),100);this.set("timeout",A)}}},tke={"drag-canvas":pCe,"zoom-canvas":MCe,"drag-node":gCe,"activate-relations":vCe,"brush-select":_Ce,"click-select":CCe,"lasso-select":WCe,tooltip:TCe,"edge-tooltip":ACe,"collapse-expand":PCe,"drag-combo":RCe,"collapse-expand-combo":FCe,"create-edge":KCe,"shortcuts-call":QCe,"scroll-canvas":eke};(0,jse.each)(tke,(function(e,t){eme(t,e)}));var nke=(0,Fse.__assign)((0,Fse.__assign)({},t),nme),rke=REe.Fisheye,ike=REe.TimeBar,oke=REe.ImageMinimap,ake=REe.EdgeFilterLens,ske=REe.SnapLine,uke={version:Kbe.version,Graph:Gxe,TreeGraph:Zxe,Util:hxe,Layout:txe.Layouts,TreeLayout:gxe,registerLayout:function(e,t){t.isCustomLayout=!0,txe.Layouts[e]=(0,txe.registerLayout)(e,t)},Global:Kbe,registerBehavior:eme,registerCombo:Jve,registerEdge:Qve,registerNode:$ve,Minimap:REe.Minimap,Grid:REe.Grid,Bundling:REe.Bundling,Menu:REe.Menu,ToolBar:REe.ToolBar,Tooltip:REe.Tooltip,Legend:REe.Legend,TimeBar:ike,SnapLine:ske,Fisheye:rke,ImageMinimap:oke,EdgeFilterLens:ake,Algorithm:nke,Arrow:Gve,Marker:Vve,Shape:Uve};uke.version="4.6.4";var lke=uke,cke=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,q.Z)(n,[{key:"GetWorkflowTemplatePage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this.get("WorkflowTemplate/GetWorkflowTemplatePage?name=".concat(e,"&pageNo=").concat(t,"&pageSize=").concat(n))}},{key:"CreateWorkflowTemplate",value:function(e){return this.post("WorkflowTemplate/CreateWorkflowTemplate",e)}},{key:"DeleteWorkflowTemplate",value:function(e){return this.del("WorkflowTemplate/DeleteWorkflowTemplate?id="+e)}},{key:"UpdateWorkflowTemplate",value:function(e){return this.put("WorkflowTemplate/UpdateWorkflowTemplate",e)}},{key:"GetWorkflowNodeTemplates",value:function(e){return this.get("WorkflowTemplate/GetWorkflowNodeTemplates?workflowId="+e)}},{key:"GetWorkflowNodeRoleIds",value:function(e){return this.get("WorkflowTemplate/GetWorkflowNodeRoleIds?workflowNodeId="+e)}},{key:"CreateWorkflowNodeRole",value:function(e,t){return this.post("WorkflowTemplate/CreateWorkflowNodeRole?workflowNodeId="+e,t)}},{key:"DeleteWorkflowNodeTemplate",value:function(e){return this.del("WorkflowTemplate/DeleteWorkflowNodeTemplate?workflowNodeId="+e)}},{key:"CreateWorkflowNodeTemplate",value:function(e){return this.post("WorkflowTemplate/CreateWorkflowNodeTemplate",e)}},{key:"UpdateWorkflowNodeTemplate",value:function(e){return this.put("WorkflowTemplate/UpdateWorkflowNodeTemplate",e)}},{key:"UpdateWorkflowNodeTemplateIndex",value:function(e){return this.put("WorkflowTemplate/UpdateWorkflowNodeTemplateIndex",e)}},{key:"GetWorkflowTemplatesAll",value:function(){return this.get("WorkflowTemplate/GetWorkflowTemplatesAll")}}]),n}(function(){function e(){(0,K.Z)(this,e)}return(0,q.Z)(e,[{key:"post",value:function(e,t){return new Promise((function(n,r){Vf.post(e,t).then((function(e){n(e.data)})).catch((function(e){r(e)}))}))}},{key:"put",value:function(e,t){return new Promise((function(n,r){Vf.put(e,t).then((function(e){n(e.data)})).catch((function(e){r(e)}))}))}},{key:"get",value:function(e){return new Promise((function(t,n){Vf.get(e).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"del",value:function(e){return new Promise((function(t,n){Vf.delete(e).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}}]),e}()),fke=new cke,dke=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={data:{nodes:[{id:"node1",x:100,y:200},{id:"node2",x:300,y:200}],edges:[{source:"node1",target:"node2"}]},operation:{isTempalte:!0,data:[]},presentClickId:""},e}return(0,q.Z)(n,[{key:"componentDidMount",value:function(){var e=new lke.Graph({container:"mountNode",width:800,height:500});e.data(this.state.data),e.render(),this.GetWorkflowTemplatesAll()}},{key:"GetWorkflowTemplatesAll",value:function(){var e=this;fke.GetWorkflowTemplatesAll().then((function(t){var n=e.state.operation;n.data=t.data,e.setState({operation:n})}))}},{key:"onClickupperStory",value:function(){var e=this.state.operation;e.isTempalte=!0,this.setState({operation:e})}},{key:"onClickTemplate",value:function(e){var t=this.state,n=t.presentClickId,r=t.operation;n=e.id,r.isTempalte=!1,this.setState({presentClickId:n,operation:r})}},{key:"render",value:function(){var e,t,n=this,r=this.state,i=r.operation,o=r.presentClickId;return i.isTempalte?(e=(0,J.jsx)("div",{className:"template-head-template",children:"\u8bf7\u9009\u62e9\u60a8\u7684\u6a21\u677f"}),t=(0,J.jsx)("div",{className:"content",children:i.data.map((function(e,t){return(0,J.jsx)("div",{onClick:function(){return n.onClickTemplate(e)},className:o===e.id?"present-clickid":"",children:e.name},t)}))})):(e=(0,J.jsx)("div",{className:"template-head-upper-story",onClick:function(){return n.onClickupperStory()},children:"\u8fd4\u56de\u4e0a\u4e00\u5c42"}),t=(0,J.jsx)("div",{})),(0,J.jsxs)("div",{className:"workflow-node",children:[(0,J.jsxs)("div",{className:"template",children:[(0,J.jsx)("div",{className:"head",children:e}),t]}),(0,J.jsx)("div",{className:"nodeconfig",children:(0,J.jsx)("div",{id:"mountNode"})})]})}}]),n}(b.Component),hke=dke,pke=n(9611);function gke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,pke.Z)(e,t)}function vke(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mke="function"===typeof Symbol&&Symbol.observable||"@@observable",yke=function(){return Math.random().toString(36).substring(7).split("").join(".")},bke={INIT:"@@redux/INIT"+yke(),REPLACE:"@@redux/REPLACE"+yke(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yke()}};function xke(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wke(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(vke(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(vke(1));return n(wke)(e,t)}if("function"!==typeof e)throw new Error(vke(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(vke(3));return o}function f(e){if("function"!==typeof e)throw new Error(vke(4));if(u)throw new Error(vke(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(vke(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!xke(e))throw new Error(vke(7));if("undefined"===typeof e.type)throw new Error(vke(8));if(u)throw new Error(vke(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(vke(10));i=e,d({type:bke.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(vke(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[mke]=function(){return this},e}return d({type:bke.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:h})[mke]=p,r}function _ke(e,t){return function(){return t(e.apply(this,arguments))}}function Ske(e,t){if("function"===typeof e)return _ke(e,t);if("object"!==typeof e||null===e)throw new Error(vke(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=_ke(i,t))}return n}function Eke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Cke=b.createContext(null);var kke=function(e){e()},Mke=function(){return kke};var Ike={notify:function(){},get:function(){return[]}};function Tke(e,t){var n,r=Ike;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Mke(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ike)},getListeners:function(){return r}};return a}var Ake="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?b.useLayoutEffect:b.useEffect;var Nke=function(e){var t=e.store,n=e.context,r=e.children,i=(0,b.useMemo)((function(){var e=Tke(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),o=(0,b.useMemo)((function(){return t.getState()}),[t]);Ake((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=n||Cke;return b.createElement(a.Provider,{value:i},r)},Dke=n(2110),Pke=n.n(Dke),Oke=n(7441),Lke=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Rke=["reactReduxForwardedRef"],Bke=[],zke=[null,null];function Fke(e,t){var n=e[1];return[t.payload,n+1]}function jke(e,t,n){Ake((function(){return e.apply(void 0,t)}),n)}function Gke(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function Vke(e,t,n,r,i,o,a,s,u,l){if(e){var c=!1,f=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,i.current)}catch(li){n=li,f=li}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var Uke=function(){return[null,0]};function Wke(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,a=void 0===o?"connectAdvanced":o,s=n.renderCountProp,u=void 0===s?void 0:s,l=n.shouldHandleStateChanges,c=void 0===l||l,f=n.storeKey,d=void 0===f?"store":f,h=(n.withRef,n.forwardRef),p=void 0!==h&&h,g=n.context,v=void 0===g?Cke:g,m=Be(n,Lke),y=v;return function(t){var n=t.displayName||t.name||"Component",r=i(n),o=x({},m,{getDisplayName:i,methodName:a,renderCountProp:u,shouldHandleStateChanges:c,storeKey:d,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=m.pure;var l=s?b.useMemo:function(e){return e()};function f(n){var r=(0,b.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Be(n,Rke);return[n.context,e,t]}),[n]),i=r[0],a=r[1],s=r[2],u=(0,b.useMemo)((function(){return i&&i.Consumer&&(0,Oke.isContextConsumer)(b.createElement(i.Consumer,null))?i:y}),[i,y]),f=(0,b.useContext)(u),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var h=d?n.store:f.store,p=(0,b.useMemo)((function(){return function(t){return e(t.dispatch,o)}(h)}),[h]),g=(0,b.useMemo)((function(){if(!c)return zke;var e=Tke(h,d?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,d,f]),v=g[0],m=g[1],w=(0,b.useMemo)((function(){return d?f:x({},f,{subscription:v})}),[d,f,v]),_=(0,b.useReducer)(Fke,Bke,Uke),S=_[0][0],E=_[1];if(S&&S.error)throw S.error;var C=(0,b.useRef)(),k=(0,b.useRef)(s),M=(0,b.useRef)(),I=(0,b.useRef)(!1),T=l((function(){return M.current&&s===k.current?M.current:p(h.getState(),s)}),[h,S,s]);jke(Gke,[k,C,I,s,T,M,m]),jke(Vke,[c,h,v,p,k,C,I,M,m,E],[h,v,p]);var A=(0,b.useMemo)((function(){return b.createElement(t,x({},T,{ref:a}))}),[a,t,T]);return(0,b.useMemo)((function(){return c?b.createElement(u.Provider,{value:w},A):A}),[u,A,w])}var h=s?b.memo(f):f;if(h.WrappedComponent=t,h.displayName=f.displayName=r,p){var g=b.forwardRef((function(e,t){return b.createElement(h,x({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,Pke()(g,t)}return Pke()(h,t)}}function Zke(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Hke(e,t){if(Zke(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Zke(e[n[i]],t[n[i]]))return!1;return!0}function Yke(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Xke(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Kke(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Xke(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Xke(i),i=r(t,n)),i},r}}var qke=[function(e){return"function"===typeof e?Kke(e):void 0},function(e){return e?void 0:Yke((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Yke((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var $ke=[function(e){return"function"===typeof e?Kke(e):void 0},function(e){return e?void 0:Yke((function(){return{}}))}];function Qke(e,t,n){return x({},n,e,t)}var Jke=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return Qke}}],eMe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function tMe(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function nMe(e,t,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,a),g=!c(i,o);return o=i,a=h,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):g?function(){var t=e(o,a),r=!d(t,s);return s=t,r&&(l=n(s,u,a)),l}():l}return function(i,c){return h?p(i,c):(s=e(o=i,a=c),u=t(r,a),l=n(s,u,a),h=!0,l)}}function rMe(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Be(t,eMe),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?nMe:tMe)(a,s,u,e,o)}var iMe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function oMe(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function aMe(e,t){return e===t}function sMe(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Wke:n,i=t.mapStateToPropsFactories,o=void 0===i?$ke:i,a=t.mapDispatchToPropsFactories,s=void 0===a?qke:a,u=t.mergePropsFactories,l=void 0===u?Jke:u,c=t.selectorFactory,f=void 0===c?rMe:c;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,d=a.areStatesEqual,h=void 0===d?aMe:d,p=a.areOwnPropsEqual,g=void 0===p?Hke:p,v=a.areStatePropsEqual,m=void 0===v?Hke:v,y=a.areMergedPropsEqual,b=void 0===y?Hke:y,w=Be(a,iMe),_=oMe(e,o,"mapStateToProps"),S=oMe(t,s,"mapDispatchToProps"),E=oMe(n,l,"mergeProps");return r(f,x({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:E,pure:c,areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:m,areMergedPropsEqual:b},w))}}var uMe=sMe();var lMe;function cMe(e,t){var n=(0,b.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,b.useRef)(!0),i=(0,b.useRef)(n),o=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs)),a=o?i.current:{inputs:t,result:e()};return(0,b.useEffect)((function(){r.current=!1,i.current=a}),[a]),a.result}lMe=m.unstable_batchedUpdates,kke=lMe;var fMe=cMe,dMe=function(e,t){return cMe((function(){return e}),t)},hMe="Invariant failed";var pMe=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},gMe=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},vMe=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},mMe={top:0,right:0,bottom:0,left:0},yMe=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?mMe:n,i=e.border,o=void 0===i?mMe:i,a=e.padding,s=void 0===a?mMe:a,u=pMe(gMe(t,r)),l=pMe(vMe(t,o)),c=pMe(vMe(l,s));return{marginBox:u,borderBox:pMe(t),paddingBox:l,contentBox:c,margin:r,border:o,padding:s}},bMe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(hMe)}(!1),n},xMe=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,u=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return yMe({borderBox:u,border:o,margin:a,padding:s})},wMe=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),xMe(e,t)},_Me=function(e,t){var n={top:bMe(t.marginTop),right:bMe(t.marginRight),bottom:bMe(t.marginBottom),left:bMe(t.marginLeft)},r={top:bMe(t.paddingTop),right:bMe(t.paddingRight),bottom:bMe(t.paddingBottom),left:bMe(t.paddingLeft)},i={top:bMe(t.borderTopWidth),right:bMe(t.borderRightWidth),bottom:bMe(t.borderBottomWidth),left:bMe(t.borderLeftWidth)};return yMe({borderBox:e,margin:n,padding:r,border:i})},SMe=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return _Me(t,n)},EMe=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function CMe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||EMe(r)&&EMe(i)))return!1;var r,i;return!0}var kMe=function(e,t){var n;void 0===t&&(t=CMe);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}},MMe=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function IMe(e,t){}IMe.bind(null,"warn"),IMe.bind(null,"error");function TMe(){}function AMe(e,t,n){var r=t.map((function(t){var r=function(e,t){return x({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var NMe="Invariant failed";function DMe(e){this.message=e}function PMe(e,t){if(!e)throw new DMe(NMe)}DMe.prototype.toString=function(){return this.message};var OMe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=TMe,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof DMe&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}gke(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=AMe(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof DMe))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(b.Component),LMe=function(e){return e+1},RMe=function(e,t){var n=e.droppableId===t.droppableId,r=LMe(e.index),i=LMe(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},BMe=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},zMe=function(e){return"\n  The item has returned to its starting position\n  of "+LMe(e.index)+"\n"},FMe="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",jMe=function(e){return"\n  You have lifted an item in position "+LMe(e.source.index)+"\n"},GMe=function(e){var t=e.destination;if(t)return RMe(e.source,t);var n=e.combine;return n?BMe(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},VMe=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+zMe(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+RMe(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+BMe(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+zMe(e.source)+"\n  "},UMe={x:0,y:0},WMe=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},ZMe=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},HMe=function(e,t){return e.x===t.x&&e.y===t.y},YMe=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},XMe=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},KMe=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},qMe=function(e,t){return Math.min.apply(Math,t.map((function(t){return KMe(e,t)})))},$Me=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},QMe=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},JMe=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},eIe=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=pMe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):pMe(e)},tIe=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?QMe(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?x({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:eIe(a,i)}},nIe=function(e,t){e.frame||PMe(!1);var n=e.frame,r=ZMe(t,n.scroll.initial),i=YMe(r),o=x({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return x({},e,{frame:o,subject:tIe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function rIe(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function iIe(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function oIe(e,t){if(e.find)return e.find(t);var n=iIe(e,t);return-1!==n?e[n]:void 0}function aIe(e){return Array.prototype.slice.call(e)}var sIe=kMe((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),uIe=kMe((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),lIe=kMe((function(e){return rIe(e)})),cIe=kMe((function(e){return rIe(e)})),fIe=kMe((function(e,t){var n=cIe(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function dIe(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function hIe(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var pIe=kMe((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),gIe=function(e,t){return e.descriptor.droppableId===t.descriptor.id},vIe={point:UMe,value:0},mIe={invisible:{},visible:{},all:[]},yIe={displaced:mIe,displacedBy:vIe,at:null},bIe=function(e,t){return function(n){return e<=n&&n<=t}},xIe=function(e){var t=bIe(e.top,e.bottom),n=bIe(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},wIe=function(e){var t=bIe(e.top,e.bottom),n=bIe(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},_Ie={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},SIe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},EIe=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:UMe;return QMe(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},CIe=function(e){return EIe(x({},e,{isVisibleThroughFrameFn:wIe}))};function kIe(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pMe(gMe(n,r))}(t,r),u=t.descriptor.id;if(e.all.push(u),!EIe(x({},{target:s,destination:n,viewport:i,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:xIe})))return e.invisible[t.descriptor.id]=!0,e;var l=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(u,a,o),c={draggableId:u,shouldAnimate:l};return e.visible[u]=c,e}),{all:[],visible:{},invisible:{}})}function MIe(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:mIe,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function IIe(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,u=e.forceShouldAnimate,l=gIe(t,r);if(null==s)return MIe({insideDestination:n,inHomeList:l,displacedBy:o,destination:r});var c=oIe(n,(function(e){return e.descriptor.index===s}));if(!c)return MIe({insideDestination:n,inHomeList:l,displacedBy:o,destination:r});var f=pIe(t,n),d=n.indexOf(c);return{displaced:kIe({afterDragging:f.slice(d),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:u}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function TIe(e,t){return Boolean(t.effected[e])}var AIe=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,u=e.viewport,l=e.afterCritical,c=s.at;if(c||PMe(!1),"REORDER"===c.type){var f=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,u=r[r.length-1].descriptor.index;return a<s||a>(n?u:u+1)?null:a}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:a});return null==f?null:IIe({draggable:r,insideDestination:a,destination:o,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return TIe(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:l});return null==d?null:IIe({draggable:r,insideDestination:a,destination:o,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:d})},NIe=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=hIe(n);i||PMe(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return TIe(r,n)?o?UMe:YMe(i.point):o?i.point:UMe}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return WMe(a,s)},DIe=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},PIe=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},OIe=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return XMe(t.line,n.marginBox[t.end]+DIe(t,r),PIe(t,n.marginBox,r))},LIe=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return XMe(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),PIe(t,n.marginBox,r))},RIe=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=fIe(i.descriptor.id,r),s=n.page,u=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return XMe(t.line,n.contentBox[t.start]+DIe(t,r),PIe(t,n.contentBox,r))}({axis:u,moveInto:i.page,isMoving:s});var l=t.displaced,c=t.displacedBy,f=l.all[0];if(f){var d=r[f];if(TIe(f,o))return LIe({axis:u,moveRelativeTo:d.page,isMoving:s});var h=xMe(d.page,c.point);return LIe({axis:u,moveRelativeTo:h,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(TIe(p.descriptor.id,o)){var g=xMe(p.page,YMe(o.displacedBy.point));return OIe({axis:u,moveRelativeTo:g,isMoving:s})}return OIe({axis:u,moveRelativeTo:p.page,isMoving:s})},BIe=function(e,t){var n=e.frame;return n?WMe(t,n.scroll.diff.displacement):t},zIe=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?RIe({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):NIe({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?BIe(n,t):t},FIe=function(e,t){var n=ZMe(t,e.scroll.initial),r=YMe(n);return{frame:pMe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function jIe(e,t){return e.map((function(e){return t[e]}))}var GIe=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return WMe(e.scroll.diff.displacement,t)}(e.viewport,t),i=ZMe(r,n.page.borderBox.center);return WMe(n.client.borderBox.center,i)},VIe=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,u=ZMe(r,t.page.borderBox.center),l={target:QMe(t.page.borderBox,u),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return EIe(x({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=bIe(e.top,e.bottom),r=bIe(e.left,e.right);return function(e){return t===_Ie?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(l):CIe(l)},UIe=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,u=e.previousClientSelection,l=e.afterCritical;if(!r.isEnabled)return null;var c=fIe(r.descriptor.id,i),f=gIe(n,r),d=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!dIe(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return x({},o,{at:t})}var s=o.displaced.all,u=s.length?s[0]:null;if(t)return u?a(u):null;var l=pIe(n,i);if(!u)return l.length?a(l[l.length-1].descriptor.id):null;var c=iIe(l,(function(e){return e.descriptor.id===u}));-1===c&&PMe(!1);var f=c-1;return f<0?null:a(l[f].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||AIe({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:a,afterCritical:l});if(!d)return null;var h=zIe({impact:d,draggable:n,droppable:r,draggables:i,afterCritical:l});if(VIe({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:GIe({pageBorderBoxCenter:h,draggable:n,viewport:a}),impact:d,scrollJumpRequest:null};var p=ZMe(h,s),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=FIe(n,WMe(n.scroll.current,o)),s=r.frame?nIe(r,WMe(r.frame.scroll.current,o)):r,u=t.displaced,l=kIe({afterDragging:jIe(u.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:u,forceShouldAnimate:!1}),c=kIe({afterDragging:jIe(u.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),f={},d={},h=[u,l,c];return u.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?d[e]=t:f[e]=!0})),x({},t,{displaced:{all:u.all,invisible:f,visible:d}})}({impact:d,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:u,impact:g,scrollJumpRequest:p}},WIe=function(e){var t=e.subject.active;return t||PMe(!1),t},ZIe=function(e,t){var n=e.page.borderBox.center;return TIe(e.descriptor.id,t)?ZMe(n,t.displacedBy.point):n},HIe=function(e,t){var n=e.page.borderBox;return TIe(e.descriptor.id,t)?QMe(n,YMe(t.displacedBy.point)):n},YIe=kMe((function(e,t){var n=t[e.line];return{value:n,point:XMe(e.line,n)}})),XIe=function(e,t){return x({},e,{scroll:x({},e.scroll,{max:t})})},KIe=function(e,t,n){var r=e.frame;gIe(t,e)&&PMe(!1),e.subject.withPlaceholder&&PMe(!1);var i=YIe(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return XMe(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=fIe(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0),a=o+t[r.line]-i;return a<=0?null:XMe(r.line,a)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return x({},e,{subject:tIe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?WMe(r.scroll.max,o):r.scroll.max,u=XIe(r,s);return x({},e,{subject:tIe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:u}),frame:u})},qIe=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,u=e.afterCritical,l=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,u=bIe(a[s.start],a[s.end]),l=lIe(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return xIe(o.frame)(WIe(e))})).filter((function(e){var n=WIe(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=WIe(e),n=bIe(t[s.start],t[s.end]);return u(t[s.start])||u(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=WIe(e)[s.crossAxisStart],i=WIe(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return WIe(e)[s.crossAxisStart]===WIe(n[0])[s.crossAxisStart]}));if(!l.length)return null;if(1===l.length)return l[0];var c=l.filter((function(e){return bIe(WIe(e)[s.start],WIe(e)[s.end])(n[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return WIe(e)[s.start]-WIe(t)[s.start]}))[0]:l.sort((function(e,t){var r=qMe(n,JMe(WIe(e))),i=qMe(n,JMe(WIe(t)));return r!==i?r-i:WIe(e)[s.start]-WIe(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!l)return null;var c=fIe(l.descriptor.id,o),f=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return CIe({target:HIe(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=KMe(t,BIe(r,ZIe(e,o))),a=KMe(t,BIe(r,ZIe(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:l,insideDestination:c,afterCritical:u}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,u=e.afterCritical;if(!n){if(r.length)return null;var l={displaced:mIe,displacedBy:vIe,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=zIe({impact:l,draggable:i,droppable:a,draggables:o,afterCritical:u}),f=gIe(i,a)?a:KIe(a,i,o);return VIe({draggable:i,destination:f,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var d=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||d?e:e+1}(),p=YIe(a.axis,i.displaceBy);return IIe({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:mIe,index:h})}({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:c,viewport:s,afterCritical:u});if(!d)return null;var h=zIe({impact:d,draggable:r,droppable:l,draggables:o,afterCritical:u});return{clientSelection:GIe({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},$Ie=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},QIe=function(e){var t=e.state,n=e.type,r=function(e,t){var n=$Ie(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,u="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(u&&!i)return null;var l="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,p=d.droppables;return u?UIe({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):qIe({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,isOver:a,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function JIe(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function eTe(e){var t=bIe(e.top,e.bottom),n=bIe(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function tTe(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=lIe(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(eTe(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],u=t[o.crossAxisEnd],l=bIe(i[o.crossAxisStart],i[o.crossAxisEnd]),c=l(s),f=l(u);return!c&&!f||(c?s<a:u>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=XMe(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:KMe(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var nTe=function(e,t){return pMe(QMe(e,t))};function rTe(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var iTe=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,u=nTe(n.page.borderBox,t),l=tTe({pageBorderBox:u,draggable:n,droppables:i});if(!l)return yIe;var c=i[l],f=fIe(c.descriptor.id,r),d=function(e,t){var n=e.frame;return n?nTe(t,n.scroll.diff.value):t}(c,u);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,u=YIe(i.axis,t.displaceBy),l=u.value,c=n[s.start],f=n[s.end],d=oIe(pIe(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=TIe(t,a),u=rTe({displaced:r.displaced,id:t});return o?u?f>n[s.start]+i&&f<n[s.end]-i:c>n[s.start]-l+i&&c<n[s.end]-l-i:u?f>n[s.start]+l+i&&f<n[s.end]+l-i:c>n[s.start]+i&&c<n[s.end]-i}));return d?{displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:o,destination:c,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,u=r.axis,l=YIe(r.axis,n.displaceBy),c=l.value,f=t[u.start],d=t[u.end],h=oIe(pIe(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[u.line],r=TIe(t,s),i=rTe({displaced:o,id:t});return r?i?d<=n:f<n-c:i?d<=n+c:f<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:h,inHomeList:gIe(n,r)});return IIe({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:l,index:p})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:c,insideDestination:f,last:o.displaced,viewport:a,afterCritical:s})},oTe=function(e,t){var n;return x({},e,((n={})[t.descriptor.id]=t,n))},aTe=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=$Ie(t),o=$Ie(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||PMe(!1);var n=e.frame;if(!n)return x({},e,{subject:tIe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||PMe(!1);var i=XIe(n,r);return x({},e,{subject:tIe({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return oTe(r,s)},sTe=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,u=r||t.dimensions,l=n||t.current.client.selection,c=ZMe(l,t.initial.client.selection),f={offset:c,selection:l,borderBoxCenter:WMe(t.initial.client.borderBoxCenter,c)},d={selection:WMe(f.selection,s.scroll.current),borderBoxCenter:WMe(f.borderBoxCenter,s.scroll.current),offset:WMe(f.offset,s.scroll.diff.value)},h={client:f,page:d};if("COLLECTING"===t.phase)return x({phase:"COLLECTING"},t,{dimensions:u,viewport:s,current:h});var p=u.draggables[t.critical.draggable.id],g=o||iTe({pageOffset:d.offset,draggable:p,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=aTe({previousImpact:i,impact:o,droppables:r}),s=$Ie(o);if(!s)return a;var u=r[s];if(gIe(t,u))return a;if(u.subject.withPlaceholder)return a;var l=KIe(u,t,n);return oTe(a,l)}({draggable:p,impact:g,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return x({},t,{current:h,dimensions:{draggables:u.draggables,droppables:v},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var uTe=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return x({},t,{displaced:kIe({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},lTe=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=zIe({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return GIe({pageBorderBoxCenter:s,draggable:n,viewport:o})},cTe=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&PMe(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,u=a.droppables,l=s[t.critical.draggable.id],c=$Ie(i);c||PMe(!1);var f=u[c],d=uTe({impact:i,viewport:o,destination:f,draggables:s}),h=lTe({impact:d,draggable:l,droppable:f,draggables:s,viewport:o,afterCritical:t.afterCritical});return sTe({impact:d,clientSelection:h,state:t,dimensions:a,viewport:o})},fTe=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=YIe(n.axis,t.displaceBy),a=fIe(n.descriptor.id,r),s=a.indexOf(t);-1===s&&PMe(!1);var u,l=a.slice(s+1),c=l.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};return{impact:{displaced:kIe({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(u=t.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:f}},dTe=function(e){0},hTe=function(e){0},pTe=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||PMe(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=xMe(t.client,n),o=wMe(i,r);return x({},t,{placeholder:x({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:WMe(i,a),initialWindowScroll:r.scroll.initial});return s}))},gTe=function(e){return"SNAP"===e.movementMode},vTe=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:oTe(e.droppables,t)}}(e.dimensions,t);return!gTe(e)||n?sTe({state:e,dimensions:r}):cTe({state:e,dimensions:r})};function mTe(e){return e.isDragging&&"SNAP"===e.movementMode?x({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var yTe={phase:"IDLE",completed:null,shouldFlush:!1},bTe=function(e,t){if(void 0===e&&(e=yTe),"FLUSH"===t.type)return x({},yTe,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&PMe(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,u=a.draggables[r.draggable.id],l=a.droppables[r.droppable.id],c={selection:i,borderBoxCenter:u.client.borderBox.center,offset:UMe},f={client:c,page:{selection:WMe(c.selection,o.scroll.initial),borderBoxCenter:WMe(c.selection,o.scroll.initial),offset:WMe(c.selection,o.scroll.diff.value)}},d=lIe(a.droppables).every((function(e){return!e.isFixedOnPage})),h=fTe({draggable:u,home:l,draggables:a.draggables,viewport:o}),p=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:f,current:f,isWindowScrollAllowed:d,impact:p,afterCritical:h.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&PMe(!1),x({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&PMe(!1),function(e){var t=e.state,n=e.published;dTe();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return nIe(n,e.scroll)})),i=x({},t.dimensions.droppables,{},sIe(r)),o=uIe(pTe({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=x({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},u=$Ie(t.impact),l=u?s.droppables[u]:null,c=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],d=fTe({draggable:c,home:f,draggables:a,viewport:t.viewport}),h=d.impact,p=d.afterCritical,g=l&&l.isCombineEnabled?t.impact:h,v=iTe({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p});hTe();var m=x({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?m:x({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;JIe(e)||PMe(!1);var g=t.payload.client;return HMe(g,e.current.client.selection)?e:sTe({state:e,clientSelection:g,impact:gTe(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return mTe(e);if("COLLECTING"===e.phase)return mTe(e);JIe(e)||PMe(!1);var v=t.payload,m=v.id,y=v.newScroll,b=e.dimensions.droppables[m];if(!b)return e;var w=nIe(b,y);return vTe(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;JIe(e)||PMe(!1);var _=t.payload,S=_.id,E=_.isEnabled,C=e.dimensions.droppables[S];C||PMe(!1),C.isEnabled===E&&PMe(!1);var k=x({},C,{isEnabled:E});return vTe(e,k,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;JIe(e)||PMe(!1);var M=t.payload,I=M.id,T=M.isCombineEnabled,A=e.dimensions.droppables[I];A||PMe(!1),A.isCombineEnabled===T&&PMe(!1);var N=x({},A,{isCombineEnabled:T});return vTe(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;JIe(e)||PMe(!1),e.isWindowScrollAllowed||PMe(!1);var D=t.payload.newScroll;if(HMe(e.viewport.scroll.current,D))return mTe(e);var P=FIe(e.viewport,D);return gTe(e)?cTe({state:e,viewport:P}):sTe({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!JIe(e))return e;var O=t.payload.maxScroll;if(HMe(O,e.viewport.scroll.max))return e;var L=x({},e.viewport,{scroll:x({},e.viewport.scroll,{max:O})});return x({phase:"DRAGGING"},e,{viewport:L})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&PMe(!1);var R=QIe({state:e,type:t.type});return R?sTe({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var B=t.payload.reason;return"COLLECTING"!==e.phase&&PMe(!1),x({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:B})}if("DROP_ANIMATE"===t.type){var z=t.payload,F=z.completed,j=z.dropDuration,G=z.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&PMe(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:j,newHomeClientOffset:G,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},xTe=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},wTe=function(){return{type:"COLLECTION_STARTING",payload:null}},_Te=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},STe=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},ETe=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},CTe=function(e){return{type:"MOVE",payload:e}},kTe=function(){return{type:"MOVE_UP",payload:null}},MTe=function(){return{type:"MOVE_DOWN",payload:null}},ITe=function(){return{type:"MOVE_RIGHT",payload:null}},TTe=function(){return{type:"MOVE_LEFT",payload:null}},ATe=function(e){return{type:"DROP_COMPLETE",payload:e}},NTe=function(e){return{type:"DROP",payload:e}},DTe=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var PTe="cubic-bezier(.2,1,.1,1)",OTe={drop:0,combining:.7},LTe={drop:.75},RTe=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",BTe={fluid:"opacity "+RTe,snap:"transform "+RTe+", opacity "+RTe,drop:function(e){var t=e+"s "+PTe;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+RTe,placeholder:"height "+RTe+", width "+RTe+", margin "+RTe},zTe=function(e){return HMe(e,UMe)?null:"translate("+e.x+"px, "+e.y+"px)"},FTe=zTe,jTe=function(e,t){var n=zTe(e);return n?t?n+" scale("+LTe.drop+")":n:null},GTe=.33,VTe=.55,UTe=VTe-GTe,WTe=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&PMe(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&PMe(!1);var a=i.critical,s=i.dimensions,u=s.draggables[i.critical.draggable.id],l=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:x({},r,{displaced:mIe}),didDropInsideDroppable:!0}:{impact:uTe({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),c=l.impact,f=l.didDropInsideDroppable,d=f?dIe(c):null,h=f?hIe(c):null,p={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:d,combine:h},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,u=$Ie(t),l=u?s[u]:null,c=s[n.descriptor.droppableId],f=lTe({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:l||c,viewport:i});return ZMe(f,n.client.borderBox.center)}({impact:c,draggable:u,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:c};if(!HMe(i.current.client.offset,v)||Boolean(g.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=KMe(t,n);if(i<=0)return GTe;if(i>=1500)return VTe;var o=GTe+UTe*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:v,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:v,dropDuration:y,completed:m}))}else n(ATe({completed:m}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},ZTe=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function HTe(e){var t=e.onWindowScroll;var n=MMe((function(){t(ZTe())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=TMe;function o(){return i!==TMe}return{start:function(){o()&&PMe(!1),i=AMe(window,[r])},stop:function(){o()||PMe(!1),n.cancel(),i(),i=TMe},isActive:o}}var YTe=function(e){var t=HTe({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},XTe=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=iIe(e,(function(e){return e.timerId===t}));-1===n&&PMe(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},KTe=function(e,t){dTe(),t(),hTe()},qTe=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},$Te=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},QTe=function(e,t){var n=function(e,t){var n=XTe(),r=null,i=function(n){r||PMe(!1),r=null,KTe(0,(function(){return $Te(e().onDragEnd,n,t,VMe)}))};return{beforeCapture:function(t,n){r&&PMe(!1),KTe(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&PMe(!1),KTe(0,(function(){var r=e().onBeforeDragStart;r&&r(qTe(t,n))}))},start:function(i,o){r&&PMe(!1);var a=qTe(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){KTe(0,(function(){return $Te(e().onDragStart,a,t,jMe)}))}))},update:function(i,o){var a=dIe(o),s=hIe(o);r||PMe(!1);var u=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);u&&(r.lastCritical=i);var l,c,f=(c=a,!(null==(l=r.lastLocation)&&null==c||null!=l&&null!=c&&l.droppableId===c.droppableId&&l.index===c.index));f&&(r.lastLocation=a);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(d&&(r.lastCombine=s),u||f||d){var h=x({},qTe(i,r.mode),{combine:s,destination:a});n.add((function(){KTe(0,(function(){return $Te(e().onDragUpdate,h,t,GMe)}))}))}},flush:function(){r||PMe(!1),n.flush()},drop:i,abort:function(){if(r){var e=x({},qTe(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},JTe=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&PMe(!1),e.dispatch(ATe({completed:r.completed}))}else t(n)}}},eAe=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=AMe(window,[o])}))}}}},tAe=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(NTe({reason:r.reason})))}}}},nAe=Eke,rAe=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return wke(bTe,nAe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(vke(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Eke.apply(void 0,o)(n.dispatch),Oe(Oe({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,u=o.movementMode,l=n();"DROP_ANIMATING"===l.phase&&r(ATe({completed:l.completed})),"IDLE"!==n().phase&&PMe(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:u}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===u}},f=e.startPublishing(c),d=f.critical,h=f.dimensions,p=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:h,clientSelection:s,movementMode:u,viewport:p}})}else t(i)}}}}(n),WTe,JTe,eAe,tAe,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&PMe(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),YTe,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),QTe(o,a))))};var iAe=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=ZMe({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},oAe=function(){var e=document.documentElement;return e||PMe(!1),e},aAe=function(){var e=oAe();return iAe({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sAe=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;dTe();var i=function(){var e=ZTe(),t=aAe(),n=e.y,r=e.x,i=oAe(),o=i.clientWidth,a=i.clientHeight;return{frame:pMe({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:UMe,displacement:UMe}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),u=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),l={draggables:uIe(u),droppables:sIe(s)};return hTe(),{dimensions:l,critical:t,viewport:i}};function uAe(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var lAe=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,dTe();var e=r,o=e.additions,a=e.removals,s=e.modified,u=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(UMe)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),l=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:u,removals:Object.keys(a),modified:l};r={additions:{},removals:{},modified:{}},hTe(),n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||PMe(!1);var i=n.critical.draggable;"ADDITION"===t.type&&uAe(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&uAe(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||PMe(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||PMe(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||PMe(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&PMe(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},sAe({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},cAe=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},fAe=function(e){window.scrollBy(e.x,e.y)},dAe=kMe((function(e){return lIe(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),hAe=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=oIe(dAe(t),(function(t){return t.frame||PMe(!1),eTe(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},pAe=.25,gAe=.05,vAe=28,mAe=function(e){return Math.pow(e,2)},yAe={stopDampeningAt:1200,accelerateAt:360},bAe=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},xAe=yAe.accelerateAt,wAe=yAe.stopDampeningAt,_Ae=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return vAe;if(e===t.startScrollingFrom)return 1;var n=bAe({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=vAe*mAe(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=wAe,i=Date.now()-n;if(i>=wAe)return e;if(i<xAe)return 1;var o=bAe({startOfRange:xAe,endOfRange:r,current:i}),a=e*mAe(o);return Math.ceil(a)}(o,r),1):o},SAe=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*pAe,maxScrollValueAt:e[t.size]*gAe}}(t,i);return n[i.end]<n[i.start]?_Ae({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*_Ae({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},EAe=$Me((function(e){return 0===e?0:e})),CAe=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=SAe({container:n,distanceToEdges:a,dragStartTime:t,axis:_Ie,shouldUseTimeDampening:o}),u=SAe({container:n,distanceToEdges:a,dragStartTime:t,axis:SIe,shouldUseTimeDampening:o}),l=EAe({x:u,y:s});if(HMe(l,UMe))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:l});return c?HMe(c,UMe)?null:c:null},kAe=$Me((function(e){return 0===e?0:e>0?1:-1})),MAe=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=WMe(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return HMe(a,UMe)?null:a}}(),IAe=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=kAe(r),a=MAe({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},TAe=function(e,t){return IAe({current:e.scroll.current,max:e.scroll.max,change:t})},AAe=function(e,t){var n=e.frame;return!!n&&IAe({current:n.scroll.current,max:n.scroll.max,change:t})},NAe=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var u=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=CAe({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&TAe(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(u)return void i(u)}var l=hAe({center:a,destination:$Ie(t.impact),droppables:t.dimensions.droppables});if(l){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=CAe({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&AAe(t,s)?s:null}({dragStartTime:n,droppable:l,subject:s,center:a,shouldUseTimeDampening:r});c&&o(l.descriptor.id,c)}},DAe=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!AAe(e,t))return t;var r=function(e,t){var n=e.frame;return n&&AAe(e,t)?MAe({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=ZMe(t,r);return n(e.descriptor.id,i),ZMe(t,i)},o=function(e,t,n){if(!e)return n;if(!TAe(t,n))return n;var i=function(e,t){if(!TAe(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return MAe({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=ZMe(n,i);return r(o),ZMe(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=$Ie(e.impact);r||PMe(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,u=o(e.isWindowScrollAllowed,s,a);u&&function(e,n){var r=WMe(e.current.client.selection,n);t({client:r})}(e,u)}}}},PAe=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=MMe(t),i=MMe(n),o=null,a=function(e){o||PMe(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;NAe({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){dTe(),o&&PMe(!1);var t=Date.now(),n=!1,r=function(){n=!0};NAe({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},hTe(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=DAe({move:r,scrollWindow:n,scrollDroppable:t}),a={scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop};return a},OAe=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),LAe=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),RAe=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),BAe={contextId:"data-rbd-scroll-container-context-id"},zAe=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},FAe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?b.useLayoutEffect:b.useEffect,jAe=function(){var e=document.querySelector("head");return e||PMe(!1),e},GAe=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function VAe(e,t){var n=fMe((function(){return function(e){var t=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),n=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(OAe.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),r=[function(){var e="\n      transition: "+BTe.outOfTheWay+";\n    ";return{selector:t(LAe.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),n,{selector:t(RAe.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:zAe(r,"always"),resting:zAe(r,"resting"),dragging:zAe(r,"dragging"),dropAnimating:zAe(r,"dropAnimating"),userCancel:zAe(r,"userCancel")}}(e)}),[e]),r=(0,b.useRef)(null),i=(0,b.useRef)(null),o=dMe(kMe((function(e){var t=i.current;t||PMe(!1),t.textContent=e})),[]),a=dMe((function(e){var t=r.current;t||PMe(!1),t.textContent=e}),[]);FAe((function(){(r.current||i.current)&&PMe(!1);var s=GAe(t),u=GAe(t);return r.current=s,i.current=u,s.setAttribute("data-rbd-always",e),u.setAttribute("data-rbd-dynamic",e),jAe().appendChild(s),jAe().appendChild(u),a(n.always),o(n.resting),function(){var e=function(e){var t=e.current;t||PMe(!1),jAe().removeChild(t),e.current=null};e(r),e(i)}}),[t,a,o,n.always,n.resting,e]);var s=dMe((function(){return o(n.dragging)}),[o,n.dragging]),u=dMe((function(e){o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),l=dMe((function(){i.current&&o(n.resting)}),[o,n.resting]);return fMe((function(){return{dragging:s,dropping:u,resting:l}}),[s,u,l])}var UAe=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function WAe(e){return e instanceof UAe(e).HTMLElement}function ZAe(e,t){var n="["+OAe.contextId+'="'+e+'"]',r=aIe(document.querySelectorAll(n));if(!r.length)return null;var i=oIe(r,(function(e){return e.getAttribute(OAe.draggableId)===t}));return i&&WAe(i)?i:null}function HAe(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||PMe(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return rIe(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||PMe(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return rIe(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var YAe=b.createContext(null),XAe=function(){var e=document.body;return e||PMe(!1),e},KAe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var qAe=0,$Ae={separator:"::"};function QAe(e,t){return void 0===t&&(t=$Ae),fMe((function(){return""+e+t.separator+qAe++}),[t.separator,e])}var JAe=b.createContext(null);function eNe(e){0}function tNe(e,t){eNe()}function nNe(){tNe()}function rNe(e){var t=(0,b.useRef)(e);return(0,b.useEffect)((function(){t.current=e})),t}var iNe,oNe=((iNe={})[13]=!0,iNe[9]=!0,iNe),aNe=function(e){oNe[e.keyCode]&&e.preventDefault()},sNe=function(){var e="visibilitychange";return"undefined"===typeof document?e:oIe([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var uNe,lNe={type:"IDLE"};function cNe(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&PMe(!1);var u=s.point;if(l=u,c=a,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var f=s.actions.fluidLift(a);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void aNe(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&PMe(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:sNe,fn:t}]}function fNe(){}var dNe=((uNe={})[34]=!0,uNe[33]=!0,uNe[36]=!0,uNe[35]=!0,uNe);function hNe(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(dNe[r.keyCode]?r.preventDefault():aNe(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:sNe,fn:n}]}var pNe={type:"IDLE"};var gNe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vNe(e,t){if(null==t)return!1;if(Boolean(gNe[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&vNe(e,t.parentElement)}function mNe(e,t){var n=t.target;return!!WAe(n)&&vNe(e,n)}var yNe=function(e){return pMe(e.getBoundingClientRect()).center};var bNe=function(){var e="matches";return"undefined"===typeof document?e:oIe([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function xNe(e,t){return null==e?null:e[bNe](t)?e:xNe(e.parentElement,t)}function wNe(e,t){return e.closest?e.closest(t):xNe(e,t)}function _Ne(e,t){var n,r=t.target;if(!((n=r)instanceof UAe(n).Element))return null;var i=function(e){return"["+OAe.contextId+'="'+e+'"]'}(e),o=wNe(r,i);return o&&WAe(o)?o:null}function SNe(e){e.preventDefault()}function ENe(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function CNe(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!cAe(n.getState(),i))}function kNe(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!CNe({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var u=i.draggable.getById(o),l=function(e,t){var n="["+LAe.contextId+'="'+e+'"]',r=oIe(aIe(document.querySelectorAll(n)),(function(e){return e.getAttribute(LAe.id)===t}));return r&&WAe(r)?r:null}(n,u.descriptor.id);if(!l)return null;if(s&&!u.options.canDragInteractiveElements&&mNe(l,s))return null;var c=t.claim(a||TMe),f="PRE_DRAG";function d(){return u.options.shouldRespectForcePress}function h(){return t.isActive(c)}var p=function(e,t){ENe({expected:e,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),f="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=AMe(window,[{eventName:"click",fn:SNe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(NTe({reason:t}))}return"PRE_DRAG"!==f&&(n(),"PRE_DRAG"!==f&&PMe(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),f="DRAGGING",x({isActive:function(){return ENe({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:d,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var v={isActive:function(){return ENe({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:d,fluidLift:function(e){var t=MMe((function(e){p((function(){return CTe({client:e})}))}));return x({},g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(kTe)},moveRight:function(){return p(ITe)},moveDown:function(){return p(MTe)},moveLeft:function(){return p(TTe)}};return g({liftActionArgs:{id:o,clientSelection:yNe(l),movementMode:"SNAP"},cleanup:TMe,actions:e})},abort:function(){ENe({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&t.release()}};return v}var MNe=[function(e){var t=(0,b.useRef)(lNe),n=(0,b.useRef)(TMe),r=fMe((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,a,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),l(i,o)}}}}}}),[e]),i=fMe((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=dMe((function(){n.current=AMe(window,[i,r],{passive:!1,capture:!0})}),[i,r]),a=dMe((function(){"IDLE"!==t.current.type&&(t.current=lNe,n.current(),o())}),[o]),s=dMe((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),u=dMe((function(){var e=cNe({cancel:s,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=AMe(window,e,{capture:!0,passive:!1})}),[s,a]),l=dMe((function(e,n){"IDLE"!==t.current.type&&PMe(!1),t.current={type:"PENDING",point:n,actions:e},u()}),[u]);FAe((function(){return o(),function(){n.current()}}),[o])},function(e){var t=(0,b.useRef)(fNe),n=fMe((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,u,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=AMe(window,hNe(s,u),{capture:!0,passive:!1})}}}function u(){a||PMe(!1),a=!1,t.current(),r()}}}}),[e]),r=dMe((function(){t.current=AMe(window,[n],{passive:!1,capture:!0})}),[n]);FAe((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,b.useRef)(pNe),n=(0,b.useRef)(TMe),r=dMe((function(){return t.current}),[]),i=dMe((function(e){t.current=e}),[]),o=fMe((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),f(i,a)}}}}}}),[e]),a=dMe((function(){n.current=AMe(window,[o],{capture:!0,passive:!1})}),[o]),s=dMe((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(pNe),n.current(),a())}),[a,i]),u=dMe((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=dMe((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:s,getPhase:r},i=AMe(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&PMe(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:sNe,fn:t}]}(t),e),o=AMe(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:sNe,fn:t}]}(t),e);n.current=function(){i(),o()}}),[u,r,s]),c=dMe((function(){var e=r();"PENDING"!==e.type&&PMe(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),f=dMe((function(e,t){"IDLE"!==r().type&&PMe(!1);var n=setTimeout(c,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),l()}),[l,r,i,c]);FAe((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(pNe))}}),[r,a,i]),FAe((function(){return AMe(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function INe(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,a=[].concat(o?MNe:[],i||[]),s=(0,b.useState)((function(){return function(){var e=null;function t(){e||PMe(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&PMe(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],u=dMe((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);FAe((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();u(e,t),e=t}))}),[s,n,u]),FAe((function(){return s.tryAbandon}),[s.tryAbandon]);var l=dMe((function(e){return CNe({lockAPI:s,registry:r,store:n,draggableId:e})}),[s,r,n]),c=dMe((function(e,i,o){return kNe({lockAPI:s,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,s,r,n]),f=dMe((function(e){return function(e,t){var n=_Ne(e,t);return n?n.getAttribute(OAe.draggableId):null}(t,e)}),[t]),d=dMe((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),h=dMe((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[s,n]),p=dMe(s.isClaimed,[s]),g=fMe((function(){return{canGetLock:l,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:p}}),[l,c,f,d,h,p]);eNe();for(var v=0;v<a.length;v++)a[v](g)}function TNe(e){return e.current||PMe(!1),e.current}function ANe(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,a=(0,b.useRef)(null);nNe();var s=rNe(e),u=dMe((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),l=function(e){var t=fMe((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,b.useRef)(null);(0,b.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),x(e.style,KAe),XAe().appendChild(e),function(){setTimeout((function(){var t=XAe();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);var r=dMe((function(e){var t=n.current;t&&(t.textContent=e)}),[]);return r}(t),c=function(e){var t=e.contextId,n=e.text,r=QAe("hidden-text",{separator:"-"}),i=fMe((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,b.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",XAe().appendChild(e),function(){var t=XAe();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:o}),f=VAe(t,i),d=dMe((function(e){TNe(a).dispatch(e)}),[]),h=fMe((function(){return Ske({publishWhileDragging:xTe,updateDroppableScroll:_Te,updateDroppableIsEnabled:STe,updateDroppableIsCombineEnabled:ETe,collectionStarting:wTe},d)}),[d]),p=function(){var e=fMe(HAe,[]);return(0,b.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=fMe((function(){return lAe(p,h)}),[p,h]),v=fMe((function(){return PAe(x({scrollWindow:fAe,scrollDroppable:g.scrollDroppable},Ske({move:CTe},d)))}),[g.scrollDroppable,d]),m=function(e){var t=(0,b.useRef)({}),n=(0,b.useRef)(null),r=(0,b.useRef)(null),i=(0,b.useRef)(!1),o=dMe((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=dMe((function(t){var n=ZAe(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=dMe((function(e,t){n.current===e&&(n.current=t)}),[]),u=dMe((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),l=dMe((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(OAe.draggableId)===e&&(n.current=e)}),[]);return FAe((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),fMe((function(){return{register:o,tryRecordFocus:l,tryRestoreFocusRecorded:u,tryShiftRecord:s}}),[o,l,u,s])}(t),y=fMe((function(){return rAe({announce:l,autoScroller:v,dimensionMarshal:g,focusMarshal:m,getResponders:u,styleMarshal:f})}),[l,v,g,m,u,f]);a.current=y;var w=dMe((function(){var e=TNe(a);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),_=dMe((function(){var e=TNe(a).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(fMe((function(){return{isDragging:_,tryAbort:w}}),[_,w]));var S=dMe((function(e){return cAe(TNe(a).getState(),e)}),[]),E=dMe((function(){return JIe(TNe(a).getState())}),[]),C=fMe((function(){return{marshal:g,focus:m,contextId:t,canLift:S,isMovementAllowed:E,dragHandleUsageInstructionsId:c,registry:p}}),[t,g,c,m,S,E,p]);return INe({contextId:t,store:y,registry:p,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,b.useEffect)((function(){return w}),[w]),b.createElement(JAe.Provider,{value:C},b.createElement(Nke,{context:YAe,store:y},e.children))}var NNe=0;function DNe(e){var t=fMe((function(){return""+NNe++}),[]),n=e.dragHandleUsageInstructions||FMe;return b.createElement(OMe,null,(function(r){return b.createElement(ANe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var PNe=function(e){return function(t){return e===t}},ONe=PNe("scroll"),LNe=PNe("auto"),RNe=(PNe("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),BNe=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return RNe(n,ONe)||RNe(n,LNe)},zNe=function e(t){return null==t||t===document.body||t===document.documentElement?null:BNe(t)?t:e(t.parentElement)},FNe=function(e){return{x:e.scrollLeft,y:e.scrollTop}},jNe=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},GNe=function(e){return{closestScrollable:zNe(e),isFixedOnPage:jNe(e)}},VNe=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,u=e.shouldClipSubject,l=r.closestScrollable,c=function(e,t){var n=SMe(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=gMe({top:r,right:a,bottom:o,left:i},n.border);return yMe({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,l),f=wMe(c,i),d=function(){if(!l)return null;var e=SMe(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:wMe(e,i),scroll:FNe(l),scrollSize:t,shouldClipSubject:u}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,u=e.closest,l=function(){if(!u)return null;var e=u.scrollSize,t=u.client,n=iAe({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:n,diff:{value:UMe,displacement:UMe}}}}(),c="vertical"===o?_Ie:SIe;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:a,page:s,frame:l,subject:tIe({page:s,withPlaceholder:null,axis:c,frame:l})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:f,closest:d});return h},UNe={passive:!1},WNe={passive:!0},ZNe=function(e){return e.shouldPublishImmediately?UNe:WNe};function HNe(e){var t=(0,b.useContext)(e);return t||PMe(!1),t}var YNe=function(e){return e&&e.env.closestScrollable||null};function XNe(){}var KNe={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},qNe=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?KNe:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?BTe.placeholder:null}};var $Ne=b.memo((function(e){var t=(0,b.useRef)(null),n=dMe((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,a=e.contextId,s=(0,b.useState)("open"===e.animate),u=s[0],l=s[1];(0,b.useEffect)((function(){return u?"open"!==r?(n(),l(!1),XNe):t.current?XNe:(t.current=setTimeout((function(){t.current=null,l(!1)})),n):XNe}),[r,u,n]);var c=dMe((function(e){"height"===e.propertyName&&(i(),"close"===r&&o())}),[r,o,i]),f=qNe({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return b.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":a,onTransitionEnd:c,ref:e.innerRef})})),QNe=b.createContext(null);var JNe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return gke(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(b.PureComponent),eDe=5e3,tDe=4500,nDe=function(e,t){return t?BTe.drop(t.duration):e?BTe.snap:BTe.fluid},rDe=function(e,t){return e?t?OTe.drop:OTe.combining:null};function iDe(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),u=s?jTe(n,o):FTe(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:nDe(a,i),transform:u,opacity:rDe(o,s),zIndex:s?tDe:eDe,pointerEvents:"none"}}(e):{transform:FTe((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function oDe(e){var t=QAe("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,a=e.shouldRespectForcePress,s=e.isEnabled,u=fMe((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:a,isEnabled:s}}),[o,s,a]),l=dMe((function(e){var t=i();return t||PMe(!1),function(e,t,n){void 0===n&&(n=UMe);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=_Me(i,r),a=wMe(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,i]),c=fMe((function(){return{uniqueId:t,descriptor:n,options:u,getDimension:l}}),[n,l,u,t]),f=(0,b.useRef)(c),d=(0,b.useRef)(!0);FAe((function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}}),[r.draggable]),FAe((function(){if(d.current)d.current=!1;else{var e=f.current;f.current=c,r.draggable.update(c,e)}}),[c,r.draggable])}function aDe(e,t,n){tNe()}function sDe(e){e.preventDefault()}var uDe=function(e,t){return e===t},lDe=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function cDe(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var fDe={mapped:{type:"SECONDARY",offset:UMe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cDe(null)}};var dDe=uMe((function(){var e=function(){var e=kMe((function(e,t){return{x:e,y:t}})),t=kMe((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=kMe((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=$Ie(r.impact),u=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,l=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,u,l)}var c;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var d=i.isClone,h=r.dimensions.draggables[i.draggableId],p=f.result,g=p.mode,v=lDe(p),m=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:PTe,moveTo:r.newHomeClientOffset,opacity:m?OTe.drop:null,scale:m?LTe.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:y,draggingOver:v,combineWith:m,mode:g,forceShouldAnimate:null,snapshot:t(g,d,v,m,y)}}}return null}}(),t=function(){var e=kMe((function(e,t){return{x:e,y:t}})),t=kMe(cDe),n=kMe((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(UMe,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],u=Boolean(a.inVirtualList&&a.effected[t]),l=hIe(o),c=l&&l.draggableId===t?i:null;if(!s){if(!u)return r(c);if(o.displaced.invisible[t])return null;var f=YMe(a.displacedBy.point),d=e(f.x,f.y);return n(d,c,!0)}if(u)return r(c);var h=o.displacedBy.point,p=e(h.x,h.y);return n(p,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||fDe}}),{dropAnimationFinished:DTe},null,{context:YAe,pure:!0,areStatePropsEqual:uDe})((function(e){var t=(0,b.useRef)(null),n=dMe((function(e){t.current=e}),[]),r=dMe((function(){return t.current}),[]),i=HNe(JAe),o=i.contextId,a=i.dragHandleUsageInstructionsId,s=i.registry,u=HNe(QNe),l=u.type,c=u.droppableId,f=fMe((function(){return{id:e.draggableId,index:e.index,type:l,droppableId:c}}),[e.draggableId,e.index,l,c]),d=e.children,h=e.draggableId,p=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,m=e.isClone,y=e.mapped,x=e.dropAnimationFinished;aDe(),eNe(),m||oDe(fMe((function(){return{descriptor:f,registry:s,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:p}}),[f,s,r,v,g,p]));var w=fMe((function(){return p?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:sDe}:null}),[o,a,h,p]),_=dMe((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&x()}),[x,y]),S=fMe((function(){var e=iDe(y),t="DRAGGING"===y.type&&y.dropping?_:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,h,y,_,n]),E=fMe((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return d(S,y.snapshot,E)}));function hDe(e){return HNe(QNe).isUsingCloneFor!==e.draggableId||e.isClone?b.createElement(dDe,e):null}function pDe(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return b.createElement(hDe,x({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var gDe=function(e,t){return e===t.droppable.type},vDe=function(e,t){return t.draggables[e.draggable.id]};var mDe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||PMe(!1),document.body}},yDe=uMe((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=x({},e,{shouldAnimatePlaceholder:!1}),n=kMe((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=kMe((function(r,i,o,a,s,u){var l=s.descriptor.id;if(s.descriptor.droppableId===r){var c=u?{render:u,dragging:n(s.descriptor)}:null,f={isDraggingOver:o,draggingOverWith:o?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:c}}if(!i)return t;if(!a)return e;var d={isDraggingOver:o,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,u=i.renderClone;if(n.isDragging){var l=n.critical;if(!gDe(a,l))return t;var c=vDe(l,n.dimensions),f=$Ie(n.impact)===o;return r(o,s,f,f,c,u)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!gDe(a,d.critical))return t;var h=vDe(d.critical,n.dimensions);return r(o,s,lDe(d.result)===o,$Ie(d.impact)===o,h,u)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!gDe(a,p.critical))return t;var g=$Ie(p.impact)===o,v=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),m=p.critical.droppable.id===o;return g?v?e:t:m?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:YAe,pure:!0,areStatePropsEqual:uDe})((function(e){var t=(0,b.useContext)(JAe);t||PMe(!1);var n=t.contextId,r=t.isMovementAllowed,i=(0,b.useRef)(null),o=(0,b.useRef)(null),a=e.children,s=e.droppableId,u=e.type,l=e.mode,c=e.direction,f=e.ignoreContainerClipping,d=e.isDropDisabled,h=e.isCombineEnabled,p=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,x=dMe((function(){return i.current}),[]),w=dMe((function(e){i.current=e}),[]),_=(dMe((function(){return o.current}),[]),dMe((function(e){o.current=e}),[]));tNe();var S=dMe((function(){r()&&v({maxScroll:aAe()})}),[r,v]);!function(e){var t=(0,b.useRef)(null),n=HNe(JAe),r=QAe("droppable"),i=n.registry,o=n.marshal,a=rNe(e),s=fMe((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),u=(0,b.useRef)(s),l=fMe((function(){return kMe((function(e,n){t.current||PMe(!1);var r={x:e,y:n};o.updateDroppableScroll(s.id,r)}))}),[s.id,o]),c=dMe((function(){var e=t.current;return e&&e.env.closestScrollable?FNe(e.env.closestScrollable):UMe}),[]),f=dMe((function(){var e=c();l(e.x,e.y)}),[c,l]),d=fMe((function(){return MMe(f)}),[f]),h=dMe((function(){var e=t.current,n=YNe(e);e&&n||PMe(!1),e.scrollOptions.shouldPublishImmediately?f():d()}),[d,f]),p=dMe((function(e,r){t.current&&PMe(!1);var i=a.current,o=i.getDroppableRef();o||PMe(!1);var u=GNe(o),l={ref:o,descriptor:s,env:u,scrollOptions:r};t.current=l;var c=VNe({ref:o,descriptor:s,env:u,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=u.closestScrollable;return f&&(f.setAttribute(BAe.contextId,n.contextId),f.addEventListener("scroll",h,ZNe(l.scrollOptions))),c}),[n.contextId,s,h,a]),g=dMe((function(){var e=t.current,n=YNe(e);return e&&n||PMe(!1),FNe(n)}),[]),v=dMe((function(){var e=t.current;e||PMe(!1);var n=YNe(e);t.current=null,n&&(d.cancel(),n.removeAttribute(BAe.contextId),n.removeEventListener("scroll",h,ZNe(e.scrollOptions)))}),[h,d]),m=dMe((function(e){var n=t.current;n||PMe(!1);var r=YNe(n);r||PMe(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=fMe((function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:v,scroll:m}}),[v,p,g,m]),x=fMe((function(){return{uniqueId:r,descriptor:s,callbacks:y}}),[y,s,r]);FAe((function(){return u.current=x.descriptor,i.droppable.register(x),function(){t.current&&v(),i.droppable.unregister(x)}}),[y,s,v,x,o,i.droppable]),FAe((function(){t.current&&o.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),FAe((function(){t.current&&o.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:u,mode:l,direction:c,isDropDisabled:d,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:x});var E=b.createElement(JNe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return b.createElement($Ne,{placeholder:r,onClose:t,innerRef:_,animate:i,contextId:n,onTransitionEnd:S})})),C=fMe((function(){return{innerRef:w,placeholder:E,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}}),[n,s,E,w]),k=g?g.dragging.draggableId:null,M=fMe((function(){return{droppableId:s,type:u,isUsingCloneFor:k}}),[s,k,u]);return b.createElement(QNe.Provider,{value:M},a(C,p),function(){if(!g)return null;var e=g.dragging,t=g.render,n=b.createElement(hDe,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return m.createPortal(n,y())}())}));yDe.defaultProps=mDe;var bDe=function(){function e(){(0,K.Z)(this,e)}return(0,q.Z)(e,[{key:"GetUserMenuList",value:function(e){return Vf.get("Role/GetRoleMenuList",{data:e})}},{key:"UpdateRole",value:function(e){return Vf.put("Role/UpdateRole",e)}},{key:"CreateRole",value:function(e){return Vf.post("Role/CreateRole",e)}},{key:"DeleteRole",value:function(e){return Vf.delete("Role/DeleteRole?id="+e)}},{key:"GetRoleUserInfo",value:function(e,t,n){return Vf.get("Role/GetRoleUserInfo?id="+e+"&pageNo="+t+"&pageSize="+n)}},{key:"UpdateRoleIndex",value:function(e){return Vf.put("Role/UpdateRoleIndex",e)}},{key:"GetRoleUserInfoNotExit",value:function(e,t,n,r){return Vf.get("Role/GetRoleUserInfoNotExit?id=".concat(e,"&name=").concat(t,"&pageNo=").concat(n,"&pageSize=").concat(r))}},{key:"CreateRoleUser",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Vf.post("Role/CreateRoleUser?roleId=".concat(t,"&isAdd=").concat(n),e)}},{key:"GetMenuTreeAll",value:function(e){return Vf.get("Role/GetMenuTreeAll?roleId=".concat(e))}},{key:"CreateRoleMenu",value:function(e,t){return Vf.post("Role/CreateRoleMenu?roleId=".concat(t),e)}}]),e}(),xDe=new bDe,wDe=vee.confirm,_De=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).contentTab=[{title:"\u578b\u53f7",dataIndex:"key"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u7f16\u53f7",dataIndex:"code"},{title:"\u63cf\u8ff0",dataIndex:"remark"},{title:"\u64cd\u4f5c",render:function(t,n){return(0,J.jsxs)("div",{className:"condition",children:[(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){var n=e.state.operateWorkflowTemplate;n.state="put",n.isVisible=!0,n.initialValue=t,e.setState({operateWorkflowTemplate:n})},children:"\u7f16\u8f91"})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){var t=e.state,r=t.tabNode,i=t.addWorkflowNodeTemplate;r.isVisible=!0,r.workflowTemplateId=n.id,i.workflowTemplateId=n.id,e.GetWorkflowNodeTemplates(n.id),e.setState({tabNode:r,addWorkflowNodeTemplate:i})},children:"\u8282\u70b9\u914d\u7f6e"})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){return e.deleteWorkFlowTemplate(n)},children:"\u5220\u9664"})})]})}}],e.workNodeRole=[{title:"\u6392\u5e8f",dataIndex:"index"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u7f16\u53f7",dataIndex:"code"},{title:"\u5907\u6ce8",dataIndex:"remark"}],e.state={operateWorkflowTemplate:{isVisible:!1,state:"add",initialValue:void 0},tabData:{name:"",count:0,pageNo:1,pageSize:20,data:[]},tabNode:{isVisible:!1,workflowTemplateId:"",initialValue:[]},workflowApprovalRole:{isVisible:!1,workflowNodeTemplateId:"",initialValue:[],role:[],selectionRoleids:[],selectRoleIds:[]},addWorkflowNodeTemplate:{isVisible:!1,workflowTemplateId:void 0,state:"add",initialValue:{index:void 0,id:void 0,workflowTemplateId:void 0,code:void 0,prevNodeId:void 0,nextNodeId:void 0,remark:void 0,workflowTemplate:void 0,WorkflowApprovalRole:[]}}},e.onDragEnd=function(t){var n=t.source.index;if(null!=t.destination){var r=t.destination.index;if(n!==r){var i=e.state.tabNode,o=i.initialValue.splice(n,1),a=(0,y.Z)(o,1)[0];i.initialValue.splice(r,0,a),i.initialValue[n].code=n+1,a.code=r+1,console.log(i.initialValue),fke.UpdateWorkflowNodeTemplateIndex(i.initialValue).then((function(t){200===t.statusCode&&(i.initialValue=t.data,e.setState({tabNode:i}))}))}}},e.onWorkNodeRoleSelectChange=function(t,n){var r=e.state.workflowApprovalRole;r.selectionRoleids=t,r.selectRoleIds=n.map((function(e){return e.id})),e.setState({workflowApprovalRole:r})},e}return(0,q.Z)(n,[{key:"GetUserMenuList",value:function(){var e=this,t=this.state.workflowApprovalRole;xDe.GetUserMenuList("").then((function(n){200===n.data.statusCode&&(t.role=n.data.data,e.GetWorkflowNodeRoleIds(t.workflowNodeTemplateId),e.setState({workflowApprovalRole:t}))}))}},{key:"componentDidMount",value:function(){this.getWorkflowTemplatePages()}},{key:"GetWorkflowNodeTemplates",value:function(e){var t=this,n=this.state.tabNode;fke.GetWorkflowNodeTemplates(e).then((function(e){200===e.statusCode&&(n.initialValue=e.data,t.setState({tabNode:n}))}))}},{key:"getWorkflowTemplatePages",value:function(){var e=this,t=this.state.tabData;fke.GetWorkflowTemplatePage(t.name,t.pageNo,t.pageSize).then((function(n){var r=n.data;console.log(r),t.data=r.data,t.count=r.count,e.setState({tabData:t})}))}},{key:"createWorkflowTemplate",value:function(e){var t=this,n=this.state.operateWorkflowTemplate;"add"===n.state?fke.CreateWorkflowTemplate(e).then((function(e){n.isVisible=!1,t.setState({operateWorkflowTemplate:n}),t.getWorkflowTemplatePages()})):fke.UpdateWorkflowTemplate(e).then((function(e){n.isVisible=!1,t.setState({operateWorkflowTemplate:n}),t.getWorkflowTemplatePages()}))}},{key:"deleteWorkFlowTemplate",value:function(e){var t=this;wDe({title:"\u5220\u9664\u6a21\u677f",content:"\u662f\u5426\u5220\u9664\u6a21\u677f\uff0c\u5220\u9664\u4ee5\u540e\u65e0\u6cd5\u627e\u56de\u6570\u636e\uff01\uff01\uff01",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){fke.DeleteWorkflowTemplate(e.id).then((function(e){Ff.success("\u5220\u9664\u6a21\u677f\u6210\u529f"),t.getWorkflowTemplatePages()}))}})}},{key:"onShowOperate",value:function(){var e=this.state.operateWorkflowTemplate;e.isVisible=!0,e.initialValue=void 0,this.setState({operateWorkflowTemplate:e}),console.log(this)}},{key:"updateWorkNodeRole",value:function(e){var t=this.state.workflowApprovalRole;t.isVisible=!0,t.workflowNodeTemplateId=e.id,this.GetUserMenuList(),this.setState({workflowApprovalRole:t})}},{key:"updateWorkNode",value:function(e){var t=this.state.addWorkflowNodeTemplate;t.state="put",t.initialValue=e,t.isVisible=!0,t.workflowTemplateId=e.workflowTemplateId,this.setState({addWorkflowNodeTemplate:t})}},{key:"deleteWorkNode",value:function(e){var t=this,n=this.state.addWorkflowNodeTemplate;wDe({title:"\u5220\u9664\u7528\u6237",content:"\u60a8\u7684\u64cd\u4f5c\u5c06\u5220\u9664\u6a21\u677f\u8282\u70b9\u914d\u7f6e\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5220\u9664",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){fke.DeleteWorkflowNodeTemplate(e.id).then((function(e){200===e.statusCode?(Ff.success("\u5220\u9664\u6210\u529f"),t.GetWorkflowNodeTemplates(n.workflowTemplateId)):Ff.error(e.message)}))}})}},{key:"GetWorkflowNodeRoleIds",value:function(e){var t=this,n=this.state.workflowApprovalRole;fke.GetWorkflowNodeRoleIds(e).then((function(e){if(200===e.statusCode){var r=n.role.filter((function(t){return e.data.includes(t.id)})).map((function(e){return n.role.indexOf(e)+1}));n.selectionRoleids=r,console.log(n.selectionRoleids),t.setState({workflowApprovalRole:n})}}))}},{key:"onClickWorkNodeRole",value:function(){var e=this,t=this.state.workflowApprovalRole;fke.CreateWorkflowNodeRole(t.workflowNodeTemplateId,t.selectRoleIds).then((function(n){t.isVisible=!1,t.initialValue=void 0,t.selectionRoleids=[],t.workflowNodeTemplateId="",e.setState({workflowApprovalRole:t})}))}},{key:"saveWorkflowNode",value:function(e){var t=this,n=this.state.addWorkflowNodeTemplate;n.initialValue.remark=e.remark,"add"===n.state?fke.CreateWorkflowNodeTemplate(n.initialValue).then((function(e){200===e.statusCode&&Ff.success("\u6dfb\u52a0\u6210\u529f"),n.isVisible=!1,t.setState({addWorkflowNodeTemplate:n}),t.GetWorkflowNodeTemplates(n.workflowTemplateId)})):fke.UpdateWorkflowNodeTemplate(n.initialValue).then((function(e){200===e.statusCode&&Ff.success("\u7f16\u8f91\u6210\u529f"),n.isVisible=!1,t.setState({addWorkflowNodeTemplate:n}),t.GetWorkflowNodeTemplates(n.workflowTemplateId)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.tabData,r=t.operateWorkflowTemplate,i=t.tabNode,o=t.workflowApprovalRole,a=t.addWorkflowNodeTemplate,s={selectedRowKeys:o.selectionRoleids,onChange:this.onWorkNodeRoleSelectChange};return(0,J.jsxs)("div",{className:"workcontent",children:[(0,J.jsx)("div",{className:"condition",children:(0,J.jsxs)("span",{children:[(0,J.jsxs)("span",{children:["\u6a21\u677f\u540d\u79f0\uff1a",(0,J.jsx)(Xl,{style:{width:"200px"}})]}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){e.getWorkflowTemplatePages()},children:"\u641c\u7d22"})}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){e.onShowOperate()},children:"\u6dfb\u52a0\u6a21\u677f"})})]})}),(0,J.jsx)("div",{className:"content",children:(0,J.jsx)(sse,{columns:this.contentTab,pagination:{position:["bottomRight"],pageSize:n.pageSize,current:n.pageNo,total:n.count},dataSource:n.data})}),(0,J.jsx)(vee,{footer:[],onCancel:function(){return e.setState({operateWorkflowTemplate:{isVisible:!1,state:"add",initialValue:void 0}})},destroyOnClose:!0,title:"add"===r.state?"\u6dfb\u52a0\u6a21\u677f":"\u7f16\u8f91\u6a21\u677f",visible:r.isVisible,children:(0,J.jsxs)(Mu,{initialValues:r.initialValue,onFinish:function(t){e.createWorkflowTemplate(t)},children:[(0,J.jsx)(Mu.Item,{name:"name",label:"\u6a21\u677f\u540d\u79f0",children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{name:"code",label:"\u6a21\u677f\u7f16\u53f7",children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{name:"remark",label:"\u6a21\u677f\u5907\u6ce8",children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{name:"id",children:(0,J.jsx)(cl,{style:{width:"100%"},htmlType:"submit",children:"add"===r.state?"\u6dfb\u52a0\u6a21\u677f":"\u7f16\u8f91\u6a21\u677f"})})]})}),(0,J.jsx)(vee,{footer:[(0,J.jsx)(cl,{type:"primary",onClick:function(){a.isVisible=!0,a.state="add",a.initialValue.workflowTemplateId=a.workflowTemplateId,e.setState({addWorkflowNodeTemplate:a})},children:"\u6dfb\u52a0\u8282\u70b9"})],onCancel:function(){i.isVisible=!1,i.workflowTemplateId="",e.setState({tabNode:i})},destroyOnClose:!0,width:800,title:"\u6dfb\u52a0\u6a21\u677f\u8282\u70b9",visible:i.isVisible,children:(0,J.jsx)(DNe,{onDragEnd:this.onDragEnd,children:(0,J.jsx)("div",{className:"myModal",children:(0,J.jsx)(yDe,{droppableId:"droppable",children:function(t){var n;return(0,J.jsxs)("div",Oe(Oe({className:"modalList workflow-approval-role",ref:t.innerRef},t.droppableProps),{},{children:[null===(n=i.initialValue)||void 0===n?void 0:n.map((function(t,n){return(0,J.jsx)(pDe,{draggableId:t.id,index:n,children:function(n){return(0,J.jsx)("div",{children:(0,J.jsxs)("div",Oe(Oe(Oe({className:"work-node-config",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[(0,J.jsxs)("span",{className:"node-span",children:["\u5ba1\u6279\u987a\u5e8f\uff1a",t.code]}),(0,J.jsxs)("span",{className:"node-span",children:["\u5907\u6ce8\uff1a",t.remark]}),(0,J.jsx)(cl,{type:"primary",className:"nodebutton",onClick:function(){return e.updateWorkNodeRole(t)},children:"\u7f16\u8f91\u89d2\u8272"}),(0,J.jsx)(cl,{type:"primary",className:"nodebutton",onClick:function(){return e.deleteWorkNode(t)},children:"\u5220\u9664\u6a21\u677f"}),(0,J.jsx)(cl,{type:"primary",className:"nodebutton",onClick:function(){return e.updateWorkNode(t)},children:"\u7f16\u8f91\u6a21\u677f"})]}))})}},t.id)})),t.placeholder]}))}})})})}),(0,J.jsx)(vee,{onCancel:function(){o.isVisible=!1,o.workflowNodeTemplateId="",e.setState({workflowApprovalRole:o})},destroyOnClose:!0,onOk:function(){e.onClickWorkNodeRole()},title:"\u6a21\u677f\u8282\u70b9",visible:o.isVisible,children:(0,J.jsx)(sse,{pagination:!1,rowSelection:s,columns:this.workNodeRole,dataSource:o.role},"id")}),(0,J.jsx)(vee,{footer:null,onCancel:function(){a.isVisible=!1,a.initialValue.id=void 0,a.initialValue.remark=void 0,a.initialValue.workflowTemplateId=void 0,e.setState({addWorkflowNodeTemplate:a})},destroyOnClose:!0,onOk:function(){e.onClickWorkNodeRole()},title:"add"===a.state?"\u6dfb\u52a0\u8282\u70b9":"\u7f16\u8f91\u8282\u70b9",visible:a.isVisible,children:(0,J.jsxs)(Mu,{name:"addWorkflowNodeTemplate",initialValues:a.initialValue,onFinish:this.saveWorkflowNode.bind(this),children:[(0,J.jsx)(Mu.Item,{label:"\u5907\u6ce8",name:"remark",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5907\u6ce8"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{children:(0,J.jsx)(cl,{type:"primary",name:"id",htmlType:"submit",style:{width:"100%"},children:"\u4fdd\u5b58"})})]})})]})}}]),n}(b.Component),SDe=_De,EDe=xp.TabPane,CDe=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={},e}return(0,q.Z)(n,[{key:"onTabChange",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return(0,J.jsxs)(xp,{onChange:function(t){return e.onTabChange(t)},type:"card",children:[(0,J.jsx)(EDe,{tab:"\u5de5\u4f5c\u6d41\u6a21\u677f\u914d\u7f6e",children:(0,J.jsx)(SDe,{})},"1"),(0,J.jsx)(EDe,{tab:"\u5de5\u4f5c\u6d41\u8282\u70b9\u914d\u7f6e",style:{height:"100%"},children:(0,J.jsx)(hke,{})},"2")]})}}]),n}(b.Component),kDe=CDe,MDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},IDe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:MDe}))};IDe.displayName="DeleteOutlined";var TDe=b.forwardRef(IDe),ADe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},NDe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:ADe}))};NDe.displayName="FormOutlined";var DDe=b.forwardRef(NDe),PDe=xp.TabPane,ODe=vee.confirm,LDe=(0,q.Z)((function e(){(0,K.Z)(this,e),this.name=void 0})),RDe=[{title:"\u5e8f\u53f7",dataIndex:"key"},{title:"\u8d26\u53f7",dataIndex:"accountNumber"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6027\u522b",dataIndex:"sexName"},{title:"\u8d26\u53f7\u72b6\u6001",dataIndex:"statueName"},{title:"\u624b\u673a\u53f7",dataIndex:"mobileNumber"},{title:"\u90ae\u7bb1",dataIndex:"eMail"}],BDe=[{title:"\u5e8f\u53f7",dataIndex:"key"},{title:"\u8d26\u53f7",dataIndex:"accountNumber"},{title:"\u540d\u79f0",dataIndex:"name"}],zDe=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={data:new LDe,role_list:[],isUpdateRoleVisible:!1,updateRole:void 0,pitch:"",userInfoSelection:[],updateInfoModalTitle:"",TabOperationData:void 0,addRoleUserInfoSearch:{id:void 0,name:void 0,pageNo:void 0,pageSize:void 0},roleModal:{initialValue:void 0,state:"add",isVisible:!1},addRoleUserInfo:{id:"",name:"",count:1,data:[],pageNo:1,pageSize:20,isVisible:!1,userInfoSelection:[]},GetRoleUserInfo:{id:"",count:0,pageNo:1,pageSize:20,data:[]},menuTree:{expandedKeys:[],checkedKeys:[],selectedKeys:[],defaultSelectedKeys:[],autoExpandParent:!0,menuTreeData:[]}},e.sort=(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){e.GetRoleUserInfoNotExit()},children:"\u6dfb\u52a0\u7528\u6237"})}),(0,J.jsxs)("span",{children:[" ",(0,J.jsx)(cl,{onClick:function(){e.deleteRoleUserInfo()},children:"\u5220\u9664\u7528\u6237"})]})]}),e.onUserInfoSelectChange=function(t){e.setState({userInfoSelection:t})},e.onAddRoleUserInfoChange=function(t){var n=e.state.addRoleUserInfo;n.userInfoSelection=t,e.setState({addRoleUserInfo:n})},e.onDragEnd=function(t){var n=t.source.index;if(null!=t.destination){var r=t.destination.index;if(n!==r){var i=e.state.role_list,o=i.splice(n,1),a=(0,y.Z)(o,1)[0];i.splice(r,0,a),i[n].index=n,a.index=r,xDe.UpdateRoleIndex(i),e.setState({role_list:i})}}},e.onExpand=function(t){console.log("onExpand",t);var n=e.state.menuTree;n.expandedKeys=t,n.autoExpandParent=!1,e.setState({menuTree:n})},e.onCheck=function(t){var n=e.state.menuTree;n.checkedKeys=t,e.CreateRoleMenu(t),e.setState({menuTree:n})},e.onSelect=function(t,n){console.log("onSelect",n);var r=e.state.menuTree;r.selectedKeys=t,e.setState({menuTree:r})},e}return(0,q.Z)(n,[{key:"deleteRoleUserInfo",value:function(){var e=this.state,t=e.userInfoSelection,n=e.GetRoleUserInfo,r=e.pitch,i=n.data.filter((function(e){return t.includes(e.key)})).map((function(e){return e.id}));this.CreateRoleUser(i,r,!1)}},{key:"componentWillMount",value:function(){this.GetUserMenuList(!0)}},{key:"GetRoleUserInfoNotExit",value:function(){var e,t,n,r=this,i=this.state,o=i.addRoleUserInfo,a=i.pitch;""!==a?xDe.GetRoleUserInfoNotExit(a,null!==(e=null===o||void 0===o?void 0:o.name)&&void 0!==e?e:"",null!==(t=null===o||void 0===o?void 0:o.pageNo)&&void 0!==t?t:1,null!==(n=null===o||void 0===o?void 0:o.pageSize)&&void 0!==n?n:20).then((function(e){if(200===e.data.statusCode){var t=e.data.data;o.data=t.data,!1===o.isVisible&&(o.isVisible=!0),o.count=t.count,r.setState({addRoleUserInfo:o})}})):Ff.warning("\u8bf7\u5148\u9009\u62e9\u89d2\u8272")}},{key:"GetUserMenuList",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xDe.GetUserMenuList(null!==(e=this.state.data.name)&&void 0!==e?e:"").then((function(e){var r=e.data;n&&r.data.length>0&&t.updateRolePitch(r.data[0]),t.setState({role_list:(0,ne.Z)(r.data)})}))}},{key:"GetRoleUserInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.state,r=n.pitch,i=n.GetRoleUserInfo;r=""===t?r:t,xDe.GetRoleUserInfo(r,i.pageNo,i.pageSize).then((function(t){var n=t.data;if(200===n.statusCode){var r=n.data;i.data=r.data,i.count=r.count,e.setState({GetRoleUserInfo:i})}}))}},{key:"updateRole",value:function(e,t){var n=this.state.roleModal;n.initialValue=e,n.state=t,n.isVisible=!0,this.setState({roleModal:n})}},{key:"deleteRole",value:function(e){var t=this;e&&ODe({title:"\u5220\u9664\u7528\u6237",content:"\u662f\u5426\u5220\u9664\u89d2\u8272"+e.name,okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){xDe.DeleteRole(e.id).then((function(e){200===e.data.statusCode?Ff.success("\u5220\u9664\u6210\u529f"):Ff.error(e.data.message),t.GetUserMenuList()}))}})}},{key:"updateRoleOK",value:function(e){var t=this,n=this.state.roleModal;"add"===n.state?xDe.CreateRole(e).then((function(e){Ff.success("\u6dfb\u52a0\u6210\u529f"),t.GetUserMenuList(),n.isVisible=!1,t.setState({roleModal:n})})):xDe.UpdateRole(n.initialValue).then((function(e){Ff.success("\u7f16\u8f91\u6210\u529f"),t.GetUserMenuList(),n.isVisible=!1,t.setState({roleModal:n})}))}},{key:"updateRolePitch",value:function(e){e&&(this.setState({pitch:e.id}),console.log(e),this.GetRoleUserInfo(e.id),this.GetMenuTreeAll(e.id))}},{key:"roleTab",value:function(e){console.log(e)}},{key:"onAddRoleUserInfo",value:function(){var e=this.state,t=e.addRoleUserInfo,n=e.pitch,r=t.data.filter((function(e){return t.userInfoSelection.includes(e.key)})).map((function(e){return e.id}));this.CreateRoleUser(r,n,!0)}},{key:"onTabAddRoleUserInforPage",value:function(e,t,n){var r=this.state.addRoleUserInfo;r.pageNo=e.current,r.pageSize=e.pageSize,this.setState({addRoleUserInfo:r}),this.GetRoleUserInfoNotExit()}},{key:"onTabAddRoleInforPage",value:function(e,t,n){var r=this.state.GetRoleUserInfo;r.pageNo=e.current,r.pageSize=e.pageSize,this.setState({GetRoleUserInfo:r}),this.GetRoleUserInfo()}},{key:"CreateRoleUser",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.state.addRoleUserInfo;xDe.CreateRoleUser(e,t,r).then((function(e){Ff.success("\u64cd\u4f5c\u6210\u529f"),i.isVisible=!1,n.setState({addRoleUserInfo:i}),n.GetRoleUserInfo()}))}},{key:"GetMenuTreeAll",value:function(e){var t=this,n=this.state,r=n.pitch,i=n.menuTree;xDe.GetMenuTreeAll(null!==e&&void 0!==e?e:r).then((function(e){var n=e.data.data;i.menuTreeData=(0,ne.Z)(n.item1),i.checkedKeys=(0,ne.Z)(n.item2),t.setState({menuTree:i})}))}},{key:"CreateRoleMenu",value:function(e){var t=this.state.pitch;xDe.CreateRoleMenu(e,t).then((function(e){Ff.success("\u6210\u529f")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.role_list,r=t.pitch,i=t.userInfoSelection,o=t.roleModal,a=t.addRoleUserInfo,s=t.GetRoleUserInfo,u=t.menuTree,l={userInfoSelection:i,onChange:this.onUserInfoSelectChange},c={addRoleUserInfo:a.userInfoSelection,onChange:this.onAddRoleUserInfoChange};return(0,J.jsxs)("div",{className:"role-container",children:[(0,J.jsxs)("div",{className:"role-list-div",children:[(0,J.jsxs)("div",{className:"role-list-title",children:[(0,J.jsx)("span",{children:"\u89d2\u8272\u67b6\u6784 "}),(0,J.jsx)(cl,{style:{width:"70px"},onClick:function(){e.updateRole(void 0,"add")},children:"\u6dfb\u52a0"})]}),(0,J.jsx)("br",{}),(0,J.jsx)(DNe,{onDragEnd:this.onDragEnd,children:(0,J.jsx)("div",{className:"myModal",children:(0,J.jsx)(yDe,{droppableId:"droppable",children:function(t){return(0,J.jsxs)("div",Oe(Oe({className:"modalList",ref:t.innerRef},t.droppableProps),{},{children:[n.map((function(t,n){return(0,J.jsx)(pDe,{draggableId:t.id,index:n,children:function(n){return(0,J.jsx)("div",Oe(Oe(Oe({className:"modal",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:(0,J.jsxs)("div",{className:r===t.id?"role-list-div-list-pitch":"role-list-div-list-notpitch",onClick:function(){e.updateRolePitch(t)},children:[(0,J.jsxs)("span",{className:"role-list-div-list role-list-div-role-title",children:[(0,J.jsx)(cc,{}),t.name]}),(0,J.jsx)("span",{className:"role-list-div-role-edit",children:(0,J.jsx)(TDe,{onClick:function(){return e.deleteRole(t)}})}),(0,J.jsx)("span",{className:"role-list-div-role-edit",children:(0,J.jsx)(DDe,{onClick:function(){e.updateRole(t,"put")}})})]},t.key)}),t.name)}},t.key)})),t.placeholder]}))}})})})]}),(0,J.jsx)("div",{className:"role-list-data role-tab-div",children:(0,J.jsxs)(xp,{defaultActiveKey:"1",onChange:function(t){return e.roleTab(t)},className:"role-tab-div",tabBarExtraContent:this.sort,children:[(0,J.jsx)(PDe,{tab:"\u7528\u6237\u89d2\u8272",className:"role-tab-div",children:(0,J.jsx)(sse,{onChange:function(t,n,r){e.onTabAddRoleInforPage(t,n,r)},pagination:{position:["bottomRight"],pageSize:s.pageSize,current:s.pageNo,total:s.count},rowSelection:l,scroll:{y:480},columns:RDe,dataSource:null===s||void 0===s?void 0:s.data})},"1"),(0,J.jsx)(PDe,{tab:"\u83dc\u5355\u89d2\u8272",className:"role-tab-div",children:(0,J.jsx)(Rae,{checkable:!0,defaultExpandAll:!0,defaultSelectedKeys:u.defaultSelectedKeys,onExpand:function(t){return e.onExpand(t)},expandedKeys:u.expandedKeys,autoExpandParent:u.autoExpandParent,onCheck:function(t){return e.onCheck(t)},checkedKeys:u.checkedKeys,onSelect:function(t,n){return e.onSelect(t,n)},selectedKeys:u.selectedKeys,treeData:u.menuTreeData})},"2")]})}),(0,J.jsx)(vee,{title:"add"===o.state?"\u6dfb\u52a0\u89d2\u8272":"\u7f16\u8f91\u89d2\u8272",onCancel:function(){return e.setState({roleModal:{isVisible:!1,state:"add",initialValue:void 0}})},destroyOnClose:!0,visible:o.isVisible,footer:[],children:(0,J.jsxs)(Mu,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:o.initialValue,onFinish:function(t){return e.updateRoleOK(t)},children:[(0,J.jsx)(Mu.Item,{label:"\u89d2\u8272\u540d\u79f0\uff1a",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0\uff01"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{label:"\u89d2\u8272\u7f16\u53f7\uff1a",name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u7f16\u53f7\uff01"}],children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{label:"\u89d2\u8272\u5907\u6ce8\uff1a",name:"remark",children:(0,J.jsx)(Xl,{})}),(0,J.jsx)(Mu.Item,{name:"id",children:(0,J.jsx)(cl,{type:"primary",htmlType:"submit",style:{float:"right"},children:"add"===o.state?"\u786e\u8ba4\u6dfb\u52a0":"\u786e\u8ba4\u7f16\u8f91"})})]})}),(0,J.jsxs)(vee,{title:"\u6dfb\u52a0\u7528\u6237",destroyOnClose:!0,onCancel:function(){a.isVisible=!1,e.setState({addRoleUserInfo:a})},onOk:function(){return e.onAddRoleUserInfo()},visible:a.isVisible,children:[(0,J.jsxs)("div",{className:"condition",children:[(0,J.jsxs)("span",{children:["\u7528\u6237\u540d\uff1a",(0,J.jsx)(Xl,{style:{width:"200px"},onChange:function(t){a.name=t.target.value,e.setState({addRoleUserInfo:a})}})]}),(0,J.jsx)("span",{children:(0,J.jsx)(cl,{onClick:function(){return e.GetRoleUserInfoNotExit()},children:"\u641c\u7d22"})})]}),(0,J.jsx)("div",{children:(0,J.jsx)(sse,{onChange:function(t,n,r){e.onTabAddRoleUserInforPage(t,n,r)},pagination:{position:["bottomRight"],pageSize:a.pageSize,current:a.pageNo,total:a.count},rowSelection:c,columns:BDe,dataSource:a.data,scroll:{y:450}})})]})]})}}]),n}(b.Component),FDe=zDe,jDe=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={name:""},e}return(0,q.Z)(n,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{}),(0,J.jsx)("div",{})]})}}]),n}(b.Component),GDe=jDe,VDe={Work:(0,J.jsx)(rg,{}),Home:(0,J.jsx)(b8,{}),User:(0,J.jsx)(zse,{}),WorkConfig:(0,J.jsx)(kDe,{}),Error404:(0,J.jsx)(te,{}),RoleConfig:(0,J.jsx)(FDe,{}),UserConfig:(0,J.jsx)(GDe,{})},UDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},WDe=function(e,t){return b.createElement(Wt,Oe(Oe({},e),{},{ref:t,icon:UDe}))};WDe.displayName="BellOutlined";var ZDe=b.forwardRef(WDe),HDe=ln.Header,YDe=ln.Content,XDe=ln.Footer,KDe=ln.Sider,qDe=xp.TabPane,$De=Ap.SubMenu,QDe=function(e){(0,$.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={menu:[],panes:[],activeKey:"",collapsed:!1,searchValue:"",user:new eg},e.onChange=function(t){e.setState({activeKey:t})},e.onEdit=function(t,n){"remove"!==n||1!==e.state.panes.length?"remove"===n&&e.remove(t):Ff.warning("\u6807\u7b7e\u9875\u4e0d\u80fd\u5c0f\u4e8e\u4e00\u4e2a")},e.add=function(t,n,r){var i=e.state.panes,o=i&&i.find((function(e){return e.key===r}));o?e.setState({activeKey:o.key}):(i.push({title:t,content:n,key:r}),e.setState({panes:(0,ne.Z)(i),activeKey:r}))},e.remove=function(t){var n=e.state.activeKey,r=0;e.state.panes.forEach((function(e,n){e.key===t&&(r=n-1)}));var i=e.state.panes.filter((function(e){return e.key!==t}));i.length&&n===t&&(n=r>=0?i[r].key:i[0].key),e.setState({panes:i,activeKey:n})},e.getMenuNodes=function(t){return t.map((function(t){return 0===t.children.length?(0,J.jsx)(Ap.Item,{onClick:function(){e.menuOnClick(t)},children:t.title},t.key):(0,J.jsx)($De,{title:t.title,children:e.getMenuNodes(t.children)},t.key)}))},e.onCollapse=function(t){console.log(t),e.setState({collapsed:t})},e}return(0,q.Z)(n,[{key:"getMenu",value:function(){var e=this;tg.GetUserMenuList().then((function(t){var n=t.data;if(200===n.statusCode){var r=n.data[0];e.add(r.title,r.component,r.key),e.setState({menu:e.getMenuNodes(n.data)})}}))}},{key:"getUserInfo",value:function(){var e=JSON.parse(window.sessionStorage.getItem("user"));this.setState({user:e})}},{key:"componentWillMount",value:function(){this.getMenu(),this.getUserInfo()}},{key:"menuOnClick",value:function(e){console.log(e),this.add(e.title,e.component,e.key)}},{key:"logOut",value:function(){window.sessionStorage.removeItem("user"),window.sessionStorage.removeItem("token"),Wf.LogOut().then((function(e){Ff.success("\u9000\u51fa\u767b\u5f55\u6210\u529f"),window.location.href="/"}))}},{key:"render",value:function(){var e=this.state,t=e.collapsed,n=e.menu,r=e.user,i=(0,J.jsxs)("div",{className:"user-info-content",children:[(0,J.jsx)("div",{className:"card-user",children:"\u4e2a\u4eba\u4fe1\u606f"}),(0,J.jsx)("div",{className:"card-user",children:"\u6d88\u606f\u63d0\u9192"}),(0,J.jsx)("div",{className:"card-user",onClick:this.logOut,children:"\u9000\u51fa\u767b\u5f55"})]});return(0,J.jsxs)(ln,{style:{minHeight:"100vh"},children:[(0,J.jsx)(KDe,{collapsible:!0,collapsed:t,onCollapse:this.onCollapse,theme:"light",children:(0,J.jsx)(Ap,{style:{width:"100%"},mode:"inline",theme:"light",children:n})}),(0,J.jsxs)(ln,{className:"site-layout",children:[(0,J.jsx)(HDe,{className:"site-layout-background",style:{padding:0},children:(0,J.jsxs)("div",{className:"headPortraits",children:[(0,J.jsx)("span",{className:"bell-outlined",children:(0,J.jsx)(ZDe,{})}),(0,J.jsxs)("span",{children:[(0,J.jsx)(Op,{content:i,children:(0,J.jsx)(Hp,{size:"large",src:(null===r||void 0===r?void 0:r.headPortraits)||""})}),(null===r||void 0===r?void 0:r.name)||""]})]})}),(0,J.jsx)(YDe,{style:{margin:"0 16px",height:"100%"},children:(0,J.jsx)(xp,{hideAdd:!0,onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit,style:{height:"100%"},children:this.state.panes.map((function(e){return(0,J.jsx)(qDe,{tab:e.title,style:{height:"100%"},children:(0,J.jsx)(Jp,{hoverable:!0,style:{height:"680px",overflow:"auto"},children:VDe[e.content]})},e.key)}))})}),(0,J.jsx)(XDe,{style:{textAlign:"center"},children:"Token \xa92022 "})]})]})}}]),n}(b.Component),JDe=QDe,ePe=function(){return z([{path:"/",children:[{index:!0,element:(0,J.jsx)($f,{})},{path:"/admin",children:[{index:!0,element:(0,J.jsx)(JDe,{})},{path:"/admin/Home",element:(0,J.jsx)(b8,{})}]},{path:"*",element:(0,J.jsx)(te,{})}]}])};function tPe(e){var t=e.basename,n=e.children,r=e.window,i=(0,b.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,o=e.hash,a=r.state||{};return[a.idx,w({pathname:t,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(S,(function(){if(o)f.call(o),o=null;else{var e=v.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var a=u-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else m(e)}}));var a=v.Pop,s=i(),u=s[0],l=s[1],c=C(),f=C();function d(e){return"string"===typeof e?e:M(e)}function h(e,t){return void 0===t&&(t=null),w(x({pathname:l.pathname,hash:"",search:""},"string"===typeof e?I(e):e,{state:t,key:k()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function g(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){a=e;var t=i();u=t[0],l=t[1],c.call({action:a,location:l})}function y(e){r.go(e)}null==u&&(u=0,r.replaceState(x({},r.state,{idx:u}),""));var b={get action(){return a},get location(){return l},createHref:d,push:function e(t,i){var o=v.Push,a=h(t,i);if(g(o,a,(function(){e(t,i)}))){var s=p(a,u+1),l=s[0],c=s[1];try{r.pushState(l,"",c)}catch(f){n.location.assign(c)}m(o)}},replace:function e(t,n){var i=v.Replace,o=h(t,n);if(g(i,o,(function(){e(t,n)}))){var a=p(o,u),s=a[0],l=a[1];r.replaceState(s,"",l),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(_,E),function(){t(),f.length||n.removeEventListener(_,E)}}};return b}({window:r}));var o=i.current,a=(0,b.useState)({action:o.action,location:o.location}),s=(0,y.Z)(a,2),u=s[0],l=s[1];return(0,b.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,b.createElement)(O,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var nPe=function(){return(0,J.jsx)("div",{className:"App",children:(0,J.jsx)(tPe,{children:(0,J.jsx)(ePe,{})})})},rPe=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},iPe=n(5821);n(2173);yee().locale("zh-cn"),m.render((0,J.jsxs)(kf,{locale:iPe.Z,children:[(0,J.jsx)(nPe,{}),"'"]}),document.getElementById("root")),rPe()}()}();
//# sourceMappingURL=main.f120e850.js.map